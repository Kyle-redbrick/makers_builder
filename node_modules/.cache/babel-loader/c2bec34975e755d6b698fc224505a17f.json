{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { EventEmitter } from 'events';\n\nvar log = function log(message) {\n  if (console.log) {\n    console.log(message);\n  }\n};\n\nvar PyodideLoader = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(PyodideLoader, _EventEmitter);\n\n  var _super = _createSuper(PyodideLoader);\n\n  function PyodideLoader() {\n    var _this;\n\n    _classCallCheck(this, PyodideLoader);\n\n    if (window.pyodide_loader) {\n      throw Error(\"Can only have one Pyodide instance\");\n    }\n\n    _this = _super.call(this);\n    _this.ready = false;\n    window.pyodide_loader = _assertThisInitialized(_this);\n    log('Including pyodide script');\n    var script = document.createElement('script');\n    script.src = 'https://cdn.jsdelivr.net/pyodide/v0.17.0a2/full/pyodide.js';\n    script.async = true;\n    script.addEventListener('load', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              log(\"Pyodide loaded\");\n              _context.next = 3;\n              return window.languagePluginLoader;\n\n            case 3:\n              log(\"Pyodide started\");\n              _this.ready = true;\n\n              _this.emit('ready', window.pyodide);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    script.addEventListener('error', function (e) {\n      log(\"Pyodide failed to load\", e);\n      _this.failed = e;\n\n      _this.emit('failed', e);\n    });\n    document.body.appendChild(script);\n    return _this;\n  }\n\n  return PyodideLoader;\n}(EventEmitter);\n\nvar _pyodide = new PyodideLoader();\n\nexport default (function () {\n  return new Promise(function (resolve, reject) {\n    if (_pyodide.failed) {\n      reject(\"Pyodide failed to load\");\n    }\n\n    if (_pyodide.ready) {\n      resolve(window.pyodide);\n    } else {\n      _pyodide.once('ready', function () {\n        resolve(window.pyodide);\n      });\n\n      _pyodide.once('failed', function () {\n        reject(\"Pyodide failed to load\");\n      });\n    }\n  });\n});","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Python/pyodide/index.js"],"names":["EventEmitter","log","message","console","PyodideLoader","window","pyodide_loader","Error","ready","script","document","createElement","src","async","addEventListener","languagePluginLoader","emit","pyodide","e","failed","body","appendChild","_pyodide","Promise","resolve","reject","once"],"mappings":";;;;;;;;;;;;AAAA,SAASA,YAAT,QAA6B,QAA7B;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,CAAAC,OAAO,EAAI;AACnB,MAAIC,OAAO,CAACF,GAAZ,EAAiB;AACbE,IAAAA,OAAO,CAACF,GAAR,CAAYC,OAAZ;AACH;AACJ,CAJD;;IAMME,a;;;;;AACF,2BAAc;AAAA;;AAAA;;AACX,QAAIC,MAAM,CAACC,cAAX,EAA2B;AACvB,YAAMC,KAAK,CAAC,oCAAD,CAAX;AACH;;AACD;AACA,UAAKC,KAAL,GAAa,KAAb;AACAH,IAAAA,MAAM,CAACC,cAAP;AACAL,IAAAA,GAAG,CAAC,0BAAD,CAAH;AACA,QAAMQ,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,IAAAA,MAAM,CAACG,GAAP,GAAa,4DAAb;AACAH,IAAAA,MAAM,CAACI,KAAP,GAAe,IAAf;AACAJ,IAAAA,MAAM,CAACK,gBAAP,CAAwB,MAAxB,wEAAgC;AAAA;AAAA;AAAA;AAAA;AAC5Bb,cAAAA,GAAG,CAAC,gBAAD,CAAH;AAD4B;AAAA,qBAEtBI,MAAM,CAACU,oBAFe;;AAAA;AAG5Bd,cAAAA,GAAG,CAAC,iBAAD,CAAH;AACA,oBAAKO,KAAL,GAAa,IAAb;;AACA,oBAAKQ,IAAL,CAAU,OAAV,EAAmBX,MAAM,CAACY,OAA1B;;AAL4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhC;AAOAR,IAAAA,MAAM,CAACK,gBAAP,CAAwB,OAAxB,EAAiC,UAAAI,CAAC,EAAI;AAClCjB,MAAAA,GAAG,CAAC,wBAAD,EAA2BiB,CAA3B,CAAH;AACA,YAAKC,MAAL,GAAcD,CAAd;;AACA,YAAKF,IAAL,CAAU,QAAV,EAAoBE,CAApB;AACH,KAJD;AAKAR,IAAAA,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BZ,MAA1B;AAvBW;AAwBb;;;EAzBuBT,Y;;AA4B5B,IAAMsB,QAAQ,GAAG,IAAIlB,aAAJ,EAAjB;;AAEA,gBAAe,YAAM;AACjB,SAAO,IAAImB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAIH,QAAQ,CAACH,MAAb,EAAqB;AACjBM,MAAAA,MAAM,CAAC,wBAAD,CAAN;AACH;;AACD,QAAIH,QAAQ,CAACd,KAAb,EAAoB;AAChBgB,MAAAA,OAAO,CAACnB,MAAM,CAACY,OAAR,CAAP;AACH,KAFD,MAEO;AACHK,MAAAA,QAAQ,CAACI,IAAT,CAAc,OAAd,EAAuB,YAAM;AACrBF,QAAAA,OAAO,CAACnB,MAAM,CAACY,OAAR,CAAP;AACP,OAFD;;AAGAK,MAAAA,QAAQ,CAACI,IAAT,CAAc,QAAd,EAAwB,YAAM;AAC1BD,QAAAA,MAAM,CAAC,wBAAD,CAAN;AACH,OAFD;AAGH;AACJ,GAdM,CAAP;AAeH,CAhBD","sourcesContent":["import { EventEmitter } from 'events';\n\nconst log = message => {\n    if (console.log) {\n        console.log(message);\n    }\n}\n\nclass PyodideLoader extends EventEmitter {\n    constructor() {\n       if (window.pyodide_loader) {\n           throw Error(\"Can only have one Pyodide instance\");\n       }\n       super();\n       this.ready = false;\n       window.pyodide_loader = this;\n       log('Including pyodide script');\n       const script = document.createElement('script');\n       script.src = 'https://cdn.jsdelivr.net/pyodide/v0.17.0a2/full/pyodide.js';\n       script.async = true;\n       script.addEventListener('load', async () => {\n           log(\"Pyodide loaded\");\n           await window.languagePluginLoader;\n           log(\"Pyodide started\");\n           this.ready = true;\n           this.emit('ready', window.pyodide);\n       });\n       script.addEventListener('error', e => {\n           log(\"Pyodide failed to load\", e);\n           this.failed = e;\n           this.emit('failed', e);\n       });\n       document.body.appendChild(script);\n    }\n}\n\nconst _pyodide = new PyodideLoader();\n\nexport default () => {\n    return new Promise((resolve, reject) => {\n        if (_pyodide.failed) {\n            reject(\"Pyodide failed to load\");\n        }\n        if (_pyodide.ready) {\n            resolve(window.pyodide);\n        } else {\n            _pyodide.once('ready', () => {\n                    resolve(window.pyodide);\n            });\n            _pyodide.once('failed', () => {\n                reject(\"Pyodide failed to load\");\n            });\n        }\n    });\n}\n"]},"metadata":{},"sourceType":"module"}