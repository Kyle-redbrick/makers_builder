{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/DreamBuilder/Mission/index.js\";\nimport React, { useCallback, useRef, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as dreamActions from \"../../../Store/Reducer/dream\";\nimport Slide from \"../../../../../Common/Component/DreamSlide\";\nimport \"./index.scss\";\n\nfunction Mission(props) {\n  var slideRef = useRef();\n  var title = props.mission && props.mission.title;\n  var slide = props.mission && props.mission.slide;\n  var number = props.missionIndex + 1;\n  var total = props.missions.length;\n  var isPrevEnabled = props.missionIndex > 0;\n  var isNextEnabled = props.missionIndex < props.missions.length - 1;\n  useEffect(function () {\n    slideRef.current.scrollIntoView({\n      block: \"start\"\n    });\n  }, [props.missionIndex]);\n  var onClickPrev = useCallback(function (e) {\n    if (isPrevEnabled) {\n      props.setCurrentDreamMissionIndex(props.missionIndex - 1);\n    }\n  }, [props.missionIndex, isPrevEnabled]);\n  var onClickNext = useCallback(function (e) {\n    if (!isNextEnabled) {\n      return;\n    }\n\n    if (!props.mission.isCompleted) {\n      window.confirm(props.intl.formatMessage({\n        id: \"ID_DREAM_BUILDER_MISSION_NOT_COMPLETE\"\n      }));\n      return;\n    }\n\n    props.setCurrentDreamMissionIndex(props.missionIndex + 1);\n  }, [props.mission, props.missionIndex, isNextEnabled]);\n  return React.createElement(\"div\", {\n    className: \"dream_mission\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dream_mission-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"menu-list-btn\",\n    onClick: props.openDreamMenu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"dream_mission-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, title)), React.createElement(\"div\", {\n    className: \"dream_mission-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Slide, {\n    markdown: slide,\n    shouldRerender: props.shouldSlideRerender,\n    slideRef: slideRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"dream_mission-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"slide-prev-btn \".concat(isPrevEnabled ? \"on\" : \"off\"),\n    onClick: onClickPrev,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: \"dream_mission-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, number, \" / \", total), React.createElement(\"button\", {\n    className: \"slide-next-btn \".concat(isNextEnabled ? \"on\" : \"off\"),\n    onClick: onClickNext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))));\n}\n\nexport default connect(function (state) {\n  return {\n    missions: state.dream.missions,\n    mission: state.dream.currentMission,\n    missionIndex: state.dream.currentMissionIndex\n  };\n}, {\n  openDreamMenu: dreamActions.openDreamMenu,\n  setCurrentDreamMissionIndex: dreamActions.setCurrentDreamMissionIndex\n})(injectIntl(Mission));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/DreamBuilder/Mission/index.js"],"names":["React","useCallback","useRef","useEffect","connect","injectIntl","dreamActions","Slide","Mission","props","slideRef","title","mission","slide","number","missionIndex","total","missions","length","isPrevEnabled","isNextEnabled","current","scrollIntoView","block","onClickPrev","e","setCurrentDreamMissionIndex","onClickNext","isCompleted","window","confirm","intl","formatMessage","id","openDreamMenu","shouldSlideRerender","state","dream","currentMission","currentMissionIndex"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as dreamActions from \"../../../Store/Reducer/dream\"\nimport Slide from \"../../../../../Common/Component/DreamSlide\"\nimport \"./index.scss\"\n\nfunction Mission(props) {\n  const slideRef = useRef();\n  const title = props.mission && props.mission.title;\n  const slide = props.mission && props.mission.slide;\n  const number = props.missionIndex + 1;\n  const total = props.missions.length;\n\n  const isPrevEnabled = props.missionIndex > 0;\n  const isNextEnabled = props.missionIndex < props.missions.length - 1;\n\n  useEffect(() => {\n    slideRef.current.scrollIntoView({block: \"start\"})\n  }, [props.missionIndex])\n\n  const onClickPrev = useCallback(\n    e => {\n      if(isPrevEnabled) {\n        props.setCurrentDreamMissionIndex(props.missionIndex - 1);\n      }\n    },\n    [props.missionIndex, isPrevEnabled]\n  )\n  const onClickNext = useCallback(\n    e => {\n      if(!isNextEnabled) {\n        return;\n      }\n    if(!props.mission.isCompleted) {\n      window.confirm(props.intl.formatMessage({ id: \"ID_DREAM_BUILDER_MISSION_NOT_COMPLETE\" }));\n      return;\n    }\n      props.setCurrentDreamMissionIndex(props.missionIndex + 1);\n    },\n    [props.mission, props.missionIndex, isNextEnabled]\n  )\n\n  return (\n    <div className=\"dream_mission\">\n      <div className=\"dream_mission-header\">\n        <button className=\"menu-list-btn\" onClick={props.openDreamMenu} />\n        <p className=\"dream_mission-title\">{title}</p>\n      </div>\n      <div className=\"dream_mission-body\">\n        <Slide markdown={slide} shouldRerender={props.shouldSlideRerender} slideRef={slideRef}/>\n      </div>\n      <div className=\"dream_mission-footer\">\n        <button \n          className={`slide-prev-btn ${isPrevEnabled ? \"on\" : \"off\"}`}\n          onClick={onClickPrev}\n        >\n          <span className=\"icon\"/>\n        </button>\n        <span className=\"dream_mission-current\">\n          {number} / {total}\n        </span>\n        <button \n          className={`slide-next-btn ${isNextEnabled ? \"on\" : \"off\"}`}\n          onClick={onClickNext}\n        >\n          <span className=\"icon\"/>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(\n  state => ({\n    missions: state.dream.missions,\n    mission: state.dream.currentMission,\n    missionIndex: state.dream.currentMissionIndex\n  }),\n  {\n    openDreamMenu: dreamActions.openDreamMenu,\n    setCurrentDreamMissionIndex: dreamActions.setCurrentDreamMissionIndex\n  }\n)(injectIntl(Mission));\n"]},"metadata":{},"sourceType":"module"}