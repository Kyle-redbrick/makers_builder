{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/TutorialBackup/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport View from \"./View\";\nimport * as request from \"../../Common/Util/HTTPRequest\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      _this.getMyOcp();\n    };\n\n    _this.getMyOcp = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, json, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.props.userinfo.email || _this.guest)) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 3;\n              return request.getMyOcp(_this.props.userinfo.email ? {\n                email: _this.props.userinfo.email\n              } : {\n                guestId: _this.guest && _this.guest.id\n              });\n\n            case 3:\n              res = _context.sent;\n              _context.next = 6;\n              return res.json();\n\n            case 6:\n              json = _context.sent;\n\n              if (json) {\n                data = {};\n                json.forEach(function (element) {\n                  data[element.grade] = element.level;\n                });\n\n                _this.setState({\n                  beginner: Number(data.beginner),\n                  intermediate: Number(data.intermediate),\n                  advanced: Number(data.advanced)\n                });\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.guest = localStorage.getItem(\"ocpId\") && JSON.parse(localStorage.getItem(\"ocpId\"));\n    _this.state = {\n      beginner: undefined,\n      intermediate: undefined,\n      advanced: undefined\n    };\n    return _this;\n  } //TODO : 튜토리얼에서 왜 ocp 사용하지?\n\n\n  _createClass(Container, [{\n    key: \"render\",\n    value: function render() {\n      var intl = this.props.intl;\n      var _this$state = this.state,\n          beginner = _this$state.beginner,\n          intermediate = _this$state.intermediate,\n          advanced = _this$state.advanced;\n      return /*#__PURE__*/React.createElement(View, {\n        intl: intl,\n        beginner: beginner,\n        intermediate: intermediate,\n        advanced: advanced,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userinfo: state.userinfo\n  };\n}, {})(injectIntl(Container));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/TutorialBackup/Container.js"],"names":["React","Component","connect","injectIntl","View","request","Container","props","componentDidMount","getMyOcp","userinfo","email","guest","guestId","id","res","json","data","forEach","element","grade","level","setState","beginner","Number","intermediate","advanced","localStorage","getItem","JSON","parse","state","undefined","intl"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAO,KAAKC,OAAZ,MAAyB,+BAAzB;;IACMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAYnBC,iBAZmB,GAYC,YAAM;AACxB,YAAKC,QAAL;AACD,KAdkB;;AAAA,UAgBnBA,QAhBmB,yEAgBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL,MAAKF,KAAL,CAAWG,QAAX,CAAoBC,KAApB,IAA6B,MAAKC,KAD7B;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAESP,OAAO,CAACI,QAAR,CACd,MAAKF,KAAL,CAAWG,QAAX,CAAoBC,KAApB,GACI;AAAEA,gBAAAA,KAAK,EAAE,MAAKJ,KAAL,CAAWG,QAAX,CAAoBC;AAA7B,eADJ,GAEI;AAAEE,gBAAAA,OAAO,EAAE,MAAKD,KAAL,IAAc,MAAKA,KAAL,CAAWE;AAApC,eAHU,CAFT;;AAAA;AAEHC,cAAAA,GAFG;AAAA;AAAA,qBAOUA,GAAG,CAACC,IAAJ,EAPV;;AAAA;AAOHA,cAAAA,IAPG;;AAQP,kBAAIA,IAAJ,EAAU;AACJC,gBAAAA,IADI,GACG,EADH;AAERD,gBAAAA,IAAI,CAACE,OAAL,CAAa,UAAAC,OAAO,EAAI;AACtBF,kBAAAA,IAAI,CAACE,OAAO,CAACC,KAAT,CAAJ,GAAsBD,OAAO,CAACE,KAA9B;AACD,iBAFD;;AAGA,sBAAKC,QAAL,CAAc;AACZC,kBAAAA,QAAQ,EAAEC,MAAM,CAACP,IAAI,CAACM,QAAN,CADJ;AAEZE,kBAAAA,YAAY,EAAED,MAAM,CAACP,IAAI,CAACQ,YAAN,CAFR;AAGZC,kBAAAA,QAAQ,EAAEF,MAAM,CAACP,IAAI,CAACS,QAAN;AAHJ,iBAAd;AAKD;;AAlBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAhBQ;AAEjB,UAAKd,KAAL,GACEe,YAAY,CAACC,OAAb,CAAqB,OAArB,KACAC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAFF;AAGA,UAAKG,KAAL,GAAa;AACXR,MAAAA,QAAQ,EAAES,SADC;AAEXP,MAAAA,YAAY,EAAEO,SAFH;AAGXN,MAAAA,QAAQ,EAAEM;AAHC,KAAb;AALiB;AAUlB,G,CACD;;;;;WA2BA,kBAAS;AAAA,UACCC,IADD,GACU,KAAK1B,KADf,CACC0B,IADD;AAAA,wBAEsC,KAAKF,KAF3C;AAAA,UAECR,QAFD,eAECA,QAFD;AAAA,UAEWE,YAFX,eAEWA,YAFX;AAAA,UAEyBC,QAFzB,eAEyBA,QAFzB;AAGP,0BACE,oBAAC,IAAD;AACE,QAAA,IAAI,EAAEO,IADR;AAEE,QAAA,QAAQ,EAAEV,QAFZ;AAGE,QAAA,YAAY,EAAEE,YAHhB;AAIE,QAAA,QAAQ,EAAEC,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAQD;;;;EAlDqBzB,S;;AAqDxB,eAAeC,OAAO,CACpB,UAAA6B,KAAK;AAAA,SAAK;AAAErB,IAAAA,QAAQ,EAAEqB,KAAK,CAACrB;AAAlB,GAAL;AAAA,CADe,EAEpB,EAFoB,CAAP,CAGbP,UAAU,CAACG,SAAD,CAHG,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport View from \"./View\";\nimport * as request from \"../../Common/Util/HTTPRequest\";\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.guest =\n      localStorage.getItem(\"ocpId\") &&\n      JSON.parse(localStorage.getItem(\"ocpId\"));\n    this.state = {\n      beginner: undefined,\n      intermediate: undefined,\n      advanced: undefined\n    };\n  }\n  //TODO : 튜토리얼에서 왜 ocp 사용하지?\n  componentDidMount = () => {\n    this.getMyOcp();\n  };\n\n  getMyOcp = async () => {\n    if (this.props.userinfo.email || this.guest) {\n      let res = await request.getMyOcp(\n        this.props.userinfo.email\n          ? { email: this.props.userinfo.email }\n          : { guestId: this.guest && this.guest.id }\n      );\n      let json = await res.json();\n      if (json) {\n        let data = {};\n        json.forEach(element => {\n          data[element.grade] = element.level;\n        });\n        this.setState({\n          beginner: Number(data.beginner),\n          intermediate: Number(data.intermediate),\n          advanced: Number(data.advanced)\n        });\n      }\n    }\n  };\n\n  render() {\n    const { intl } = this.props;\n    const { beginner, intermediate, advanced } = this.state;\n    return (\n      <View\n        intl={intl}\n        beginner={beginner}\n        intermediate={intermediate}\n        advanced={advanced}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({ userinfo: state.userinfo }),\n  {}\n)(injectIntl(Container));\n"]},"metadata":{},"sourceType":"module"}