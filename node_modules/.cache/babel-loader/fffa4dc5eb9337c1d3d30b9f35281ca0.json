{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/Editor/Component/OOBCEditor/Component/Block/index.js\";\n\nimport React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport AssetLibrary from \"../../../../../../utils/assetLibrary\";\nimport { MODE, BLOCK, DATA } from \"../../Util/Type\";\nimport \"./index.scss\";\nimport editDefault from \"../../../../../../../../Image/builder/oobceditor/edit-default.svg\";\nimport editTouched from \"../../../../../../../../Image/builder/oobceditor/edit-touched.svg\";\nimport textIcon from \"../../../../../../../../Image/builder/oobceditor/block_sprite_text.png\";\nimport soundIcon from \"../../../../../../../../Image/builder/oobceditor/block_sprite_sound.png\";\n\nvar getSpriteCopyId = function getSpriteCopyId(spriteName) {\n  try {\n    var copyNum = parseInt(spriteName.split(\"(\")[1][0]);\n    return copyNum; // const copyId = String.fromCharCode(copyNum + 63);\n    // return copyId;\n  } catch (_unused) {\n    return null;\n  }\n};\n\nvar Block = function Block(props) {\n  var intl = props.intl,\n      block = props.block,\n      currentBlock = props.currentBlock,\n      onClickBlock = props.onClickBlock,\n      onClickConstantEdit = props.onClickConstantEdit,\n      sprites = props.sprites;\n  var formatMessage = intl.formatMessage,\n      locale = intl.locale; // 블록 백그라운드 (블록 모양)\n\n  var backgroundElement;\n\n  switch (block.blockType) {\n    case BLOCK.SPRITE:\n    case BLOCK.PROPERTY:\n    case BLOCK.CONSTANT:\n    case BLOCK.VARIABLE:\n    case BLOCK.UTIL:\n      backgroundElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_background\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_background_img oobceditor_block_background_img-left\",\n        src: require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(block.blockType, \"-left.png\")),\n        alt: \"left\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_background_img oobceditor_block_background_img-center\",\n        style: {\n          backgroundImage: \"url(\".concat(require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(block.blockType, \"-center.png\")), \")\")\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_background_img oobceditor_block_background_img-right\",\n        src: require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(block.blockType, \"-right.png\")),\n        alt: \"right\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }));\n      break;\n\n    case BLOCK.ACTION:\n      var blockType = block.blockType;\n      var onActions = [\"onOverlap\", \"onTouch\", \"onTouchUp\", \"onOut\", \"onFrame\", \"onTouch\", \"onTouchUp\", \"onSwipe\", \"onShake\"];\n\n      if (onActions.includes(block.data)) {\n        blockType = \"onAction\";\n      }\n\n      backgroundElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_background\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_background_img oobceditor_block_background_img-left\",\n        src: require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(blockType, \"-left.png\")),\n        alt: \"left\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_background_img oobceditor_block_background_img-center\",\n        style: {\n          backgroundImage: \"url(\".concat(require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(blockType, \"-center.png\")), \")\")\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_background_img oobceditor_block_background_img-right\",\n        src: require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(blockType, \"-right.png\")),\n        alt: \"right\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }));\n      break;\n\n    case BLOCK.OPERATOR:\n      backgroundElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_background\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_background_img\",\n        src: require(\"../../../../../../../../Image/builder/oobceditor/block_\".concat(block.blockType, \".png\")),\n        alt: \"left\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }));\n      break;\n\n    default:\n      backgroundElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_background\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_background_img\",\n        src: block === currentBlock ? require(\"../../../../../../../../Image/builder/oobceditor/block_empty-touched.svg\") : require(\"../../../../../../../../Image/builder/oobceditor/block_empty.svg\"),\n        alt: \"left\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }));\n      break;\n  } // 블록 콘텐츠 (블록 내용)\n\n\n  var contentsElement;\n\n  switch (block.blockType) {\n    case BLOCK.SPRITE:\n      switch (block.dataType) {\n        case DATA.SPRITE:\n        case DATA.JOYSTICK:\n        case DATA.SCREEN:\n          var name = block.data.split(\"(\")[0];\n\n          if (name === \"custom\") {\n            var sprite = sprites.find(function (sprite) {\n              return sprite.preview.name === block.data;\n            });\n            var asset = sprite && AssetLibrary.getAsset(sprite.assetId);\n            var thumb = asset && asset.thumb;\n            contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n              className: \"oobceditor_block_contents\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"oobceditor_block_contents_sprite oobceditor_block_contents_sprite-custom\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(\"img\", {\n              className: \"oobceditor_block_contents_sprite_img\",\n              src: thumb,\n              alt: block.data,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }\n            })));\n          } else {\n            var _asset = AssetLibrary.getAssetByName(name);\n\n            var _thumb = _asset && _asset.thumb;\n\n            var copyId = getSpriteCopyId(block.data);\n            contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n              className: \"oobceditor_block_contents\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"oobceditor_block_contents_sprite oobceditor_block_contents_sprite-\".concat(block.dataType),\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(\"img\", {\n              className: \"oobceditor_block_contents_sprite_img\",\n              src: _thumb,\n              alt: block.data,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }\n            }), copyId && /*#__PURE__*/React.createElement(\"div\", {\n              className: \"oobceditor_block_contents_sprite_copyId\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }\n            }, copyId)));\n          }\n\n          break;\n\n        case DATA.TEXT:\n          contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents_sprite oobceditor_block_contents_sprite-\".concat(block.dataType),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"oobceditor_block_contents_sprite_img\",\n            src: textIcon,\n            alt: block.data,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents_sprite_title\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }\n          }, block.data)));\n          break;\n\n        case DATA.SOUND:\n          contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents_sprite oobceditor_block_contents_sprite-\".concat(block.dataType),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"oobceditor_block_contents_sprite_img\",\n            src: soundIcon,\n            alt: block.data,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents_sprite_title\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }\n          }, block.data)));\n          break;\n\n        default:\n          contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"oobceditor_block_contents\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 29\n            }\n          });\n          break;\n      }\n\n      break;\n\n    case BLOCK.CONSTANT:\n      if (block.dataType === DATA.DIRECTION) {\n        var directionTitle = block.data;\n\n        if (locale === \"zh\") {\n          directionTitle = {\n            up: \"上\",\n            down: \"下\",\n            left: \"左\",\n            right: \"右\"\n          }[directionTitle];\n        }\n\n        contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"oobceditor_block_contents\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"oobceditor_block_contents_img\",\n          src: require(\"../../../../../../../../Image/builder/oobceditor/direction_\".concat(block.data, \".svg\")),\n          alt: block.data,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"oobceditor_block_contents_title oobceditor_block_contents_title-direction\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }\n        }, directionTitle));\n      } else {\n        var constantTitle;\n\n        switch (block.dataType) {\n          case DATA.SCREEN:\n            var screenTitle = locale === \"zh\" ? \"画面\" : \"scene\";\n            constantTitle = screenTitle + block.data.split(\"scene\")[1];\n            break;\n\n          case DATA.POSITION:\n            constantTitle = \"X:\".concat(block.data.x, \" Y:\").concat(block.data.y);\n            break;\n\n          case DATA.ANIMATION:\n            constantTitle = block.data;\n\n            if (locale === \"zh\") {\n              constantTitle = {\n                attack: \"攻击\",\n                back_attack: \"背面_攻击\",\n                back_fly: \"背面_飞行\",\n                back_fly_idle: \"背面_飞行_空闲\",\n                back_idle: \"背面_空闲\",\n                back_move: \"背面_移动\",\n                back_run: \"背面_奔跑\",\n                back_walk: \"背面_走路\",\n                blue: \"蓝色\",\n                death: \"阵亡\",\n                error: \"错误\",\n                fail: \"失败\",\n                fail_b: \"失败_b\",\n                falling: \"掉落\",\n                fly: \"飞行\",\n                front_attack: \"正面_攻击\",\n                front_fly: \"正面_飞行\",\n                front_fly_idle: \"正面_飞行_空闲\",\n                front_idle: \"正面_空闲\",\n                fx: \"特效\",\n                happy: \"开心\",\n                heart: \"爱心\",\n                hit: \"撞击\",\n                idle: \"空闲\",\n                jump: \"跳跃\",\n                left_fly: \"向左飞行\",\n                left_hit: \"左_撞击\",\n                left_victory: \"左_胜利\",\n                move: \"移动\",\n                open: \"打开\",\n                purple: \"紫色\",\n                red: \"红色\",\n                right_fly: \"向右飞行\",\n                right_hit: \"右_撞击\",\n                right_victory: \"右_胜利\",\n                run: \"奔跑\",\n                run_sad: \"奔跑_伤心\",\n                save: \"救助\",\n                seat: \"坐下\",\n                shoot: \"发射\",\n                side_attack: \"侧面_攻击\",\n                side_fly: \"侧面_飞行\",\n                side_fly_idle: \"侧面_飞行_空闲\",\n                side_flyattack: \"侧向飞行\",\n                side_idle: \"侧面_空闲\",\n                side_jump: \"侧面_跳跃\",\n                side_move: \"侧面_移动\",\n                side_run: \"侧向奔跑\",\n                side_walk: \"侧面_走路\",\n                skill: \"技能\",\n                skill_a: \"技能_a\",\n                skill_b: \"技能_b\",\n                skill_c: \"技能_c\",\n                skyblue: \"天蓝色\",\n                stop_a: \"停止_a\",\n                stop_b: \"停止_b\",\n                tap: \"轻拍\",\n                up: \"上\",\n                victory: \"胜利\",\n                walk: \"走路\",\n                walk2: \"走路2\",\n                white: \"白色\"\n              }[constantTitle] || constantTitle;\n            }\n\n            break;\n\n          case DATA.NUMBER:\n            constantTitle = block.data;\n\n            if (block.data === \"number\" && locale === \"zh\") {\n              constantTitle = \"数字\";\n            }\n\n            break;\n\n          case DATA.BOOLEAN:\n            constantTitle = block.data;\n\n            if (locale === \"zh\") {\n              constantTitle = {\n                true: \"真\",\n                false: \"假\"\n              }[constantTitle] || constantTitle;\n            }\n\n            break;\n\n          default:\n            if (block.data === \"random\" && locale === \"zh\") {\n              constantTitle = \"随机\";\n            } else if (block.data === \"touch\" && locale === \"zh\") {\n              constantTitle = \"触碰处\";\n            } else {\n              constantTitle = block.data;\n            }\n\n            break;\n        }\n\n        contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"oobceditor_block_contents\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"oobceditor_block_contents_title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }\n        }, constantTitle));\n      }\n\n      break;\n\n    case BLOCK.PROPERTY:\n      contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents_title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_OOBC_BLOCK_PROPERTY_\" + block.data.toUpperCase()\n      })));\n      break;\n\n    case BLOCK.VARIABLE:\n    case BLOCK.OPERATOR:\n    case BLOCK.UTIL:\n      var utilTitle = block.data; // if (locale === \"zh\") {\n      //   utilTitle = { mobile: \"手机\" }[utilTitle] || utilTitle;\n      // }\n\n      contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents_title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }\n      }, utilTitle));\n      break;\n\n    case BLOCK.ACTION:\n      contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 9\n        }\n      }, block.data !== \"set\" && /*#__PURE__*/React.createElement(\"img\", {\n        className: \"oobceditor_block_contents_img\",\n        src: require(\"../../../../../../../../Image/builder/oobceditor/action_\".concat(block.data, \".svg\")),\n        alt: block.data,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents_title \".concat(block.data !== \"set\" ? \"oobceditor_block_contents_title-action\" : \"\"),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_OOBC_BLOCK_ACTION_\" + block.data.toUpperCase()\n      })));\n      break;\n\n    default:\n      contentsElement = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"oobceditor_block_contents\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 25\n        }\n      });\n      break;\n  } // 블록 편집 버튼\n\n\n  var editElement = block === currentBlock && block.blockType === BLOCK.CONSTANT && (block.dataType === DATA.NUMBER || block.dataType === DATA.STRING || block.dataType === DATA.POSITION) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"oobceditor_block_edit\",\n    onClick: function onClick(e) {\n      onClickConstantEdit(block);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"oobceditor_block_edit_img\",\n    src: editDefault,\n    alt: \"edit\",\n    onTouchStart: function onTouchStart(e) {\n      e.target.src = editTouched;\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      e.target.src = editDefault;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }\n  })); // 렌더링할 블록\n\n  var blockElement = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n  if (block.blockType !== BLOCK.CALLBACK) {\n    blockElement = /*#__PURE__*/React.createElement(\"div\", {\n      id: \"oobceditor_block-\".concat(block.id),\n      className: \"oobceditor_block oobceditor_block-\".concat(block.mode.toLowerCase(), \" oobceditor_block-\").concat(block.blockType).concat(block === currentBlock ? \" oobceditor_block-current\" : \"\").concat(block.disabled ? \" oobceditor_block-disabled\" : \"\"),\n      onClick: function onClick(e) {\n        if (!e.target.closest(\".oobc_highlight_clone\")) {\n          if (e.preventDefault) e.preventDefault();\n          if (e.stopPropagation) e.stopPropagation();\n        }\n\n        if (block !== currentBlock) onClickBlock(block);\n      },\n      onContextMenu: function onContextMenu(e) {// if (e.preventDefault) e.preventDefault();\n        // if (e.stopPropagation) e.stopPropagation();\n      },\n      onTouchStart: function onTouchStart(e) {\n        e.target.classList.add(\"oobceditor_block-touched\");\n      },\n      onTouchEnd: function onTouchEnd(e) {\n        e.target.classList.remove(\"oobceditor_block-touched\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 7\n      }\n    }, backgroundElement, contentsElement, editElement);\n  }\n\n  if (block.mode === MODE.INSTANCE && block.blockType === BLOCK.OPERATOR) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, block.data !== \"!\" && /*#__PURE__*/React.createElement(Block, {\n      intl: intl,\n      block: block.childs[0],\n      currentBlock: currentBlock,\n      onClickBlock: onClickBlock,\n      onClickConstantEdit: onClickConstantEdit,\n      sprites: sprites,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }\n    }), blockElement, /*#__PURE__*/React.createElement(Block, {\n      intl: intl,\n      block: block.data === \"!\" ? block.childs[0] : block.childs[1],\n      currentBlock: currentBlock,\n      onClickBlock: onClickBlock,\n      onClickConstantEdit: onClickConstantEdit,\n      sprites: sprites,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    var childsElement = block.mode !== MODE.PROTOTYPE && block.childs && block.childs.map(function (child) {\n      return /*#__PURE__*/React.createElement(Block, {\n        key: child.id,\n        intl: intl,\n        block: child,\n        currentBlock: currentBlock,\n        onClickBlock: onClickBlock,\n        onClickConstantEdit: onClickConstantEdit,\n        sprites: sprites,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 9\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, blockElement, childsElement);\n  }\n};\n\nexport default injectIntl(Block);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/Editor/Component/OOBCEditor/Component/Block/index.js"],"names":["React","injectIntl","AssetLibrary","MODE","BLOCK","DATA","textIcon","soundIcon","getSpriteCopyId","spriteName","copyNum","parseInt","split","Block","props","intl","block","currentBlock","onClickBlock","onClickConstantEdit","sprites","formatMessage","locale","backgroundElement","blockType","SPRITE","PROPERTY","CONSTANT","VARIABLE","UTIL","require","backgroundImage","ACTION","onActions","includes","data","OPERATOR","contentsElement","dataType","JOYSTICK","SCREEN","name","sprite","find","preview","asset","getAsset","assetId","thumb","getAssetByName","copyId","TEXT","SOUND","DIRECTION","directionTitle","up","down","left","right","constantTitle","screenTitle","POSITION","x","y","ANIMATION","attack","back_attack","back_fly","back_fly_idle","back_idle","back_move","back_run","back_walk","blue","death","error","fail","fail_b","falling","fly","front_attack","front_fly","front_fly_idle","front_idle","fx","happy","heart","hit","idle","jump","left_fly","left_hit","left_victory","move","open","purple","red","right_fly","right_hit","right_victory","run","run_sad","save","seat","shoot","side_attack","side_fly","side_fly_idle","side_flyattack","side_idle","side_jump","side_move","side_run","side_walk","skill","skill_a","skill_b","skill_c","skyblue","stop_a","stop_b","tap","victory","walk","walk2","white","NUMBER","BOOLEAN","true","false","id","toUpperCase","utilTitle","editElement","STRING","e","editDefault","target","src","editTouched","blockElement","CALLBACK","mode","toLowerCase","disabled","closest","preventDefault","stopPropagation","classList","add","remove","INSTANCE","childs","childsElement","PROTOTYPE","map","child"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport AssetLibrary from \"../../../../../../utils/assetLibrary\";\nimport { MODE, BLOCK, DATA } from \"../../Util/Type\";\nimport \"./index.scss\";\n\nimport editDefault from \"../../../../../../../../Image/builder/oobceditor/edit-default.svg\";\nimport editTouched from \"../../../../../../../../Image/builder/oobceditor/edit-touched.svg\";\nimport textIcon from \"../../../../../../../../Image/builder/oobceditor/block_sprite_text.png\";\nimport soundIcon from \"../../../../../../../../Image/builder/oobceditor/block_sprite_sound.png\";\n\nconst getSpriteCopyId = spriteName => {\n  try {\n    const copyNum = parseInt(spriteName.split(\"(\")[1][0]);\n    return copyNum;\n    // const copyId = String.fromCharCode(copyNum + 63);\n    // return copyId;\n  } catch {\n    return null;\n  }\n};\n\nconst Block = props => {\n  const {\n    intl,\n    block,\n    currentBlock,\n    onClickBlock,\n    onClickConstantEdit,\n    sprites\n  } = props;\n  const { formatMessage, locale } = intl;\n\n  // 블록 백그라운드 (블록 모양)\n  let backgroundElement;\n  switch (block.blockType) {\n    case BLOCK.SPRITE:\n    case BLOCK.PROPERTY:\n    case BLOCK.CONSTANT:\n    case BLOCK.VARIABLE:\n    case BLOCK.UTIL:\n      backgroundElement = (\n        <div className=\"oobceditor_block_background\">\n          <img\n            className=\"oobceditor_block_background_img oobceditor_block_background_img-left\"\n            src={require(`../../../../../../../../Image/builder/oobceditor/block_${block.blockType}-left.png`)}\n            alt=\"left\"\n          />\n          <div\n            className=\"oobceditor_block_background_img oobceditor_block_background_img-center\"\n            style={{\n              backgroundImage: `url(${require(`../../../../../../../../Image/builder/oobceditor/block_${block.blockType}-center.png`)})`\n            }}\n          />\n          <img\n            className=\"oobceditor_block_background_img oobceditor_block_background_img-right\"\n            src={require(`../../../../../../../../Image/builder/oobceditor/block_${block.blockType}-right.png`)}\n            alt=\"right\"\n          />\n        </div>\n      );\n      break;\n    case BLOCK.ACTION:\n      let blockType = block.blockType;\n      const onActions = [\n        \"onOverlap\",\n        \"onTouch\",\n        \"onTouchUp\",\n        \"onOut\",\n        \"onFrame\",\n        \"onTouch\",\n        \"onTouchUp\",\n        \"onSwipe\",\n        \"onShake\"\n      ];\n      if (onActions.includes(block.data)) {\n        blockType = \"onAction\";\n      }\n      backgroundElement = (\n        <div className=\"oobceditor_block_background\">\n          <img\n            className=\"oobceditor_block_background_img oobceditor_block_background_img-left\"\n            src={require(`../../../../../../../../Image/builder/oobceditor/block_${blockType}-left.png`)}\n            alt=\"left\"\n          />\n          <div\n            className=\"oobceditor_block_background_img oobceditor_block_background_img-center\"\n            style={{\n              backgroundImage: `url(${require(`../../../../../../../../Image/builder/oobceditor/block_${blockType}-center.png`)})`\n            }}\n          />\n          <img\n            className=\"oobceditor_block_background_img oobceditor_block_background_img-right\"\n            src={require(`../../../../../../../../Image/builder/oobceditor/block_${blockType}-right.png`)}\n            alt=\"right\"\n          />\n        </div>\n      );\n      break;\n    case BLOCK.OPERATOR:\n      backgroundElement = (\n        <div className=\"oobceditor_block_background\">\n          <img\n            className=\"oobceditor_block_background_img\"\n            src={require(`../../../../../../../../Image/builder/oobceditor/block_${block.blockType}.png`)}\n            alt=\"left\"\n          />\n        </div>\n      );\n      break;\n    default:\n      backgroundElement = (\n        <div className=\"oobceditor_block_background\">\n          <img\n            className=\"oobceditor_block_background_img\"\n            src={\n              block === currentBlock\n                ? require(\"../../../../../../../../Image/builder/oobceditor/block_empty-touched.svg\")\n                : require(\"../../../../../../../../Image/builder/oobceditor/block_empty.svg\")\n            }\n            alt=\"left\"\n          />\n        </div>\n      );\n      break;\n  }\n\n  // 블록 콘텐츠 (블록 내용)\n  let contentsElement;\n  switch (block.blockType) {\n    case BLOCK.SPRITE:\n      switch (block.dataType) {\n        case DATA.SPRITE:\n        case DATA.JOYSTICK:\n        case DATA.SCREEN:\n          const name = block.data.split(\"(\")[0];\n          if (name === \"custom\") {\n            const sprite = sprites.find(\n              sprite => sprite.preview.name === block.data\n            );\n            const asset = sprite && AssetLibrary.getAsset(sprite.assetId);\n            const thumb = asset && asset.thumb;\n            contentsElement = (\n              <div className=\"oobceditor_block_contents\">\n                <div className=\"oobceditor_block_contents_sprite oobceditor_block_contents_sprite-custom\">\n                  <img\n                    className=\"oobceditor_block_contents_sprite_img\"\n                    src={thumb}\n                    alt={block.data}\n                  />\n                </div>\n              </div>\n            );\n          } else {\n            const asset = AssetLibrary.getAssetByName(name);\n            const thumb = asset && asset.thumb;\n            const copyId = getSpriteCopyId(block.data);\n            contentsElement = (\n              <div className=\"oobceditor_block_contents\">\n                <div\n                  className={`oobceditor_block_contents_sprite oobceditor_block_contents_sprite-${block.dataType}`}\n                >\n                  <img\n                    className=\"oobceditor_block_contents_sprite_img\"\n                    src={thumb}\n                    alt={block.data}\n                  />\n                  {copyId && (\n                    <div className=\"oobceditor_block_contents_sprite_copyId\">\n                      {copyId}\n                    </div>\n                  )}\n                </div>\n              </div>\n            );\n          }\n          break;\n        case DATA.TEXT:\n          contentsElement = (\n            <div className=\"oobceditor_block_contents\">\n              <div\n                className={`oobceditor_block_contents_sprite oobceditor_block_contents_sprite-${block.dataType}`}\n              >\n                <img\n                  className=\"oobceditor_block_contents_sprite_img\"\n                  src={textIcon}\n                  alt={block.data}\n                />\n                <div className=\"oobceditor_block_contents_sprite_title\">\n                  {block.data}\n                </div>\n              </div>\n            </div>\n          );\n          break;\n        case DATA.SOUND:\n          contentsElement = (\n            <div className=\"oobceditor_block_contents\">\n              <div\n                className={`oobceditor_block_contents_sprite oobceditor_block_contents_sprite-${block.dataType}`}\n              >\n                <img\n                  className=\"oobceditor_block_contents_sprite_img\"\n                  src={soundIcon}\n                  alt={block.data}\n                />\n                <div className=\"oobceditor_block_contents_sprite_title\">\n                  {block.data}\n                </div>\n              </div>\n            </div>\n          );\n          break;\n        default:\n          contentsElement = <div className=\"oobceditor_block_contents\" />;\n          break;\n      }\n      break;\n    case BLOCK.CONSTANT:\n      if (block.dataType === DATA.DIRECTION) {\n        let directionTitle = block.data;\n        if (locale === \"zh\") {\n          directionTitle = { up: \"上\", down: \"下\", left: \"左\", right: \"右\" }[\n            directionTitle\n          ];\n        }\n        contentsElement = (\n          <div className=\"oobceditor_block_contents\">\n            <img\n              className=\"oobceditor_block_contents_img\"\n              src={require(`../../../../../../../../Image/builder/oobceditor/direction_${block.data}.svg`)}\n              alt={block.data}\n            />\n            <div className=\"oobceditor_block_contents_title oobceditor_block_contents_title-direction\">\n              {directionTitle}\n            </div>\n          </div>\n        );\n      } else {\n        let constantTitle;\n        switch (block.dataType) {\n          case DATA.SCREEN:\n            const screenTitle = locale === \"zh\" ? \"画面\" : \"scene\";\n            constantTitle = screenTitle + block.data.split(\"scene\")[1];\n            break;\n          case DATA.POSITION:\n            constantTitle = `X:${block.data.x} Y:${block.data.y}`;\n            break;\n          case DATA.ANIMATION:\n            constantTitle = block.data;\n            if (locale === \"zh\") {\n              constantTitle =\n                {\n                  attack: \"攻击\",\n                  back_attack: \"背面_攻击\",\n                  back_fly: \"背面_飞行\",\n                  back_fly_idle: \"背面_飞行_空闲\",\n                  back_idle: \"背面_空闲\",\n                  back_move: \"背面_移动\",\n                  back_run: \"背面_奔跑\",\n                  back_walk: \"背面_走路\",\n                  blue: \"蓝色\",\n                  death: \"阵亡\",\n                  error: \"错误\",\n                  fail: \"失败\",\n                  fail_b: \"失败_b\",\n                  falling: \"掉落\",\n                  fly: \"飞行\",\n                  front_attack: \"正面_攻击\",\n                  front_fly: \"正面_飞行\",\n                  front_fly_idle: \"正面_飞行_空闲\",\n                  front_idle: \"正面_空闲\",\n                  fx: \"特效\",\n                  happy: \"开心\",\n                  heart: \"爱心\",\n                  hit: \"撞击\",\n                  idle: \"空闲\",\n                  jump: \"跳跃\",\n                  left_fly: \"向左飞行\",\n                  left_hit: \"左_撞击\",\n                  left_victory: \"左_胜利\",\n                  move: \"移动\",\n                  open: \"打开\",\n                  purple: \"紫色\",\n                  red: \"红色\",\n                  right_fly: \"向右飞行\",\n                  right_hit: \"右_撞击\",\n                  right_victory: \"右_胜利\",\n                  run: \"奔跑\",\n                  run_sad: \"奔跑_伤心\",\n                  save: \"救助\",\n                  seat: \"坐下\",\n                  shoot: \"发射\",\n                  side_attack: \"侧面_攻击\",\n                  side_fly: \"侧面_飞行\",\n                  side_fly_idle: \"侧面_飞行_空闲\",\n                  side_flyattack: \"侧向飞行\",\n                  side_idle: \"侧面_空闲\",\n                  side_jump: \"侧面_跳跃\",\n                  side_move: \"侧面_移动\",\n                  side_run: \"侧向奔跑\",\n                  side_walk: \"侧面_走路\",\n                  skill: \"技能\",\n                  skill_a: \"技能_a\",\n                  skill_b: \"技能_b\",\n                  skill_c: \"技能_c\",\n                  skyblue: \"天蓝色\",\n                  stop_a: \"停止_a\",\n                  stop_b: \"停止_b\",\n                  tap: \"轻拍\",\n                  up: \"上\",\n                  victory: \"胜利\",\n                  walk: \"走路\",\n                  walk2: \"走路2\",\n                  white: \"白色\"\n                }[constantTitle] || constantTitle;\n            }\n            break;\n          case DATA.NUMBER:\n            constantTitle = block.data;\n            if (block.data === \"number\" && locale === \"zh\") {\n              constantTitle = \"数字\";\n            }\n            break;\n          case DATA.BOOLEAN:\n            constantTitle = block.data;\n            if (locale === \"zh\") {\n              constantTitle =\n                {\n                  true: \"真\",\n                  false: \"假\"\n                }[constantTitle] || constantTitle;\n            }\n            break;\n          default:\n            if (block.data === \"random\" && locale === \"zh\") {\n              constantTitle = \"随机\";\n            } else if (block.data === \"touch\" && locale === \"zh\") {\n              constantTitle = \"触碰处\";\n            } else {\n              constantTitle = block.data;\n            }\n            break;\n        }\n        contentsElement = (\n          <div className=\"oobceditor_block_contents\">\n            <div className=\"oobceditor_block_contents_title\">\n              {constantTitle}\n            </div>\n          </div>\n        );\n      }\n      break;\n    case BLOCK.PROPERTY:\n      contentsElement = (\n        <div className=\"oobceditor_block_contents\">\n          <div className=\"oobceditor_block_contents_title\">\n            {formatMessage({\n              id: \"ID_OOBC_BLOCK_PROPERTY_\" + block.data.toUpperCase()\n            })}\n          </div>\n        </div>\n      );\n      break;\n    case BLOCK.VARIABLE:\n    case BLOCK.OPERATOR:\n    case BLOCK.UTIL:\n      let utilTitle = block.data;\n      // if (locale === \"zh\") {\n      //   utilTitle = { mobile: \"手机\" }[utilTitle] || utilTitle;\n      // }\n      contentsElement = (\n        <div className=\"oobceditor_block_contents\">\n          <div className=\"oobceditor_block_contents_title\">{utilTitle}</div>\n        </div>\n      );\n      break;\n    case BLOCK.ACTION:\n      contentsElement = (\n        <div className=\"oobceditor_block_contents\">\n          {block.data !== \"set\" && (\n            <img\n              className=\"oobceditor_block_contents_img\"\n              src={require(`../../../../../../../../Image/builder/oobceditor/action_${block.data}.svg`)}\n              alt={block.data}\n            />\n          )}\n          <div\n            className={`oobceditor_block_contents_title ${\n              block.data !== \"set\"\n                ? \"oobceditor_block_contents_title-action\"\n                : \"\"\n            }`}\n          >\n            {formatMessage({\n              id: \"ID_OOBC_BLOCK_ACTION_\" + block.data.toUpperCase()\n            })}\n          </div>\n        </div>\n      );\n      break;\n    default:\n      contentsElement = <div className=\"oobceditor_block_contents\" />;\n      break;\n  }\n\n  // 블록 편집 버튼\n  const editElement = block === currentBlock &&\n    block.blockType === BLOCK.CONSTANT &&\n    (block.dataType === DATA.NUMBER ||\n      block.dataType === DATA.STRING ||\n      block.dataType === DATA.POSITION) && (\n      <div\n        className=\"oobceditor_block_edit\"\n        onClick={e => {\n          onClickConstantEdit(block);\n        }}\n      >\n        <img\n          className=\"oobceditor_block_edit_img\"\n          src={editDefault}\n          alt=\"edit\"\n          onTouchStart={e => {\n            e.target.src = editTouched;\n          }}\n          onTouchEnd={e => {\n            e.target.src = editDefault;\n          }}\n        />\n      </div>\n    );\n\n  // 렌더링할 블록\n  let blockElement = <></>;\n  if (block.blockType !== BLOCK.CALLBACK) {\n    blockElement = (\n      <div\n        id={`oobceditor_block-${block.id}`}\n        className={`oobceditor_block oobceditor_block-${block.mode.toLowerCase()} oobceditor_block-${\n          block.blockType\n        }${block === currentBlock ? \" oobceditor_block-current\" : \"\"}${\n          block.disabled ? \" oobceditor_block-disabled\" : \"\"\n        }`}\n        onClick={e => {\n          if (!e.target.closest(\".oobc_highlight_clone\")) {\n            if (e.preventDefault) e.preventDefault();\n            if (e.stopPropagation) e.stopPropagation();\n          }\n          if (block !== currentBlock) onClickBlock(block);\n        }}\n        onContextMenu={e => {\n          // if (e.preventDefault) e.preventDefault();\n          // if (e.stopPropagation) e.stopPropagation();\n        }}\n        onTouchStart={e => {\n          e.target.classList.add(\"oobceditor_block-touched\");\n        }}\n        onTouchEnd={e => {\n          e.target.classList.remove(\"oobceditor_block-touched\");\n        }}\n      >\n        {backgroundElement}\n        {contentsElement}\n        {editElement}\n      </div>\n    );\n  }\n\n  if (block.mode === MODE.INSTANCE && block.blockType === BLOCK.OPERATOR) {\n    return (\n      <>\n        {block.data !== \"!\" && (\n          <Block\n            intl={intl}\n            block={block.childs[0]}\n            currentBlock={currentBlock}\n            onClickBlock={onClickBlock}\n            onClickConstantEdit={onClickConstantEdit}\n            sprites={sprites}\n          />\n        )}\n        {blockElement}\n        <Block\n          intl={intl}\n          block={block.data === \"!\" ? block.childs[0] : block.childs[1]}\n          currentBlock={currentBlock}\n          onClickBlock={onClickBlock}\n          onClickConstantEdit={onClickConstantEdit}\n          sprites={sprites}\n        />\n      </>\n    );\n  } else {\n    const childsElement =\n      block.mode !== MODE.PROTOTYPE &&\n      block.childs &&\n      block.childs.map(child => (\n        <Block\n          key={child.id}\n          intl={intl}\n          block={child}\n          currentBlock={currentBlock}\n          onClickBlock={onClickBlock}\n          onClickConstantEdit={onClickConstantEdit}\n          sprites={sprites}\n        />\n      ));\n    return (\n      <>\n        {blockElement}\n        {childsElement}\n      </>\n    );\n  }\n};\n\nexport default injectIntl(Block);\n"]},"metadata":{},"sourceType":"module"}