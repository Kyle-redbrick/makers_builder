{"ast":null,"code":"import _objectSpread from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar ACTION = {\n  DREAM_SET_MYPROJECT: \"setMyDreamProject\",\n  DREAM_UPDATE_MYPROJECT: \"updateMyDreamProject\",\n  DREAM_OPEN_MENU: \"openDreamMenu\",\n  DREAM_CLOSE_MENU: \"closeDreamMenu\",\n  DREAM_SET_MISSIONS: \"setDreamMissions\",\n  DREAM_SET_CURRENT_MISSION_INDEX: \"setCurrentDreamMissionIndex\",\n  DREAM_COMPLETE_CURRENT_MISSION: \"completeCurrentDreamMission\",\n  DREAM_SET_IS_CONDITIONS_CLEAR: \"setIsConditionsClear\",\n  DREAM_SET_IS_CODE_CONDITIONS_CLEAR: \"setIsCodeConditionsClear\"\n};\nexport var setMyDreamProject = function setMyDreamProject(myProject) {\n  return {\n    type: ACTION.DREAM_SET_MYPROJECT,\n    payload: {\n      myProject: myProject\n    }\n  };\n};\nexport var updateMyDreamProject = function updateMyDreamProject(values) {\n  return {\n    type: ACTION.DREAM_UPDATE_MYPROJECT,\n    payload: {\n      values: values\n    }\n  };\n};\nexport var openDreamMenu = function openDreamMenu() {\n  return {\n    type: ACTION.DREAM_OPEN_MENU\n  };\n};\nexport var closeDreamMenu = function closeDreamMenu() {\n  return {\n    type: ACTION.DREAM_CLOSE_MENU\n  };\n};\nexport var setDreamMissions = function setDreamMissions(missions) {\n  return {\n    type: ACTION.DREAM_SET_MISSIONS,\n    payload: {\n      missions: missions\n    }\n  };\n};\nexport var setCurrentDreamMissionIndex = function setCurrentDreamMissionIndex(index) {\n  return {\n    type: ACTION.DREAM_SET_CURRENT_MISSION_INDEX,\n    payload: {\n      index: index\n    }\n  };\n};\nexport var completeCurrentDreamMission = function completeCurrentDreamMission() {\n  return {\n    type: ACTION.DREAM_COMPLETE_CURRENT_MISSION\n  };\n};\nexport var setIsConditionsClear = function setIsConditionsClear(isConditionsClear) {\n  return {\n    type: ACTION.DREAM_SET_IS_CONDITIONS_CLEAR,\n    payload: {\n      isConditionsClear: isConditionsClear\n    }\n  };\n};\nexport var setIsCodeConditionsClear = function setIsCodeConditionsClear(isCodeConditionsClear) {\n  return {\n    type: ACTION.DREAM_SET_IS_CODE_CONDITIONS_CLEAR,\n    payload: {\n      isCodeConditionsClear: isCodeConditionsClear\n    }\n  };\n};\nvar initialState = {\n  myProject: null,\n  isMenuOpen: false,\n  isReplaying: false,\n  missions: [],\n  currentMissionIndex: -1,\n  currentMission: null,\n  isConditionsClear: false,\n  isCodeConditionsClear: false\n};\n\nvar dream = function dream() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var type = action.type,\n      _action$payload = action.payload,\n      payload = _action$payload === void 0 ? {} : _action$payload;\n\n  switch (type) {\n    case ACTION.DREAM_SET_MYPROJECT:\n      return _objectSpread({}, state, {\n        myProject: payload.myProject,\n        isReplaying: !!payload.myProject.completedAt\n      });\n\n    case ACTION.DREAM_UPDATE_MYPROJECT:\n      return _objectSpread({}, state, {\n        myProject: _objectSpread({}, state.myProject, payload.values || {})\n      });\n\n    case ACTION.DREAM_OPEN_MENU:\n      return _objectSpread({}, state, {\n        isMenuOpen: true\n      });\n\n    case ACTION.DREAM_CLOSE_MENU:\n      return _objectSpread({}, state, {\n        isMenuOpen: false\n      });\n\n    case ACTION.DREAM_SET_MISSIONS:\n      return _objectSpread({}, state, {\n        missions: Array.isArray(payload.missions) ? payload.missions : []\n      });\n\n    case ACTION.DREAM_SET_CURRENT_MISSION_INDEX:\n      if (state.missions[payload.index]) {\n        return _objectSpread({}, state, {\n          currentMissionIndex: payload.index,\n          currentMission: state.missions[payload.index]\n        });\n      } else {\n        return _objectSpread({}, state);\n      }\n\n    case ACTION.DREAM_COMPLETE_CURRENT_MISSION:\n      state.currentMission.isCompleted = true;\n      return _objectSpread({}, state);\n\n    case ACTION.DREAM_SET_IS_CONDITIONS_CLEAR:\n      return _objectSpread({}, state, {\n        isConditionsClear: payload.isConditionsClear\n      });\n\n    case ACTION.DREAM_SET_IS_CODE_CONDITIONS_CLEAR:\n      return _objectSpread({}, state, {\n        isCodeConditionsClear: payload.isCodeConditionsClear\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default dream;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Store/Reducer/dream.js"],"names":["ACTION","DREAM_SET_MYPROJECT","DREAM_UPDATE_MYPROJECT","DREAM_OPEN_MENU","DREAM_CLOSE_MENU","DREAM_SET_MISSIONS","DREAM_SET_CURRENT_MISSION_INDEX","DREAM_COMPLETE_CURRENT_MISSION","DREAM_SET_IS_CONDITIONS_CLEAR","DREAM_SET_IS_CODE_CONDITIONS_CLEAR","setMyDreamProject","myProject","type","payload","updateMyDreamProject","values","openDreamMenu","closeDreamMenu","setDreamMissions","missions","setCurrentDreamMissionIndex","index","completeCurrentDreamMission","setIsConditionsClear","isConditionsClear","setIsCodeConditionsClear","isCodeConditionsClear","initialState","isMenuOpen","isReplaying","currentMissionIndex","currentMission","dream","state","action","completedAt","Array","isArray","isCompleted"],"mappings":"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","sourcesContent":["const ACTION = {\n  DREAM_SET_MYPROJECT: \"setMyDreamProject\",\n  DREAM_UPDATE_MYPROJECT: \"updateMyDreamProject\",\n  DREAM_OPEN_MENU: \"openDreamMenu\",\n  DREAM_CLOSE_MENU: \"closeDreamMenu\",\n  DREAM_SET_MISSIONS: \"setDreamMissions\",\n  DREAM_SET_CURRENT_MISSION_INDEX: \"setCurrentDreamMissionIndex\",\n  DREAM_COMPLETE_CURRENT_MISSION: \"completeCurrentDreamMission\",\n  DREAM_SET_IS_CONDITIONS_CLEAR: \"setIsConditionsClear\",\n  DREAM_SET_IS_CODE_CONDITIONS_CLEAR: \"setIsCodeConditionsClear\",\n};\n\nexport const setMyDreamProject = myProject => ({\n  type: ACTION.DREAM_SET_MYPROJECT,\n  payload: { myProject }\n});\n\nexport const updateMyDreamProject = values => ({\n  type: ACTION.DREAM_UPDATE_MYPROJECT,\n  payload: { values }\n});\n\nexport const openDreamMenu = () => ({\n  type: ACTION.DREAM_OPEN_MENU\n});\n\nexport const closeDreamMenu = () => ({\n  type: ACTION.DREAM_CLOSE_MENU\n});\n\nexport const setDreamMissions = missions => ({\n  type: ACTION.DREAM_SET_MISSIONS,\n  payload: { missions }\n});\n\nexport const setCurrentDreamMissionIndex = index => ({\n  type: ACTION.DREAM_SET_CURRENT_MISSION_INDEX,\n  payload: { index }\n});\n\nexport const completeCurrentDreamMission = () => ({\n  type: ACTION.DREAM_COMPLETE_CURRENT_MISSION\n});\n\nexport const setIsConditionsClear = isConditionsClear => ({\n  type: ACTION.DREAM_SET_IS_CONDITIONS_CLEAR,\n  payload: { isConditionsClear }\n});\n\nexport const setIsCodeConditionsClear = isCodeConditionsClear => ({\n  type: ACTION.DREAM_SET_IS_CODE_CONDITIONS_CLEAR,\n  payload: { isCodeConditionsClear }\n});\n\nconst initialState = {\n  myProject: null,\n  isMenuOpen: false,\n  isReplaying: false,\n  missions: [],\n  currentMissionIndex: -1,\n  currentMission: null,\n  isConditionsClear: false,\n  isCodeConditionsClear: false\n};\n\nconst dream = (state = initialState, action) => {\n  const { type, payload = {} } = action;\n  switch (type) {\n    case ACTION.DREAM_SET_MYPROJECT:\n      return { ...state, myProject: payload.myProject, isReplaying: !!payload.myProject.completedAt };\n    case ACTION.DREAM_UPDATE_MYPROJECT:\n      return { ...state, myProject: { ...state.myProject, ...(payload.values || {}) } };\n    case ACTION.DREAM_OPEN_MENU:\n      return { ...state, isMenuOpen: true };\n    case ACTION.DREAM_CLOSE_MENU:\n      return { ...state, isMenuOpen: false };\n    case ACTION.DREAM_SET_MISSIONS:\n      return { \n        ...state,\n        missions: Array.isArray(payload.missions)\n          ? payload.missions\n          : []\n      };\n    case ACTION.DREAM_SET_CURRENT_MISSION_INDEX:\n      if(state.missions[payload.index]) {\n        return { \n          ...state,\n          currentMissionIndex: payload.index,\n          currentMission: state.missions[payload.index]\n        };\n      } else {\n        return { ...state };\n      }\n    case ACTION.DREAM_COMPLETE_CURRENT_MISSION:\n      state.currentMission.isCompleted = true;\n      return { ...state };\n    case ACTION.DREAM_SET_IS_CONDITIONS_CLEAR:\n      return { ...state, isConditionsClear: payload.isConditionsClear};\n    case ACTION.DREAM_SET_IS_CODE_CONDITIONS_CLEAR:\n      return { ...state, isCodeConditionsClear: payload.isCodeConditionsClear};\n    default:\n      return state;\n  }\n};\n\nexport default dream;\n"]},"metadata":{},"sourceType":"module"}