{"ast":null,"code":"function traverse(root, options) {\n  \"use strict\";\n\n  options = options || {};\n  var pre = options.pre;\n  var post = options.post;\n  var skipProperty = options.skipProperty;\n\n  function visit(node, parent, prop, idx) {\n    if (!node || typeof node.type !== \"string\") {\n      return;\n    }\n\n    var res = undefined;\n\n    if (pre) {\n      res = pre(node, parent, prop, idx);\n    }\n\n    if (res !== false) {\n      for (var prop in node) {\n        if (skipProperty ? skipProperty(prop, node) : prop[0] === \"$\") {\n          continue;\n        }\n\n        var child = node[prop];\n\n        if (Array.isArray(child)) {\n          for (var i = 0; i < child.length; i++) {\n            visit(child[i], node, prop, i);\n          }\n        } else {\n          visit(child, node, prop);\n        }\n      }\n    }\n\n    if (post) {\n      post(node, parent, prop, idx);\n    }\n  }\n\n  visit(root, null);\n}\n\n;\n\nif (typeof module !== \"undefined\" && typeof module.exports !== \"undefined\") {\n  module.exports = traverse;\n}","map":null,"metadata":{},"sourceType":"script"}