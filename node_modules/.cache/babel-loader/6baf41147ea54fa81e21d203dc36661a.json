{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/FindPw/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport Validate from \"../../Util/Validate\";\nimport { showPopUp } from \"../PopUp\";\nimport FindPwResult from \"../FindPwResult\";\nimport \"./index.scss\";\n\nvar FindPw = /*#__PURE__*/function (_Component) {\n  _inherits(FindPw, _Component);\n\n  var _super = _createSuper(FindPw);\n\n  function FindPw(props) {\n    var _this;\n\n    _classCallCheck(this, FindPw);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeInput = function (e) {\n      var _this$setState;\n\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      var warning = \"\";\n\n      if (name === \"verifiedEmail\") {\n        var _Validate$email = Validate.email(value),\n            result = _Validate$email.result,\n            id = _Validate$email.id;\n\n        if (!result) warning = _this.props.intl.formatMessage({\n          id: id\n        });\n      }\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"warning\", warning), _this$setState));\n    };\n\n    _this.sendEmail = function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          verifiedEmail = _this$state.verifiedEmail,\n          warning = _this$state.warning;\n      if (email === \"\" || verifiedEmail === \"\" || warning !== \"\") return;\n\n      _this.setState({\n        warning: _this.props.intl.formatMessage({\n          id: \"ID_VALIDATE_EMAIL_TRY\"\n        })\n      });\n\n      request.sendEmailResetPwd({\n        email: email,\n        verifiedEmail: verifiedEmail\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var success = json.success,\n            statusCode = json.statusCode;\n\n        if (success) {\n          showPopUp( /*#__PURE__*/React.createElement(FindPwResult, {\n            history: _this.props.history,\n            email: _this.state.email,\n            verifiedEmail: _this.state.verifiedEmail,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 19\n            }\n          }), {\n            darkmode: !_this.props.isBuilder,\n            mobileFullscreen: true\n          });\n        } else {\n          if (statusCode === 404) {\n            _this.setState({\n              warning: _this.props.intl.formatMessage({\n                id: \"ID_VALIDATE_EMAIL_NOT_EXIST\"\n              })\n            });\n          } else {\n            _this.setState({\n              warning: _this.props.intl.formatMessage({\n                id: \"ID_REPORT_POPUP_FAIL_MSG\"\n              })\n            });\n          }\n        }\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      verifiedEmail: \"\",\n      warning: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(FindPw, [{\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw__title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, formatMessage({\n        id: \"ID_FORGOTPW\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw__desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }\n      }, formatMessage({\n        id: \"ID_FIND_PW_DESC\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw__input-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, \"\\uC544\\uC774\\uB514\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"findpw__input\",\n        name: \"email\",\n        type: \"text\",\n        onChange: this.onChangeInput,\n        placeholder: formatMessage({\n          id: \"ID_CHALLENGE_APPLY_FIELD_PLACEHOLDER_TEAM_MEMEBER_ID\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw__input-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, \"\\uC774\\uBA54\\uC77C\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"findpw__input\",\n        name: \"verifiedEmail\",\n        type: \"email\",\n        onChange: this.onChangeInput,\n        placeholder: \"ex) wizlab@wizschool.io\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw__input-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, this.state.warning), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"findpw__button\",\n        onClick: this.sendEmail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"findpw__button-send-mail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_FIND_PW_SEND_EMAIL\"\n      }))));\n    }\n  }]);\n\n  return FindPw;\n}(Component);\n\nexport default injectIntl(FindPw);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/FindPw/index.js"],"names":["React","Component","injectIntl","request","Validate","showPopUp","FindPwResult","FindPw","props","onChangeInput","e","target","name","value","warning","email","result","id","intl","formatMessage","setState","sendEmail","state","verifiedEmail","sendEmailResetPwd","then","res","json","success","statusCode","history","darkmode","isBuilder","mobileFullscreen"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport Validate from \"../../Util/Validate\";\nimport { showPopUp } from \"../PopUp\";\nimport FindPwResult from \"../FindPwResult\";\nimport \"./index.scss\";\n\nclass FindPw extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { email: \"\", verifiedEmail: \"\", warning: \"\"};\n  }\n  \n  onChangeInput = e => {\n    const { name, value } = e.target;\n    let warning = \"\"\n    if(name === \"verifiedEmail\") {\n      const { result, id } = Validate.email(value)\n      if(!result) warning = this.props.intl.formatMessage({ id: id })\n    }\n\n    this.setState({ [name]: value, warning: warning });\n  }\n\n  sendEmail = () => {\n    const {email , verifiedEmail, warning} = this.state;\n    if(email === \"\" || verifiedEmail === \"\" || warning !== \"\") return \n    this.setState({ warning: this.props.intl.formatMessage({ id: \"ID_VALIDATE_EMAIL_TRY\" }) });\n    \n    request\n    .sendEmailResetPwd({ email: email , verifiedEmail: verifiedEmail })\n    .then(res => res.json())\n    .then(json => {\n      const {success , statusCode} = json\n      if(success) {\n        showPopUp(<FindPwResult history={this.props.history} email={this.state.email} verifiedEmail={this.state.verifiedEmail}/>, {\n          darkmode: !this.props.isBuilder,\n          mobileFullscreen: true\n        });\n      } else {\n        if(statusCode === 404) {\n          this.setState({ warning: this.props.intl.formatMessage({ id: \"ID_VALIDATE_EMAIL_NOT_EXIST\" }) });\n        } else {\n          this.setState({ warning: this.props.intl.formatMessage({ id: \"ID_REPORT_POPUP_FAIL_MSG\" }) });\n        }\n      }\n    })\n  }\n\n  render() {\n    const { formatMessage } = this.props.intl;\n\n    return (\n      <div className=\"findpw\">\n        <div className=\"findpw__title\">\n          {formatMessage({ id: \"ID_FORGOTPW\" })}\n        </div>\n        <div className=\"findpw__desc\">\n          {formatMessage({ id: \"ID_FIND_PW_DESC\" })}\n        </div>\n        <div className=\"findpw__input-title\">아이디</div>\n        <input\n          className={`findpw__input`}\n          name=\"email\"\n          type=\"text\"\n          onChange={this.onChangeInput}\n          placeholder={formatMessage({ id: \"ID_CHALLENGE_APPLY_FIELD_PLACEHOLDER_TEAM_MEMEBER_ID\" })}\n        />\n        <div className=\"findpw__input-title\">이메일</div>\n        <input\n          className={`findpw__input`}\n          name=\"verifiedEmail\"\n          type=\"email\"\n          onChange={this.onChangeInput}\n          placeholder={\"ex) wizlab@wizschool.io\"}\n        />\n        <div className=\"findpw__input-warning\">{this.state.warning}</div>\n        <div className=\"findpw__button\" onClick={this.sendEmail}>\n          <button className=\"findpw__button-send-mail\">\n            {formatMessage({ id: \"ID_FIND_PW_SEND_EMAIL\" })}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(FindPw);\n"]},"metadata":{},"sourceType":"module"}