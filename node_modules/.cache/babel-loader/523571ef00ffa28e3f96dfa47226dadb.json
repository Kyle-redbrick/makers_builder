{"ast":null,"code":"import _objectSpread from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/PublishedItem/index.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport QueryString from \"query-string\";\nimport \"./index.scss\";\nimport likeIcon from \"../../../Image/new-main-icon-like.svg\";\nimport viewIcon from \"../../../Image/new-main-icon-view.svg\";\nimport commentIcon from \"../../../Image/new-main-icon-comment.svg\";\nimport { showPopUp } from \"../PopUp\";\nimport SignIn from \"../SignIn\";\nimport { connect } from \"react-redux\";\nimport project3DLabel from \"../../../Image/3d-label.svg\";\n\nfunction PublishedItem(props) {\n  var _this = this;\n\n  var published = props.published;\n\n  var handleLoginFor3D = function handleLoginFor3D() {\n    if (is2DGame()) {\n      replaceToWizAppDetail();\n    } else {\n      if (isLogin()) {\n        replaceToWizAppDetail();\n      } else {\n        showPopUp( /*#__PURE__*/React.createElement(SignIn, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 19\n          }\n        }), {\n          mobileFullscreen: true,\n          darkmode: true\n        });\n      }\n    }\n  };\n\n  var is2DGame = function is2DGame() {\n    if (published.icon) {\n      return published.icon.includes(\"wizschool\");\n    }\n  };\n\n  var isLogin = function isLogin() {\n    return Object.keys(props.userinfo).length > 0;\n  };\n\n  var replaceToWizAppDetail = function replaceToWizAppDetail() {\n    props.history.replace(\"?\".concat(getQueryString()));\n  };\n\n  var getQueryString = function getQueryString() {\n    return QueryString.stringify(_objectSpread({}, QueryString.parse(props.location.search), {\n      pId: published.pId\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published\",\n    onClick: handleLoginFor3D,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__icon-ratio-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"published__icon\",\n    src: published.icon,\n    alt: \"published-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), !is2DGame() && /*#__PURE__*/React.createElement(\"img\", {\n    className: \"editor-pick__3d-label\",\n    src: project3DLabel,\n    alt: \"3d-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, published.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"published__user__icon\",\n    src: published.user.icon,\n    alt: \"published-user-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__user__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, published.user.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__counts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"like-icon\",\n    src: likeIcon,\n    alt: \"like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }), published.likeCount), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"view-icon\",\n    src: viewIcon,\n    alt: \"view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }), published.viewCount), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"published__count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"comment-icon\",\n    src: commentIcon,\n    alt: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }), published.commentCount))));\n}\n\nexport default connect(function (state) {\n  return {\n    userinfo: state.userinfo\n  };\n})(withRouter(PublishedItem));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/PublishedItem/index.js"],"names":["React","withRouter","QueryString","showPopUp","SignIn","connect","PublishedItem","props","published","handleLoginFor3D","is2DGame","replaceToWizAppDetail","isLogin","mobileFullscreen","darkmode","icon","includes","Object","keys","userinfo","length","history","replace","getQueryString","stringify","parse","location","search","pId","project3DLabel","name","user","likeIcon","likeCount","viewIcon","viewCount","commentIcon","commentCount","state"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport QueryString from \"query-string\";\nimport \"./index.scss\";\nimport likeIcon from \"../../../Image/new-main-icon-like.svg\";\nimport viewIcon from \"../../../Image/new-main-icon-view.svg\";\nimport commentIcon from \"../../../Image/new-main-icon-comment.svg\";\nimport { showPopUp } from \"../PopUp\";\nimport SignIn from \"../SignIn\";\nimport { connect } from \"react-redux\";\nimport project3DLabel from \"../../../Image/3d-label.svg\";\n\n\nfunction PublishedItem(props) {\n  const { published } = props;\n\n  const handleLoginFor3D = () => {\n    if (is2DGame()) {\n      replaceToWizAppDetail();\n    } else {\n      if (isLogin()) {\n        replaceToWizAppDetail();\n      } else {\n        showPopUp(<SignIn />, { mobileFullscreen: true, darkmode: true });\n      }\n    }\n  }\n\n  const is2DGame = () => {\n    if (published.icon) {\n      return published.icon.includes(\"wizschool\");\n    } \n  }\n\n  const isLogin = () => {\n    return Object.keys(props.userinfo).length > 0;\n  }\n\n  const replaceToWizAppDetail = () => {\n    props.history.replace(`?${getQueryString()}`); \n  }\n\n  const getQueryString = () => {\n    return QueryString.stringify({\n      ...QueryString.parse(props.location.search),\n      pId: published.pId\n    })\n  }\n\n  return (\n    <div className=\"published\" onClick={handleLoginFor3D}>\n        <div className=\"published__icon-ratio-wrapper\">\n          <img\n            className=\"published__icon\"\n            src={published.icon}\n            alt=\"published-icon\"\n          />\n          {!is2DGame() && <img className=\"editor-pick__3d-label\" src={project3DLabel} alt=\"3d-label\" />}\n        </div>\n        <div className=\"published__section\">\n          <div className=\"published__title\">\n            {published.name}\n          </div>\n          <div className=\"published__user\">\n            <img\n              className=\"published__user__icon\"\n              src={published.user.icon}\n              alt=\"published-user-icon\"\n            />\n            <div className=\"published__user__name\">\n              {published.user.name}\n            </div>\n          </div>\n          <div className=\"published__counts\">\n            <div className=\"published__count\">\n              <img id=\"like-icon\" src={likeIcon} alt=\"like\" />\n              {published.likeCount}\n            </div>\n            <div className=\"published__count\">\n              <img id=\"view-icon\" src={viewIcon} alt=\"view\" />\n              {published.viewCount}\n            </div>\n            <div className=\"published__count\">\n              <img id=\"comment-icon\" src={commentIcon} alt=\"comment\" />\n              {published.commentCount}\n            </div>\n          </div>\n        </div>\n    </div>\n  )\n}\n\nexport default connect(\n  state => ({\n    userinfo: state.userinfo\n  })\n)(withRouter(PublishedItem));\n"]},"metadata":{},"sourceType":"module"}