{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/Home/Component/News/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../../../../../Common/Util/HTTPRequest\";\nimport View from \"./View\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      _this.fetchNews();\n    };\n\n    _this.fetchNews = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var params, res, news;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              params = {\n                type: \"builder\",\n                limit: 3,\n                offset: 0\n              };\n              _context.prev = 1;\n              _context.next = 4;\n              return request.getNewsList(params);\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.json();\n\n            case 7:\n              news = _context.sent;\n\n              _this.setState({\n                news: news.rows || []\n              });\n\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n              _this.setState({\n                news: []\n              });\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n\n    _this.setSlickRef = function (ref) {\n      _this.slick = ref;\n    };\n\n    _this.handlePrev = function (e) {\n      e.preventDefault();\n\n      _this.slick.slickPrev();\n    };\n\n    _this.handleNext = function (e) {\n      e.preventDefault();\n\n      _this.slick.slickNext();\n    };\n\n    _this.onChangeIndex = function (next) {\n      _this.setState({\n        currentSlideIndex: next\n      });\n    };\n\n    _this.state = {\n      news: [],\n      currentSlideIndex: 0\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          news = _this$state.news,\n          currentSlideIndex = _this$state.currentSlideIndex;\n      var setSlickRef = this.setSlickRef,\n          handlePrev = this.handlePrev,\n          handleNext = this.handleNext,\n          onChangeIndex = this.onChangeIndex;\n      return /*#__PURE__*/React.createElement(View, {\n        setSlickRef: setSlickRef,\n        handlePrev: handlePrev,\n        handleNext: handleNext,\n        onChangeIndex: onChangeIndex,\n        currentSlideIndex: currentSlideIndex,\n        news: news,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default injectIntl(withRouter(Container));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/Home/Component/News/Container.js"],"names":["React","Component","withRouter","injectIntl","request","View","Container","props","componentDidMount","fetchNews","params","type","limit","offset","getNewsList","res","json","news","setState","rows","console","log","setSlickRef","ref","slick","handlePrev","e","preventDefault","slickPrev","handleNext","slickNext","onChangeIndex","next","currentSlideIndex","state"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAO,KAAKC,OAAZ,MAAyB,2CAAzB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAQnBC,iBARmB,GAQC,YAAM;AACxB,YAAKC,SAAL;AACD,KAVkB;;AAAA,UAYnBA,SAZmB,yEAYP;AAAA;AAAA;AAAA;AAAA;AAAA;AACJC,cAAAA,MADI,GACK;AAAEC,gBAAAA,IAAI,EAAE,SAAR;AAAmBC,gBAAAA,KAAK,EAAE,CAA1B;AAA6BC,gBAAAA,MAAM,EAAE;AAArC,eADL;AAAA;AAAA;AAAA,qBAGQT,OAAO,CAACU,WAAR,CAAoBJ,MAApB,CAHR;;AAAA;AAGJK,cAAAA,GAHI;AAAA;AAAA,qBAISA,GAAG,CAACC,IAAJ,EAJT;;AAAA;AAIJC,cAAAA,IAJI;;AAKR,oBAAKC,QAAL,CAAc;AAAED,gBAAAA,IAAI,EAAEA,IAAI,CAACE,IAAL,IAAa;AAArB,eAAd;;AALQ;AAAA;;AAAA;AAAA;AAAA;AAORC,cAAAA,OAAO,CAACC,GAAR;;AACA,oBAAKH,QAAL,CAAc;AAAED,gBAAAA,IAAI,EAAE;AAAR,eAAd;;AARQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAZO;;AAAA,UAwBnBK,WAxBmB,GAwBL,UAAAC,GAAG,EAAI;AACnB,YAAKC,KAAL,GAAaD,GAAb;AACD,KA1BkB;;AAAA,UA4BnBE,UA5BmB,GA4BN,UAAAC,CAAC,EAAI;AAChBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,KAAL,CAAWI,SAAX;AACD,KA/BkB;;AAAA,UAiCnBC,UAjCmB,GAiCN,UAAAH,CAAC,EAAI;AAChBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,KAAL,CAAWM,SAAX;AACD,KApCkB;;AAAA,UAsCnBC,aAtCmB,GAsCH,UAACC,IAAD,EAAU;AACxB,YAAKd,QAAL,CAAc;AAAEe,QAAAA,iBAAiB,EAAED;AAArB,OAAd;AACD,KAxCkB;;AAEjB,UAAKE,KAAL,GAAa;AACXjB,MAAAA,IAAI,EAAE,EADK;AAEXgB,MAAAA,iBAAiB,EAAE;AAFR,KAAb;AAFiB;AAMlB;;;;WAoCD,kBAAS;AAAA,wBAC6B,KAAKC,KADlC;AAAA,UACCjB,IADD,eACCA,IADD;AAAA,UACOgB,iBADP,eACOA,iBADP;AAAA,UAECX,WAFD,GAEuD,IAFvD,CAECA,WAFD;AAAA,UAEcG,UAFd,GAEuD,IAFvD,CAEcA,UAFd;AAAA,UAE0BI,UAF1B,GAEuD,IAFvD,CAE0BA,UAF1B;AAAA,UAEsCE,aAFtC,GAEuD,IAFvD,CAEsCA,aAFtC;AAGP,0BACE,oBAAC,IAAD;AACE,QAAA,WAAW,EAAET,WADf;AAEE,QAAA,UAAU,EAAEG,UAFd;AAGE,QAAA,UAAU,EAAEI,UAHd;AAIE,QAAA,aAAa,EAAEE,aAJjB;AAKE,QAAA,iBAAiB,EAAEE,iBALrB;AAME,QAAA,IAAI,EAAEhB,IANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAUD;;;;EAxDqBhB,S;;AA2DxB,eAAeE,UAAU,CAACD,UAAU,CAACI,SAAD,CAAX,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../../../../../Common/Util/HTTPRequest\";\nimport View from \"./View\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      news: [],\n      currentSlideIndex: 0\n    };\n  }\n\n  componentDidMount = () => {\n    this.fetchNews();\n  };\n\n  fetchNews = async () => {\n    const params = { type: \"builder\", limit: 3, offset: 0 };\n    try {\n      let res = await request.getNewsList(params);\n      let news = await res.json();\n      this.setState({ news: news.rows || [] });\n    } catch (error) {\n      console.log(error);\n      this.setState({ news: [] });\n    }\n  };\n \n  setSlickRef = ref => {\n    this.slick = ref;\n  };\n\n  handlePrev = e => {\n    e.preventDefault();\n    this.slick.slickPrev();\n  };\n  \n  handleNext = e => {\n    e.preventDefault();\n    this.slick.slickNext();\n  };\n\n  onChangeIndex = (next) => {\n    this.setState({ currentSlideIndex: next})\n  }\n  \n  render() {\n    const { news, currentSlideIndex } = this.state;\n    const { setSlickRef, handlePrev, handleNext, onChangeIndex} = this;\n    return (\n      <View\n        setSlickRef={setSlickRef}\n        handlePrev={handlePrev}\n        handleNext={handleNext}\n        onChangeIndex={onChangeIndex}\n        currentSlideIndex={currentSlideIndex}\n        news={news}\n      />\n    );\n  }\n}\n\nexport default injectIntl(withRouter(Container));\n"]},"metadata":{},"sourceType":"module"}