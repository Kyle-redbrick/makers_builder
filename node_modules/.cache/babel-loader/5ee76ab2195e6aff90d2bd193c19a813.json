{"ast":null,"code":"import _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport moment from \"moment\";\nexport var Banner = function Banner(_banner) {\n  _classCallCheck(this, Banner);\n\n  this.introduction = _banner.introduction;\n  this.title = _banner.title;\n  this.type = _banner.type;\n  this.label = _banner.label;\n  this.background = _banner.backgroundImageURL && _banner.backgroundImageURL.toDreamclassS3URL();\n  this.mobileBackground = _banner.mobileBackgroundImageURL && _banner.mobileBackgroundImageURL.toDreamclassS3URL();\n  this.link = _banner.linkURL;\n\n  if (_banner.course) {\n    this.course = new Course(_banner.course);\n  }\n};\nexport var TodayPick = function TodayPick(_pick) {\n  _classCallCheck(this, TodayPick);\n\n  this.introduction = _pick.introduction;\n  this.title = _pick.title;\n  this.type = _pick.type;\n  this.background = _pick.backgroundImageURL && _pick.backgroundImageURL.toDreamclassS3URL();\n  this.lecture = new Lecture(_pick.lecture);\n};\nexport var Comment = function Comment(_comment) {\n  _classCallCheck(this, Comment);\n\n  this.id = _comment.id;\n  this.text = _comment.message;\n  this.createdAt = _comment.createdAt ? new Date(_comment.createdAt) : null;\n  this.updatedAt = new Date(_comment.updatedAt);\n  this.isDeleted = _comment.isDeleted;\n\n  if (_comment.user) {\n    this.user = new User(_comment.user);\n  }\n\n  if (_comment.parent) {\n    this.parent = new Comment(_comment.parent);\n  }\n\n  if (_comment.replies) {\n    this.replies = _comment.replies.map(function (_c) {\n      return new Comment(_c);\n    });\n  }\n};\nexport var Game = function Game(_game) {\n  _classCallCheck(this, Game);\n\n  this.id = _game.pId;\n  this.title = _game.name;\n  this.icon = _game.icon;\n  this.userName = _game.user.name;\n  this.userIcon = _game.user.icon;\n  this.url = _game.url;\n  this.viewCount = _game.viewCount || 0;\n  this.likeCount = _game.likeCount || 0;\n  this.commentCount = _game.commentCount || 0;\n\n  try {\n    this.type = _game.project.lecture.course.type;\n  } catch (_unused) {\n    this.type = null;\n  }\n\n  if (_game.user) {\n    this.user = new User(_game.user);\n  }\n};\nexport var ProjectTag = function ProjectTag(_tag) {\n  _classCallCheck(this, ProjectTag);\n\n  this.type = _tag.tag.type;\n  this.name = _tag.tag.name;\n};\nexport var Project = /*#__PURE__*/function () {\n  function Project(_project, _lectrue) {\n    _classCallCheck(this, Project);\n\n    this.id = _project.id;\n    this.lectureId = _lectrue.id;\n    this.number = _project.number;\n    this.title = _project.title;\n    this.introduction = _project.introduction;\n    this.thumbnailUrl = _project.thumbnailURL && _project.thumbnailURL.toDreamclassS3URL();\n    this.sampleGameUrl = _project.sampleGameURL;\n    this.completedMissionNum = 0;\n    this.totalMissionNum = _project.totalMissionNum || 0;\n    this.progress = 0;\n    this.completed = false;\n    this.tags = [];\n\n    if (_project.tags) {\n      this.tags = _project.tags.map(function (t) {\n        return new ProjectTag(t);\n      });\n    }\n\n    if (_project.myProject) {\n      this.myProject = new MyProject(_project.myProject);\n      this.completedMissionNum = this.myProject.completedMissionNum || 0;\n      this.progress = this.myProject.completedMissionNum > 0 && this.totalMissionNum > 0 ? Math.floor(this.myProject.completedMissionNum * 100 / this.totalMissionNum) : 0;\n      this.completed = this.myProject.completed;\n    }\n  }\n\n  _createClass(Project, [{\n    key: \"programmingConceptTags\",\n    get: function get() {\n      return this.tags.filter(function (tag) {\n        return tag.type === \"programmingConcept\";\n      });\n    }\n  }, {\n    key: \"apiCommandConceptTags\",\n    get: function get() {\n      return this.tags.filter(function (tag) {\n        return tag.type === \"apiCommand\";\n      });\n    }\n  }]);\n\n  return Project;\n}();\nexport var MyProject = function MyProject(_project) {\n  _classCallCheck(this, MyProject);\n\n  this.id = _project.id;\n  this.lastStudiedAt = _project.lastStudiedAt ? new Date(_project.lastStudiedAt) : null;\n  this.studiedMinutes = _project.studiedMinutes;\n  this.completedMissionNum = _project.completedMissionNum || 0;\n  this.completedAt = _project.completedAt ? new Date(_project.completedAt) : null;\n  this.completed = !!this.completedAt;\n};\nexport var Course = /*#__PURE__*/function () {\n  function Course(_course) {\n    var _this = this;\n\n    _classCallCheck(this, Course);\n\n    this.id = _course.id;\n    this.phrase = _course.phrase;\n    this.phrase2 = _course.phrase2;\n    this.introduction = _course.introduction;\n    this.title = _course.title;\n    this.type = _course.type;\n    this.displayType = _course.displayType;\n    this.completedProjectNum = 0;\n    this.totalProjectNum = 0;\n    this.progress = 0;\n\n    if (_course.iconURL) {\n      this.icon = _course.iconURL && _course.iconURL.toDreamclassS3URL();\n    }\n\n    if (_course.videoURL) {\n      this.video = _course.videoURL && _course.videoURL.toDreamclassS3URL();\n    }\n\n    if (_course.posterURL) {\n      this.poster = _course.posterURL && _course.posterURL.toDreamclassS3URL();\n    }\n\n    if (_course.progress !== undefined) {\n      this.progress = Number(_course.progress);\n    }\n\n    if (_course.lectures) {\n      this.lectures = _course.lectures.map(function (l) {\n        var lecture = new Lecture(l);\n        _this.completedProjectNum += lecture.completedProjectNum;\n        _this.totalProjectNum += lecture.totalProjectNum;\n        return lecture;\n      });\n\n      if (this.completedProjectNum && this.totalProjectNum) {\n        this.progress = Math.floor(this.completedProjectNum * 100 / this.totalProjectNum);\n      }\n    }\n  }\n\n  _createClass(Course, [{\n    key: \"startLink\",\n    get: function get() {\n      switch (this.type) {\n        case \"oobc\":\n          return \"/course/1\";\n\n        case \"javascript\":\n          return \"/course/2\";\n\n        case \"python\":\n          return \"/course/34\";\n\n        default:\n          return null;\n      }\n    }\n  }]);\n\n  return Course;\n}();\nexport var Lecture = function Lecture(_lecture) {\n  var _this2 = this;\n\n  _classCallCheck(this, Lecture);\n\n  this.id = _lecture.id;\n  this.title = _lecture.title;\n  this.introduce = _lecture.introduce;\n  this.introduction = _lecture.introduction;\n  this.level = _lecture.level;\n  this.number = _lecture.number;\n  this.numberString = this.number < 10 ? \"0\".concat(this.number) : \"\".concat(this.number);\n  this.heroUrl = _lecture.heroURL && _lecture.heroURL.toDreamclassS3URL();\n  this.completedMissionNum = 0;\n  this.totalMissionNum = 0;\n  this.completedProjectNum = 0;\n  this.totalProjectNum = 0;\n  this.progress = 0;\n\n  if (_lecture.v_thumbnailURL) {\n    if (_lecture.v_thumbnailURL.includes(\"http\")) {\n      this.vThumbnailUrl = _lecture.v_thumbnailURL;\n    } else {\n      this.vThumbnailUrl = _lecture.v_thumbnailURL && _lecture.v_thumbnailURL.toDreamclassS3URL();\n    }\n  }\n\n  if (_lecture.h_thumbnailURL) {\n    if (_lecture.h_thumbnailURL.includes(\"http\")) {\n      this.hThumbnailUrl = _lecture.h_thumbnailURL;\n    } else {\n      this.hThumbnailUrl = _lecture.h_thumbnailURL && _lecture.h_thumbnailURL.toDreamclassS3URL();\n    }\n  }\n\n  if (_lecture.course) {\n    this.course = new Course(_lecture.course);\n    this.type = _lecture.course.type;\n  }\n\n  if (_lecture.projects) {\n    this.projects = _lecture.projects.map(function (p) {\n      var project = new Project(p, _lecture);\n      _this2.completedMissionNum += project.completedMissionNum;\n      _this2.totalMissionNum += project.totalMissionNum;\n      _this2.totalProjectNum++;\n\n      if (project.completed) {\n        _this2.completedProjectNum++;\n      }\n\n      return project;\n    });\n\n    if (this.completedMissionNum && this.totalMissionNum) {\n      this.progress = Math.floor(this.completedMissionNum * 100 / this.totalMissionNum);\n    }\n  }\n};\nexport var TodayQuest = function TodayQuest(_quest) {\n  _classCallCheck(this, TodayQuest);\n\n  this.title = _quest.achievement.reachedTitle;\n  this.complete = _quest.complete;\n};\nexport var RecommendedProject = function RecommendedProject(_recommendedProject) {\n  _classCallCheck(this, RecommendedProject);\n\n  this.id = _recommendedProject.id;\n  this.title = _recommendedProject.title;\n  this.thumbnail = _recommendedProject.thumbnailURL;\n  this.pathname = _recommendedProject.pathname;\n\n  if (_recommendedProject.lecture) {\n    this.lecture = new Lecture(_recommendedProject.lecture);\n  }\n};\nexport var MyCard = function MyCard(_myCard) {\n  _classCallCheck(this, MyCard);\n\n  this.title = _myCard.title;\n  this.icon = _myCard.iconURL;\n};\nexport var Question = /*#__PURE__*/function () {\n  function Question(_qna) {\n    _classCallCheck(this, Question);\n\n    this.id = _qna.id;\n    this.type = _qna.type;\n    this.title = _qna.title;\n    this.content = _qna.content;\n    this.imageJSON = _qna.imageJSON;\n    this.isDeleted = _qna.isDeleted;\n    this.createdAt = new Date(_qna.createdAt);\n    this.userId = _qna.userId;\n\n    if (_qna.reply) {\n      this.reply = new Question(_qna.reply);\n    }\n  }\n\n  _createClass(Question, [{\n    key: \"formattedCreatedAt\",\n    value: function formattedCreatedAt() {\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"YYYY.MM.DD\";\n      return moment(this.createdAt).format(format);\n    }\n  }]);\n\n  return Question;\n}();\nexport var InventoryCard = /*#__PURE__*/function () {\n  function InventoryCard(_card) {\n    _classCallCheck(this, InventoryCard);\n\n    this.read = _card.isRead;\n    this.createdAt = new Date(_card.createdAt);\n    this.card = new MyCard(_card.card);\n  }\n\n  _createClass(InventoryCard, [{\n    key: \"formattedCreatedAt\",\n    value: function formattedCreatedAt() {\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"YYYY.MM.DD\";\n      return moment(this.createdAt).format(format);\n    }\n  }]);\n\n  return InventoryCard;\n}();\nexport var User = function User(_user) {\n  _classCallCheck(this, User);\n\n  this.id = _user.id;\n  this.name = _user.name;\n  this.email = _user.email;\n  this.icon = _user.icon;\n};","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/models.js"],"names":["moment","Banner","_banner","introduction","title","type","label","background","backgroundImageURL","toDreamclassS3URL","mobileBackground","mobileBackgroundImageURL","link","linkURL","course","Course","TodayPick","_pick","lecture","Lecture","Comment","_comment","id","text","message","createdAt","Date","updatedAt","isDeleted","user","User","parent","replies","map","_c","Game","_game","pId","name","icon","userName","userIcon","url","viewCount","likeCount","commentCount","project","ProjectTag","_tag","tag","Project","_project","_lectrue","lectureId","number","thumbnailUrl","thumbnailURL","sampleGameUrl","sampleGameURL","completedMissionNum","totalMissionNum","progress","completed","tags","t","myProject","MyProject","Math","floor","filter","lastStudiedAt","studiedMinutes","completedAt","_course","phrase","phrase2","displayType","completedProjectNum","totalProjectNum","iconURL","videoURL","video","posterURL","poster","undefined","Number","lectures","l","_lecture","introduce","level","numberString","heroUrl","heroURL","v_thumbnailURL","includes","vThumbnailUrl","h_thumbnailURL","hThumbnailUrl","projects","p","TodayQuest","_quest","achievement","reachedTitle","complete","RecommendedProject","_recommendedProject","thumbnail","pathname","MyCard","_myCard","Question","_qna","content","imageJSON","userId","reply","format","InventoryCard","_card","read","isRead","card","_user","email"],"mappings":"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","sourcesContent":["import moment from \"moment\";\n\nexport class Banner {\n  constructor(_banner) {\n    this.introduction = _banner.introduction;\n    this.title = _banner.title;\n    this.type = _banner.type;\n    this.label = _banner.label;\n    this.background = _banner.backgroundImageURL && _banner.backgroundImageURL.toDreamclassS3URL();\n    this.mobileBackground = _banner.mobileBackgroundImageURL && _banner.mobileBackgroundImageURL.toDreamclassS3URL();\n    this.link = _banner.linkURL;\n\n    if (_banner.course) {\n      this.course = new Course(_banner.course);\n    }\n  }\n}\n\nexport class TodayPick {\n  constructor(_pick) {\n    this.introduction = _pick.introduction;\n    this.title = _pick.title;\n    this.type = _pick.type;\n    this.background = _pick.backgroundImageURL && _pick.backgroundImageURL.toDreamclassS3URL();\n    this.lecture = new Lecture(_pick.lecture);\n  }\n}\n\nexport class Comment {\n  constructor(_comment) {\n    this.id = _comment.id;\n    this.text = _comment.message;\n    this.createdAt = _comment.createdAt ? new Date(_comment.createdAt) : null;\n    this.updatedAt = new Date(_comment.updatedAt);\n    this.isDeleted = _comment.isDeleted;\n    \n    if (_comment.user) {\n      this.user = new User(_comment.user);\n    }\n\n    if (_comment.parent) {\n      this.parent = new Comment(_comment.parent);\n    }\n\n    if (_comment.replies) {\n      this.replies = _comment.replies.map((_c) => new Comment(_c));\n    }\n  }\n}\n\nexport class Game {\n  constructor(_game) {\n    this.id = _game.pId;\n    this.title = _game.name;\n    this.icon = _game.icon;\n    this.userName = _game.user.name;\n    this.userIcon = _game.user.icon;\n    this.url = _game.url;\n    this.viewCount = _game.viewCount || 0;\n    this.likeCount = _game.likeCount || 0;\n    this.commentCount = _game.commentCount || 0;\n    \n    try {\n      this.type = _game.project.lecture.course.type;\n    } catch {\n      this.type = null;\n    }\n\n    if (_game.user) {\n      this.user = new User(_game.user);\n    }\n  }\n}\n\nexport class ProjectTag {\n  constructor(_tag) {\n    this.type = _tag.tag.type;\n    this.name = _tag.tag.name;\n  }\n}\n\nexport class Project {\n  constructor(_project, _lectrue) {\n    this.id = _project.id;\n    this.lectureId = _lectrue.id;\n    this.number = _project.number;\n    this.title = _project.title;\n    this.introduction = _project.introduction;\n    this.thumbnailUrl = _project.thumbnailURL && _project.thumbnailURL.toDreamclassS3URL();\n    this.sampleGameUrl = _project.sampleGameURL;\n    this.completedMissionNum = 0;\n    this.totalMissionNum = _project.totalMissionNum || 0;\n    this.progress = 0;\n    this.completed = false\n    \n\n    this.tags = [];\n    if (_project.tags) {\n      this.tags = _project.tags.map((t) => new ProjectTag(t));\n    }\n\n    if (_project.myProject) {\n      this.myProject = new MyProject(_project.myProject);\n      this.completedMissionNum = this.myProject.completedMissionNum || 0;\n      this.progress = this.myProject.completedMissionNum > 0 && this.totalMissionNum > 0 ? Math.floor(this.myProject.completedMissionNum * 100 / this.totalMissionNum) : 0;\n      this.completed = this.myProject.completed\n    }\n  }\n\n  get programmingConceptTags() {\n    return this.tags.filter(tag => tag.type === \"programmingConcept\");\n  }\n  get apiCommandConceptTags() {\n    return this.tags.filter(tag => tag.type === \"apiCommand\");\n  }\n}\n\nexport class MyProject {\n  constructor(_project) {\n    this.id = _project.id;\n    this.lastStudiedAt = _project.lastStudiedAt ? new Date(_project.lastStudiedAt) : null;\n    this.studiedMinutes = _project.studiedMinutes;\n    this.completedMissionNum = _project.completedMissionNum || 0;\n    this.completedAt = _project.completedAt ? new Date(_project.completedAt) : null;\n    this.completed = !!this.completedAt;\n  }\n}\n\nexport class Course {\n  constructor(_course) {\n    this.id = _course.id;\n    this.phrase = _course.phrase;\n    this.phrase2 = _course.phrase2;\n    this.introduction = _course.introduction;\n    this.title = _course.title;\n    this.type = _course.type;\n    this.displayType = _course.displayType;\n    this.completedProjectNum = 0;\n    this.totalProjectNum = 0;\n    this.progress = 0\n\n    if (_course.iconURL) {\n      this.icon = _course.iconURL && _course.iconURL.toDreamclassS3URL();\n    }\n\n    if (_course.videoURL) {\n      this.video = _course.videoURL && _course.videoURL.toDreamclassS3URL();\n    }\n\n    if (_course.posterURL) {\n      this.poster = _course.posterURL && _course.posterURL.toDreamclassS3URL();\n    }\n\n    if (_course.progress !== undefined) {\n      this.progress = Number(_course.progress);\n    }\n\n    if (_course.lectures) {\n      this.lectures = _course.lectures.map((l) => {\n        const lecture = new Lecture(l);\n\n        this.completedProjectNum += lecture.completedProjectNum;\n        this.totalProjectNum += lecture.totalProjectNum\n        return lecture;\n      });\n\n      if (this.completedProjectNum && this.totalProjectNum) {\n        this.progress = Math.floor(this.completedProjectNum * 100 / this.totalProjectNum)\n      }\n    }\n  }\n\n  get startLink() {\n    switch(this.type) {\n      case \"oobc\":\n        return \"/course/1\";\n      case \"javascript\":\n        return \"/course/2\";\n      case \"python\":\n        return \"/course/34\";\n      default:\n        return null;\n    }\n  }\n}\n\nexport class Lecture {\n  constructor(_lecture) {\n    this.id = _lecture.id;\n    this.title = _lecture.title;\n    this.introduce = _lecture.introduce;\n    this.introduction = _lecture.introduction;\n    this.level = _lecture.level;\n    this.number = _lecture.number;\n    this.numberString = this.number < 10 ? `0${this.number}` : `${this.number}`;\n    this.heroUrl = _lecture.heroURL && _lecture.heroURL.toDreamclassS3URL();\n    this.completedMissionNum = 0;\n    this.totalMissionNum = 0;\n    this.completedProjectNum = 0;\n    this.totalProjectNum = 0;\n    this.progress = 0;\n\n    if (_lecture.v_thumbnailURL) {\n      if (_lecture.v_thumbnailURL.includes(\"http\")) {\n        this.vThumbnailUrl = _lecture.v_thumbnailURL;\n      } else {\n        this.vThumbnailUrl = _lecture.v_thumbnailURL && _lecture.v_thumbnailURL.toDreamclassS3URL();\n      }\n    }\n\n    if (_lecture.h_thumbnailURL) {\n      if (_lecture.h_thumbnailURL.includes(\"http\")) {\n        this.hThumbnailUrl = _lecture.h_thumbnailURL;\n      } else {\n        this.hThumbnailUrl = _lecture.h_thumbnailURL && _lecture.h_thumbnailURL.toDreamclassS3URL();\n      }\n    }\n\n    if (_lecture.course) {\n      this.course = new Course(_lecture.course);\n      this.type = _lecture.course.type;\n    }\n\n    if (_lecture.projects) {\n      this.projects = _lecture.projects.map((p) => {\n        const project = new Project(p, _lecture);\n        this.completedMissionNum += project.completedMissionNum;\n        this.totalMissionNum += project.totalMissionNum;\n        this.totalProjectNum++;\n        if (project.completed) {\n          this.completedProjectNum++;\n        }\n        return project;\n      });\n\n      if (this.completedMissionNum && this.totalMissionNum) {\n        this.progress = Math.floor(this.completedMissionNum * 100 / this.totalMissionNum)\n      }\n    }\n  }\n}\n\nexport class TodayQuest {\n  constructor(_quest) {\n    this.title = _quest.achievement.reachedTitle;\n    this.complete = _quest.complete;\n  }\n}\n\nexport class RecommendedProject {\n  constructor(_recommendedProject) {\n    this.id = _recommendedProject.id;\n    this.title = _recommendedProject.title;\n    this.thumbnail = _recommendedProject.thumbnailURL;\n    this.pathname = _recommendedProject.pathname;\n\n    if (_recommendedProject.lecture) {\n      this.lecture = new Lecture(_recommendedProject.lecture);\n    }\n  }\n}\n\nexport class MyCard {\n  constructor(_myCard) {\n    this.title = _myCard.title;\n    this.icon = _myCard.iconURL;\n  }\n}\n\nexport class Question {\n  constructor(_qna) {\n    this.id = _qna.id;\n    this.type = _qna.type;\n    this.title = _qna.title;\n    this.content = _qna.content;\n    this.imageJSON = _qna.imageJSON;\n    this.isDeleted = _qna.isDeleted;\n    this.createdAt = new Date(_qna.createdAt);\n    this.userId = _qna.userId;\n\n    if (_qna.reply) {\n      this.reply = new Question(_qna.reply);\n    }\n  }\n\n  formattedCreatedAt(format = \"YYYY.MM.DD\") {\n    return moment(this.createdAt).format(format);\n  }\n}\n\nexport class InventoryCard {\n  constructor(_card) {\n    this.read = _card.isRead;\n    this.createdAt = new Date(_card.createdAt);\n    this.card = new MyCard(_card.card);\n  }\n\n  formattedCreatedAt(format = \"YYYY.MM.DD\") {\n    return moment(this.createdAt).format(format);\n  }\n}\n\nexport class User {\n  constructor(_user) {\n    this.id = _user.id;\n    this.name = _user.name;\n    this.email = _user.email;\n    this.icon = _user.icon;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}