{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Gstar/ChallengeMyProjectList/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../../Common/Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../../../Common/Component/PopUp\";\nimport View from \"./View\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, props);\n\n    _this.onClickItem = function (e, id) {\n      e.stopPropagation();\n\n      _this.props.history.push(\"/challenge/project/\".concat(id));\n    };\n\n    _this.onClickEdit = function (e, id) {\n      e.stopPropagation();\n\n      _this.props.history.push(\"/challenge/apply/\".concat(id));\n    };\n\n    _this.onClickRemove = function (e, id) {\n      e.stopPropagation();\n      var formatMessage = _this.props.intl.formatMessage;\n      showPopUp( /*#__PURE__*/React.createElement(PopUp.TwoButton, {\n        title: formatMessage({\n          id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_CONFIRM\"\n        }),\n        confirmButtonName: formatMessage({\n          id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_YES\"\n        }),\n        cancelButtonName: formatMessage({\n          id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_NO\"\n        }),\n        confirmAction: function confirmAction() {\n          request.deleteCreatorChallenge({\n            id: id\n          }).then(function () {\n            showPopUp( /*#__PURE__*/React.createElement(PopUp.OneButton, {\n              title: formatMessage({\n                id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETED\"\n              }),\n              buttonName: formatMessage({\n                id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_YES\"\n              }),\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 15\n              }\n            }));\n\n            _this.setState({\n              challengeItems: _this.state.challengeItems.filter(function (item) {\n                return item.id !== id;\n              })\n            });\n          }).catch(function (e) {\n            return console.error(e);\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.state = {\n      challengeItems: []\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      request.getMyCreatorChallenges({\n        userId: this.props.userId,\n        season: \"2\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        return _this2.setState({\n          challengeItems: json\n        });\n      }).catch(function (e) {\n        return console.error(e);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var challengeItems = this.state.challengeItems;\n      var onClickRemove = this.onClickRemove,\n          onClickItem = this.onClickItem,\n          onClickEdit = this.onClickEdit;\n      return /*#__PURE__*/React.createElement(View, {\n        challengeItems: challengeItems,\n        onClickRemove: onClickRemove,\n        onClickItem: onClickItem,\n        onClickEdit: onClickEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userId: state.userinfo.id\n  };\n}, {})(injectIntl(Container));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Gstar/ChallengeMyProjectList/Container.js"],"names":["React","Component","connect","injectIntl","request","PopUp","showPopUp","View","Container","props","onClickItem","e","id","stopPropagation","history","push","onClickEdit","onClickRemove","formatMessage","intl","deleteCreatorChallenge","then","setState","challengeItems","state","filter","item","catch","console","error","getMyCreatorChallenges","userId","season","res","json","userinfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../../Common/Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../../../Common/Component/PopUp\";\nimport View from \"./View\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      challengeItems : []\n    };\n  }\n\n  componentDidMount() {\n    request.getMyCreatorChallenges({userId: this.props.userId, season: \"2\"})\n      .then(res=> res.json())\n      .then(json=> this.setState({challengeItems: json}))\n      .catch(e=> console.error(e));\n  }\n\n  onClickItem = (e, id) => {\n    e.stopPropagation();\n    this.props.history.push(`/challenge/project/${id}`);\n  }\n\n  onClickEdit = (e, id) => {\n    e.stopPropagation();\n    this.props.history.push(`/challenge/apply/${id}`);\n  }\n\n  onClickRemove = (e, id) => {\n    e.stopPropagation();\n    const formatMessage = this.props.intl.formatMessage;\n    showPopUp(\n      <PopUp.TwoButton\n        title={formatMessage({id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_CONFIRM\"})}\n        confirmButtonName={formatMessage({id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_YES\"})}\n        cancelButtonName={formatMessage({id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_NO\"})}\n        confirmAction={()=>{\n          request.deleteCreatorChallenge({id})\n          .then(()=>{\n            showPopUp(\n              <PopUp.OneButton\n                title={formatMessage({ id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETED\" })}\n                buttonName={formatMessage({ id: \"ID_CHALLENGE_DETAIL_PROJECT_LIST_ITEM_DELETE_YES\" })}\n              />\n            );\n            this.setState({\n              challengeItems: this.state.challengeItems.filter(item=> item.id !== id)\n            })\n          })\n          .catch(e=> console.error(e));\n        }}    \n      />\n    );\n  }\n\n  render() {\n    const { challengeItems } = this.state;\n    const { onClickRemove, onClickItem, onClickEdit } = this;\n    return (\n      <View \n        challengeItems={challengeItems} \n        onClickRemove={onClickRemove} \n        onClickItem={onClickItem} \n        onClickEdit={onClickEdit}\n      />\n    )\n  }\n}\n\nexport default connect(\n  state => ({ userId: state.userinfo.id }),\n  {}\n)((injectIntl(Container)));"]},"metadata":{},"sourceType":"module"}