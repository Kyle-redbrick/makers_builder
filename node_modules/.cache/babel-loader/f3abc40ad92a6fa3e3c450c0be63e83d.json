{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/MyAccount/Container.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport View from \"./View\";\nimport { connect } from \"react-redux\";\nimport * as userInfoActions from \"../../Common/Store/Reducer/UserInfo\";\nimport { MY_ACCOUNT_TABS, MY_ACCOUNT_FIELD } from \"./Common/Constant\";\nimport AccountBirthPopup from \"./Popup/Birth\";\nimport AccountPhonePopup from \"./Popup/Phone\";\nimport * as request from \"../../Common/Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../../Common/Component/PopUp\"; // import moment from \"moment\";\n\nimport EmailAuthPopup from \"../../Common/Component/PopUp/EmailAuthPopup\";\nimport { injectIntl } from \"react-intl\";\nimport * as userInfoSelector from \"../../Common/Store/Selector/UserInfo\"; // import EmailVerifiedPopup from \"../../Common/Component/EmailVerifiedPopup\";\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.redirectNoLoginUser();\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handlePendingVerify = function (pendingEmail) {\n      _this.setState({\n        pendingEmail: pendingEmail,\n        isVerifyEmail: !pendingEmail\n      });\n    };\n\n    _this.onClickTab = function (type) {\n      _this.setState({\n        selectedTab: type\n      });\n    };\n\n    _this.onClickRegister = function (fieldType) {\n      switch (fieldType) {\n        case MY_ACCOUNT_FIELD.BIRTH:\n          showPopUp(React.createElement(AccountBirthPopup, {\n            onCompleted: function onCompleted(birth) {\n              _this.props.updateUserInfo({\n                birth: birth\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }), {\n            darkmode: true\n          });\n          break;\n\n        case MY_ACCOUNT_FIELD.PHONE:\n          showPopUp(React.createElement(AccountPhonePopup, {\n            onCompleted: function onCompleted(phone) {\n              _this.props.updateUserInfo({\n                phone: phone\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }), {\n            darkmode: true\n          });\n          break;\n\n        case MY_ACCOUNT_FIELD.EMAIL:\n          if (_this.props.userInfo.birth) {\n            showPopUp(React.createElement(EmailAuthPopup, {\n              userInfo: _this.props.userInfo,\n              intl: _this.props.intl,\n              handlePendingVerify: _this.handlePendingVerify,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77\n              },\n              __self: this\n            }), {\n              darkmode: true\n            });\n          } else {\n            showPopUp(React.createElement(PopUp.OneButton, {\n              title: _this.props.intl.formatMessage({\n                id: \"ID_MY_ACCOUNT_BIRTH_ALERT_TITLE\"\n              }),\n              subtitle: _this.props.intl.formatMessage({\n                id: \"ID_MY_ACCOUNT_BIRTH_ALERT_MSG\"\n              }),\n              buttonName: _this.props.intl.formatMessage({\n                id: \"ID_CONFIRM\"\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 86\n              },\n              __self: this\n            }), {\n              darkmode: true\n            });\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.onChangeGender = function (value) {\n      var params = {\n        gender: value\n      };\n      request.updateUserInfo(params).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        if (json.success) {\n          _this.props.updateUserInfo({\n            gender: value\n          });\n        }\n      });\n    };\n\n    _this.onClickAgreementMarketing = function (isAgree) {\n      var params = {\n        isMarketingAgreement: !isAgree\n      };\n      request.updateUserInfo(params).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        if (json.success) {\n          _this.props.updateUserInfo({\n            isMarketingAgreement: !isAgree\n          });\n        }\n      });\n    };\n\n    _this.onClickLeave = function () {\n      showPopUp(React.createElement(PopUp.OneButton, {\n        title: \"\\uC815\\uB9D0\\uB85C \\uD0C8\\uD1F4\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n        buttonName: \"\\uD655\\uC778\",\n        buttonAction: _this.onConfirmLeave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), {\n        darkmode: true\n      });\n    };\n\n    _this.onConfirmLeave = function () {\n      request.signout({\n        email: _this.props.userInfo.email\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          showPopUp(React.createElement(PopUp.OneButton, {\n            title: \"\\uD0C8\\uD1F4\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",\n            subtitle: \"\\uD648\\uD398\\uC774\\uC9C0\\uB85C \\uC774\\uB3D9\\uD569\\uB2C8\\uB2E4.\",\n            buttonName: \"\\uD655\\uC778\",\n            buttonAction: function buttonAction() {\n              localStorage.removeItem(\"wizToken\");\n\n              _this.props.updateUserInfo();\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          }), {\n            darkmode: true,\n            dismissButton: false\n          });\n        }\n      });\n    };\n\n    var _this$props$userInfo = _this.props.userInfo,\n        _birth = _this$props$userInfo.birth,\n        verifiedEmail = _this$props$userInfo.verifiedEmail;\n    _this.state = {\n      selectedTab: MY_ACCOUNT_TABS.MANAGE,\n      isVerifyBirth: _birth ? true : undefined,\n      isVerifyEmail: verifiedEmail ? true : undefined,\n      pendingEmail: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.redirectNoLoginUser();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"redirectNoLoginUser\",\n    value: function redirectNoLoginUser() {\n      if (!this.props.userInfo.email) {\n        this.props.history.replace(\"/\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, Object.assign({}, this.state, this.props, {\n        onClickTab: this.onClickTab,\n        onChangeGender: this.onChangeGender,\n        onClickRegister: this.onClickRegister,\n        onClickAgreementMarketing: this.onClickAgreementMarketing,\n        onClickLeave: this.onClickLeave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userInfo: state.userinfo,\n    isUserAgeOver14: userInfoSelector.getIsAgeOver14(state.userinfo)\n  };\n}, {\n  updateUserInfo: userInfoActions.updateUserInfo\n})(injectIntl(withRouter(Container)));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/MyAccount/Container.js"],"names":["React","Component","withRouter","View","connect","userInfoActions","MY_ACCOUNT_TABS","MY_ACCOUNT_FIELD","AccountBirthPopup","AccountPhonePopup","request","PopUp","showPopUp","EmailAuthPopup","injectIntl","userInfoSelector","Container","props","componentDidMount","redirectNoLoginUser","handlePendingVerify","pendingEmail","setState","isVerifyEmail","onClickTab","type","selectedTab","onClickRegister","fieldType","BIRTH","birth","updateUserInfo","darkmode","PHONE","phone","EMAIL","userInfo","intl","formatMessage","id","onChangeGender","value","params","gender","then","response","json","success","onClickAgreementMarketing","isAgree","isMarketingAgreement","onClickLeave","onConfirmLeave","signout","email","res","localStorage","removeItem","dismissButton","verifiedEmail","state","MANAGE","isVerifyBirth","undefined","history","replace","userinfo","isUserAgeOver14","getIsAgeOver14"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport View from \"./View\";\nimport { connect } from \"react-redux\";\nimport * as userInfoActions from \"../../Common/Store/Reducer/UserInfo\";\nimport { MY_ACCOUNT_TABS, MY_ACCOUNT_FIELD } from \"./Common/Constant\";\nimport AccountBirthPopup from \"./Popup/Birth\";\nimport AccountPhonePopup from \"./Popup/Phone\";\nimport * as request from \"../../Common/Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../../Common/Component/PopUp\";\n// import moment from \"moment\";\nimport EmailAuthPopup from \"../../Common/Component/PopUp/EmailAuthPopup\";\nimport { injectIntl } from \"react-intl\";\nimport * as userInfoSelector from \"../../Common/Store/Selector/UserInfo\";\n// import EmailVerifiedPopup from \"../../Common/Component/EmailVerifiedPopup\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    const { birth, verifiedEmail } = this.props.userInfo\n    \n    this.state = {\n      selectedTab: MY_ACCOUNT_TABS.MANAGE,\n      isVerifyBirth: birth ? true : undefined,\n      isVerifyEmail: verifiedEmail ? true : undefined, \n      pendingEmail: \"\"\n    }\n\n  }\n  componentDidMount = async () => {\n    this.redirectNoLoginUser();\n  };\n\n  componentDidUpdate() {\n    this.redirectNoLoginUser();\n  }\n\n  componentWillUnmount() {\n    \n  }\n\n  redirectNoLoginUser() {\n    if (!this.props.userInfo.email) {\n      this.props.history.replace(\"/\");\n    }\n  }\n\n  handlePendingVerify = pendingEmail => {\n    this.setState({ pendingEmail, isVerifyEmail: !pendingEmail })\n  }\n\n\n  onClickTab = (type) => {\n    this.setState({ selectedTab: type })\n  }\n\n  \n  \n\n  onClickRegister = (fieldType) => {\n    switch(fieldType){\n      case MY_ACCOUNT_FIELD.BIRTH:\n        showPopUp(<AccountBirthPopup \n          onCompleted={(birth)=>{\n            this.props.updateUserInfo({ birth: birth })\n        }}/>, { darkmode: true })\n        break\n      case MY_ACCOUNT_FIELD.PHONE:\n        showPopUp(<AccountPhonePopup \n          onCompleted={(phone)=>{\n            this.props.updateUserInfo({ phone: phone})\n        }}/>, { darkmode: true })\n        break\n      case MY_ACCOUNT_FIELD.EMAIL:\n        if (this.props.userInfo.birth) {\n          showPopUp(\n            <EmailAuthPopup\n              userInfo={this.props.userInfo}\n              intl={this.props.intl}\n              handlePendingVerify={this.handlePendingVerify}\n            />,\n            { darkmode: true }\n          )\n        } else {\n          showPopUp(\n            <PopUp.OneButton\n              title={this.props.intl.formatMessage({ id: \"ID_MY_ACCOUNT_BIRTH_ALERT_TITLE\" })}\n              subtitle={this.props.intl.formatMessage({ id: \"ID_MY_ACCOUNT_BIRTH_ALERT_MSG\" })}\n              buttonName={this.props.intl.formatMessage({ id: \"ID_CONFIRM\" })}\n            />,\n            { darkmode: true }\n          )\n        }\n        break;\n      default: break;\n    }\n  }\n \n\n  onChangeGender = (value) => {\n    const params = {\n      gender: value\n    }\n    request\n    .updateUserInfo(params)\n    .then(response => response.json())\n    .then(json => {\n      if(json.success){\n        this.props.updateUserInfo({ gender: value})\n      }\n    })\n    \n  }\n\n  onClickAgreementMarketing = (isAgree) => {\n    const params = {\n      isMarketingAgreement: !isAgree\n    }\n    request\n      .updateUserInfo(params)\n      .then(response => response.json())\n      .then(json => {\n        if(json.success){\n          this.props.updateUserInfo({ isMarketingAgreement: !isAgree})\n        }\n      })\n  }\n\n  onClickLeave = () => {\n    showPopUp(\n      <PopUp.OneButton\n        title=\"정말로 탈퇴하시겠습니까?\"\n        buttonName=\"확인\"\n        buttonAction={this.onConfirmLeave}\n      />,\n      { darkmode: true }\n    );\n  }\n\n  onConfirmLeave = () => {\n    request\n      .signout({ email: this.props.userInfo.email })\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          showPopUp(\n            <PopUp.OneButton\n              title=\"탈퇴되었습니다.\"\n              subtitle=\"홈페이지로 이동합니다.\"\n              buttonName=\"확인\"\n              buttonAction={() => {\n                localStorage.removeItem(\"wizToken\");\n                this.props.updateUserInfo();\n              }}\n            />,\n            {\n              darkmode: true,\n              dismissButton: false\n            }\n          );\n        }\n      });\n  }\n\n  render() {\n    return (\n      <View {...this.state}\n            {...this.props}\n            onClickTab={this.onClickTab}\n            onChangeGender={this.onChangeGender}\n            onClickRegister={this.onClickRegister}\n            onClickAgreementMarketing={this.onClickAgreementMarketing}\n            onClickLeave={this.onClickLeave}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({ \n    userInfo: state.userinfo,\n    isUserAgeOver14: userInfoSelector.getIsAgeOver14(state.userinfo)\n  }),\n  {\n    updateUserInfo: userInfoActions.updateUserInfo\n  }\n)(injectIntl(withRouter(Container)));\n\n"]},"metadata":{},"sourceType":"module"}