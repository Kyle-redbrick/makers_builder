{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/LearnCertification/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport { showPopUp } from \"../../../Common/Component/PopUp\";\nimport html2canvas from \"html2canvas\";\nimport \"./index.scss\";\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, props)); //todo : html2canvas가 cors문제로 s3이미지 참조가 불가능해서 임시 처리\n\n    _this.printCertificate = function () {\n      var html = document.querySelector(\"html\");\n      var printContents = document.querySelector(\".LearnCertification\").innerHTML;\n      var printDiv = document.createElement(\"div\");\n      printDiv.className = \"LearnCertificationContainer\";\n      html.appendChild(printDiv);\n      printDiv.innerHTML = printContents;\n      document.body.style.display = \"none\";\n      document.title = \"온라인코딩파티2021 with 위즈랩\";\n      window.print();\n      document.body.style.display = \"block\";\n      printDiv.style.display = \"none\";\n      document.title = \"위즈랩\";\n      if (_this.props.callback) _this.props.callback();\n      showPopUp(null);\n      window.location.replace(window.location.protocol + \"//\" + window.location.host + \"/learn\");\n    };\n\n    _this.downloadCertificate =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var canvas, imgURL, downloadLink, fileName;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return html2canvas(document.querySelector(\".LearnCertification\"), {\n                scrollX: 0,\n                scrollY: 0\n              });\n\n            case 2:\n              canvas = _context.sent;\n              imgURL = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n              downloadLink = document.createElement(\"a\");\n              fileName = \"\\uC628\\uB77C\\uC778\\uCF54\\uB529\\uD30C\\uD2F0-\".concat(_this.props.title, \"-\").concat(_this.props.name, \".png\");\n              downloadLink.setAttribute(\"download\", fileName);\n              downloadLink.setAttribute(\"href\", imgURL);\n              downloadLink.click();\n\n              if (_this.props.callback) {\n                _this.props.callback();\n              }\n\n              showPopUp(null);\n              window.location.replace(window.location.protocol + \"//\" + window.location.host + \"/learn\");\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.certImage = require(\"./\".concat(props.certImageURL));\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          name = _this$props.name,\n          organization = _this$props.organization,\n          title = _this$props.title;\n      return React.createElement(\"div\", {\n        className: \"LearnCertificationContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"LearnCertification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"LearnCertificationImg\",\n        src: this.certImage,\n        alt: \"certificationImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"LearnCertificationTexts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"LearnCertificationTexts_titleWrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"LearnCertificationTexts_tw-missionTitle_1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"WizLab\"), React.createElement(\"div\", {\n        className: \"LearnCertificationTexts_tw-missionTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, title)), React.createElement(\"div\", {\n        className: \"LearnCertificationTextOrgName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"LearnCertificationText_School\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, organization), React.createElement(\"div\", {\n        className: \"LearnCertificationText_Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, name)), React.createElement(\"div\", {\n        className: \"LearnCertificationText_Date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, moment().format(\"YYYY년 M월 DD일\")))), React.createElement(\"div\", {\n        className: \"LearnCertificationContainerTools\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"LearnCertificationContainerTool LearnCertificationPrint\",\n        onClick: this.downloadCertificate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"\\uB2E4\\uC6B4\\uB85C\\uB4DC\"), React.createElement(\"div\", {\n        className: \"LearnCertificationContainerTool LearnCertificationPrint\",\n        onClick: this.printCertificate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\uC778\\uC1C4\\uD558\\uAE30\")));\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    email: state.userinfo.email\n  };\n})(Container);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/LearnCertification/index.js"],"names":["React","Component","connect","moment","showPopUp","html2canvas","Container","props","printCertificate","html","document","querySelector","printContents","innerHTML","printDiv","createElement","className","appendChild","body","style","display","title","window","print","callback","location","replace","protocol","host","downloadCertificate","scrollX","scrollY","canvas","imgURL","toDataURL","downloadLink","fileName","name","setAttribute","click","certImage","require","certImageURL","organization","format","state","email","userinfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport { showPopUp } from \"../../../Common/Component/PopUp\";\nimport html2canvas from \"html2canvas\";\nimport \"./index.scss\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    //todo : html2canvas가 cors문제로 s3이미지 참조가 불가능해서 임시 처리\n    this.certImage = require(`./${props.certImageURL}`);\n  }\n  printCertificate = () => {\n    const html = document.querySelector(\"html\");\n    const printContents = document.querySelector(\".LearnCertification\").innerHTML;\n    const printDiv = document.createElement(\"div\");\n    printDiv.className = \"LearnCertificationContainer\";\n    html.appendChild(printDiv);\n    printDiv.innerHTML = printContents;\n    document.body.style.display = \"none\";\n    document.title = \"온라인코딩파티2021 with 위즈랩\";\n    window.print();\n    document.body.style.display = \"block\";\n    printDiv.style.display = \"none\";\n    document.title = \"위즈랩\";\n    if (this.props.callback) this.props.callback();\n    showPopUp(null);\n    window.location.replace(window.location.protocol + \"//\" + window.location.host + \"/learn\");\n  }\n\n  downloadCertificate = async () => {\n    const canvas = await html2canvas(\n      document.querySelector(\".LearnCertification\"),\n      { scrollX: 0, scrollY: 0}\n    );\n\n    const imgURL = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n    const downloadLink = document.createElement(\"a\");\n    const fileName = `온라인코딩파티-${this.props.title}-${this.props.name}.png`;\n\n    downloadLink.setAttribute(\"download\", fileName);\n    downloadLink.setAttribute(\"href\", imgURL);\n    downloadLink.click();\n    if (this.props.callback) {\n      this.props.callback();\n    }\n    showPopUp(null);\n    window.location.replace(window.location.protocol + \"//\" + window.location.host + \"/learn\");\n  }\n  render() {\n    const { name, organization, title } = this.props;\n    return (\n      <div className={`LearnCertificationContainer`}>\n        <div className=\"LearnCertification\">\n          <img\n            className=\"LearnCertificationImg\"\n            src={this.certImage}\n            alt=\"certificationImg\"\n          />\n          <div className=\"LearnCertificationTexts\">\n            <div className=\"LearnCertificationTexts_titleWrap\">\n              <div className=\"LearnCertificationTexts_tw-missionTitle_1\">\n                WizLab\n              </div>\n              <div className=\"LearnCertificationTexts_tw-missionTitle\">\n                {title}\n              </div>\n            </div>\n            <div className=\"LearnCertificationTextOrgName\">\n              <div className=\"LearnCertificationText_School\">{organization}</div>\n              <div className=\"LearnCertificationText_Name\">{name}</div>\n            </div>\n            <div className=\"LearnCertificationText_Date\">\n              {moment().format(\"YYYY년 M월 DD일\")}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"LearnCertificationContainerTools\">\n          <div\n            className=\"LearnCertificationContainerTool LearnCertificationPrint\"\n            onClick={this.downloadCertificate}\n          >\n            다운로드\n          </div>\n\n          <div\n            className=\"LearnCertificationContainerTool LearnCertificationPrint\"\n            onClick={this.printCertificate}\n          >\n            인쇄하기\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(state => ({\n  email: state.userinfo.email\n}))(Container);\n"]},"metadata":{},"sourceType":"module"}