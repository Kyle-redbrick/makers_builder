{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/RecordPlayer/Container.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport AssetLibrary from \"../../utils/assetLibrary\";\nimport * as projectActions from \"../../Store/Reducer/project\";\nimport View from \"./View\";\nimport { URL } from \"../../../../Common/Util/Constant\";\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, props));\n    _this.getInfo =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var isWhiteListUser, reservation, url, res, info, studentClip, tutorClip, baseURL, tutorVideo, studentVideo;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (_this.props.email) {\n                _context.next = 4;\n                break;\n              }\n\n              window.location.replace(\"/\");\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _context.next = 6;\n              return request.getWhiteList({\n                email: _this.props.email ? _this.props.email : \"none\"\n              });\n\n            case 6:\n              isWhiteListUser = _context.sent;\n              _context.next = 9;\n              return isWhiteListUser.json();\n\n            case 9:\n              isWhiteListUser = _context.sent;\n\n              if (isWhiteListUser) {\n                _context.next = 21;\n                break;\n              }\n\n              _context.next = 13;\n              return request.getReservationById({\n                reservationId: _this.props.reservationId\n              });\n\n            case 13:\n              reservation = _context.sent;\n              _context.next = 16;\n              return reservation.json();\n\n            case 16:\n              reservation = _context.sent;\n              reservation = reservation.reservation;\n\n              if (!(reservation.studentEmail !== _this.props.email)) {\n                _context.next = 21;\n                break;\n              }\n\n              window.location.replace(\"/\");\n              return _context.abrupt(\"return\");\n\n            case 21:\n              url = \"\".concat(URL.RECORD_S3, \"/\").concat(_this.props.reservationId, \"/info.json\");\n              _context.next = 24;\n              return request.getS3Json({\n                url: url\n              });\n\n            case 24:\n              res = _context.sent;\n              _context.next = 27;\n              return res.json();\n\n            case 27:\n              info = _context.sent;\n              studentClip = info.studentClip, tutorClip = info.tutorClip, baseURL = info.baseURL;\n              tutorVideo = undefined;\n\n              if (tutorClip) {\n                tutorVideo = {\n                  timestamp: tutorClip.timestamp,\n                  url: baseURL + \"/\" + tutorClip.fileName\n                };\n              }\n\n              studentVideo = undefined;\n\n              if (studentClip) {\n                studentVideo = {\n                  timestamp: studentClip.timestamp,\n                  url: baseURL + \"/\" + studentClip.fileName\n                };\n              }\n\n              Promise.all(info.states.map(function (s) {\n                return request.getS3Json({\n                  url: baseURL + \"/\" + s.fileName\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (json) {\n                  return {\n                    scene: json.scene,\n                    preview: json.preview,\n                    interaction: json.interaction,\n                    timestamp: s.timestamp\n                  };\n                }).catch(function (e) {\n                  return console.error(e);\n                });\n              })).then(function (states) {\n                _this.setState({\n                  states: states,\n                  tutorVideo: tutorVideo,\n                  studentVideo: studentVideo\n                });\n              });\n              _context.next = 39;\n              break;\n\n            case 36:\n              _context.prev = 36;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 39:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 36]]);\n    }));\n\n    _this.handleClickArea = function () {\n      _this.setState({\n        isShowSlider: !_this.state.isShowSlider\n      });\n    };\n\n    _this.setTutorVideoRef = function (ref) {\n      _this.tutorVideoRef = ref;\n    };\n\n    _this.setStudentVideoRef = function (ref) {\n      _this.studentVideoRef = ref;\n    };\n\n    _this.setStateFromStates =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(index) {\n        var _state, assets;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(_this.stateIndex === index)) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this.stateIndex = index;\n                _state = _this.state.states[index];\n                _context2.next = 6;\n                return AssetLibrary.loadAssetsForGame(_state.scene);\n\n              case 6:\n                assets = _context2.sent;\n                AssetLibrary.setAll(assets);\n\n                _this.props.setProject({\n                  state: {\n                    scene: _state.scene,\n                    preview: _state.preview,\n                    interaction: _state.interaction\n                  }\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.printTimerCallback = function () {\n      var timestamp = _this.tutorVideoRef.currentTime;\n\n      var time = _this.getTimeHHMMSS(timestamp);\n\n      var sliderValue = Math.trunc(timestamp / _this.tutorVideoRef.duration * 1000);\n\n      if (_this.isMovingSlider) {\n        _this.setState({\n          currentDuration: time\n        });\n      } else {\n        _this.setState({\n          currentDuration: time,\n          value: sliderValue\n        });\n      }\n    };\n\n    _this.progressTimerCallback = function () {\n      var timestamp = _this.tutorVideoRef.currentTime * 1000;\n      var states = _this.state.states;\n      var needTimeStamp = Math.trunc(Number(_this.timeStamp) + timestamp);\n      var index = -1;\n\n      for (var i = 0; i < states.length; ++i) {\n        if (states[i] && states[i].timestamp) {\n          var stateTimeStamp = states[i].timestamp;\n\n          if (needTimeStamp >= stateTimeStamp) {\n            index = i;\n            continue;\n          }\n\n          break;\n        }\n      }\n\n      if (index !== -1) {\n        _this.setStateFromStates(index);\n      }\n    };\n\n    _this.getTimeHHMMSS = function (value) {\n      var sec_num = Math.trunc(value);\n      var hours = Math.floor(sec_num / 3600);\n      var minutes = Math.floor((sec_num - hours * 3600) / 60);\n      var seconds = sec_num - hours * 3600 - minutes * 60;\n\n      if (hours < 10) {\n        hours = \"0\" + hours;\n      }\n\n      if (minutes < 10) {\n        minutes = \"0\" + minutes;\n      }\n\n      if (seconds < 10) {\n        seconds = \"0\" + seconds;\n      }\n\n      if (hours !== \"00\") {\n        return hours + \":\" + minutes + \":\" + seconds;\n      } else {\n        return minutes + \":\" + seconds;\n      }\n    };\n\n    _this.setProgressTimer = function () {\n      _this.progressTimerCallback();\n\n      _this.progressTimer = setInterval(_this.progressTimerCallback, 500);\n    };\n\n    _this.setDurationTimer = function () {\n      _this.printTimerCallback();\n\n      _this.durationTimer = setInterval(_this.printTimerCallback, 1000);\n    };\n\n    _this.onClickPlay =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this.stateIndex = -1;\n              _this.timeStamp = _this.state.tutorVideo.timestamp;\n\n              if (_this.tutorVideoRef) {\n                _this.tutorVideoRef.play();\n              }\n\n              if (_this.studentVideoRef) {\n                _this.studentVideoRef.play();\n              }\n\n              _this.setProgressTimer();\n\n              _this.setDurationTimer();\n\n              _this.setState({\n                isPause: false\n              });\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    _this.onClickPause = function () {\n      if (_this.tutorVideoRef) {\n        _this.tutorVideoRef.pause();\n      }\n\n      if (_this.studentVideoRef) {\n        _this.studentVideoRef.pause();\n      }\n\n      if (_this.progressTimer) {\n        clearInterval(_this.progressTimer);\n        _this.progressTimer = undefined;\n      }\n\n      if (_this.durationTimer) {\n        clearInterval(_this.durationTimer);\n        _this.durationTimer = undefined;\n      }\n\n      _this.setState({\n        isPause: true\n      });\n    };\n\n    _this.setControlButtonEnabled = function () {\n      if (_this.state.buttonEnabled) {\n        return;\n      }\n\n      _this.setState({\n        buttonEnabled: true\n      });\n\n      _this.setState({\n        currentDuration: _this.getTimeHHMMSS(0),\n        videoDuration: _this.getTimeHHMMSS(Number(_this.tutorVideoRef.duration))\n      });\n    };\n\n    _this.handleSliderChange = function (e) {\n      if (!_this.isMovingSlider) {\n        _this.isMovingSlider = true;\n      }\n\n      if (_this.state.isPause) {\n        var time = _this.tutorVideoRef.duration * e / 1000;\n\n        var duration = _this.getTimeHHMMSS(time);\n\n        _this.setState({\n          currentDuration: duration,\n          value: e\n        });\n      } else {\n        _this.setState({\n          value: e\n        });\n      }\n    };\n\n    _this.videoToSeekCallback = function (e) {\n      if (_this.tutorVideoRef) {\n        var tutorDuration = _this.tutorVideoRef.duration;\n        var tutorVideo = _this.state.tutorVideo;\n\n        if (tutorVideo) {\n          // If set video, can change current time\n          _this.tutorVideoRef.currentTime = e / 1000 * tutorDuration;\n        }\n      }\n\n      if (_this.studentVideoRef) {\n        var studentDuration = _this.studentVideoRef.duration;\n        var studentVideo = _this.state.studentVideo;\n\n        if (studentVideo) {\n          // If set video, can change current time\n          _this.studentVideoRef.currentTime = e / 1000 * studentDuration;\n        }\n      }\n\n      if (_this.isMovingSlider) {\n        _this.isMovingSlider = false;\n      }\n    };\n\n    _this.videoEndCallback = function () {\n      setTimeout(function () {\n        _this.onClickPause();\n      }, 1000);\n    };\n\n    _this.state = {\n      isShowSlider: false,\n      value: 0,\n      states: [],\n      tutorVideo: undefined,\n      studentVideo: undefined,\n      currentDuration: undefined,\n      videoDuration: undefined,\n      buttonEnabled: false,\n      isPause: true\n    };\n    _this.tutorVideoRef = undefined;\n    _this.studentVideoRef = undefined;\n    _this.timeStamp = undefined;\n    _this.stateIndex = -1;\n    _this.timer = undefined;\n    _this.durationTimer = _this.getTimeHHMMSS(0);\n    _this.isMovingSlider = false;\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getInfo();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isShowSlider = _this$state.isShowSlider,\n          tutorVideo = _this$state.tutorVideo,\n          studentVideo = _this$state.studentVideo,\n          value = _this$state.value,\n          currentDuration = _this$state.currentDuration,\n          videoDuration = _this$state.videoDuration,\n          buttonEnabled = _this$state.buttonEnabled,\n          isPause = _this$state.isPause;\n      var handleClickArea = this.handleClickArea,\n          setTutorVideoRef = this.setTutorVideoRef,\n          setStudentVideoRef = this.setStudentVideoRef,\n          handleSliderChange = this.handleSliderChange,\n          onClickPlay = this.onClickPlay,\n          onClickPause = this.onClickPause,\n          setControlButtonEnabled = this.setControlButtonEnabled,\n          videoToSeekCallback = this.videoToSeekCallback,\n          videoEndCallback = this.videoEndCallback;\n      return React.createElement(View, {\n        isShowSlider: isShowSlider,\n        handleClickArea: handleClickArea,\n        handleSliderChange: handleSliderChange,\n        setTutorVideoRef: setTutorVideoRef,\n        setStudentVideoRef: setStudentVideoRef,\n        tutorVideo: tutorVideo,\n        studentVideo: studentVideo,\n        value: value,\n        onClickPlay: onClickPlay,\n        onClickPause: onClickPause,\n        currentDuration: currentDuration,\n        videoDuration: videoDuration,\n        buttonEnabled: buttonEnabled,\n        setControlButtonEnabled: setControlButtonEnabled,\n        videoToSeekCallback: videoToSeekCallback,\n        isPause: isPause,\n        videoEndCallback: videoEndCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    email: state.userinfo.email\n  };\n}, {\n  setProject: projectActions.setProject\n})(Container);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/RecordPlayer/Container.js"],"names":["React","Component","connect","request","AssetLibrary","projectActions","View","URL","Container","props","getInfo","email","window","location","replace","getWhiteList","isWhiteListUser","json","getReservationById","reservationId","reservation","studentEmail","url","RECORD_S3","getS3Json","res","info","studentClip","tutorClip","baseURL","tutorVideo","undefined","timestamp","fileName","studentVideo","Promise","all","states","map","s","then","scene","preview","interaction","catch","e","console","error","setState","handleClickArea","isShowSlider","state","setTutorVideoRef","ref","tutorVideoRef","setStudentVideoRef","studentVideoRef","setStateFromStates","index","stateIndex","_state","loadAssetsForGame","assets","setAll","setProject","printTimerCallback","currentTime","time","getTimeHHMMSS","sliderValue","Math","trunc","duration","isMovingSlider","currentDuration","value","progressTimerCallback","needTimeStamp","Number","timeStamp","i","length","stateTimeStamp","sec_num","hours","floor","minutes","seconds","setProgressTimer","progressTimer","setInterval","setDurationTimer","durationTimer","onClickPlay","play","isPause","onClickPause","pause","clearInterval","setControlButtonEnabled","buttonEnabled","videoDuration","handleSliderChange","videoToSeekCallback","tutorDuration","studentDuration","videoEndCallback","setTimeout","timer","userinfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport AssetLibrary from \"../../utils/assetLibrary\";\nimport * as projectActions from \"../../Store/Reducer/project\";\nimport View from \"./View\";\nimport { URL } from \"../../../../Common/Util/Constant\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowSlider: false,\n      value: 0,\n      states: [],\n      tutorVideo: undefined,\n      studentVideo: undefined,\n      currentDuration: undefined,\n      videoDuration: undefined,\n      buttonEnabled: false,\n      isPause: true\n    };\n    this.tutorVideoRef = undefined;\n    this.studentVideoRef = undefined;\n    this.timeStamp = undefined;\n    this.stateIndex = -1;\n    this.timer = undefined;\n    this.durationTimer = this.getTimeHHMMSS(0);\n    this.isMovingSlider = false;\n  }\n\n  componentDidMount() {\n    this.getInfo();\n  }\n\n  getInfo = async () => {\n    try {\n      //비로그인이라면\n      if (!this.props.email) {\n        window.location.replace(\"/\");\n        return;\n      }\n\n      //whitelist체크\n      let isWhiteListUser = await request.getWhiteList({\n        email: this.props.email ? this.props.email : \"none\"\n      });\n      isWhiteListUser = await isWhiteListUser.json();\n\n      if (!isWhiteListUser) {\n        //수업에 참여한 학생이 맞는지 체크\n        let reservation = await request.getReservationById({\n          reservationId: this.props.reservationId\n        });\n        reservation = await reservation.json();\n        reservation = reservation.reservation;\n        if (reservation.studentEmail !== this.props.email) {\n          window.location.replace(\"/\");\n          return;\n        }\n      }\n\n      const url = `${URL.RECORD_S3}/${this.props.reservationId}/info.json`;\n      const res = await request.getS3Json({ url });\n      const info = await res.json();\n      const { studentClip, tutorClip, baseURL } = info;\n      let tutorVideo = undefined;\n      if (tutorClip) {\n        tutorVideo = {\n          timestamp: tutorClip.timestamp,\n          url: baseURL + \"/\" + tutorClip.fileName\n        };\n      }\n\n      let studentVideo = undefined;\n      if (studentClip) {\n        studentVideo = {\n          timestamp: studentClip.timestamp,\n          url: baseURL + \"/\" + studentClip.fileName\n        };\n      }\n\n      Promise.all(\n        info.states.map(s =>\n          request\n            .getS3Json({ url: baseURL + \"/\" + s.fileName })\n            .then(res => res.json())\n            .then(json => {\n              return {\n                scene: json.scene,\n                preview: json.preview,\n                interaction: json.interaction,\n                timestamp: s.timestamp\n              };\n            })\n            .catch(e => console.error(e))\n        )\n      ).then(states => {\n        this.setState({\n          states,\n          tutorVideo,\n          studentVideo\n        });\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  handleClickArea = () => {\n    this.setState({ isShowSlider: !this.state.isShowSlider });\n  };\n\n  setTutorVideoRef = ref => {\n    this.tutorVideoRef = ref;\n  };\n\n  setStudentVideoRef = ref => {\n    this.studentVideoRef = ref;\n  };\n\n  setStateFromStates = async index => {\n    if (this.stateIndex === index) {\n      return;\n    }\n    this.stateIndex = index;\n    const _state = this.state.states[index];\n    const assets = await AssetLibrary.loadAssetsForGame(_state.scene);\n    AssetLibrary.setAll(assets);\n    this.props.setProject({\n      state: {\n        scene: _state.scene,\n        preview: _state.preview,\n        interaction: _state.interaction\n      }\n    });\n  };\n\n  printTimerCallback = () => {\n    const timestamp = this.tutorVideoRef.currentTime;\n    const time = this.getTimeHHMMSS(timestamp);\n    const sliderValue = Math.trunc(\n      (timestamp / this.tutorVideoRef.duration) * 1000\n    );\n\n    if (this.isMovingSlider) {\n      this.setState({ currentDuration: time });\n    } else {\n      this.setState({ currentDuration: time, value: sliderValue });\n    }\n  };\n\n  progressTimerCallback = () => {\n    const timestamp = this.tutorVideoRef.currentTime * 1000;\n\n    const { states } = this.state;\n    const needTimeStamp = Math.trunc(Number(this.timeStamp) + timestamp);\n    let index = -1;\n    for (let i = 0; i < states.length; ++i) {\n      if (states[i] && states[i].timestamp) {\n        const stateTimeStamp = states[i].timestamp;\n        if (needTimeStamp >= stateTimeStamp) {\n          index = i;\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (index !== -1) {\n      this.setStateFromStates(index);\n    }\n  };\n\n  getTimeHHMMSS = function(value) {\n    var sec_num = Math.trunc(value);\n    var hours = Math.floor(sec_num / 3600);\n    var minutes = Math.floor((sec_num - hours * 3600) / 60);\n    var seconds = sec_num - hours * 3600 - minutes * 60;\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    if (hours !== \"00\") {\n      return hours + \":\" + minutes + \":\" + seconds;\n    } else {\n      return minutes + \":\" + seconds;\n    }\n  };\n\n  setProgressTimer = () => {\n    this.progressTimerCallback();\n    this.progressTimer = setInterval(this.progressTimerCallback, 500);\n  };\n\n  setDurationTimer = () => {\n    this.printTimerCallback();\n    this.durationTimer = setInterval(this.printTimerCallback, 1000);\n  };\n\n  onClickPlay = async () => {\n    this.stateIndex = -1;\n    this.timeStamp = this.state.tutorVideo.timestamp;\n\n    if (this.tutorVideoRef) {\n      this.tutorVideoRef.play();\n    }\n\n    if (this.studentVideoRef) {\n      this.studentVideoRef.play();\n    }\n\n    this.setProgressTimer();\n    this.setDurationTimer();\n\n    this.setState({ isPause: false });\n  };\n\n  onClickPause = () => {\n    if (this.tutorVideoRef) {\n      this.tutorVideoRef.pause();\n    }\n\n    if (this.studentVideoRef) {\n      this.studentVideoRef.pause();\n    }\n\n    if (this.progressTimer) {\n      clearInterval(this.progressTimer);\n      this.progressTimer = undefined;\n    }\n\n    if (this.durationTimer) {\n      clearInterval(this.durationTimer);\n      this.durationTimer = undefined;\n    }\n\n    this.setState({ isPause: true });\n  };\n\n  setControlButtonEnabled = () => {\n    if (this.state.buttonEnabled) {\n      return;\n    }\n    this.setState({ buttonEnabled: true });\n    this.setState({\n      currentDuration: this.getTimeHHMMSS(0),\n      videoDuration: this.getTimeHHMMSS(Number(this.tutorVideoRef.duration))\n    });\n  };\n\n  handleSliderChange = e => {\n    if (!this.isMovingSlider) {\n      this.isMovingSlider = true;\n    }\n\n    if (this.state.isPause) {\n      const time = (this.tutorVideoRef.duration * e) / 1000;\n      const duration = this.getTimeHHMMSS(time);\n      this.setState({ currentDuration: duration, value: e });\n    } else {\n      this.setState({ value: e });\n    }\n  };\n\n  videoToSeekCallback = e => {\n    if (this.tutorVideoRef) {\n      const tutorDuration = this.tutorVideoRef.duration;\n      const { tutorVideo } = this.state;\n      if (tutorVideo) {\n        // If set video, can change current time\n        this.tutorVideoRef.currentTime = (e / 1000) * tutorDuration;\n      }\n    }\n\n    if (this.studentVideoRef) {\n      const studentDuration = this.studentVideoRef.duration;\n      const { studentVideo } = this.state;\n      if (studentVideo) {\n        // If set video, can change current time\n        this.studentVideoRef.currentTime = (e / 1000) * studentDuration;\n      }\n    }\n\n    if (this.isMovingSlider) {\n      this.isMovingSlider = false;\n    }\n  };\n\n  videoEndCallback = () => {\n    setTimeout(() => {\n      this.onClickPause();\n    }, 1000);\n  };\n\n  render() {\n    const {\n      isShowSlider,\n      tutorVideo,\n      studentVideo,\n      value,\n      currentDuration,\n      videoDuration,\n      buttonEnabled,\n      isPause\n    } = this.state;\n    const {\n      handleClickArea,\n      setTutorVideoRef,\n      setStudentVideoRef,\n      handleSliderChange,\n      onClickPlay,\n      onClickPause,\n      setControlButtonEnabled,\n      videoToSeekCallback,\n      videoEndCallback\n    } = this;\n\n    return (\n      <View\n        isShowSlider={isShowSlider}\n        handleClickArea={handleClickArea}\n        handleSliderChange={handleSliderChange}\n        setTutorVideoRef={setTutorVideoRef}\n        setStudentVideoRef={setStudentVideoRef}\n        tutorVideo={tutorVideo}\n        studentVideo={studentVideo}\n        value={value}\n        onClickPlay={onClickPlay}\n        onClickPause={onClickPause}\n        currentDuration={currentDuration}\n        videoDuration={videoDuration}\n        buttonEnabled={buttonEnabled}\n        setControlButtonEnabled={setControlButtonEnabled}\n        videoToSeekCallback={videoToSeekCallback}\n        isPause={isPause}\n        videoEndCallback={videoEndCallback}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    email: state.userinfo.email\n  }),\n  {\n    setProject: projectActions.setProject\n  }\n)(Container);\n"]},"metadata":{},"sourceType":"module"}