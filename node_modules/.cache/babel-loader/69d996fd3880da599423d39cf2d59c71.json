{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/ForgotEmail/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../PopUp\";\nimport SignIn from \"../SignIn\";\nimport \"./index.scss\";\n\nvar ForgotPw = /*#__PURE__*/function (_Component) {\n  _inherits(ForgotPw, _Component);\n\n  var _super = _createSuper(ForgotPw);\n\n  function ForgotPw(props) {\n    var _this;\n\n    _classCallCheck(this, ForgotPw);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeInput = function (e) {\n      var _this$setState;\n\n      var _e$target = e.target,\n          id = _e$target.id,\n          value = _e$target.value;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, id, value), _defineProperty(_this$setState, \"warning_phone\", \"\"), _this$setState));\n    };\n\n    _this.onClickSend = function () {\n      var formatMessage = _this.props.intl.formatMessage;\n      var phone = _this.state.phone;\n\n      if (phone && phone.length > 7) {\n        request.sendEmailSMS({\n          phone: phone\n        }).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          if (json.success) {\n            showPopUp(React.createElement(PopUp.OneButton, {\n              title: formatMessage({\n                id: \"ID_FIND_EMAIL_SENT_TITLE\"\n              }),\n              buttonName: formatMessage({\n                id: \"ID_FIND_EMAIL_SENT_OK\"\n              }),\n              buttonAction: function buttonAction() {\n                showPopUp(React.createElement(SignIn, {\n                  isBuilder: _this.props.isBuilder,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 32\n                  },\n                  __self: this\n                }), {\n                  darkmode: !_this.props.isBuilder,\n                  mobileFullscreen: true\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 28\n              },\n              __self: this\n            }), {\n              darkmode: !_this.props.isBuilder\n            });\n          } else {\n            if (json.error === \"SMS_LIMIT\" || json.error === \"IP_LIMIT\") {\n              showPopUp(React.createElement(PopUp.OneButton, {\n                title: formatMessage({\n                  id: \"ID_FIND_EMAIL_SENT_LIMIT_TITLE\"\n                }),\n                buttonName: formatMessage({\n                  id: \"ID_FIND_EMAIL_SENT_OK\"\n                }),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 43\n                },\n                __self: this\n              }), {\n                darkmode: !_this.props.isBuilder\n              });\n            } else {\n              showPopUp(React.createElement(PopUp.OneButton, {\n                title: formatMessage({\n                  id: \"ID_FIND_EMAIL_SENT_FAIL_TITLE\"\n                }),\n                buttonName: formatMessage({\n                  id: \"ID_FIND_EMAIL_SENT_OK\"\n                }),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 53\n                },\n                __self: this\n              }), {\n                darkmode: !_this.props.isBuilder\n              });\n            }\n          }\n        });\n      } else {\n        _this.setState({\n          warning_phone: formatMessage({\n            id: \"ID_FIND_EMAIL_WARNING\"\n          })\n        });\n      }\n    };\n\n    _this.state = {\n      phone: \"\",\n      warning_phone: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ForgotPw, [{\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var _this$state = this.state,\n          phone = _this$state.phone,\n          warning_phone = _this$state.warning_phone;\n      var onChangeInput = this.onChangeInput,\n          onClickSend = this.onClickSend;\n      return React.createElement(\"div\", {\n        className: \"forgotpw\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"forgotpw_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_FIND_EMAIL_TITLE\"\n      })), React.createElement(\"div\", {\n        className: \"forgotpw_desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_FIND_EMAIL_DESC\"\n      })), React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning_phone !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"phone\",\n        type: \"phone\",\n        placeholder: formatMessage({\n          id: \"ID_FIND_EMAIL_PLACEHOLDER\"\n        }),\n        value: phone,\n        onChange: onChangeInput,\n        onKeyDown: function onKeyDown(e) {\n          if (e.keyCode === 13) onClickSend();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"popup_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, warning_phone), React.createElement(\"button\", {\n        className: \"popup_button\",\n        onClick: onClickSend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_FORGOTPW_CONFIRM\"\n      })));\n    }\n  }]);\n\n  return ForgotPw;\n}(Component);\n\nexport default injectIntl(ForgotPw);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/ForgotEmail/index.js"],"names":["React","Component","injectIntl","request","PopUp","showPopUp","SignIn","ForgotPw","props","onChangeInput","e","target","id","value","setState","onClickSend","formatMessage","intl","phone","state","length","sendEmailSMS","then","res","json","success","isBuilder","darkmode","mobileFullscreen","error","warning_phone","keyCode"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../PopUp\";\nimport SignIn from \"../SignIn\";\nimport \"./index.scss\";\n\nclass ForgotPw extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { phone: \"\", warning_phone: \"\" };\n  }\n\n  onChangeInput = e => {\n    const { id, value } = e.target;\n    this.setState({ [id]: value, warning_phone: \"\" });\n  };\n  onClickSend = () => {\n    const { formatMessage } = this.props.intl;\n    const { phone } = this.state;\n    if (phone && phone.length > 7) {\n      request\n        .sendEmailSMS({ phone })\n        .then(res => res.json())\n        .then(json => {\n          if (json.success) {\n            showPopUp(\n              <PopUp.OneButton\n                title={formatMessage({ id: \"ID_FIND_EMAIL_SENT_TITLE\" })}\n                buttonName={formatMessage({ id: \"ID_FIND_EMAIL_SENT_OK\" })}\n                buttonAction={() => {\n                  showPopUp(<SignIn isBuilder={this.props.isBuilder} />, {\n                    darkmode: !this.props.isBuilder,\n                    mobileFullscreen: true\n                  });\n                }}\n              />,\n              { darkmode: !this.props.isBuilder }\n            );\n          } else {\n            if (json.error === \"SMS_LIMIT\" || json.error === \"IP_LIMIT\") {\n              showPopUp(\n                <PopUp.OneButton\n                  title={formatMessage({\n                    id: \"ID_FIND_EMAIL_SENT_LIMIT_TITLE\"\n                  })}\n                  buttonName={formatMessage({ id: \"ID_FIND_EMAIL_SENT_OK\" })}\n                />,\n                { darkmode: !this.props.isBuilder }\n              );\n            } else {\n              showPopUp(\n                <PopUp.OneButton\n                  title={formatMessage({ id: \"ID_FIND_EMAIL_SENT_FAIL_TITLE\" })}\n                  buttonName={formatMessage({ id: \"ID_FIND_EMAIL_SENT_OK\" })}\n                />,\n                { darkmode: !this.props.isBuilder }\n              );\n            }\n          }\n        });\n    } else {\n      this.setState({\n        warning_phone: formatMessage({ id: \"ID_FIND_EMAIL_WARNING\" })\n      });\n    }\n  };\n\n  render() {\n    const { formatMessage } = this.props.intl;\n    const { phone, warning_phone } = this.state;\n    const { onChangeInput, onClickSend } = this;\n    return (\n      <div className=\"forgotpw\">\n        <div className=\"forgotpw_title\">\n          {formatMessage({ id: \"ID_FIND_EMAIL_TITLE\" })}\n        </div>\n        <div className=\"forgotpw_desc\">\n          {formatMessage({ id: \"ID_FIND_EMAIL_DESC\" })}\n        </div>\n        <input\n          className={`popup_input ${\n            warning_phone !== \"\" ? \"popup_input-warning\" : \"\"\n          }`}\n          id=\"phone\"\n          type=\"phone\"\n          placeholder={formatMessage({ id: \"ID_FIND_EMAIL_PLACEHOLDER\" })}\n          value={phone}\n          onChange={onChangeInput}\n          onKeyDown={e => {\n            if (e.keyCode === 13) onClickSend();\n          }}\n        />\n        <div className=\"popup_warning\">{warning_phone}</div>\n        <button className=\"popup_button\" onClick={onClickSend}>\n          {formatMessage({ id: \"ID_FORGOTPW_CONFIRM\" })}\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(ForgotPw);\n"]},"metadata":{},"sourceType":"module"}