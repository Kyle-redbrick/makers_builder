{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder3D/Component/Menu/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport { withRouter } from \"react-router-dom\";\nimport onClickOutside from \"react-onclickoutside\";\nimport { PAGETYPE } from \"../../../../Common/Util/Constant\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport * as builderAction from \"../../Store/Reducer/builder\";\nimport View from \"./View\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, props);\n\n    _this.onClickDropDownBtn = function () {\n      var isDropDownOpen = !_this.state.isDropDownOpen;\n\n      _this.setState({\n        isDropDownOpen: isDropDownOpen\n      });\n    };\n\n    _this.handleClickOutside = function () {\n      _this.setState({\n        isDropDownOpen: false\n      });\n    };\n\n    _this.onBlurNameInput = function (input) {\n      var projectName = input.value.trim();\n\n      if (_this.checkProjectNameValid(projectName)) {\n        input.value = projectName;\n\n        _this.updateProjectName(_this.props.pId, projectName);\n      } else {\n        input.value = _this.props.projectName;\n      }\n    };\n\n    _this.onClickMobileTest = function () {\n      window.alert(\"준비 중입니다.\");\n    };\n\n    _this.onClickShare = function () {\n      window.alert(\"준비 중입니다.\");\n    };\n\n    _this.onClickPublish = function () {\n      _this.props.setIsPublishOn(true);\n    };\n\n    _this.onClickMain = function () {\n      var didConfirm = window.confirm(\"다른 프로젝트를 보러 나갈까요?\");\n\n      if (didConfirm) {\n        var history = _this.props.history;\n        history.push(\"/\" + PAGETYPE.BUILDER);\n      }\n    };\n\n    _this.state = {\n      isDropDownOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"checkProjectNameValid\",\n    value: function checkProjectNameValid(name) {\n      if (!name || name === \"\") {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"updateProjectName\",\n    value: function updateProjectName(pId, name) {\n      request.updateDevelopingProject({\n        pId: pId,\n        name: name\n      }).catch(function (e) {\n        return console.error(e);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          pId = _this$props.pId,\n          projectName = _this$props.projectName,\n          email = _this$props.email;\n      var isDropDownOpen = this.state.isDropDownOpen;\n      var isNameInputDisabled = !pId;\n      var loggedIn = !!email;\n      return React.createElement(View, {\n        projectName: projectName,\n        isNameInputDisabled: isNameInputDisabled,\n        loggedIn: loggedIn,\n        isDropDownOpen: isDropDownOpen,\n        onClickDropDownBtn: this.onClickDropDownBtn,\n        onBlurNameInput: this.onBlurNameInput,\n        onClickMobileTest: this.onClickMobileTest,\n        onClickShare: this.onClickShare,\n        onClickPublish: this.onClickPublish,\n        onClickMain: this.onClickMain,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  var project = state.project,\n      userinfo = state.userinfo;\n  var pId = project.pId;\n  var projectName = project.name;\n  var email = userinfo ? userinfo.email : undefined;\n  return {\n    pId: pId,\n    projectName: projectName,\n    email: email\n  };\n}, {\n  setIsPublishOn: builderAction.setIsPublishOn\n})(injectIntl(withRouter(onClickOutside(Container))));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder3D/Component/Menu/Container.js"],"names":["React","Component","connect","injectIntl","withRouter","onClickOutside","PAGETYPE","request","builderAction","View","Container","props","onClickDropDownBtn","isDropDownOpen","state","setState","handleClickOutside","onBlurNameInput","input","projectName","value","trim","checkProjectNameValid","updateProjectName","pId","onClickMobileTest","window","alert","onClickShare","onClickPublish","setIsPublishOn","onClickMain","didConfirm","confirm","history","push","BUILDER","name","updateDevelopingProject","catch","e","console","error","email","isNameInputDisabled","loggedIn","project","userinfo","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport { withRouter } from \"react-router-dom\";\nimport onClickOutside from \"react-onclickoutside\";\nimport { PAGETYPE } from \"../../../../Common/Util/Constant\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport * as builderAction from \"../../Store/Reducer/builder\";\nimport View from \"./View\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isDropDownOpen: false };\n  }\n\n  onClickDropDownBtn = () => {\n    const isDropDownOpen = !this.state.isDropDownOpen;\n    this.setState({ isDropDownOpen });\n  };\n  handleClickOutside = () => {\n    this.setState({ isDropDownOpen: false });\n  };\n  onBlurNameInput = input => {\n    const projectName = input.value.trim();\n    if (this.checkProjectNameValid(projectName)) {\n      input.value = projectName;\n      this.updateProjectName(this.props.pId, projectName);\n    } else {\n      input.value = this.props.projectName;\n    }\n  };\n  checkProjectNameValid(name) {\n    if (!name || name === \"\") {\n      return false;\n    }\n    return true;\n  }\n  updateProjectName(pId, name) {\n    request.updateDevelopingProject({ pId, name }).catch(e => console.error(e));\n  }\n\n  onClickMobileTest = () => {\n    window.alert(\"준비 중입니다.\");\n  };\n  onClickShare = () => {\n    window.alert(\"준비 중입니다.\");\n  };\n  onClickPublish = () => {\n    this.props.setIsPublishOn(true);\n  };\n  onClickMain = () => {\n    const didConfirm = window.confirm(\"다른 프로젝트를 보러 나갈까요?\");\n    if (didConfirm) {\n      const { history } = this.props;\n      history.push(\"/\" + PAGETYPE.BUILDER);\n    }\n  };\n\n  render() {\n    const { pId, projectName, email } = this.props;\n    const { isDropDownOpen } = this.state;\n    const isNameInputDisabled = !pId;\n    const loggedIn = !!email;\n    return (\n      <View\n        projectName={projectName}\n        isNameInputDisabled={isNameInputDisabled}\n        loggedIn={loggedIn}\n        isDropDownOpen={isDropDownOpen}\n        onClickDropDownBtn={this.onClickDropDownBtn}\n        onBlurNameInput={this.onBlurNameInput}\n        onClickMobileTest={this.onClickMobileTest}\n        onClickShare={this.onClickShare}\n        onClickPublish={this.onClickPublish}\n        onClickMain={this.onClickMain}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => {\n    const { project, userinfo } = state;\n    const { pId } = project;\n    const projectName = project.name;\n    const email = userinfo ? userinfo.email : undefined;\n    return { pId, projectName, email };\n  },\n  {\n    setIsPublishOn: builderAction.setIsPublishOn\n  }\n)(injectIntl(withRouter(onClickOutside(Container))));\n"]},"metadata":{},"sourceType":"module"}