{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Play/Component/PublishedSlider/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Slider from \"react-slick\";\nimport PublishedItem from \"../../../../Common/Component/PublishedItem/index\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport \"./index.scss\";\n\nvar PublishedSlider = /*#__PURE__*/function (_React$Component) {\n  _inherits(PublishedSlider, _React$Component);\n\n  var _super = _createSuper(PublishedSlider);\n\n  function PublishedSlider(props) {\n    var _this;\n\n    _classCallCheck(this, PublishedSlider);\n\n    _this = _super.call(this, props);\n\n    _this.beforeSliderChange = function (index) {\n      var nextIndex = index + _this.slidesToShow;\n\n      if (nextIndex >= _this.props.publishedList.length) {\n        nextIndex = 0;\n      }\n\n      var page = nextIndex / _this.slidesToShow;\n\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.state = {\n      page: 0\n    };\n    _this.sliderRef = React.createRef();\n    _this.sliderSetting = {\n      arrows: true,\n      infinite: true,\n      draggable: false,\n      speed: 500,\n      slidesToShow: 5,\n      slidesToScroll: 5,\n      beforeChange: _this.beforeSliderChange,\n      responsive: [{\n        breakpoint: 1080,\n        settings: {\n          slidesToShow: 4,\n          slidesToScroll: 4,\n          draggable: true\n        }\n      }, {\n        breakpoint: 768,\n        settings: {\n          slidesToShow: 2,\n          slidesToScroll: 2,\n          draggable: true\n        }\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(PublishedSlider, [{\n    key: \"slidesToShow\",\n    get: function get() {\n      if (this.sliderRef.current) {\n        return this.sliderRef.current.innerSlider.props.slidesToShow;\n      } else {\n        return 5;\n      }\n    }\n  }, {\n    key: \"pageBarStyle\",\n    get: function get() {\n      return {\n        width: \"\".concat(100 / this.totalPage, \"%\"),\n        left: \"\".concat(100 / this.totalPage * this.state.page, \"%\")\n      };\n    }\n  }, {\n    key: \"totalPage\",\n    get: function get() {\n      return Math.ceil(this.props.publishedList.length / this.slidesToShow);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"published-slider\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, this.props.publishedList.length > 0 && /*#__PURE__*/React.createElement(Slider, Object.assign({\n        ref: this.sliderRef\n      }, this.sliderSetting, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }), this.props.publishedList.map(function (published) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: published.pId,\n          className: \"published-slider__item\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(PublishedItem, {\n          published: published,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 19\n          }\n        }));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"published-slider__page-track\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"published-slider__page-bar\",\n        style: this.pageBarStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"published-flex-slider\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, this.props.publishedList.map(function (published) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: published.pId,\n          className: \"published-flex-slider__item\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(PublishedItem, {\n          published: published,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }\n        }));\n      })));\n    }\n  }]);\n\n  return PublishedSlider;\n}(React.Component);\n\nexport default PublishedSlider;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Play/Component/PublishedSlider/index.js"],"names":["React","Slider","PublishedItem","PublishedSlider","props","beforeSliderChange","index","nextIndex","slidesToShow","publishedList","length","page","setState","state","sliderRef","createRef","sliderSetting","arrows","infinite","draggable","speed","slidesToScroll","beforeChange","responsive","breakpoint","settings","current","innerSlider","width","totalPage","left","Math","ceil","map","published","pId","pageBarStyle","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Slider from \"react-slick\";\nimport PublishedItem from \"../../../../Common/Component/PublishedItem/index\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport \"./index.scss\";\n\nclass PublishedSlider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0\n    }\n\n    this.sliderRef = React.createRef();\n    this.sliderSetting = {\n      arrows: true,\n      infinite: true,\n      draggable: false,\n      speed: 500,\n      slidesToShow: 5,\n      slidesToScroll: 5,\n      beforeChange: this.beforeSliderChange,\n      responsive: [\n        {\n          breakpoint: 1080,\n          settings: {\n            slidesToShow: 4,\n            slidesToScroll: 4,\n            draggable: true\n          }\n        },\n        {\n          breakpoint: 768,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 2,\n            draggable: true\n          }\n        }\n      ]\n    }\n  }\n\n  beforeSliderChange = index => {\n    let nextIndex = index + this.slidesToShow;\n    if(nextIndex >= this.props.publishedList.length) {\n      nextIndex = 0;\n    }\n    const page = nextIndex / this.slidesToShow;\n    this.setState({ page });\n\n  }\n  get slidesToShow() {\n    if(this.sliderRef.current) {\n      return this.sliderRef.current.innerSlider.props.slidesToShow\n    } else {\n      return 5;\n    }\n  }\n\n  get pageBarStyle() {\n    return  {\n      width: `${100 / this.totalPage}%`,\n      left: `${100 / this.totalPage * this.state.page}%`\n    }\n  }\n  get totalPage() {\n    return Math.ceil(this.props.publishedList.length / this.slidesToShow);\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"published-slider\">\n          {this.props.publishedList.length > 0 && (\n            <Slider\n              ref={this.sliderRef}\n              {...this.sliderSetting}\n            >\n              {this.props.publishedList.map(published => (\n                <div key={published.pId} className=\"published-slider__item\">\n                  <PublishedItem published={published} />\n                </div>\n              ))}\n            </Slider>\n          )}\n          <div className=\"published-slider__page-track\">\n            <div\n              className=\"published-slider__page-bar\"\n              style={this.pageBarStyle}\n            />\n          </div>\n        </div>\n        <div className=\"published-flex-slider\">\n          {this.props.publishedList.map(published => (\n            <div key={published.pId} className=\"published-flex-slider__item\">\n              <PublishedItem published={published} />\n            </div>\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default PublishedSlider;\n"]},"metadata":{},"sourceType":"module"}