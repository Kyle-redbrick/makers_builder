{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/astroboy/src/Page/LMS/Sections/QuestionMore.js\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-right: 5px;\\n  margin-left: 8px;\\n  width: 34px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n\\n  \", \"\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 50px;\\n  border-radius: 10px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  font-size: 16px;\\n  line-height: 1.5;\\n  color: #fff;\\n  cursor: pointer;\\n\\n  &:hover {\\n    background-color: rgba(255, 255, 255, 0.05);\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 120px;\\n  padding: 10px;\\n  border-radius: 16px;\\n  /* background-color: #1c1c1c; */\\n  background-color: #000000;\\n  position: absolute;\\n  top: 44px;\\n  right: 0;\\n  display: \", \";\\n  z-index: 10;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 34px;\\n  height: 34px;\\n  border-radius: 17px;\\n  cursor: pointer;\\n\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 0;\\n\\n  /* top: 16px; */\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\nimport { deleteQna } from \"../api\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\nimport AlertPopup from \"../Components/AlertPopup\";\nvar Self = styled.div(_templateObject());\nvar More = styled.div(_templateObject2(), function (props) {\n  return props.active && \"background-color: rgba(255, 255, 255, 0.15);\";\n});\nvar MorePopup = styled.div(_templateObject3(), function (props) {\n  return props.show ? 'block' : 'none';\n});\nvar PopupItem = styled.div(_templateObject4());\nvar Icon = styled.img(_templateObject5(), function (props) {\n  return props.src && \"background-image: \".concat(props.src, \";\");\n});\nvar popupConfig = {\n  dismissButton: false,\n  dismissOverlay: true,\n  defaultPadding: false,\n  darkmode: true,\n  mobileFullscreen: true,\n  overflow: true\n};\n\nvar QuestionMore = function QuestionMore(_ref) {\n  var item = _ref.item,\n      props = _objectWithoutProperties(_ref, [\"item\"]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var history = useHistory();\n  var togglePopup = useCallback(function () {\n    setShow(!show);\n  }, [show]);\n\n  var deleteQuestion = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return deleteQna({\n                questionId: id\n              });\n\n            case 3:\n              result = _context.sent;\n              if (result.success) goBack();\n              return _context.abrupt(\"return\", result);\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function deleteQuestion(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var editQuestion = function editQuestion() {\n    history.push(\"/lms/questions/update/\".concat(item.id), item);\n  };\n\n  var goBack = useCallback(function () {\n    history.goBack();\n  }, [history]);\n  return React.createElement(Self, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(More, {\n    onClick: togglePopup,\n    active: show,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    alt: \"\\uC138\\uD305 \\uC544\\uC774\\uCF58\",\n    src: IMAGE.ICON_SETTING,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  })), React.createElement(MorePopup, {\n    show: show,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, item.userId === props.userId && React.createElement(React.Fragment, null, React.createElement(PopupItem, {\n    onClick: editQuestion,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    alt: \"\\uC218\\uC815 \\uC544\\uC774\\uCF58\",\n    src: IMAGE.ICON_EDIT,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), \"\\uC218\\uC815\"), React.createElement(PopupItem, {\n    onClick: function onClick() {\n      Popup.showPopUp(React.createElement(AlertPopup, {\n        message: \"\\uC9C8\\uBB38\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n        onSubmit: function onSubmit() {\n          return deleteQuestion(item.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), popupConfig);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    alt: \"\\uC0AD\\uC81C \\uC544\\uC774\\uCF58\",\n    src: IMAGE.ICON_TRASH,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), \"\\uC0AD\\uC81C\"))));\n};\n\nexport default connect(function (state) {\n  return {\n    userId: state.userinfo.id\n  };\n}, {})(QuestionMore);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/astroboy/src/Page/LMS/Sections/QuestionMore.js"],"names":["React","useCallback","useState","connect","useHistory","styled","deleteQna","IMAGE","Popup","AlertPopup","Self","div","More","props","active","MorePopup","show","PopupItem","Icon","img","src","popupConfig","dismissButton","dismissOverlay","defaultPadding","darkmode","mobileFullscreen","overflow","QuestionMore","item","setShow","history","togglePopup","deleteQuestion","id","questionId","result","success","goBack","console","error","editQuestion","push","ICON_SETTING","userId","ICON_EDIT","showPopUp","ICON_TRASH","state","userinfo"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\nimport { deleteQna } from \"../api\"\n\nimport { IMAGE } from \"./../Constants/Images\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\nimport AlertPopup from \"../Components/AlertPopup\";\n\nconst Self = styled.div`\n  position: absolute;\n  right: 0;\n\n  /* top: 16px; */\n`;\n\nconst More = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  border-radius: 17px;\n  cursor: pointer;\n\n  ${(props) => props.active && `background-color: rgba(255, 255, 255, 0.15);`}\n`\n\nconst MorePopup = styled.div`\n  width: 120px;\n  padding: 10px;\n  border-radius: 16px;\n  /* background-color: #1c1c1c; */\n  background-color: #000000;\n  position: absolute;\n  top: 44px;\n  right: 0;\n  display: ${(props) => props.show ? 'block' : 'none'};\n  z-index: 10;\n`\n\nconst PopupItem = styled.div`\n  width: 100%;\n  height: 50px;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #fff;\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n`\n\nconst Icon = styled.img`\n  margin-right: 5px;\n  margin-left: 8px;\n  width: 34px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  ${(props) => props.src && `background-image: ${props.src};`}\n`\n\nconst popupConfig = {\n  dismissButton: false,\n  dismissOverlay: true,\n  defaultPadding: false,\n  darkmode: true,\n  mobileFullscreen: true,\n  overflow: true,\n}\n\nconst QuestionMore = ({ item, ...props }) => {\n  const [show, setShow] = useState(false);\n  let history = useHistory();\n\n  const togglePopup = useCallback(() => {\n    setShow(!show);\n  }, [show]);\n\n  const deleteQuestion = async id => {\n    try {\n      const result = await deleteQna({ questionId: id })\n      if (result.success) goBack();\n      \n      return result; \n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  const editQuestion = () => {\n    history.push(`/lms/questions/update/${item.id}`, item);\n  }\n\n  const goBack = useCallback(\n    () => {\n      history.goBack();\n    },\n    [history]\n  );\n\n  return (\n    <Self {...props}>\n      <More onClick={togglePopup} active={show}>\n        <Icon alt=\"세팅 아이콘\" src={IMAGE.ICON_SETTING} />\n      </More>\n      <MorePopup show={show}>\n        {item.userId === props.userId && (\n          <>\n            <PopupItem onClick={editQuestion}>\n              <Icon alt=\"수정 아이콘\" src={IMAGE.ICON_EDIT} />\n              수정\n            </PopupItem>\n            <PopupItem onClick={() => {\n              Popup.showPopUp(\n                <AlertPopup\n                  message=\"질문을 삭제하시겠습니까?\"\n                  onSubmit={() => deleteQuestion(item.id)}\n                />,\n                popupConfig\n              );\n            }}>\n              <Icon alt=\"삭제 아이콘\" src={IMAGE.ICON_TRASH} />\n              삭제\n            </PopupItem>\n          </>\n        )}\n      </MorePopup>\n    </Self>\n  );\n};\n\nexport default connect(\n  state => ({\n    userId: state.userinfo.id,\n  }),\n  {}\n)(QuestionMore);"]},"metadata":{},"sourceType":"module"}