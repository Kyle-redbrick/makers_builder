{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/DreamBuilder/Mission/index.js\";\nimport React, { useCallback, useRef, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as dreamActions from \"../../../Store/Reducer/dream\";\nimport Slide from \"../../../../../Common/Component/DreamSlide\";\nimport \"./index.scss\";\n\nfunction Mission(props) {\n  var slideRef = useRef();\n  var title = props.mission && props.mission.title;\n  var slide = props.mission && props.mission.slide;\n  var number = props.missionIndex + 1;\n  var total = props.missions.length;\n  var isPrevEnabled = props.missionIndex > 0;\n  var isNextEnabled = props.missionIndex < props.missions.length - 1 && (props.mission.isCompleted || props.isConditionsClear);\n  useEffect(function () {\n    slideRef.current.scrollIntoView({\n      block: \"start\"\n    });\n  }, [props.missionIndex]);\n  var onClickPrev = useCallback(function (e) {\n    if (isPrevEnabled) {\n      props.setCurrentDreamMissionIndex(props.missionIndex - 1);\n    }\n  }, [props.missionIndex, isPrevEnabled]);\n  var onClickNext = useCallback(function (e) {\n    if (!isNextEnabled) {\n      return;\n    }\n\n    props.setCurrentDreamMissionIndex(props.missionIndex + 1);\n  }, [props.mission, props.missionIndex, isNextEnabled]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dream_mission\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dream_mission-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"menu-list-btn\",\n    onClick: props.openDreamMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dream_mission-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dream_mission-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Slide, {\n    markdown: slide,\n    shouldRerender: props.shouldSlideRerender,\n    slideRef: slideRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dream_mission-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"slide-prev-btn \".concat(isPrevEnabled ? \"on\" : \"off\"),\n    onClick: onClickPrev,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dream_mission-current\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, number, \" / \", total), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"slide-next-btn \".concat(isNextEnabled ? \"on\" : \"off\"),\n    onClick: onClickNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default connect(function (state) {\n  return {\n    missions: state.dream.missions,\n    mission: state.dream.currentMission,\n    missionIndex: state.dream.currentMissionIndex,\n    isConditionsClear: state.dream.isConditionsClear\n  };\n}, {\n  openDreamMenu: dreamActions.openDreamMenu,\n  setCurrentDreamMissionIndex: dreamActions.setCurrentDreamMissionIndex\n})(Mission);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/DreamBuilder/Mission/index.js"],"names":["React","useCallback","useRef","useEffect","connect","dreamActions","Slide","Mission","props","slideRef","title","mission","slide","number","missionIndex","total","missions","length","isPrevEnabled","isNextEnabled","isCompleted","isConditionsClear","current","scrollIntoView","block","onClickPrev","e","setCurrentDreamMissionIndex","onClickNext","openDreamMenu","shouldSlideRerender","state","dream","currentMission","currentMissionIndex"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as dreamActions from \"../../../Store/Reducer/dream\"\nimport Slide from \"../../../../../Common/Component/DreamSlide\"\nimport \"./index.scss\"\n\nfunction Mission(props) {\n  const slideRef = useRef();\n  const title = props.mission && props.mission.title;\n  const slide = props.mission && props.mission.slide;\n  const number = props.missionIndex + 1;\n  const total = props.missions.length;\n\n  const isPrevEnabled = props.missionIndex > 0;\n  const isNextEnabled = props.missionIndex < props.missions.length - 1\n    && (props.mission.isCompleted || props.isConditionsClear);\n\n  useEffect(() => {\n    slideRef.current.scrollIntoView({block: \"start\"})\n  }, [props.missionIndex])\n\n  const onClickPrev = useCallback(\n    e => {\n      if(isPrevEnabled) {\n        props.setCurrentDreamMissionIndex(props.missionIndex - 1);\n      }\n    },\n    [props.missionIndex, isPrevEnabled]\n  )\n  const onClickNext = useCallback(\n    e => {\n      if(!isNextEnabled) {\n        return;\n      }\n      props.setCurrentDreamMissionIndex(props.missionIndex + 1);\n    },\n    [props.mission, props.missionIndex, isNextEnabled]\n  )\n\n  return (\n    <div className=\"dream_mission\">\n      <div className=\"dream_mission-header\">\n        <button className=\"menu-list-btn\" onClick={props.openDreamMenu} />\n        <p className=\"dream_mission-title\">{title}</p>\n      </div>\n      <div className=\"dream_mission-body\">\n        <Slide markdown={slide} shouldRerender={props.shouldSlideRerender} slideRef={slideRef}/>\n      </div>\n      <div className=\"dream_mission-footer\">\n        <button \n          className={`slide-prev-btn ${isPrevEnabled ? \"on\" : \"off\"}`}\n          onClick={onClickPrev}\n        >\n          <span className=\"icon\"/>\n        </button>\n        <span className=\"dream_mission-current\">\n          {number} / {total}\n        </span>\n        <button \n          className={`slide-next-btn ${isNextEnabled ? \"on\" : \"off\"}`}\n          onClick={onClickNext}\n        >\n          <span className=\"icon\"/>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(\n  state => ({\n    missions: state.dream.missions,\n    mission: state.dream.currentMission,\n    missionIndex: state.dream.currentMissionIndex,\n    isConditionsClear: state.dream.isConditionsClear\n  }),\n  {\n    openDreamMenu: dreamActions.openDreamMenu,\n    setCurrentDreamMissionIndex: dreamActions.setCurrentDreamMissionIndex\n  }\n)(Mission);\n"]},"metadata":{},"sourceType":"module"}