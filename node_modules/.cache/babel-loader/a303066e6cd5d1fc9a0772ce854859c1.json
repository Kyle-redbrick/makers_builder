{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder3D/Component/SoundBox/View.js\";\nimport React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport closeImg from \"../../../../Image/builder3d/close-popup-icon.svg\";\nimport playImg from \"../../../../Image/builder3d/icon-28-sound-box-play.svg\";\nimport pauseImg from \"../../../../Image/builder3d/icon-28-sound-box-pause.svg\";\nimport trashImg from \"../../../../Image/builder3d/delete-sound.svg\";\nimport addImg from \"../../../../Image/builder3d/add-sound-asset.svg\";\nimport \"./index.scss\";\n\nfunction getLocalName(item) {\n  var lang = localStorage.getItem(\"wizLang\");\n  var title;\n\n  try {\n    title = JSON.parse(item.localeName)[lang] || JSON.parse(item.localeName)[\"default\"] || item.name;\n  } catch (err) {\n    title = item.name;\n  }\n\n  return title;\n}\n\nexport default function (props) {\n  var containerRef = props.containerRef,\n      assetLibrary = props.assetLibrary,\n      currentCategory = props.currentCategory,\n      currentSubCategory = props.currentSubCategory,\n      setCurrentCategories = props.setCurrentCategories,\n      assets = props.assets,\n      handleSelectAsset = props.handleSelectAsset,\n      handleAddAsset = props.handleAddAsset,\n      handleRemoveAsset = props.handleRemoveAsset,\n      soundIds = props.soundIds,\n      categories = props.categories,\n      jukebox = props.jukebox,\n      onClickClose = props.onClickClose;\n  return React.createElement(\"div\", {\n    className: \"SoundBoxContainer rndResizeHandler\",\n    ref: containerRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"SoundBoxTitleLine rndDragHandler handle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"SoundBoxTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"ID_SOUNDBOX_TITLE\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"SoundBoxClose\",\n    onClick: onClickClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: closeImg,\n    alt: \"close btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"SoundBoxContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"SoundBoxContentLeft\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, categories.map(function (category, index) {\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"SoundBoxCategoryItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"SoundBoxCategoryItemName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, getLocalName(category)), React.createElement(\"div\", {\n      className: \"SoundBoxSubCategories\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, category.subCategories.map(function (subCategory, index) {\n      return React.createElement(\"div\", {\n        key: index,\n        className: \"SoundBoxSubCategoryItem \".concat(subCategory.name === currentSubCategory && \"SoundBoxSubCategoryItemActive\"),\n        onClick: function onClick() {\n          if (subCategory.name !== \"ALL\") {\n            setCurrentCategories(category.name, subCategory.name);\n          } else {\n            setCurrentCategories(category.name, currentCategory);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SoundBoxSubCategoryItemName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, getLocalName(subCategory)));\n    })));\n  })), React.createElement(\"div\", {\n    className: \"SoundBoxContentRight\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"SoundBoxAssets\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, assets.filter(function (c) {\n    return c.type === \"sound\";\n  }).map(function (_asset, index) {\n    var assetId = _asset.assetId;\n    var asset = assetLibrary.getSoundAsset(assetId);\n    var isExist = soundIds && soundIds.includes(assetId);\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"SoundBoxAsset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"SoundBoxAssetImage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, jukebox.id === _asset.assetId ? React.createElement(\"img\", {\n      src: pauseImg,\n      alt: \"play\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: playImg,\n      alt: \"play\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"SoundBoxAssetName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, asset.defaultName), React.createElement(\"div\", {\n      className: \"SoundBoxAssetSelect\",\n      onClick: function onClick() {\n        handleSelectAsset(assetId);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), !isExist && React.createElement(\"div\", {\n      className: \"SoundBoxAssetAdd\",\n      onClick: function onClick() {\n        handleAddAsset(asset);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: addImg,\n      alt: \"add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), isExist && React.createElement(\"div\", {\n      className: \"SoundBoxAssetRemove\",\n      onClick: function onClick() {\n        handleRemoveAsset(assetId);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: trashImg,\n      alt: \"remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })));\n  })))));\n}","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder3D/Component/SoundBox/View.js"],"names":["React","FormattedMessage","getLocalName","item","lang","localStorage","getItem","title","JSON","parse","localeName","name","err","props","containerRef","assetLibrary","currentCategory","currentSubCategory","setCurrentCategories","assets","handleSelectAsset","handleAddAsset","handleRemoveAsset","soundIds","categories","jukebox","onClickClose","closeImg","map","category","index","subCategories","subCategory","filter","c","type","_asset","assetId","asset","getSoundAsset","isExist","includes","id","pauseImg","playImg","defaultName","addImg","trashImg"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport closeImg from \"../../../../Image/builder3d/close-popup-icon.svg\";\nimport playImg from \"../../../../Image/builder3d/icon-28-sound-box-play.svg\";\nimport pauseImg from \"../../../../Image/builder3d/icon-28-sound-box-pause.svg\";\nimport trashImg from \"../../../../Image/builder3d/delete-sound.svg\";\nimport addImg from \"../../../../Image/builder3d/add-sound-asset.svg\";\nimport \"./index.scss\";\n\nfunction getLocalName(item) {\n  const lang = localStorage.getItem(\"wizLang\");\n  let title;\n  try {\n    title =\n      JSON.parse(item.localeName)[lang] ||\n      JSON.parse(item.localeName)[\"default\"] ||\n      item.name;\n  } catch (err) {\n    title = item.name;\n  }\n  return title;\n}\n\nexport default function(props) {\n  const {\n    containerRef,\n    assetLibrary,\n    currentCategory,\n    currentSubCategory,\n    setCurrentCategories,\n    assets,\n    handleSelectAsset,\n    handleAddAsset,\n    handleRemoveAsset,\n    soundIds,\n    categories,\n    jukebox,\n    onClickClose\n  } = props;\n\n  return (\n    <div className=\"SoundBoxContainer rndResizeHandler\" ref={containerRef}>\n      <div className=\"SoundBoxTitleLine rndDragHandler handle\">\n        <div className=\"SoundBoxTitle\">\n          <FormattedMessage id=\"ID_SOUNDBOX_TITLE\" />\n        </div>\n        <div className=\"SoundBoxClose\" onClick={onClickClose}>\n          <img src={closeImg} alt=\"close btn\" />\n        </div>\n      </div>\n      <div className=\"SoundBoxContent\">\n        <div className=\"SoundBoxContentLeft\">\n          {categories.map((category, index) => {\n            return (\n              <div key={index} className=\"SoundBoxCategoryItem\">\n                <div className=\"SoundBoxCategoryItemName\">\n                  {getLocalName(category)}\n                </div>\n                <div className=\"SoundBoxSubCategories\">\n                  {category.subCategories.map((subCategory, index) => {\n                    return (\n                      <div\n                        key={index}\n                        className={`SoundBoxSubCategoryItem ${subCategory.name ===\n                          currentSubCategory &&\n                          \"SoundBoxSubCategoryItemActive\"}`}\n                        onClick={() => {\n                          if (subCategory.name !== \"ALL\") {\n                            setCurrentCategories(\n                              category.name,\n                              subCategory.name\n                            );\n                          } else {\n                            setCurrentCategories(\n                              category.name,\n                              currentCategory\n                            );\n                          }\n                        }}\n                      >\n                        <div className=\"SoundBoxSubCategoryItemName\">\n                          {getLocalName(subCategory)}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"SoundBoxContentRight\">\n          <div className=\"SoundBoxAssets\">\n            {assets\n              .filter(c => c.type === \"sound\")\n              .map((_asset, index) => {\n                const assetId = _asset.assetId;\n                const asset = assetLibrary.getSoundAsset(assetId);\n                const isExist = soundIds && soundIds.includes(assetId);\n                return (\n                  <div key={index} className=\"SoundBoxAsset\">\n                    <div className=\"SoundBoxAssetImage\">\n                      {jukebox.id === _asset.assetId ? (\n                        <img src={pauseImg} alt=\"play\" />\n                      ) : (\n                        <img src={playImg} alt=\"play\" />\n                      )}\n                    </div>\n                    <div className=\"SoundBoxAssetName\">{asset.defaultName}</div>\n\n                    {/* select */}\n                    <div\n                      className=\"SoundBoxAssetSelect\"\n                      onClick={() => {\n                        handleSelectAsset(assetId);\n                      }}\n                    />\n\n                    {/* add */}\n                    {!isExist && (\n                      <div\n                        className=\"SoundBoxAssetAdd\"\n                        onClick={() => {\n                          handleAddAsset(asset);\n                        }}\n                      >\n                        <img src={addImg} alt=\"add\" />\n                      </div>\n                    )}\n\n                    {/* remove */}\n                    {isExist && (\n                      <div\n                        className=\"SoundBoxAssetRemove\"\n                        onClick={() => {\n                          handleRemoveAsset(assetId);\n                        }}\n                      >\n                        <img src={trashImg} alt=\"remove\" />\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}