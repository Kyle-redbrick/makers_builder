{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/Notification/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport NotificationSocket from \"../../Util/NotificationSocket\";\nimport \"./index.scss\";\nimport checkIcon from \"../../../Image/builder/icon-check-notification.svg\";\n\nvar Notification = /*#__PURE__*/function (_Component) {\n  _inherits(Notification, _Component);\n\n  var _super = _createSuper(Notification);\n\n  function Notification(props) {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    _this = _super.call(this, props);\n\n    _this.onReceiveNoti = function (noti) {\n      if (noti.type === \"apk\") {\n        _this.onReceiveApkNoti(noti);\n      }\n    };\n\n    _this.onReceiveApkNoti = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(noti) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.setNotiToState(noti);\n\n              case 2:\n                _context.next = 4;\n                return _this.setTimeoutWithSeconds(0.4);\n\n              case 4:\n                _context.next = 6;\n                return _this.setAnimationToState(true);\n\n              case 6:\n                _context.next = 8;\n                return _this.setTimeoutWithSeconds(3);\n\n              case 8:\n                _context.next = 10;\n                return _this.setAnimationToState(false);\n\n              case 10:\n                _context.next = 12;\n                return _this.setTimeoutWithSeconds(0.4);\n\n              case 12:\n                _context.next = 14;\n                return _this.setNotiToState(null);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.setNotiToState = function (noti) {\n      return new Promise(function (resolve) {\n        return _this.setState({\n          noti: noti\n        }, resolve);\n      });\n    };\n\n    _this.setAnimationToState = function (isOn) {\n      return new Promise(function (resolve) {\n        return _this.setState({\n          animationOn: isOn\n        }, resolve);\n      });\n    };\n\n    _this.setTimeoutWithSeconds = function (second) {\n      return new Promise(function (resolve) {\n        return setTimeout(resolve, second * 1000);\n      });\n    };\n\n    _this.state = {\n      noti: null,\n      animationOn: false\n    };\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      NotificationSocket.subscribe(this.onReceiveNoti);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      NotificationSocket.unsubscribe(this.onReceiveNoti);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          noti = _this$state.noti,\n          animationOn = _this$state.animationOn;\n      var notiElement;\n\n      if (noti) {\n        if (noti.type === \"apk\") {\n          notiElement = /*#__PURE__*/React.createElement(APKNoti, {\n            apk: noti.apk,\n            animationOn: animationOn,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 23\n            }\n          });\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"noti_container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 12\n        }\n      }, notiElement);\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nfunction APKNoti(props) {\n  var apk = props.apk,\n      animationOn = props.animationOn;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"noti noti-apk\".concat(animationOn ? \" noti-show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: checkIcon,\n    alt: \"check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"noti_message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"\\\"\".concat(apk.appName, \"\\\" AAB \\uC81C\\uC791\\uC774 \\uC644\\uB8CC \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\\n\\uB098\\uC758 AAB\\uC5D0\\uC11C \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694.\")));\n}\n\nexport default Notification;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/Notification/index.js"],"names":["React","Component","NotificationSocket","Notification","props","onReceiveNoti","noti","type","onReceiveApkNoti","setNotiToState","setTimeoutWithSeconds","setAnimationToState","Promise","resolve","setState","isOn","animationOn","second","setTimeout","state","subscribe","unsubscribe","notiElement","apk","APKNoti","checkIcon","appName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport NotificationSocket from \"../../Util/NotificationSocket\";\nimport \"./index.scss\";\n\nimport checkIcon from \"../../../Image/builder/icon-check-notification.svg\";\n\nclass Notification extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { noti: null, animationOn: false };\n  }\n  componentDidMount() {\n    NotificationSocket.subscribe(this.onReceiveNoti);\n  }\n  componentWillUnmount() {\n    NotificationSocket.unsubscribe(this.onReceiveNoti);\n  }\n\n  onReceiveNoti = noti => {\n    if (noti.type === \"apk\") {\n      this.onReceiveApkNoti(noti);\n    }\n  };\n\n  onReceiveApkNoti = async noti => {\n    await this.setNotiToState(noti);\n    await this.setTimeoutWithSeconds(0.4);\n    await this.setAnimationToState(true);\n    await this.setTimeoutWithSeconds(3);\n    await this.setAnimationToState(false);\n    await this.setTimeoutWithSeconds(0.4);\n    await this.setNotiToState(null);\n  };\n\n  setNotiToState = noti => {\n    return new Promise(resolve => this.setState({ noti }, resolve));\n  };\n\n  setAnimationToState = isOn => {\n    return new Promise(resolve =>\n      this.setState(\n        {\n          animationOn: isOn\n        },\n        resolve\n      )\n    );\n  };\n\n  setTimeoutWithSeconds = second => {\n    return new Promise(resolve => setTimeout(resolve, second * 1000));\n  };\n\n  render() {\n    const { noti, animationOn } = this.state;\n\n    let notiElement;\n    if (noti) {\n      if (noti.type === \"apk\") {\n        notiElement = <APKNoti apk={noti.apk} animationOn={animationOn} />;\n      }\n    }\n\n    return <div className=\"noti_container\">{notiElement}</div>;\n  }\n}\n\nfunction APKNoti(props) {\n  const { apk, animationOn } = props;\n  return (\n    <div className={`noti noti-apk${animationOn ? \" noti-show\" : \"\"}`}>\n      <img src={checkIcon} alt=\"check\" />\n      <div className=\"noti_message\">\n        {`\"${apk.appName}\" AAB 제작이 완료 되었습니다.\\n나의 AAB에서 확인해주세요.`}\n      </div>\n    </div>\n  );\n}\n\nexport default Notification;\n"]},"metadata":{},"sourceType":"module"}