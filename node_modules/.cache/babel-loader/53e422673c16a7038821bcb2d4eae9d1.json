{"ast":null,"code":"import _slicedToArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _this = this,\n    _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/CourseDetail/Components/GamePopup.js\";\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\nimport IMAGE from \"./../Constants/Images\";\nvar Self = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: \", \"vw;\\n  padding-top: \", \"%;\\n\\n  @media screen and (max-width: 1169px) { \\n    width: \", \"vw;\\n  }\\n\"])), function (props) {\n  return props.isHidden ? 0 : props.isHorizontal ? 1051 / 1334 * 100 : 334 / 1334 * 100;\n}, function (props) {\n  return props.isHorizontal ? 720 / 1280 * 100 : 1280 / 720 * 100;\n}, function (props) {\n  return props.isHidden ? 0 : 100;\n});\nvar CloseButton = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  width: 36px;\\n  height: 36px;\\n  border-radius: 18px;\\n  -webkit-backdrop-filter: blur(30px);\\n  backdrop-filter: blur(30px);\\n  background-color: rgba(237, 237, 237, 0.8);\\n  position: absolute;\\n  top: 0;\\n  right: -47px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  opacity: \", \";\\n\\n  @media screen and (max-width: 1169px) { \\n    top: 10px;\\n    right: 10px;\\n    z-index: 1;\\n  }\\n\"])), function (props) {\n  return props.isHidden ? 0 : 1;\n});\nvar CloseButtonIcon = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  width: 22px;\\n  height: 22px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: url(\", \");\\n\"])), IMAGE.ICON_CLOSE);\nvar Content = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 16px;\\n  overflow: hidden;\\n  background-color: #1c1c1c;\\n\\n  @media screen and (max-width: 1169px) { \\n    border-radius: 0;\\n  }\\n\"])));\nvar Iframe = styled.iframe(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  border: none;\\n\"])));\n\nvar GamePopup = function GamePopup(_ref) {\n  var url = _ref.url;\n  var closePopup = useCallback(function () {\n    Popup.hidePopUp();\n  }, [Popup.hidePopUp]);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      screenMode = _useState2[0],\n      setScreenMode = _useState2[1];\n\n  var onWindowMessage = useCallback(function (e) {\n    if (e.data.type === \"screenMode\") {\n      var _screenMode = e.data.payload.screenMode;\n      setScreenMode(_screenMode);\n    }\n  }, []);\n  useEffect(function () {\n    window.addEventListener(\"message\", onWindowMessage);\n    return function () {\n      window.removeEventListener(\"message\", onWindowMessage);\n    };\n  }, [onWindowMessage]);\n  return /*#__PURE__*/React.createElement(Self, {\n    isHorizontal: screenMode === \"HORIZONTAL\",\n    isHidden: !screenMode,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CloseButton, {\n    onClick: closePopup,\n    isHidden: !screenMode,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CloseButtonIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Iframe, {\n    src: url,\n    width: \"100%\",\n    height: \"100%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default GamePopup;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/CourseDetail/Components/GamePopup.js"],"names":["React","useCallback","useEffect","useState","styled","Popup","IMAGE","Self","div","props","isHidden","isHorizontal","CloseButton","CloseButtonIcon","ICON_CLOSE","Content","Iframe","iframe","GamePopup","url","closePopup","hidePopUp","screenMode","setScreenMode","onWindowMessage","e","data","type","payload","window","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\n\nimport IMAGE from \"./../Constants/Images\";\n\nconst Self = styled.div`\n  position: relative;\n  width: ${props => props.isHidden ? 0 : props.isHorizontal ? (1051 / 1334 * 100) : (334 / 1334 * 100)}vw;\n  padding-top: ${props => props.isHorizontal\n    ? 720 / 1280 * 100\n    : 1280 / 720 * 100\n  }%;\n\n  @media screen and (max-width: 1169px) { \n    width: ${props => props.isHidden ? 0 : 100}vw;\n  }\n`;\n\nconst CloseButton = styled.div`\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  -webkit-backdrop-filter: blur(30px);\n  backdrop-filter: blur(30px);\n  background-color: rgba(237, 237, 237, 0.8);\n  position: absolute;\n  top: 0;\n  right: -47px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: ${props => props.isHidden ? 0 : 1};\n\n  @media screen and (max-width: 1169px) { \n    top: 10px;\n    right: 10px;\n    z-index: 1;\n  }\n`\nconst CloseButtonIcon = styled.div`\n  width: 22px;\n  height: 22px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${IMAGE.ICON_CLOSE});\n`\n\nconst Content = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  overflow: hidden;\n  background-color: #1c1c1c;\n\n  @media screen and (max-width: 1169px) { \n    border-radius: 0;\n  }\n`\n\nconst Iframe = styled.iframe`\n  border: none;\n`\n\nconst GamePopup = ({ url }) => {\n  const closePopup = useCallback(\n    () => {\n      Popup.hidePopUp();\n    },\n    [Popup.hidePopUp]\n  );\n\n  const [screenMode, setScreenMode] = useState(null);\n\n  const onWindowMessage = useCallback(e => {\n    if(e.data.type === \"screenMode\") {\n      const { screenMode } = e.data.payload;\n      setScreenMode(screenMode);\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"message\", onWindowMessage);\n    return () => {\n      window.removeEventListener(\"message\", onWindowMessage);\n    }\n  }, [onWindowMessage])\n\n  return (\n    <Self isHorizontal={screenMode === \"HORIZONTAL\"} isHidden={!screenMode}>\n      <CloseButton onClick={closePopup} isHidden={!screenMode}>\n        <CloseButtonIcon />\n      </CloseButton>\n      <Content>\n        <Iframe src={url} width=\"100%\" height=\"100%\" />\n      </Content>      \n    </Self>\n  );\n};\n\nexport default GamePopup;\n"]},"metadata":{},"sourceType":"module"}