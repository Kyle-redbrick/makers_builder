{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/astroboy/src/Page/LMS/Sections/QuestionById.js\";\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-right: 20px;\\n  max-width: 186px;\\n  max-height: 124px;\\n  border-radius: 10px;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: row;\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 20px;\\n  border-radius: 16px;\\n  background-color: #1c1c1c;\\n  font-size: 16px;\\n  line-height: 1.56;\\n  color: #fff;\\n  white-space: pre-wrap;\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 16px;\\n  line-height: 1.38;\\n  text-align: right;\\n  color: rgba(255, 255, 255, 0.5);\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 18px;\\n  font-weight: bold;\\n  line-height: 1.78;\\n  color: #fff;\\n  display: flex;\\n  align-items: center;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 15px;\\n  margin-right: 3px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-right: 10px;\\n  width: 58px;\\n  height: 26px;\\n  border-radius: 13px;\\n  font-size: 13px;\\n  font-weight: bold;\\n  line-height: 1.69;\\n  color: #fff;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  \", \"\\n  \", \"\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 34px;\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-bottom: 5px;\\n  position: relative;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 5px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  border-top: solid 1px rgba(255, 255, 255, 0.2);\\n  padding-top: 19.5px;\\n  padding-bottom: 39.5px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 32px;\\n  height: 32px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: url(\", \");\\n  position: absolute;\\n  left: 0;\\n  bottom: 19.5px;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 79.5px;\\n  position: relative;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding-bottom: 100px;\\n\\n  @media screen and (max-width: 1169px){\\n    padding-bottom: 50px;\\n    width: 88.33vw;\\n    margin: 0 auto;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\"; // import moment from \"moment\";\n\nimport styled from \"@emotion/styled\";\nimport { getQnaById } from \"../api\";\nimport { Question } from \"../../../models\";\nimport { COLOR } from \"./../Constants\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\nimport ImagePopup from \"../Components/ImagePopup\";\nimport QuestionMore from './QuestionMore';\nimport Comments from '../Components/Comments';\nvar Self = styled.div(_templateObject());\nvar Title = styled.h2(_templateObject2());\nvar PageBack = styled.div(_templateObject3(), IMAGE.ICON_BACK);\nvar Section = styled.div(_templateObject4());\nvar SectionTitleWrap = styled.div(_templateObject5());\nvar SectionSubTitleWrap = styled.div(_templateObject6()); // const SettingIcon = styled.img`\n//   width: 34px;\n//   height: 34px;\n//   background-size: contain;\n//   background-repeat: no-repeat;\n//   background-position: center;\n//   background-image: url(${IMAGE.ICON_SETTING});\n//   cursor: pointer;\n// `\n\nvar Tag = styled.div(_templateObject7(), function (props) {\n  return props.question && \"\\n    background-color: #5b5b5b;\\n  \";\n}, function (props) {\n  return props.answer && \"\\n    background-color: \".concat(COLOR.MINT, \";\\n  \");\n});\nvar TagIcon = styled.img(_templateObject8());\nvar SectionTitle = styled.div(_templateObject9());\nvar Date = styled.div(_templateObject10());\nvar SectionDesc = styled.div(_templateObject11());\nvar SectionText = styled.p(_templateObject12());\nvar SectionImages = styled.div(_templateObject13());\nvar SectionImage = styled.img(_templateObject14());\nvar popupConfig = {\n  dismissButton: false,\n  dismissOverlay: true,\n  defaultPadding: false,\n  darkmode: true,\n  mobileFullscreen: true,\n  overflow: true\n};\n\nvar QnaById = function QnaById(props) {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var history = useHistory();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      qna = _useState2[0],\n      setQna = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      images = _useState4[0],\n      setImages = _useState4[1];\n\n  var init = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _qna, _images;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getQnaById({\n                id: id\n              });\n\n            case 2:\n              _qna = _context.sent;\n              setQna(new Question(_qna));\n\n              if (_qna.imageJSON) {\n                try {\n                  _images = JSON.parse(_qna.imageJSON);\n                  setImages(_images);\n                } catch (err) {\n                  setImages([]);\n                  console.error(err);\n                }\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function init() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    init();\n  }, []);\n  var goBack = useCallback(function () {\n    history.goBack();\n  }, [history]); // const fetchComments = useCallback(\n  //   () => {\n  //     getComments({ lectureId: courseId }).then((comments) => {\n  //       setComments(comments.rows.map((c) => new Comment(c)));\n  //     });\n  //   },\n  //   [getComments]\n  // );\n  // const onAfterCommentSubmit = useCallback(() => {\n  //   fetchComments();\n  // }, []);\n\n  return React.createElement(Self, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }), React.createElement(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, React.createElement(PageBack, {\n    onClick: goBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  })), React.createElement(Section, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(SectionTitleWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(SectionTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, qna.title), React.createElement(Date, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, qna.createdAt && qna.formattedCreatedAt())), React.createElement(SectionSubTitleWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(QuestionMore, {\n    item: qna,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  })), React.createElement(SectionDesc, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(SectionText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, qna.content), React.createElement(SectionImages, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, images.map(function (image) {\n    return React.createElement(SectionImage, {\n      key: image.url,\n      src: image.url.toDreamclassS3URL(),\n      alt: image.url,\n      onClick: function onClick() {\n        Popup.showPopUp(React.createElement(ImagePopup, {\n          value: image.url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }), popupConfig);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    });\n  })))), qna.reply && React.createElement(Section, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(SectionTitleWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(SectionTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, React.createElement(Tag, {\n    answer: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, React.createElement(TagIcon, {\n    alt: \"\\uB2F5\\uBCC0 \\uC544\\uC774\\uCF58\",\n    src: IMAGE.ICON_ANSWER,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), \"\\uB2F5\\uBCC0\"), qna.reply.title), React.createElement(Date, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }, qna.reply.formattedCreatedAt())), React.createElement(SectionDesc, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, qna.reply.content)), React.createElement(Comments, {\n    questionId: id,\n    items: [],\n    onAfterSubmit: function onAfterSubmit() {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }));\n};\n\nexport default QnaById;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/astroboy/src/Page/LMS/Sections/QuestionById.js"],"names":["React","useCallback","useEffect","useState","useHistory","useParams","styled","getQnaById","Question","COLOR","IMAGE","Popup","ImagePopup","QuestionMore","Comments","Self","div","Title","h2","PageBack","ICON_BACK","Section","SectionTitleWrap","SectionSubTitleWrap","Tag","props","question","answer","MINT","TagIcon","img","SectionTitle","Date","SectionDesc","SectionText","p","SectionImages","SectionImage","popupConfig","dismissButton","dismissOverlay","defaultPadding","darkmode","mobileFullscreen","overflow","QnaById","id","history","qna","setQna","images","setImages","init","_qna","imageJSON","JSON","parse","err","console","error","goBack","title","createdAt","formattedCreatedAt","content","map","image","url","toDreamclassS3URL","showPopUp","reply","ICON_ANSWER"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n// import moment from \"moment\";\nimport styled from \"@emotion/styled\";\nimport { getQnaById } from \"../api\";\nimport { Question } from \"../../../models\";\n\nimport { COLOR } from \"./../Constants\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport * as Popup from \"../../../Common/Component/PopUp\"\nimport ImagePopup from \"../Components/ImagePopup\";\nimport QuestionMore from './QuestionMore'\nimport Comments from '../Components/Comments'\n\nconst Self = styled.div`\n  flex: 1;\n  padding-bottom: 100px;\n\n  @media screen and (max-width: 1169px){\n    padding-bottom: 50px;\n    width: 88.33vw;\n    margin: 0 auto;\n  }\n`;\n\nconst Title = styled.h2`\n  height: 79.5px;\n  position: relative;\n`;\n\nconst PageBack = styled.div`\n  width: 32px;\n  height: 32px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${IMAGE.ICON_BACK});\n  position: absolute;\n  left: 0;\n  bottom: 19.5px;\n  cursor: pointer;\n`;\n\nconst Section = styled.div`\n  border-top: solid 1px rgba(255, 255, 255, 0.2);\n  padding-top: 19.5px;\n  padding-bottom: 39.5px;\n`;\n\nconst SectionTitleWrap = styled.div`\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst SectionSubTitleWrap = styled.div`\n  width: 100%;\n  height: 34px;\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 5px;\n  position: relative;\n`\n\n// const SettingIcon = styled.img`\n//   width: 34px;\n//   height: 34px;\n//   background-size: contain;\n//   background-repeat: no-repeat;\n//   background-position: center;\n//   background-image: url(${IMAGE.ICON_SETTING});\n//   cursor: pointer;\n// `\n\nconst Tag = styled.div`\n  margin-right: 10px;\n  width: 58px;\n  height: 26px;\n  border-radius: 13px;\n  font-size: 13px;\n  font-weight: bold;\n  line-height: 1.69;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ${(props) =>\n    props.question &&\n    `\n    background-color: #5b5b5b;\n  `}\n  ${(props) =>\n    props.answer &&\n    `\n    background-color: ${COLOR.MINT};\n  `}\n`;\n\nconst TagIcon = styled.img`\n  width: 15px;\n  margin-right: 3px;\n`;\n\nconst SectionTitle = styled.div`\n  font-size: 18px;\n  font-weight: bold;\n  line-height: 1.78;\n  color: #fff;\n  display: flex;\n  align-items: center;\n`;\n\nconst Date = styled.div`\n  font-size: 16px;\n  line-height: 1.38;\n  text-align: right;\n  color: rgba(255, 255, 255, 0.5);\n`;\n\nconst SectionDesc = styled.div`\n  padding: 20px;\n  border-radius: 16px;\n  background-color: #1c1c1c;\n  font-size: 16px;\n  line-height: 1.56;\n  color: #fff;\n  white-space: pre-wrap;\n`;\n\nconst SectionText = styled.p`\n  margin-bottom: 20px;\n`\n\nconst SectionImages = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n`\n\nconst SectionImage = styled.img`\n  margin-right: 20px;\n  max-width: 186px;\n  max-height: 124px;\n  border-radius: 10px;\n  cursor: pointer;\n`\n\nconst popupConfig = {\n  dismissButton: false,\n  dismissOverlay: true,\n  defaultPadding: false,\n  darkmode: true,\n  mobileFullscreen: true,\n  overflow: true,\n}\n\nconst QnaById = (props) => {\n  let { id } = useParams();\n  let history = useHistory();\n\n  const [qna, setQna] = useState({});\n  const [images, setImages] = useState([]);\n\n  const init = async () => {\n    const _qna = await getQnaById({ id });\n    setQna(new Question(_qna));\n\n    if (_qna.imageJSON) {\n      try {\n        let images = JSON.parse(_qna.imageJSON)\n        setImages(images)\n      } catch (err) {\n        setImages([])\n        console.error(err)\n      }\n    }\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const goBack = useCallback(\n    () => {\n      history.goBack();\n    },\n    [history]\n  );\n\n\n  // const fetchComments = useCallback(\n  //   () => {\n  //     getComments({ lectureId: courseId }).then((comments) => {\n  //       setComments(comments.rows.map((c) => new Comment(c)));\n  //     });\n  //   },\n  //   [getComments]\n  // );\n\n  // const onAfterCommentSubmit = useCallback(() => {\n  //   fetchComments();\n  // }, []);\n\n  return (\n    <Self {...props}>\n      <Title>\n        <PageBack onClick={goBack} />\n      </Title>\n      <Section>\n        <SectionTitleWrap>\n          <SectionTitle>\n            {qna.title}\n          </SectionTitle>\n          <Date>{qna.createdAt && qna.formattedCreatedAt()}</Date>\n        </SectionTitleWrap>\n        <SectionSubTitleWrap>\n          <QuestionMore item={qna} />\n        </SectionSubTitleWrap>\n        <SectionDesc>\n          <SectionText>{qna.content}</SectionText>\n          <SectionImages>\n            {images.map(image => (\n              <SectionImage\n                key={image.url}\n                src={image.url.toDreamclassS3URL()}\n                alt={image.url}\n                onClick={() => {\n                  Popup.showPopUp(<ImagePopup value={image.url} />, popupConfig);\n                }}\n              />\n            ))}\n          </SectionImages>\n        </SectionDesc>\n      </Section>\n      {qna.reply && (\n        <Section>\n          <SectionTitleWrap>\n            <SectionTitle>\n              <Tag answer>\n                <TagIcon alt=\"답변 아이콘\" src={IMAGE.ICON_ANSWER} />\n                답변\n              </Tag>\n              {qna.reply.title}\n            </SectionTitle>\n            <Date>{qna.reply.formattedCreatedAt()}</Date>\n          </SectionTitleWrap>\n          {/* <SettingIcon /> */}\n          <SectionDesc>{qna.reply.content}</SectionDesc>\n        </Section>\n      )}\n        <Comments questionId={id} items={[]} onAfterSubmit={() => {}} />\n    </Self>\n  );\n};\n\nexport default QnaById;\n"]},"metadata":{},"sourceType":"module"}