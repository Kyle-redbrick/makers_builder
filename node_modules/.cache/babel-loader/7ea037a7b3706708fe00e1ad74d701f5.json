{"ast":null,"code":"/**\n * AgoraWebSDK_N-v4.7.3-0-g0eb931c7 Copyright AgoraInc.\n */\n\n/*\n @license\n UAParser.js v0.7.28\n Lightweight JavaScript-based User-Agent string parser\n https://github.com/faisalman/ua-parser-js\n\n Copyright ? 2012-2021 Faisal Salman <f@faisalman.com>\n Licensed under MIT License\n *****************************************************************************\n Copyright (c) Microsoft Corporation. All rights reserved.\n Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n this file except in compliance with the License. You may obtain a copy of the\n License at http://www.apache.org/licenses/LICENSE-2.0\n\n THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n MERCHANTABLITY OR NON-INFRINGEMENT.\n\n See the Apache Version 2.0 License for specific language governing permissions\n and limitations under the License.\n*****************************************************************************/\n'use strict';\n\nvar _get = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get\");\n\nvar _assertThisInitialized = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _toConsumableArray = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _possibleConstructorReturn = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _classCallCheck = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _slicedToArray = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _regeneratorRuntime = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _defineProperty = require(\"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\n\n!function (ub, hc) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = hc() : \"function\" == typeof define && define.amd ? define(hc) : (ub = \"undefined\" != typeof globalThis ? globalThis : ub || self).AgoraRTC = hc();\n}(this, function () {\n  var _hd$ACCESS_POINT, _hd$UNILBS, _hd$STRING_UID_ALLOCA, _no, _oo;\n\n  function ub(d, g, a) {\n    return d(a = {\n      path: g,\n      exports: {},\n      require: function require(a, c) {\n        throw Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\");\n      }\n    }, a.exports), a.exports;\n  }\n\n  function hc(d, g, a) {\n    return (d = d.match(g)) && d.length >= a && wa(d[a], 10);\n  }\n\n  function Zc(d, g, a) {\n    if (d.RTCPeerConnection) {\n      d = d.RTCPeerConnection.prototype;\n      var b = d.addEventListener;\n\n      d.addEventListener = function (c, d) {\n        if (c !== g) return b.apply(this, arguments);\n\n        var e = function e(b) {\n          (b = a(b)) && d(b);\n        };\n\n        return this._eventMap = this._eventMap || {}, this._eventMap[d] = e, b.apply(this, [c, e]);\n      };\n\n      var c = d.removeEventListener;\n\n      d.removeEventListener = function (a, b) {\n        if (a !== g || !this._eventMap || !this._eventMap[b]) return c.apply(this, arguments);\n        var e = this._eventMap[b];\n        return delete this._eventMap[b], c.apply(this, [a, e]);\n      };\n\n      Q(d, \"on\" + g, {\n        get: function get() {\n          return this[\"_on\" + g];\n        },\n        set: function set(a) {\n          this[\"_on\" + g] && (this.removeEventListener(g, this[\"_on\" + g]), delete this[\"_on\" + g]);\n          a && this.addEventListener(g, this[\"_on\" + g] = a);\n        },\n        enumerable: !0,\n        configurable: !0\n      });\n    }\n  }\n\n  function Vn(d) {\n    return \"boolean\" != typeof d ? Error(\"Argument type: \" + typeof d + \". Please use a boolean.\") : ($h = d, d ? \"adapter.js logging disabled\" : \"adapter.js logging enabled\");\n  }\n\n  function Wn(d) {\n    return \"boolean\" != typeof d ? Error(\"Argument type: \" + typeof d + \". Please use a boolean.\") : (ai = !d, \"adapter.js deprecation warnings \" + (d ? \"disabled\" : \"enabled\"));\n  }\n\n  function Pb() {\n    \"object\" != typeof window || $h || \"undefined\" != typeof console && \"function\" == typeof console.log && console.log.apply(console, arguments);\n  }\n\n  function Ae(d, g) {\n    ai && console.warn(d + \" is deprecated, please use \" + g + \" instead.\");\n  }\n\n  function ic(d) {\n    var g = d.navigator,\n        a = {\n      browser: null,\n      version: null\n    };\n    if (void 0 === d || !d.navigator) return a.browser = \"Not a browser.\", a;\n    if (g.mozGetUserMedia) a.browser = \"firefox\", a.version = hc(g.userAgent, /Firefox\\/(\\d+)\\./, 1);else if (g.webkitGetUserMedia || !1 === d.isSecureContext && d.webkitRTCPeerConnection && !d.RTCIceGatherer) a.browser = \"chrome\", a.version = hc(g.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);else if (g.mediaDevices && g.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) a.browser = \"edge\", a.version = hc(g.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);else {\n      if (!d.RTCPeerConnection || !g.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) return a.browser = \"Not a supported browser.\", a;\n      a.browser = \"safari\";\n      a.version = hc(g.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n      a.supportsUnifiedPlan = d.RTCRtpTransceiver && \"currentDirection\" in d.RTCRtpTransceiver.prototype;\n    }\n    return a;\n  }\n\n  function bi(d) {\n    var g;\n    return \"[object Object]\" === Object.prototype.toString.call(d) ? Be(g = W(d)).call(g, function (a, b) {\n      var c = \"[object Object]\" === Object.prototype.toString.call(d[b]);\n      var e = c ? bi(d[b]) : d[b];\n      c = c && !W(e).length;\n      return void 0 === e || c ? a : Ya(a, _defineProperty({}, b, e));\n    }, {}) : d;\n  }\n\n  function ci(d, g, a) {\n    var b = a ? \"outbound-rtp\" : \"inbound-rtp\",\n        c = new ba();\n    if (null === g) return c;\n    var e = [];\n    return t(d).call(d, function (a) {\n      \"track\" === a.type && a.trackIdentifier === g.id && e.push(a);\n    }), t(e).call(e, function (a) {\n      t(d).call(d, function (e) {\n        e.type === b && e.trackId === a.id && function X(a, b, c) {\n          var e;\n          b && !c.has(b.id) && (c.set(b.id, b), t(e = W(b)).call(e, function (e) {\n            if (di(e).call(e, \"Id\")) X(a, a.get(b[e]), c);else if (di(e).call(e, \"Ids\")) {\n              var d;\n              t(d = b[e]).call(d, function (b) {\n                X(a, a.get(b), c);\n              });\n            }\n          }));\n        }(d, e, c);\n      });\n    }), c;\n  }\n\n  function ei(d) {\n    var g = d && d.navigator;\n\n    if (g.mediaDevices) {\n      var a = ic(d),\n          b = function b(a) {\n        var b;\n        if (\"object\" != typeof a || a.mandatory || a.optional) return a;\n        var c = {};\n        var e;\n        (t(b = W(a)).call(b, function (b) {\n          if (\"require\" !== b && \"advanced\" !== b && \"mediaSource\" !== b) {\n            var e = \"object\" == typeof a[b] ? a[b] : {\n              ideal: a[b]\n            };\n            void 0 !== e.exact && \"number\" == typeof e.exact && (e.min = e.max = e.exact);\n\n            var d = function d(a, b) {\n              return a ? a + b.charAt(0).toUpperCase() + Ma(b).call(b, 1) : \"deviceId\" === b ? \"sourceId\" : b;\n            };\n\n            if (void 0 !== e.ideal) {\n              c.optional = c.optional || [];\n              var _a = {};\n              \"number\" == typeof e.ideal ? (_a[d(\"min\", b)] = e.ideal, c.optional.push(_a), _a = {}, _a[d(\"max\", b)] = e.ideal, c.optional.push(_a)) : (_a[d(\"\", b)] = e.ideal, c.optional.push(_a));\n            }\n\n            var f;\n            void 0 !== e.exact && \"number\" != typeof e.exact ? (c.mandatory = c.mandatory || {}, c.mandatory[d(\"\", b)] = e.exact) : t(f = [\"min\", \"max\"]).call(f, function (a) {\n              void 0 !== e[a] && (c.mandatory = c.mandatory || {}, c.mandatory[d(a, b)] = e[a]);\n            });\n          }\n        }), a.advanced) && (c.optional = m(e = c.optional || []).call(e, a.advanced));\n        return c;\n      },\n          c = function c(_c, e) {\n        if (61 <= a.version) return e(_c);\n\n        if ((_c = JSON.parse(A(_c))) && \"object\" == typeof _c.audio) {\n          var d = function d(a, b, c) {\n            b in a && !(c in a) && (a[c] = a[b], delete a[b]);\n          };\n\n          d((_c = JSON.parse(A(_c))).audio, \"autoGainControl\", \"googAutoGainControl\");\n          d(_c.audio, \"noiseSuppression\", \"googNoiseSuppression\");\n          _c.audio = b(_c.audio);\n        }\n\n        if (_c && \"object\" == typeof _c.video) {\n          var _f = _c.video.facingMode;\n          _f = _f && (\"object\" == typeof _f ? _f : {\n            ideal: _f\n          });\n          d = 66 > a.version;\n\n          if (!(!_f || \"user\" !== _f.exact && \"environment\" !== _f.exact && \"user\" !== _f.ideal && \"environment\" !== _f.ideal || g.mediaDevices.getSupportedConstraints && g.mediaDevices.getSupportedConstraints().facingMode && !d)) {\n            var _a2;\n\n            if (delete _c.video.facingMode, \"environment\" === _f.exact || \"environment\" === _f.ideal ? _a2 = [\"back\", \"rear\"] : \"user\" !== _f.exact && \"user\" !== _f.ideal || (_a2 = [\"front\"]), _a2) return g.mediaDevices.enumerateDevices().then(function (d) {\n              d = I(d).call(d, function (a) {\n                return \"videoinput\" === a.kind;\n              });\n              var h = U(d).call(d, function (b) {\n                return fi(_a2).call(_a2, function (a) {\n                  var c;\n                  return Z(c = b.label.toLowerCase()).call(c, a);\n                });\n              });\n              return !h && d.length && Z(_a2).call(_a2, \"back\") && (h = d[d.length - 1]), h && (_c.video.deviceId = _f.exact ? {\n                exact: h.deviceId\n              } : {\n                ideal: h.deviceId\n              }), _c.video = b(_c.video), gi(\"chrome: \" + A(_c)), e(_c);\n            });\n          }\n\n          _c.video = b(_c.video);\n        }\n\n        return gi(\"chrome: \" + A(_c)), e(_c);\n      },\n          e = function e(b) {\n        return 64 <= a.version ? b : {\n          name: {\n            PermissionDeniedError: \"NotAllowedError\",\n            PermissionDismissedError: \"NotAllowedError\",\n            InvalidStateError: \"NotAllowedError\",\n            DevicesNotFoundError: \"NotFoundError\",\n            ConstraintNotSatisfiedError: \"OverconstrainedError\",\n            TrackStartError: \"NotReadableError\",\n            MediaDeviceFailedDueToShutdown: \"NotAllowedError\",\n            MediaDeviceKillSwitchOn: \"NotAllowedError\",\n            TabCaptureError: \"AbortError\",\n            ScreenCaptureError: \"AbortError\",\n            DeviceCaptureError: \"AbortError\"\n          }[b.name] || b.name,\n          message: b.message,\n          constraint: b.constraint || b.constraintName,\n          toString: function toString() {\n            return this.name + (this.message && \": \") + this.message;\n          }\n        };\n      };\n\n      d = function d(a, b, _d) {\n        c(a, function (a) {\n          g.webkitGetUserMedia(a, b, function (a) {\n            _d && _d(e(a));\n          });\n        });\n      };\n\n      if (g.getUserMedia = xa(d).call(d, g), g.mediaDevices.getUserMedia) {\n        var f;\n\n        var _a3 = xa(f = g.mediaDevices.getUserMedia).call(f, g.mediaDevices);\n\n        g.mediaDevices.getUserMedia = function (b) {\n          return c(b, function (b) {\n            return _a3(b).then(function (a) {\n              var c;\n              if (b.audio && !a.getAudioTracks().length || b.video && !a.getVideoTracks().length) throw t(c = a.getTracks()).call(c, function (a) {\n                a.stop();\n              }), new DOMException(\"\", \"NotFoundError\");\n              return a;\n            }, function (a) {\n              return y.reject(e(a));\n            });\n          });\n        };\n      }\n    }\n  }\n\n  function hi(d) {\n    d.MediaStream = d.MediaStream || d.webkitMediaStream;\n  }\n\n  function ii(d) {\n    if (\"object\" != typeof d || !d.RTCPeerConnection || \"ontrack\" in d.RTCPeerConnection.prototype) Zc(d, \"track\", function (d) {\n      return d.transceiver || Q(d, \"transceiver\", {\n        value: {\n          receiver: d.receiver\n        }\n      }), d;\n    });else {\n      Q(d.RTCPeerConnection.prototype, \"ontrack\", {\n        get: function get() {\n          return this._ontrack;\n        },\n        set: function set(a) {\n          this._ontrack && this.removeEventListener(\"track\", this._ontrack);\n          this.addEventListener(\"track\", this._ontrack = a);\n        },\n        enumerable: !0,\n        configurable: !0\n      });\n      var g = d.RTCPeerConnection.prototype.setRemoteDescription;\n\n      d.RTCPeerConnection.prototype.setRemoteDescription = function () {\n        var _this = this;\n\n        return this._ontrackpoly || (this._ontrackpoly = function (a) {\n          var b;\n          a.stream.addEventListener(\"addtrack\", function (b) {\n            var c;\n            var f;\n            d.RTCPeerConnection.prototype.getReceivers ? c = U(f = _this.getReceivers()).call(f, function (a) {\n              return a.track && a.track.id === b.track.id;\n            }) : c = {\n              track: b.track\n            };\n            f = new Event(\"track\");\n            f.track = b.track;\n            f.receiver = c;\n            f.transceiver = {\n              receiver: c\n            };\n            f.streams = [a.stream];\n\n            _this.dispatchEvent(f);\n          });\n          t(b = a.stream.getTracks()).call(b, function (b) {\n            var c;\n            var f;\n            d.RTCPeerConnection.prototype.getReceivers ? c = U(f = _this.getReceivers()).call(f, function (a) {\n              return a.track && a.track.id === b.id;\n            }) : c = {\n              track: b\n            };\n            f = new Event(\"track\");\n            f.track = b;\n            f.receiver = c;\n            f.transceiver = {\n              receiver: c\n            };\n            f.streams = [a.stream];\n\n            _this.dispatchEvent(f);\n          });\n        }, this.addEventListener(\"addstream\", this._ontrackpoly)), g.apply(this, arguments);\n      };\n    }\n  }\n\n  function ji(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection && !(\"getSenders\" in d.RTCPeerConnection.prototype) && \"createDTMFSender\" in d.RTCPeerConnection.prototype) {\n      var g = function g(a, b) {\n        return {\n          track: b,\n\n          get dtmf() {\n            return void 0 === this._dtmf && (\"audio\" === b.kind ? this._dtmf = a.createDTMFSender(b) : this._dtmf = null), this._dtmf;\n          },\n\n          _pc: a\n        };\n      };\n\n      if (!d.RTCPeerConnection.prototype.getSenders) {\n        d.RTCPeerConnection.prototype.getSenders = function () {\n          var a;\n          return this._senders = this._senders || [], Ma(a = this._senders).call(a);\n        };\n\n        var _a4 = d.RTCPeerConnection.prototype.addTrack;\n\n        d.RTCPeerConnection.prototype.addTrack = function (b, c) {\n          var e = _a4.apply(this, arguments);\n\n          return e || (e = g(this, b), this._senders.push(e)), e;\n        };\n\n        var _b = d.RTCPeerConnection.prototype.removeTrack;\n\n        d.RTCPeerConnection.prototype.removeTrack = function (a) {\n          var c;\n\n          _b.apply(this, arguments);\n\n          var e = J(c = this._senders).call(c, a);\n          var d;\n          -1 !== e && Ra(d = this._senders).call(d, e, 1);\n        };\n      }\n\n      var a = d.RTCPeerConnection.prototype.addStream;\n\n      d.RTCPeerConnection.prototype.addStream = function (b) {\n        var _this2 = this;\n\n        var c;\n        this._senders = this._senders || [];\n        a.apply(this, [b]);\n        t(c = b.getTracks()).call(c, function (a) {\n          _this2._senders.push(g(_this2, a));\n        });\n      };\n\n      var b = d.RTCPeerConnection.prototype.removeStream;\n\n      d.RTCPeerConnection.prototype.removeStream = function (a) {\n        var _this3 = this;\n\n        var c;\n        this._senders = this._senders || [];\n        b.apply(this, [a]);\n        t(c = a.getTracks()).call(c, function (a) {\n          var b;\n          var c = U(b = _this3._senders).call(b, function (b) {\n            return b.track === a;\n          });\n          var e, d;\n          c && Ra(e = _this3._senders).call(e, J(d = _this3._senders).call(d, c), 1);\n        });\n      };\n    } else if (\"object\" == typeof d && d.RTCPeerConnection && \"getSenders\" in d.RTCPeerConnection.prototype && \"createDTMFSender\" in d.RTCPeerConnection.prototype && d.RTCRtpSender && !(\"dtmf\" in d.RTCRtpSender.prototype)) {\n      var _g = d.RTCPeerConnection.prototype.getSenders;\n\n      d.RTCPeerConnection.prototype.getSenders = function () {\n        var _this4 = this;\n\n        var a = _g.apply(this, []);\n\n        return t(a).call(a, function (a) {\n          return a._pc = _this4;\n        }), a;\n      };\n\n      Q(d.RTCRtpSender.prototype, \"dtmf\", {\n        get: function get() {\n          return void 0 === this._dtmf && (\"audio\" === this.track.kind ? this._dtmf = this._pc.createDTMFSender(this.track) : this._dtmf = null), this._dtmf;\n        }\n      });\n    }\n  }\n\n  function ki(d) {\n    if (d.RTCPeerConnection) {\n      var g = d.RTCPeerConnection.prototype.getStats;\n\n      d.RTCPeerConnection.prototype.getStats = function () {\n        var _this5 = this;\n\n        var _arguments = Array.prototype.slice.call(arguments),\n            a = _arguments[0],\n            b = _arguments[1],\n            c = _arguments[2];\n\n        if (0 < arguments.length && \"function\" == typeof a) return g.apply(this, arguments);\n        if (0 === g.length && (0 === arguments.length || \"function\" != typeof a)) return g.apply(this, []);\n\n        var e = function e(a) {\n          var b = {};\n          a = a.result();\n          return t(a).call(a, function (a) {\n            var c;\n            var e = {\n              id: a.id,\n              timestamp: a.timestamp,\n              type: {\n                localcandidate: \"local-candidate\",\n                remotecandidate: \"remote-candidate\"\n              }[a.type] || a.type\n            };\n            t(c = a.names()).call(c, function (b) {\n              e[b] = a.stat(b);\n            });\n            b[e.id] = e;\n          }), b;\n        },\n            d = function d(a) {\n          var b;\n          return new ba(z(b = W(a)).call(b, function (b) {\n            return [b, a[b]];\n          }));\n        };\n\n        return 2 <= arguments.length ? g.apply(this, [function (a) {\n          b(d(e(a)));\n        }, a]) : new y(function (a, b) {\n          g.apply(_this5, [function (b) {\n            a(d(e(b)));\n          }, b]);\n        }).then(b, c);\n      };\n    }\n  }\n\n  function li(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection && d.RTCRtpSender && d.RTCRtpReceiver) {\n      if (!(\"getStats\" in d.RTCRtpSender.prototype)) {\n        var a = d.RTCPeerConnection.prototype.getSenders;\n        a && (d.RTCPeerConnection.prototype.getSenders = function () {\n          var _this6 = this;\n\n          var b = a.apply(this, []);\n          return t(b).call(b, function (a) {\n            return a._pc = _this6;\n          }), b;\n        });\n        var b = d.RTCPeerConnection.prototype.addTrack;\n        b && (d.RTCPeerConnection.prototype.addTrack = function () {\n          var a = b.apply(this, arguments);\n          return a._pc = this, a;\n        });\n\n        d.RTCRtpSender.prototype.getStats = function () {\n          var a = this;\n          return this._pc.getStats().then(function (b) {\n            return ci(b, a.track, !0);\n          });\n        };\n      }\n\n      if (!(\"getStats\" in d.RTCRtpReceiver.prototype)) {\n        var _a5 = d.RTCPeerConnection.prototype.getReceivers;\n        _a5 && (d.RTCPeerConnection.prototype.getReceivers = function () {\n          var _this7 = this;\n\n          var b = _a5.apply(this, []);\n\n          return t(b).call(b, function (a) {\n            return a._pc = _this7;\n          }), b;\n        });\n        Zc(d, \"track\", function (a) {\n          return a.receiver._pc = a.srcElement, a;\n        });\n\n        d.RTCRtpReceiver.prototype.getStats = function () {\n          var a = this;\n          return this._pc.getStats().then(function (b) {\n            return ci(b, a.track, !1);\n          });\n        };\n      }\n\n      if (\"getStats\" in d.RTCRtpSender.prototype && \"getStats\" in d.RTCRtpReceiver.prototype) {\n        var g = d.RTCPeerConnection.prototype.getStats;\n\n        d.RTCPeerConnection.prototype.getStats = function () {\n          if (0 < arguments.length && arguments[0] instanceof d.MediaStreamTrack) {\n            var a, b;\n\n            var c = arguments[0],\n                e,\n                _d2,\n                h;\n\n            return t(a = this.getSenders()).call(a, function (a) {\n              a.track === c && (e ? h = !0 : e = a);\n            }), t(b = this.getReceivers()).call(b, function (a) {\n              return a.track === c && (_d2 ? h = !0 : _d2 = a), a.track === c;\n            }), h || e && _d2 ? y.reject(new DOMException(\"There are more than one sender or receiver for the track.\", \"InvalidAccessError\")) : e ? e.getStats() : _d2 ? _d2.getStats() : y.reject(new DOMException(\"There is no sender or receiver for the track.\", \"InvalidAccessError\"));\n          }\n\n          return g.apply(this, arguments);\n        };\n      }\n    }\n  }\n\n  function mi(d) {\n    d.RTCPeerConnection.prototype.getLocalStreams = function () {\n      var _this8 = this;\n\n      var a;\n      return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, z(a = W(this._shimmedLocalStreams)).call(a, function (a) {\n        return _this8._shimmedLocalStreams[a][0];\n      });\n    };\n\n    var g = d.RTCPeerConnection.prototype.addTrack;\n\n    d.RTCPeerConnection.prototype.addTrack = function (a, b) {\n      var c;\n      if (!b) return g.apply(this, arguments);\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      var e = g.apply(this, arguments);\n      return this._shimmedLocalStreams[b.id] ? -1 === J(c = this._shimmedLocalStreams[b.id]).call(c, e) && this._shimmedLocalStreams[b.id].push(e) : this._shimmedLocalStreams[b.id] = [b, e], e;\n    };\n\n    var a = d.RTCPeerConnection.prototype.addStream;\n\n    d.RTCPeerConnection.prototype.addStream = function (b) {\n      var _this9 = this;\n\n      var c, e, d;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      t(c = b.getTracks()).call(c, function (a) {\n        var b;\n        if (U(b = _this9.getSenders()).call(b, function (b) {\n          return b.track === a;\n        })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n      });\n      var g = this.getSenders();\n      a.apply(this, arguments);\n      c = I(e = this.getSenders()).call(e, function (a) {\n        return -1 === J(g).call(g, a);\n      });\n      this._shimmedLocalStreams[b.id] = m(d = [b]).call(d, c);\n    };\n\n    var b = d.RTCPeerConnection.prototype.removeStream;\n\n    d.RTCPeerConnection.prototype.removeStream = function (a) {\n      return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, delete this._shimmedLocalStreams[a.id], b.apply(this, arguments);\n    };\n\n    var c = d.RTCPeerConnection.prototype.removeTrack;\n\n    d.RTCPeerConnection.prototype.removeTrack = function (a) {\n      var _this10 = this;\n\n      var b;\n      (this._shimmedLocalStreams = this._shimmedLocalStreams || {}, a) && t(b = W(this._shimmedLocalStreams)).call(b, function (b) {\n        var c;\n        var e = J(c = _this10._shimmedLocalStreams[b]).call(c, a);\n        var d;\n        -1 !== e && Ra(d = _this10._shimmedLocalStreams[b]).call(d, e, 1);\n        1 === _this10._shimmedLocalStreams[b].length && delete _this10._shimmedLocalStreams[b];\n      });\n      return c.apply(this, arguments);\n    };\n  }\n\n  function ni(d) {\n    function g(a, b) {\n      var c;\n      var e = b.sdp;\n      return t(c = W(a._reverseStreams || [])).call(c, function (b) {\n        b = a._reverseStreams[b];\n        e = e.replace(new RegExp(a._streams[b.id].id, \"g\"), b.id);\n      }), new RTCSessionDescription({\n        type: b.type,\n        sdp: e\n      });\n    }\n\n    function a(a, b) {\n      var c;\n      var e = b.sdp;\n      return t(c = W(a._reverseStreams || [])).call(c, function (b) {\n        b = a._reverseStreams[b];\n        e = e.replace(new RegExp(b.id, \"g\"), a._streams[b.id].id);\n      }), new RTCSessionDescription({\n        type: b.type,\n        sdp: e\n      });\n    }\n\n    var b;\n\n    if (d.RTCPeerConnection) {\n      var c = ic(d);\n      if (d.RTCPeerConnection.prototype.addTrack && 65 <= c.version) return mi(d);\n      var e = d.RTCPeerConnection.prototype.getLocalStreams;\n\n      d.RTCPeerConnection.prototype.getLocalStreams = function () {\n        var _this11 = this;\n\n        var a = e.apply(this);\n        return this._reverseStreams = this._reverseStreams || {}, z(a).call(a, function (a) {\n          return _this11._reverseStreams[a.id];\n        });\n      };\n\n      var f = d.RTCPeerConnection.prototype.addStream;\n\n      d.RTCPeerConnection.prototype.addStream = function (a) {\n        var _this12 = this;\n\n        var b;\n        (this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {}, t(b = a.getTracks()).call(b, function (a) {\n          var b;\n          if (U(b = _this12.getSenders()).call(b, function (b) {\n            return b.track === a;\n          })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n        }), this._reverseStreams[a.id]) || (b = new d.MediaStream(a.getTracks()), this._streams[a.id] = b, this._reverseStreams[b.id] = a, a = b);\n        f.apply(this, [a]);\n      };\n\n      var h = d.RTCPeerConnection.prototype.removeStream;\n\n      d.RTCPeerConnection.prototype.removeStream = function (a) {\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n        h.apply(this, [this._streams[a.id] || a]);\n        delete this._reverseStreams[this._streams[a.id] ? this._streams[a.id].id : a.id];\n        delete this._streams[a.id];\n      };\n\n      d.RTCPeerConnection.prototype.addTrack = function (a, b) {\n        var _this13 = this;\n\n        var c, e, f;\n        if (\"closed\" === this.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n        var h = Ma([]).call(arguments, 1);\n        if (1 !== h.length || !U(c = h[0].getTracks()).call(c, function (b) {\n          return b === a;\n        })) throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\", \"NotSupportedError\");\n        if (U(e = this.getSenders()).call(e, function (b) {\n          return b.track === a;\n        })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n        this._streams = this._streams || {};\n        this._reverseStreams = this._reverseStreams || {};\n        (c = this._streams[b.id]) ? (c.addTrack(a), y.resolve().then(function () {\n          _this13.dispatchEvent(new Event(\"negotiationneeded\"));\n        })) : (c = new d.MediaStream([a]), this._streams[b.id] = c, this._reverseStreams[c.id] = b, this.addStream(c));\n        return U(f = this.getSenders()).call(f, function (b) {\n          return b.track === a;\n        });\n      };\n\n      t(b = [\"createOffer\", \"createAnswer\"]).call(b, function (a) {\n        var b = d.RTCPeerConnection.prototype[a];\n        d.RTCPeerConnection.prototype[a] = _defineProperty({}, a, function () {\n          var _this14 = this;\n\n          var a = arguments;\n          return arguments.length && \"function\" == typeof arguments[0] ? b.apply(this, [function (b) {\n            b = g(_this14, b);\n            a[0].apply(null, [b]);\n          }, function (b) {\n            a[1] && a[1].apply(null, b);\n          }, arguments[2]]) : b.apply(this, arguments).then(function (a) {\n            return g(_this14, a);\n          });\n        })[a];\n      });\n      var l = d.RTCPeerConnection.prototype.setLocalDescription;\n\n      d.RTCPeerConnection.prototype.setLocalDescription = function () {\n        return arguments.length && arguments[0].type ? (arguments[0] = a(this, arguments[0]), l.apply(this, arguments)) : l.apply(this, arguments);\n      };\n\n      var r = ca(d.RTCPeerConnection.prototype, \"localDescription\");\n      Q(d.RTCPeerConnection.prototype, \"localDescription\", {\n        get: function get() {\n          var a = r.get.apply(this);\n          return \"\" === a.type ? a : g(this, a);\n        }\n      });\n\n      d.RTCPeerConnection.prototype.removeTrack = function (a) {\n        var _this15 = this;\n\n        var b;\n        if (\"closed\" === this.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n        if (!a._pc) throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\", \"TypeError\");\n        if (a._pc !== this) throw new DOMException(\"Sender was not created by this connection.\", \"InvalidAccessError\");\n        var c;\n        this._streams = this._streams || {};\n        t(b = W(this._streams)).call(b, function (b) {\n          var e;\n          U(e = _this15._streams[b].getTracks()).call(e, function (b) {\n            return a.track === b;\n          }) && (c = _this15._streams[b]);\n        });\n        c && (1 === c.getTracks().length ? this.removeStream(this._reverseStreams[c.id]) : c.removeTrack(a.track), this.dispatchEvent(new Event(\"negotiationneeded\")));\n      };\n    }\n  }\n\n  function Mf(d) {\n    var g = ic(d);\n\n    if (!d.RTCPeerConnection && d.webkitRTCPeerConnection && (d.RTCPeerConnection = d.webkitRTCPeerConnection), d.RTCPeerConnection) {\n      var a;\n      53 > g.version && t(a = [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"]).call(a, function (a) {\n        var b = d.RTCPeerConnection.prototype[a];\n        d.RTCPeerConnection.prototype[a] = _defineProperty({}, a, function () {\n          return arguments[0] = new (\"addIceCandidate\" === a ? d.RTCIceCandidate : d.RTCSessionDescription)(arguments[0]), b.apply(this, arguments);\n        })[a];\n      });\n      var b = d.RTCPeerConnection.prototype.addIceCandidate;\n\n      d.RTCPeerConnection.prototype.addIceCandidate = function () {\n        return arguments[0] ? 78 > g.version && arguments[0] && \"\" === arguments[0].candidate ? y.resolve() : b.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), y.resolve());\n      };\n    }\n  }\n\n  function oi(d) {\n    Zc(d, \"negotiationneeded\", function (d) {\n      if (\"stable\" === d.target.signalingState) return d;\n    });\n  }\n\n  function pi(d, g, a, b, c) {\n    g = H.writeRtpDescription(d.kind, g);\n    if (g += H.writeIceParameters(d.iceGatherer.getLocalParameters()), g += H.writeDtlsParameters(d.dtlsTransport.getLocalParameters(), \"offer\" === a ? \"actpass\" : c || \"active\"), g += \"a=mid:\" + d.mid + \"\\r\\n\", d.rtpSender && d.rtpReceiver ? g += \"a=sendrecv\\r\\n\" : d.rtpSender ? g += \"a=sendonly\\r\\n\" : d.rtpReceiver ? g += \"a=recvonly\\r\\n\" : g += \"a=inactive\\r\\n\", d.rtpSender) a = d.rtpSender._initialTrackId || d.rtpSender.track.id, d.rtpSender._initialTrackId = a, b = \"msid:\" + (b ? b.id : \"-\") + \" \" + a + \"\\r\\n\", g = g + (\"a=\" + b) + (\"a=ssrc:\" + d.sendEncodingParameters[0].ssrc + \" \" + b), d.sendEncodingParameters[0].rtx && (g += \"a=ssrc:\" + d.sendEncodingParameters[0].rtx.ssrc + \" \" + b, g += \"a=ssrc-group:FID \" + d.sendEncodingParameters[0].ssrc + \" \" + d.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n    return g += \"a=ssrc:\" + d.sendEncodingParameters[0].ssrc + \" cname:\" + H.localCName + \"\\r\\n\", d.rtpSender && d.sendEncodingParameters[0].rtx && (g += \"a=ssrc:\" + d.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + H.localCName + \"\\r\\n\"), g;\n  }\n\n  function Ce(d, g) {\n    var a = {\n      codecs: [],\n      headerExtensions: [],\n      fecMechanisms: []\n    },\n        b = function b(a, _b2) {\n      a = parseInt(a, 10);\n\n      for (var c = 0; c < _b2.length; c++) {\n        if (_b2[c].payloadType === a || _b2[c].preferredPayloadType === a) return _b2[c];\n      }\n    },\n        c = function c(a, _c2, d, g) {\n      a = b(a.parameters.apt, d);\n      _c2 = b(_c2.parameters.apt, g);\n      return a && _c2 && a.name.toLowerCase() === _c2.name.toLowerCase();\n    };\n\n    return d.codecs.forEach(function (b) {\n      for (var e = 0; e < g.codecs.length; e++) {\n        var h = g.codecs[e];\n\n        if (b.name.toLowerCase() === h.name.toLowerCase() && b.clockRate === h.clockRate && (\"rtx\" !== b.name.toLowerCase() || !b.parameters || !h.parameters.apt || c(b, h, d.codecs, g.codecs))) {\n          (h = JSON.parse(JSON.stringify(h))).numChannels = Math.min(b.numChannels, h.numChannels);\n          a.codecs.push(h);\n          h.rtcpFeedback = h.rtcpFeedback.filter(function (a) {\n            for (var c = 0; c < b.rtcpFeedback.length; c++) {\n              if (b.rtcpFeedback[c].type === a.type && b.rtcpFeedback[c].parameter === a.parameter) return !0;\n            }\n\n            return !1;\n          });\n          break;\n        }\n      }\n    }), d.headerExtensions.forEach(function (b) {\n      for (var c = 0; c < g.headerExtensions.length; c++) {\n        var d = g.headerExtensions[c];\n\n        if (b.uri === d.uri) {\n          a.headerExtensions.push(d);\n          break;\n        }\n      }\n    }), a;\n  }\n\n  function qi(d, g, a) {\n    return -1 !== {\n      offer: {\n        setLocalDescription: [\"stable\", \"have-local-offer\"],\n        setRemoteDescription: [\"stable\", \"have-remote-offer\"]\n      },\n      answer: {\n        setLocalDescription: [\"have-remote-offer\", \"have-local-pranswer\"],\n        setRemoteDescription: [\"have-local-offer\", \"have-remote-pranswer\"]\n      }\n    }[g][d].indexOf(a);\n  }\n\n  function Nf(d, g) {\n    var a = d.getRemoteCandidates().find(function (a) {\n      return g.foundation === a.foundation && g.ip === a.ip && g.port === a.port && g.priority === a.priority && g.protocol === a.protocol && g.type === a.type;\n    });\n    return a || d.addRemoteCandidate(g), !a;\n  }\n\n  function bb(d, g) {\n    g = Error(g);\n    return g.name = d, g.code = {\n      NotSupportedError: 9,\n      InvalidStateError: 11,\n      InvalidAccessError: 15,\n      TypeError: void 0,\n      OperationError: void 0\n    }[d], g;\n  }\n\n  function ri(d) {\n    var g;\n    d = d && d.navigator;\n    var a = xa(g = d.mediaDevices.getUserMedia).call(g, d.mediaDevices);\n\n    d.mediaDevices.getUserMedia = function (b) {\n      return a(b).catch(function (a) {\n        return y.reject(function (a) {\n          return {\n            name: {\n              PermissionDeniedError: \"NotAllowedError\"\n            }[a.name] || a.name,\n            message: a.message,\n            constraint: a.constraint,\n            toString: function toString() {\n              return this.name;\n            }\n          };\n        }(a));\n      });\n    };\n  }\n\n  function si(d) {\n    var g;\n    \"getDisplayMedia\" in d.navigator && d.navigator.mediaDevices && (d.navigator.mediaDevices && \"getDisplayMedia\" in d.navigator.mediaDevices || (d.navigator.mediaDevices.getDisplayMedia = xa(g = d.navigator.getDisplayMedia).call(g, d.navigator)));\n  }\n\n  function Of(d) {\n    var g = ic(d);\n\n    if (d.RTCIceGatherer && (d.RTCIceCandidate || (d.RTCIceCandidate = function (a) {\n      return a;\n    }), d.RTCSessionDescription || (d.RTCSessionDescription = function (a) {\n      return a;\n    }), 15025 > g.version)) {\n      var _a6 = ca(d.MediaStreamTrack.prototype, \"enabled\");\n\n      Q(d.MediaStreamTrack.prototype, \"enabled\", {\n        set: function set(b) {\n          _a6.set.call(this, b);\n\n          var c = new Event(\"enabled\");\n          c.enabled = b;\n          this.dispatchEvent(c);\n        }\n      });\n    }\n\n    !d.RTCRtpSender || \"dtmf\" in d.RTCRtpSender.prototype || Q(d.RTCRtpSender.prototype, \"dtmf\", {\n      get: function get() {\n        return void 0 === this._dtmf && (\"audio\" === this.track.kind ? this._dtmf = new d.RTCDtmfSender(this) : \"video\" === this.track.kind && (this._dtmf = null)), this._dtmf;\n      }\n    });\n    d.RTCDtmfSender && !d.RTCDTMFSender && (d.RTCDTMFSender = d.RTCDtmfSender);\n    var a = Xn(d, g.version);\n\n    d.RTCPeerConnection = function (b) {\n      return b && b.iceServers && (b.iceServers = function (a, b) {\n        var c = !1;\n        return a = JSON.parse(A(a)), I(a).call(a, function (a) {\n          if (a && (a.urls || a.url)) {\n            var b = a.urls || a.url;\n            a.url && !a.urls && Ae(\"RTCIceServer.url\", \"RTCIceServer.urls\");\n\n            var _d3 = \"string\" == typeof b;\n\n            return _d3 && (b = [b]), b = I(b).call(b, function (a) {\n              return 0 === J(a).call(a, \"stun:\") ? !1 : (a = Hd(a).call(a, \"turn\") && !Hd(a).call(a, \"turn:[\") && Z(a).call(a, \"transport=udp\")) && !c ? (c = !0, !0) : a && !c;\n            }), delete a.url, a.urls = _d3 ? b[0] : b, !!b.length;\n          }\n        });\n      }(b.iceServers, g.version), Pb(\"ICE servers after filtering:\", b.iceServers)), new a(b);\n    };\n\n    d.RTCPeerConnection.prototype = a.prototype;\n  }\n\n  function ti(d) {\n    !d.RTCRtpSender || \"replaceTrack\" in d.RTCRtpSender.prototype || (d.RTCRtpSender.prototype.replaceTrack = d.RTCRtpSender.prototype.setTrack);\n  }\n\n  function ui(d) {\n    var g = ic(d),\n        a = d && d.navigator;\n    d = d && d.MediaStreamTrack;\n\n    if (a.getUserMedia = function (b, d, f) {\n      Ae(\"navigator.getUserMedia\", \"navigator.mediaDevices.getUserMedia\");\n      a.mediaDevices.getUserMedia(b).then(d, f);\n    }, !(55 < g.version && \"autoGainControl\" in a.mediaDevices.getSupportedConstraints())) {\n      var b;\n\n      var c = function c(a, b, _c3) {\n        b in a && !(_c3 in a) && (a[_c3] = a[b], delete a[b]);\n      },\n          e = xa(b = a.mediaDevices.getUserMedia).call(b, a.mediaDevices);\n\n      if (a.mediaDevices.getUserMedia = function (a) {\n        return \"object\" == typeof a && \"object\" == typeof a.audio && (a = JSON.parse(A(a)), c(a.audio, \"autoGainControl\", \"mozAutoGainControl\"), c(a.audio, \"noiseSuppression\", \"mozNoiseSuppression\")), e(a);\n      }, d && d.prototype.getSettings) {\n        var _a7 = d.prototype.getSettings;\n\n        d.prototype.getSettings = function () {\n          var b = _a7.apply(this, arguments);\n\n          return c(b, \"mozAutoGainControl\", \"autoGainControl\"), c(b, \"mozNoiseSuppression\", \"noiseSuppression\"), b;\n        };\n      }\n\n      if (d && d.prototype.applyConstraints) {\n        var _a8 = d.prototype.applyConstraints;\n\n        d.prototype.applyConstraints = function (b) {\n          return \"audio\" === this.kind && \"object\" == typeof b && (b = JSON.parse(A(b)), c(b, \"autoGainControl\", \"mozAutoGainControl\"), c(b, \"noiseSuppression\", \"mozNoiseSuppression\")), _a8.apply(this, [b]);\n        };\n      }\n    }\n  }\n\n  function vi(d) {\n    \"object\" == typeof d && d.RTCTrackEvent && \"receiver\" in d.RTCTrackEvent.prototype && !(\"transceiver\" in d.RTCTrackEvent.prototype) && Q(d.RTCTrackEvent.prototype, \"transceiver\", {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n\n  function Pf(d) {\n    var g = ic(d);\n\n    if (\"object\" == typeof d && (d.RTCPeerConnection || d.mozRTCPeerConnection)) {\n      var a;\n      (!d.RTCPeerConnection && d.mozRTCPeerConnection && (d.RTCPeerConnection = d.mozRTCPeerConnection), 53 > g.version) && t(a = [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"]).call(a, function (a) {\n        var b = d.RTCPeerConnection.prototype[a];\n        d.RTCPeerConnection.prototype[a] = _defineProperty({}, a, function () {\n          return arguments[0] = new (\"addIceCandidate\" === a ? d.RTCIceCandidate : d.RTCSessionDescription)(arguments[0]), b.apply(this, arguments);\n        })[a];\n      });\n      var b = d.RTCPeerConnection.prototype.addIceCandidate;\n\n      d.RTCPeerConnection.prototype.addIceCandidate = function () {\n        return arguments[0] ? 68 > g.version && arguments[0] && \"\" === arguments[0].candidate ? y.resolve() : b.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), y.resolve());\n      };\n\n      var c = {\n        inboundrtp: \"inbound-rtp\",\n        outboundrtp: \"outbound-rtp\",\n        candidatepair: \"candidate-pair\",\n        localcandidate: \"local-candidate\",\n        remotecandidate: \"remote-candidate\"\n      },\n          e = d.RTCPeerConnection.prototype.getStats;\n\n      d.RTCPeerConnection.prototype.getStats = function () {\n        var _arguments2 = Array.prototype.slice.call(arguments),\n            a = _arguments2[0],\n            b = _arguments2[1],\n            d = _arguments2[2];\n\n        return e.apply(this, [a || null]).then(function (a) {\n          if (53 > g.version && !b) try {\n            t(a).call(a, function (a) {\n              a.type = c[a.type] || a.type;\n            });\n          } catch (p) {\n            if (\"TypeError\" !== p.name) throw p;\n            t(a).call(a, function (b, d) {\n              a.set(d, Ya({}, b, {\n                type: c[b.type] || b.type\n              }));\n            });\n          }\n          return a;\n        }).then(b, d);\n      };\n    }\n  }\n\n  function wi(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection && d.RTCRtpSender && !(d.RTCRtpSender && \"getStats\" in d.RTCRtpSender.prototype)) {\n      var g = d.RTCPeerConnection.prototype.getSenders;\n      g && (d.RTCPeerConnection.prototype.getSenders = function () {\n        var _this16 = this;\n\n        var a = g.apply(this, []);\n        return t(a).call(a, function (a) {\n          return a._pc = _this16;\n        }), a;\n      });\n      var a = d.RTCPeerConnection.prototype.addTrack;\n      a && (d.RTCPeerConnection.prototype.addTrack = function () {\n        var b = a.apply(this, arguments);\n        return b._pc = this, b;\n      });\n\n      d.RTCRtpSender.prototype.getStats = function () {\n        return this.track ? this._pc.getStats(this.track) : y.resolve(new ba());\n      };\n    }\n  }\n\n  function xi(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection && d.RTCRtpSender && !(d.RTCRtpSender && \"getStats\" in d.RTCRtpReceiver.prototype)) {\n      var g = d.RTCPeerConnection.prototype.getReceivers;\n      g && (d.RTCPeerConnection.prototype.getReceivers = function () {\n        var _this17 = this;\n\n        var a = g.apply(this, []);\n        return t(a).call(a, function (a) {\n          return a._pc = _this17;\n        }), a;\n      });\n      Zc(d, \"track\", function (a) {\n        return a.receiver._pc = a.srcElement, a;\n      });\n\n      d.RTCRtpReceiver.prototype.getStats = function () {\n        return this._pc.getStats(this.track);\n      };\n    }\n  }\n\n  function yi(d) {\n    !d.RTCPeerConnection || \"removeStream\" in d.RTCPeerConnection.prototype || (d.RTCPeerConnection.prototype.removeStream = function (d) {\n      var _this18 = this;\n\n      var a;\n      Ae(\"removeStream\", \"removeTrack\");\n      t(a = this.getSenders()).call(a, function (a) {\n        var b;\n        a.track && Z(b = d.getTracks()).call(b, a.track) && _this18.removeTrack(a);\n      });\n    });\n  }\n\n  function zi(d) {\n    d.DataChannel && !d.RTCDataChannel && (d.RTCDataChannel = d.DataChannel);\n  }\n\n  function Ai(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection) {\n      if (\"getLocalStreams\" in d.RTCPeerConnection.prototype || (d.RTCPeerConnection.prototype.getLocalStreams = function () {\n        return this._localStreams || (this._localStreams = []), this._localStreams;\n      }), !(\"addStream\" in d.RTCPeerConnection.prototype)) {\n        var g = d.RTCPeerConnection.prototype.addTrack;\n\n        d.RTCPeerConnection.prototype.addStream = function (a) {\n          var _this19 = this;\n\n          var b, c, d;\n          this._localStreams || (this._localStreams = []);\n          Z(b = this._localStreams).call(b, a) || this._localStreams.push(a);\n          t(c = a.getAudioTracks()).call(c, function (b) {\n            return g.call(_this19, b, a);\n          });\n          t(d = a.getVideoTracks()).call(d, function (b) {\n            return g.call(_this19, b, a);\n          });\n        };\n\n        d.RTCPeerConnection.prototype.addTrack = function (a, b) {\n          var c;\n          b && (this._localStreams ? Z(c = this._localStreams).call(c, b) || this._localStreams.push(b) : this._localStreams = [b]);\n          return g.call(this, a, b);\n        };\n      }\n\n      \"removeStream\" in d.RTCPeerConnection.prototype || (d.RTCPeerConnection.prototype.removeStream = function (d) {\n        var _this20 = this;\n\n        var a, b, c;\n        this._localStreams || (this._localStreams = []);\n        var e = J(a = this._localStreams).call(a, d);\n\n        if (-1 !== e) {\n          Ra(b = this._localStreams).call(b, e, 1);\n          var f = d.getTracks();\n          t(c = this.getSenders()).call(c, function (a) {\n            Z(f).call(f, a.track) && _this20.removeTrack(a);\n          });\n        }\n      });\n    }\n  }\n\n  function Bi(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection && (\"getRemoteStreams\" in d.RTCPeerConnection.prototype || (d.RTCPeerConnection.prototype.getRemoteStreams = function () {\n      return this._remoteStreams ? this._remoteStreams : [];\n    }), !(\"onaddstream\" in d.RTCPeerConnection.prototype))) {\n      Q(d.RTCPeerConnection.prototype, \"onaddstream\", {\n        get: function get() {\n          return this._onaddstream;\n        },\n        set: function set(a) {\n          var _this21 = this;\n\n          this._onaddstream && (this.removeEventListener(\"addstream\", this._onaddstream), this.removeEventListener(\"track\", this._onaddstreampoly));\n          this.addEventListener(\"addstream\", this._onaddstream = a);\n          this.addEventListener(\"track\", this._onaddstreampoly = function (a) {\n            var b;\n            t(b = a.streams).call(b, function (a) {\n              var b;\n              (_this21._remoteStreams || (_this21._remoteStreams = []), Z(b = _this21._remoteStreams).call(b, a)) || (_this21._remoteStreams.push(a), b = new Event(\"addstream\"), b.stream = a, _this21.dispatchEvent(b));\n            });\n          });\n        }\n      });\n      var g = d.RTCPeerConnection.prototype.setRemoteDescription;\n\n      d.RTCPeerConnection.prototype.setRemoteDescription = function () {\n        var a = this;\n        return this._onaddstreampoly || this.addEventListener(\"track\", this._onaddstreampoly = function (b) {\n          var c;\n          t(c = b.streams).call(c, function (b) {\n            var c;\n            (a._remoteStreams || (a._remoteStreams = []), 0 <= J(c = a._remoteStreams).call(c, b)) || (a._remoteStreams.push(b), c = new Event(\"addstream\"), c.stream = b, a.dispatchEvent(c));\n          });\n        }), g.apply(a, arguments);\n      };\n    }\n  }\n\n  function Ci(d) {\n    if (\"object\" == typeof d && d.RTCPeerConnection) {\n      d = d.RTCPeerConnection.prototype;\n      var g = d.createOffer,\n          a = d.createAnswer,\n          b = d.setLocalDescription,\n          c = d.setRemoteDescription,\n          e = d.addIceCandidate;\n\n      d.createOffer = function (a, b) {\n        var c = g.apply(this, [2 <= arguments.length ? arguments[2] : arguments[0]]);\n        return b ? (c.then(a, b), y.resolve()) : c;\n      };\n\n      d.createAnswer = function (b, c) {\n        var d = a.apply(this, [2 <= arguments.length ? arguments[2] : arguments[0]]);\n        return c ? (d.then(b, c), y.resolve()) : d;\n      };\n\n      var f = function f(a, c, d) {\n        a = b.apply(this, [a]);\n        return d ? (a.then(c, d), y.resolve()) : a;\n      };\n\n      d.setLocalDescription = f;\n\n      f = function f(a, b, d) {\n        a = c.apply(this, [a]);\n        return d ? (a.then(b, d), y.resolve()) : a;\n      };\n\n      d.setRemoteDescription = f;\n\n      f = function f(a, b, c) {\n        a = e.apply(this, [a]);\n        return c ? (a.then(b, c), y.resolve()) : a;\n      };\n\n      d.addIceCandidate = f;\n    }\n  }\n\n  function Di(d) {\n    var g = d && d.navigator;\n\n    if (g.mediaDevices && g.mediaDevices.getUserMedia) {\n      var a;\n      d = g.mediaDevices;\n\n      var _b3 = xa(a = d.getUserMedia).call(a, d);\n\n      g.mediaDevices.getUserMedia = function (a) {\n        return _b3(Ei(a));\n      };\n    }\n\n    var b;\n    !g.getUserMedia && g.mediaDevices && g.mediaDevices.getUserMedia && (g.getUserMedia = xa(b = function b(a, _b4, d) {\n      g.mediaDevices.getUserMedia(a).then(_b4, d);\n    }).call(b, g));\n  }\n\n  function Ei(d) {\n    return d && void 0 !== d.video ? Ya({}, d, {\n      video: bi(d.video)\n    }) : d;\n  }\n\n  function Fi(d) {\n    var g = d.RTCPeerConnection;\n\n    d.RTCPeerConnection = function (a, b) {\n      if (a && a.iceServers) {\n        var _b5 = [];\n\n        for (var c = 0; c < a.iceServers.length; c++) {\n          var _d4 = a.iceServers[c];\n          !_d4.hasOwnProperty(\"urls\") && _d4.hasOwnProperty(\"url\") ? (Ae(\"RTCIceServer.url\", \"RTCIceServer.urls\"), _d4 = JSON.parse(A(_d4)), _d4.urls = _d4.url, delete _d4.url, _b5.push(_d4)) : _b5.push(a.iceServers[c]);\n        }\n\n        a.iceServers = _b5;\n      }\n\n      return new g(a, b);\n    };\n\n    d.RTCPeerConnection.prototype = g.prototype;\n    \"generateCertificate\" in d.RTCPeerConnection && Q(d.RTCPeerConnection, \"generateCertificate\", {\n      get: function get() {\n        return g.generateCertificate;\n      }\n    });\n  }\n\n  function Gi(d) {\n    \"object\" == typeof d && d.RTCPeerConnection && \"receiver\" in d.RTCTrackEvent.prototype && !d.RTCTransceiver && Q(d.RTCTrackEvent.prototype, \"transceiver\", {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n\n  function Hi(d) {\n    var g = d.RTCPeerConnection.prototype.createOffer;\n\n    d.RTCPeerConnection.prototype.createOffer = function (a) {\n      if (a) {\n        var b, c;\n        void 0 !== a.offerToReceiveAudio && (a.offerToReceiveAudio = !!a.offerToReceiveAudio);\n\n        var _d5 = U(b = this.getTransceivers()).call(b, function (a) {\n          return \"audio\" === a.receiver.track.kind;\n        });\n\n        !1 === a.offerToReceiveAudio && _d5 ? \"sendrecv\" === _d5.direction ? _d5.setDirection ? _d5.setDirection(\"sendonly\") : _d5.direction = \"sendonly\" : \"recvonly\" === _d5.direction && (_d5.setDirection ? _d5.setDirection(\"inactive\") : _d5.direction = \"inactive\") : !0 !== a.offerToReceiveAudio || _d5 || this.addTransceiver(\"audio\");\n        void 0 !== a.offerToReceiveVideo && (a.offerToReceiveVideo = !!a.offerToReceiveVideo);\n        b = U(c = this.getTransceivers()).call(c, function (a) {\n          return \"video\" === a.receiver.track.kind;\n        });\n        !1 === a.offerToReceiveVideo && b ? \"sendrecv\" === b.direction ? b.setDirection ? b.setDirection(\"sendonly\") : b.direction = \"sendonly\" : \"recvonly\" === b.direction && (b.setDirection ? b.setDirection(\"inactive\") : b.direction = \"inactive\") : !0 !== a.offerToReceiveVideo || b || this.addTransceiver(\"video\");\n      }\n\n      return g.apply(this, arguments);\n    };\n  }\n\n  function De(d) {\n    if (d.RTCIceCandidate && !(d.RTCIceCandidate && \"foundation\" in d.RTCIceCandidate.prototype)) {\n      var g = d.RTCIceCandidate;\n\n      d.RTCIceCandidate = function (a) {\n        var b;\n\n        if (\"object\" == typeof a && a.candidate && 0 === J(b = a.candidate).call(b, \"a=\") && ((a = JSON.parse(A(a))).candidate = a.candidate.substr(2)), a.candidate && a.candidate.length) {\n          b = new g(a);\n          a = H.parseCandidate(a.candidate);\n          var c = Ya(b, a);\n          return c.toJSON = function () {\n            return {\n              candidate: c.candidate,\n              sdpMid: c.sdpMid,\n              sdpMLineIndex: c.sdpMLineIndex,\n              usernameFragment: c.usernameFragment\n            };\n          }, c;\n        }\n\n        return new g(a);\n      };\n\n      d.RTCIceCandidate.prototype = g.prototype;\n      Zc(d, \"icecandidate\", function (a) {\n        return a.candidate && Q(a, \"candidate\", {\n          value: new d.RTCIceCandidate(a.candidate),\n          writable: \"false\"\n        }), a;\n      });\n    }\n  }\n\n  function Id(d) {\n    if (d.RTCPeerConnection) {\n      var g = ic(d);\n      \"sctp\" in d.RTCPeerConnection.prototype || Q(d.RTCPeerConnection.prototype, \"sctp\", {\n        get: function get() {\n          return void 0 === this._sctp ? null : this._sctp;\n        }\n      });\n\n      var a = function a(_a9) {\n        if (!_a9 || !_a9.sdp) return !1;\n        _a9 = H.splitSections(_a9.sdp);\n        return _a9.shift(), fi(_a9).call(_a9, function (a) {\n          var b;\n          return (a = H.parseMLine(a)) && \"application\" === a.kind && -1 !== J(b = a.protocol).call(b, \"SCTP\");\n        });\n      },\n          b = function b(a) {\n        a = a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n        if (null === a || 2 > a.length) return -1;\n        a = wa(a[1], 10);\n        return a != a ? -1 : a;\n      },\n          c = function c(a) {\n        var b = 65536;\n        return \"firefox\" === g.browser && (b = 57 > g.version ? -1 === a ? 16384 : 2147483637 : 60 > g.version ? 57 === g.version ? 65535 : 65536 : 2147483637), b;\n      },\n          e = function e(a, b) {\n        var c = 65536;\n        \"firefox\" === g.browser && 57 === g.version && (c = 65535);\n        a = H.matchPrefix(a.sdp, \"a=max-message-size:\");\n        return 0 < a.length ? c = wa(a[0].substr(19), 10) : \"firefox\" === g.browser && -1 !== b && (c = 2147483637), c;\n      },\n          f = d.RTCPeerConnection.prototype.setRemoteDescription;\n\n      d.RTCPeerConnection.prototype.setRemoteDescription = function () {\n        if (this._sctp = null, \"chrome\" === g.browser && 76 <= g.version) {\n          var _this$getConfiguratio = this.getConfiguration(),\n              d = _this$getConfiguratio.sdpSemantics;\n\n          \"plan-b\" === d && Q(this, \"sctp\", {\n            get: function get() {\n              return void 0 === this._sctp ? null : this._sctp;\n            },\n            enumerable: !0,\n            configurable: !0\n          });\n        }\n\n        if (a(arguments[0])) {\n          var l = b(arguments[0]);\n          d = c(l);\n          l = e(arguments[0], l);\n\n          var _a10;\n\n          _a10 = 0 === d && 0 === l ? Number.POSITIVE_INFINITY : 0 === d || 0 === l ? Math.max(d, l) : Math.min(d, l);\n          d = {};\n          Q(d, \"maxMessageSize\", {\n            get: function get() {\n              return _a10;\n            }\n          });\n          this._sctp = d;\n        }\n\n        return f.apply(this, arguments);\n      };\n    }\n  }\n\n  function Jd(d) {\n    function g(a, c) {\n      var b = a.send;\n\n      a.send = function () {\n        var d = arguments[0];\n        d = d.length || d.size || d.byteLength;\n        if (\"open\" === a.readyState && c.sctp && d > c.sctp.maxMessageSize) throw new TypeError(\"Message too large (can send a maximum of \" + c.sctp.maxMessageSize + \" bytes)\");\n        return b.apply(a, arguments);\n      };\n    }\n\n    if (d.RTCPeerConnection && \"createDataChannel\" in d.RTCPeerConnection.prototype) {\n      var a = d.RTCPeerConnection.prototype.createDataChannel;\n\n      d.RTCPeerConnection.prototype.createDataChannel = function () {\n        var b = a.apply(this, arguments);\n        return g(b, this), b;\n      };\n\n      Zc(d, \"datachannel\", function (a) {\n        return g(a.channel, a.target), a;\n      });\n    }\n  }\n\n  function Qf(d) {\n    var g;\n\n    if (d.RTCPeerConnection && !(\"connectionState\" in d.RTCPeerConnection.prototype)) {\n      var a = d.RTCPeerConnection.prototype;\n      Q(a, \"connectionState\", {\n        get: function get() {\n          return {\n            completed: \"connected\",\n            checking: \"connecting\"\n          }[this.iceConnectionState] || this.iceConnectionState;\n        },\n        enumerable: !0,\n        configurable: !0\n      });\n      Q(a, \"onconnectionstatechange\", {\n        get: function get() {\n          return this._onconnectionstatechange || null;\n        },\n        set: function set(a) {\n          this._onconnectionstatechange && (this.removeEventListener(\"connectionstatechange\", this._onconnectionstatechange), delete this._onconnectionstatechange);\n          a && this.addEventListener(\"connectionstatechange\", this._onconnectionstatechange = a);\n        },\n        enumerable: !0,\n        configurable: !0\n      });\n      t(g = [\"setLocalDescription\", \"setRemoteDescription\"]).call(g, function (b) {\n        var c = a[b];\n\n        a[b] = function () {\n          return this._connectionstatechangepoly || (this._connectionstatechangepoly = function (a) {\n            var b = a.target;\n\n            if (b._lastConnectionState !== b.connectionState) {\n              b._lastConnectionState = b.connectionState;\n\n              var _c4 = new Event(\"connectionstatechange\", a);\n\n              b.dispatchEvent(_c4);\n            }\n\n            return a;\n          }, this.addEventListener(\"iceconnectionstatechange\", this._connectionstatechangepoly)), c.apply(this, arguments);\n        };\n      });\n    }\n  }\n\n  function Rf(d) {\n    if (d.RTCPeerConnection) {\n      var g = ic(d);\n\n      if (!(\"chrome\" === g.browser && 71 <= g.version)) {\n        var a = d.RTCPeerConnection.prototype.setRemoteDescription;\n\n        d.RTCPeerConnection.prototype.setRemoteDescription = function (b) {\n          var c, d;\n          b && b.sdp && -1 !== J(c = b.sdp).call(c, \"\\na=extmap-allow-mixed\") && (b.sdp = I(d = b.sdp.split(\"\\n\")).call(d, function (a) {\n            return \"a=extmap-allow-mixed\" !== Fc(a).call(a);\n          }).join(\"\\n\"));\n          return a.apply(this, arguments);\n        };\n      }\n    }\n  }\n\n  function V(d) {\n    d && Sf.setUA(d);\n    cb = Sf.getResult();\n    d = Yn(cb);\n    var g;\n    var a = (g = \"Blink\" === cb.engine.name ? cb.engine.version || \"\" : cb.browser.version || \"\", g.split(\".\")[0]);\n\n    a: switch (cb.os.name) {\n      case \"Windows\":\n        g = cb.os.version ? cb.os.name + \" \" + cb.os.version : cb.os.name;\n        break a;\n\n      default:\n        g = cb.os.name || \"\";\n    }\n\n    return {\n      name: d,\n      version: a,\n      os: g,\n      osVersion: cb.os.version\n    };\n  }\n\n  function Yn(d) {\n    if (\"Blink\" === d.engine.name) return S.CHROME;\n\n    switch (d.browser.name) {\n      case \"Chrome Headless\":\n      case \"Chrome\":\n      case \"Chromium\":\n        return S.CHROME;\n\n      case \"Safari\":\n      case \"Mobile Safari\":\n        return S.SAFARI;\n\n      case \"Edge\":\n        return S.EDGE;\n\n      case \"Firefox\":\n        return S.FIREFOX;\n\n      case \"QQBrowser\":\n        return S.QQ;\n\n      case \"Opera\":\n        return S.OPERA;\n\n      case \"WeChat\":\n        return S.WECHAT;\n\n      default:\n        return d.browser.name || \"\";\n    }\n  }\n\n  function Ee() {\n    var d = V();\n    return !!(\"WebKit\" === cb.engine.name && d.os === Na.MAC_OS && navigator.maxTouchPoints && 0 < navigator.maxTouchPoints && d.name !== S.SAFARI || vb() && d.name !== S.SAFARI);\n  }\n\n  function Zn() {\n    var d = V();\n    return Ee() && (d.os === Na.MAC_OS || d.os === Na.IOS && ((d = cb.os.version && cb.os.version.split(\".\")) && 14 === Number(d[0]) && d[1] && 3 <= Number(d[1]) || d && 14 < Number(d[0]))) ? !0 : !1;\n  }\n\n  function Kd() {\n    return V().name === S.CHROME;\n  }\n\n  function $c() {\n    return V().name === S.SAFARI;\n  }\n\n  function db() {\n    return V().name === S.FIREFOX;\n  }\n\n  function vb() {\n    return V().os === Na.IOS;\n  }\n\n  function ad() {\n    var d = V();\n    if (d.os !== Na.IOS || !d.osVersion) return !1;\n    d = d.osVersion.split(\".\");\n    return 15 === Number(d[0]);\n  }\n\n  function Ii() {\n    var d = V();\n    if (d.os !== Na.IOS || !d.osVersion) return !1;\n    d = d.osVersion.split(\".\");\n    return 15 === Number(d[0]) && 0 === Number(d[1]);\n  }\n\n  function Ji() {\n    var d = V();\n    if (d.os !== Na.IOS || !d.osVersion) return !1;\n    d = d.osVersion.split(\".\");\n    return 15 === Number(d[0]) && 1 <= Number(d[1]);\n  }\n\n  function jc() {\n    return $c() && 0 < navigator.maxTouchPoints;\n  }\n\n  function Ki() {\n    return window.navigator.appVersion && null !== window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./) && 35 >= window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1];\n  }\n\n  function Tf() {\n    var d = V();\n    return d.name === S.EDGE || d.name === S.SAFARI ? !1 : !!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i);\n  }\n\n  function bd(d) {\n    return \"string\" == typeof d ? Ya({}, $n[d]) : d;\n  }\n\n  function Uf(d) {\n    return \"string\" == typeof d ? Ya({}, ao[d]) : d;\n  }\n\n  function Fe(d) {\n    return \"string\" == typeof d ? Ya({}, bo[d]) : d;\n  }\n\n  function Ge(d) {\n    return \"string\" == typeof d ? Ya({}, co[d]) : d;\n  }\n\n  function eb(d, g) {\n    var a;\n    Z(a = W(v)).call(a, d) && (v[d] = g);\n  }\n\n  function cd(d, g, a) {\n    return {\n      sampleRate: d,\n      stereo: g,\n      bitrate: a\n    };\n  }\n\n  function M(d, g, a, b, c) {\n    return {\n      width: d,\n      height: g,\n      frameRate: a,\n      bitrateMin: b,\n      bitrateMax: c\n    };\n  }\n\n  function Eb(d, g, a, b, c) {\n    return {\n      width: {\n        max: d\n      },\n      height: {\n        max: g\n      },\n      frameRate: a,\n      bitrateMin: b,\n      bitrateMax: c\n    };\n  }\n\n  function Vf(d, g) {\n    return {\n      numSpatialLayers: d,\n      numTemporalLayers: g\n    };\n  }\n\n  function Li(d) {\n    return \"[object Array]\" === dd.call(d);\n  }\n\n  function Mi(d) {\n    return null !== d && \"object\" == typeof d;\n  }\n\n  function Ni(d) {\n    return \"[object Function]\" === dd.call(d);\n  }\n\n  function He(d, g) {\n    if (null != d) if (\"object\" != typeof d && (d = [d]), Li(d)) for (var a = 0, b = d.length; a < b; a++) {\n      g.call(null, d[a], a, d);\n    } else for (a in d) {\n      Object.prototype.hasOwnProperty.call(d, a) && g.call(null, d[a], a, d);\n    }\n  }\n\n  function Oi(d) {\n    return encodeURIComponent(d).replace(/%40/gi, \"@\").replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n  }\n\n  function Ie() {\n    this.handlers = [];\n  }\n\n  function Pi(d, g) {\n    !O.isUndefined(d) && O.isUndefined(d[\"Content-Type\"]) && (d[\"Content-Type\"] = g);\n  }\n\n  function Ld(d) {\n    this.defaults = d;\n    this.interceptors = {\n      request: new Qi(),\n      response: new Qi()\n    };\n  }\n\n  function Wf(d) {\n    this.message = d;\n  }\n\n  function Je(d) {\n    if (\"function\" != typeof d) throw new TypeError(\"executor must be a function.\");\n    var g;\n    this.promise = new Promise(function (a) {\n      g = a;\n    });\n    var a = this;\n    d(function (b) {\n      a.reason || (a.reason = new Ri(b), g(a.reason));\n    });\n  }\n\n  function Si(d) {\n    d = new Ke(d);\n    var g = Ti(Ke.prototype.request, d);\n    return O.extend(g, Ke.prototype, d), O.extend(g, d), g;\n  }\n\n  function Ui() {\n    var d = new Date();\n    return d.toTimeString().split(\" \")[0] + \":\" + d.getMilliseconds();\n  }\n\n  function Le(d, g) {\n    if (\"boolean\" != typeof d) throw new q(n.INVALID_PARAMS, \"Invalid \".concat(g, \": The value is of the boolean type.\"));\n  }\n\n  function fb(d, g, a) {\n    var b;\n    if (!Z(a).call(a, d)) throw new q(n.INVALID_PARAMS, m(b = \"\".concat(g, \" can only be set as \")).call(b, A(a)));\n  }\n\n  function ha(d, g) {\n    var a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var b = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1E4;\n    var c = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !0;\n\n    if (d < a || d > b || c && (\"number\" != typeof d || 0 != d % 1)) {\n      var e, f;\n      throw new q(n.INVALID_PARAMS, m(e = m(f = \"invalid \".concat(g, \": the value range is [\")).call(f, a, \", \")).call(e, b, \"]. integer only\"));\n    }\n  }\n\n  function Sa(d, g) {\n    var a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var b = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 255;\n    var c = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !0;\n    if (null == d) throw new q(n.INVALID_PARAMS, \"\".concat(g || \"param\", \" cannot be empty\"));\n    var e, f, h;\n    if (!Vi(d, a, b, c)) throw new q(n.INVALID_PARAMS, m(e = m(f = m(h = \"Invalid \".concat(g || \"string param\", \": Length of the string: [\")).call(h, a, \",\")).call(f, b, \"].\")).call(e, c ? \" ASCII characters only.\" : \"\"));\n  }\n\n  function Xf(d, g) {\n    if (!Qb(d)) throw new q(n.INVALID_PARAMS, \"\".concat(g, \" should be an array\"));\n  }\n\n  function Yf(d) {\n    if (\"string\" != typeof d || !/^[a-zA-Z0-9 !#\\$%&\\(\\)\\+\\-:;<=\\.>\\?@\\[\\]\\^_\\{\\}\\|~,]{1,64}$/.test(d)) throw k.error(\"Invalid Channel Name \".concat(d)), new q(n.INVALID_PARAMS, \"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\");\n  }\n\n  function Zf(d) {\n    var g;\n    if (!(\"number\" == typeof d && Math.floor(d) === d && 0 <= d && 4294967295 >= d || Vi(d, 1, 255))) throw k.error(m(g = \"Invalid UID \".concat(d, \" \")).call(g, typeof d)), new q(n.INVALID_PARAMS, \"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");\n    \"string\" == typeof d && k.warning(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\");\n  }\n\n  function Vi(d) {\n    var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 255;\n    var b = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n\n    if (g = \"string\" == typeof d && d.length <= a && d.length >= g) {\n      if (!(b = !b)) a: if (\"string\" != typeof d) b = !1;else {\n        for (b = 0; b < d.length; b += 1) {\n          if (g = d.charCodeAt(b), 0 > g || 255 < g) {\n            b = !1;\n            break a;\n          }\n        }\n\n        b = !0;\n      }\n      g = b;\n    }\n\n    return g;\n  }\n\n  function eo(d) {\n    return Sa(d.reportId, \"params.reportId\", 0, 100, !1), Sa(d.category, \"params.category\", 0, 100, !1), Sa(d.event, \"params.event\", 0, 100, !1), Sa(d.label, \"params.label\", 0, 100, !1), ha(d.value, \"params.value\", -9007199254740991, 9007199254740991, !1), !0;\n  }\n\n  function Wi(d) {\n    return ha(d.timeout, \"config.timeout\", 0, 1E5), ha(d.timeoutFactor, \"config.timeoutFactor\", 0, 100, !1), ha(d.maxRetryCount, \"config.maxRetryConfig\", 0, 1 / 0), ha(d.maxRetryTimeout, \"config.maxRetryTimeout\", 0, 1 / 0), !0;\n  }\n\n  function Xi(d) {\n    if (!Qb(d) || 1 > d.length) return !1;\n\n    try {\n      t(d).call(d, function (d) {\n        if (!d.urls) throw Error();\n      });\n    } catch (g) {\n      return !1;\n    }\n\n    return !0;\n  }\n\n  function Yi(d) {\n    return Sa(d.turnServerURL, \"turnServerURL\"), Sa(d.username, \"username\"), Sa(d.password, \"password\"), d.udpport && ha(d.udpport, \"udpport\", 1, 99999, !0), d.forceturn && Le(d.forceturn, \"forceturn\"), d.security && Le(d.security, \"security\"), d.tcpport && ha(d.tcpport, \"tcpport\", 1, 99999, !0), !0;\n  }\n\n  function Zi(d) {\n    return void 0 !== d.level && fb(d.level, \"level\", [1, 2, 3]), !0;\n  }\n\n  function $f(d, g) {\n    Sa(d.url, \"\".concat(g, \".url\"), 1, 1E3, !1);\n    null == d.x || ha(d.x, \"\".concat(g, \".x\"), 0, 1E4);\n    null == d.y || ha(d.y, \"\".concat(g, \".y\"), 0, 1E4);\n    null == d.width || ha(d.width, \"\".concat(g, \".width\"), 0, 1E4);\n    null == d.height || ha(d.height, \"\".concat(g, \".height\"), 0, 1E4);\n    null == d.zOrder || ha(d.zOrder, \"\".concat(g, \".zOrder\"), 0, 255);\n    null == d.alpha || ha(d.alpha, \"\".concat(g, \".alpha\"), 0, 1, !1);\n  }\n\n  function $i(d) {\n    if (!d.channelName) throw new q(n.INVALID_PARAMS, \"invalid channelName in info\");\n    if (!d.uid || \"number\" != typeof d.uid) throw new q(n.INVALID_PARAMS, \"invalid uid in info, uid must be a number\");\n    return d.token && Sa(d.token, \"info.token\", 1, 2047), Zf(d.uid), Yf(d.channelName), !0;\n  }\n\n  function aj(d) {\n    return fb(d, \"mediaSource\", [\"screen\", \"window\", \"application\"]), !0;\n  }\n\n  function bj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function Rb(d, g, a) {\n    return new y(function (b, c) {\n      g.timeout = g.timeout || v.HTTP_CONNECT_TIMEOUT;\n      g.responseType = g.responseType || \"json\";\n      g.data && !a ? (g.data = A(g.data), Me += ed(g.data)) : a && (g.data.size ? Me += g.data.size : g.data instanceof FormData ? Me += function (a) {\n        var b = 0;\n        /DingTalk/i.test(navigator.userAgent) && a.realFormData && (a = a.realFormData);\n        return t(a).call(a, function (a) {\n          b += \"string\" == typeof a ? ed(a) : a.size;\n        }), b + 138;\n      }(g.data) : Me += ed(A(g.data)));\n      g.headers = g.headers || {};\n      g.headers[\"Content-Type\"] = g.headers[\"Content-Type\"] || \"application/json\";\n      g.method = \"POST\";\n      g.url = d;\n      $b.request(g).then(function (a) {\n        \"string\" == typeof a.data ? ag += ed(a.data) : a.data instanceof ArrayBuffer || a.data instanceof Uint8Array ? ag += a.data.byteLength : ag += ed(A(a.data));\n        b(a.data);\n      }).catch(function (a) {\n        $b.isCancel(a) ? c(new q(n.OPERATION_ABORTED, \"cancel token canceled\")) : \"ECONNABORTED\" === a.code ? c(new q(n.NETWORK_TIMEOUT, a.message)) : a.response ? c(new q(n.NETWORK_RESPONSE_ERROR, a.response.status)) : c(new q(n.NETWORK_ERROR, a.message));\n      });\n    });\n  }\n\n  function fo(_x, _x2) {\n    return _fo.apply(this, arguments);\n  }\n\n  function _fo() {\n    _fo = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee167(d, g) {\n      var a;\n      return _regeneratorRuntime.wrap(function _callee167$(_context167) {\n        while (1) {\n          switch (_context167.prev = _context167.next) {\n            case 0:\n              a = new Blob([g.data], {\n                type: \"buffer\"\n              });\n              _context167.next = 3;\n              return Rb(d, function (a) {\n                for (var b = 1; b < arguments.length; b++) {\n                  var d,\n                      f = null != arguments[b] ? arguments[b] : {};\n                  if (b % 2) t(d = bj(Object(f), !0)).call(d, function (b) {\n                    gb(a, b, f[b]);\n                  });else if (ka) hb(a, ka(f));else {\n                    var h;\n                    t(h = bj(Object(f))).call(h, function (b) {\n                      Q(a, b, ca(f, b));\n                    });\n                  }\n                }\n\n                return a;\n              }({}, g, {\n                data: a,\n                headers: {\n                  \"Content-Type\": \"application/octet-stream\"\n                }\n              }), !0);\n\n            case 3:\n              return _context167.abrupt(\"return\", _context167.sent);\n\n            case 4:\n            case \"end\":\n              return _context167.stop();\n          }\n        }\n      }, _callee167, this);\n    }));\n    return _fo.apply(this, arguments);\n  }\n\n  function ac(d, g, a, b) {\n    var c = Ya({}, Ga, b),\n        e = c.timeout,\n        f =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return jb(e);\n\n              case 2:\n                e *= c.timeoutFactor;\n                e = Math.min(c.maxRetryTimeout, e);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function f() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n        h = !1;\n\n    b = new y(\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(b, e) {\n        var l, _a11;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                g = g || function () {\n                  return !1;\n                };\n\n                a = a || function () {\n                  return !0;\n                };\n\n                l = 0;\n\n              case 3:\n                if (!(l < c.maxRetryCount)) {\n                  _context2.next = 25;\n                  break;\n                }\n\n                if (!h) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", e(new q(n.OPERATION_ABORTED)));\n\n              case 6:\n                _context2.prev = 6;\n                _context2.next = 9;\n                return d();\n\n              case 9:\n                _a11 = _context2.sent;\n\n                if (!(!g(_a11, l) || l + 1 === c.maxRetryCount)) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", b(_a11));\n\n              case 12:\n                _context2.next = 14;\n                return f();\n\n              case 14:\n                _context2.next = 22;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2[\"catch\"](6);\n\n                if (!(!a(_context2.t0, l) || l + 1 === c.maxRetryCount)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", e(_context2.t0));\n\n              case 20:\n                _context2.next = 22;\n                return f();\n\n              case 22:\n                l += 1;\n                _context2.next = 3;\n                break;\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[6, 16]]);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    return b.cancel = function () {\n      return h = !0;\n    }, b;\n  }\n\n  function cj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function Ea(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = cj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = cj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Md() {\n    var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      report: u\n    };\n    return function (g, a, b) {\n      var c = g[a];\n\n      if (\"function\" == typeof c) {\n        var e = \"AgoraRTCClient\" === g.constructor.name ? \"Client\" : g.constructor.name;\n\n        b.value = function () {\n          for (var _len = arguments.length, b = new Array(_len), _key = 0; _key < _len; _key++) {\n            b[_key] = arguments[_key];\n          }\n\n          var f;\n          var g = d.report.reportApiInvoke(this._sessionId || null, {\n            name: m(f = \"\".concat(e, \".\")).call(f, a),\n            options: b,\n            tag: C.TRACER\n          });\n\n          try {\n            var _a12 = c.apply(this, b);\n\n            return g.onSuccess(), _a12;\n          } catch (r) {\n            throw g.onError(r), r;\n          }\n        };\n      }\n\n      return b;\n    };\n  }\n\n  function bg() {\n    var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      report: u\n    };\n    return function (g, a, b) {\n      var c = g[a];\n\n      if (\"function\" == typeof c) {\n        var e = \"AgoraRTCClient\" === g.constructor.name ? \"Client\" : g.constructor.name;\n        b.value =\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3() {\n          var _len2,\n              b,\n              _key2,\n              f,\n              g,\n              _a13,\n              _args3 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  for (_len2 = _args3.length, b = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                    b[_key2] = _args3[_key2];\n                  }\n\n                  g = d.report.reportApiInvoke(this._sessionId || null, {\n                    name: m(f = \"\".concat(e, \".\")).call(f, a),\n                    options: b,\n                    tag: C.TRACER\n                  });\n                  _context3.prev = 2;\n                  _context3.next = 5;\n                  return c.apply(this, b);\n\n                case 5:\n                  _a13 = _context3.sent;\n                  return _context3.abrupt(\"return\", (g.onSuccess(), _a13));\n\n                case 9:\n                  _context3.prev = 9;\n                  _context3.t0 = _context3[\"catch\"](2);\n                  throw g.onError(_context3.t0), _context3.t0;\n\n                case 12:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this, [[2, 9]]);\n        }));\n      }\n\n      return b;\n    };\n  }\n\n  function go() {\n    dj ? (k.info(\"create audio context\"), Sb = new dj(), da.curState = Sb.state, Sb.onstatechange = function () {\n      var d;\n      da.prevState = da.curState;\n      da.curState = Sb ? Sb.state : void 0;\n      k.debug(\"AudioContext State Change\", m(d = \"\".concat(da.prevState, \"=>\")).call(d, da.curState));\n      (vb() || jc()) && \"running\" === da.prevState && \"interrupted\" === da.curState && (k.info(\"ios-interruption-start\"), da.emit(Ha.IOS_INTERRUPTION_START));\n      (vb() || jc()) && \"interrupted\" === da.prevState && \"running\" === da.curState && (k.info(\"ios-interruption-end\"), da.emit(Ha.IOS_INTERRUPTION_END));\n      da.emit(\"state-change\");\n    }, function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(d) {\n        var g, a, b, c, e, f, h, l, r, p, w, X, k, _a14, _b8;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                l = function _ref12() {\n                  e(!0);\n                };\n\n                h = function _ref11() {\n                  p.removeEventListener(\"playing\", h);\n                  p.removeEventListener(\"abort\", h);\n                  p.removeEventListener(\"error\", h);\n                  k = !1;\n                  e(!1);\n                };\n\n                f = function _ref10(a) {\n                  if (X !== a) {\n                    X = a;\n\n                    for (var _b7 = 0, _c5 = r; _b7 < _c5.length; _b7++) {\n                      var _d7 = _c5[_b7];\n                      a ? window.addEventListener(_d7, l, {\n                        capture: !0,\n                        passive: !0\n                      }) : window.removeEventListener(_d7, l, {\n                        capture: !0,\n                        passive: !0\n                      });\n                    }\n                  }\n                };\n\n                e = function _ref9(a) {\n                  if (!k) if (p.paused) {\n                    if (a) {\n                      f(!1);\n                      k = !0;\n                      a = void 0;\n\n                      try {\n                        (a = p.play()) ? a.then(h, h) : (p.addEventListener(\"playing\", h), p.addEventListener(\"abort\", h), p.addEventListener(\"error\", h));\n                      } catch (B) {\n                        h();\n                      }\n                    } else f(!0);\n                  } else f(!1);\n                };\n\n                c = function _ref8() {\n                  g(!0);\n                };\n\n                b = function _ref7() {\n                  g(!1);\n                };\n\n                a = function _ref6(a) {\n                  if (w !== a) {\n                    w = a;\n\n                    for (var _b6 = 0, _d6 = r; _b6 < _d6.length; _b6 += 1) {\n                      var _e = _d6[_b6];\n                      a ? window.addEventListener(_e, c, {\n                        capture: !0,\n                        passive: !0\n                      }) : window.removeEventListener(_e, c, {\n                        capture: !0,\n                        passive: !0\n                      });\n                    }\n                  }\n                };\n\n                g = function _ref5(c) {\n                  \"running\" === d.state ? a(!1) : vb() || jc() ? \"suspended\" === d.state && (a(!0), c ? d.resume().then(b, b) : a(!1)) : \"closed\" !== d.state && (a(!0), c ? d.resume().then(b, b) : a(!1));\n                };\n\n                r = \"click contextmenu auxclick dblclick mousedown mouseup touchend keydown keyup\".split(\" \"), w = !1, X = !1, k = !1;\n\n                if (vb()) {\n                  _a14 = d.createMediaStreamDestination(), _b8 = document.createElement(\"div\");\n                  _b8.innerHTML = \"<audio x-webkit-airplay='deny'></audio>\";\n                  p = _b8.children.item(0);\n                  p.controls = !1;\n                  p.disableRemotePlayback = !0;\n                  p.preload = \"auto\";\n                  p.srcObject = _a14.stream;\n                  e(!0);\n                }\n\n                da.on(\"state-change\", function () {\n                  g(!0);\n                });\n                g(!1);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }()(Sb)) : k.error(\"your browser is not support web audio\");\n  }\n\n  function Nd() {\n    if (!Sb && (go(), !Sb)) throw new q(n.NOT_SUPPORTED, \"can not create audio context\");\n    return Sb;\n  }\n\n  function Od(d) {\n    if (!function () {\n      if (null !== cg) return cg;\n      var a = Nd();\n      var c = a.createBufferSource(),\n          d = a.createGain();\n      a = a.createGain();\n      c.connect(d);\n      c.connect(a);\n      c.disconnect(d);\n      a = !1;\n\n      try {\n        c.disconnect(d);\n      } catch (f) {\n        a = !0;\n      }\n\n      return c.disconnect(), cg = a, a;\n    }()) {\n      k.debug(\"polyfill audio node\");\n      var g = d.connect,\n          a = d.disconnect;\n\n      d.connect = function (a, c, e) {\n        var b;\n        return d._inputNodes || (d._inputNodes = []), Z(b = d._inputNodes).call(b, a) || (a instanceof AudioNode ? (d._inputNodes.push(a), g.call(d, a, c, e)) : g.call(d, a, c)), d;\n      };\n\n      d.disconnect = function (b, c, e) {\n        a.call(d);\n        b ? Gc(d._inputNodes, b) : d._inputNodes = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = d._inputNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _a15 = _step.value;\n            g.call(d, _a15);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n    }\n  }\n\n  function dg(d, g) {\n    var a = 1 / g,\n        b = Nd(),\n        c = b.createGain();\n    c.gain.value = 0;\n    c.connect(b.destination);\n\n    var e = !1,\n        f = function f() {\n      if (e) return void (c = null);\n      var h = b.createOscillator();\n      h.onended = f;\n      h.connect(c);\n      h.start(0);\n      h.stop(b.currentTime + a);\n      d(b.currentTime);\n    };\n\n    return f(), function () {\n      e = !0;\n    };\n  }\n\n  function ej(_x6, _x7) {\n    return _ej.apply(this, arguments);\n  }\n\n  function _ej() {\n    _ej = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee168(d, g) {\n      var a;\n      return _regeneratorRuntime.wrap(function _callee168$(_context168) {\n        while (1) {\n          switch (_context168.prev = _context168.next) {\n            case 0:\n              a = function a(_a46, c) {\n                return _a46 ? \"number\" != typeof _a46 ? _a46.max || _a46.exact || _a46.ideal || _a46.min || c : _a46 : c;\n              };\n\n              d = {\n                audio: !1,\n                video: {\n                  mandatory: {\n                    chromeMediaSource: \"desktop\",\n                    chromeMediaSourceId: d,\n                    maxHeight: a(g.height, 1080),\n                    maxWidth: a(g.width, 1920)\n                  }\n                }\n              };\n              g.frameRate && \"number\" != typeof g.frameRate ? (d.video.mandatory.maxFrameRate = g.frameRate.max, d.video.mandatory.minFrameRate = g.frameRate.min) : \"number\" == typeof g.frameRate && (d.video.mandatory.maxFrameRate = g.frameRate);\n              _context168.next = 5;\n              return navigator.mediaDevices.getUserMedia(d);\n\n            case 5:\n              return _context168.abrupt(\"return\", _context168.sent);\n\n            case 6:\n            case \"end\":\n              return _context168.stop();\n          }\n        }\n      }, _callee168, this);\n    }));\n    return _ej.apply(this, arguments);\n  }\n\n  function ho(_x8) {\n    return _ho.apply(this, arguments);\n  }\n\n  function _ho() {\n    _ho = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee169(d) {\n      var g;\n      return _regeneratorRuntime.wrap(function _callee169$(_context169) {\n        while (1) {\n          switch (_context169.prev = _context169.next) {\n            case 0:\n              _context169.t0 = function (a) {\n                return new y(function (b, c) {\n                  var d = document.createElement(\"div\");\n                  d.innerText = \"share screen\";\n                  d.setAttribute(\"style\", \"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");\n                  var f = document.createElement(\"div\");\n                  f.setAttribute(\"style\", \"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");\n                  var h = document.createElement(\"div\");\n                  h.innerText = \"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\";\n                  h.setAttribute(\"style\", \"height: 12%;\");\n                  var g = document.createElement(\"div\");\n                  g.setAttribute(\"style\", \"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");\n                  var r = document.createElement(\"div\");\n                  r.setAttribute(\"style\", \"text-align: right; padding: 16px 0;\");\n                  var p = document.createElement(\"button\");\n                  p.innerHTML = \"cancel\";\n                  p.setAttribute(\"style\", \"width: 85px;\");\n\n                  p.onclick = function () {\n                    document.body.removeChild(w);\n                    var a = Error(\"NotAllowedError\");\n                    a.name = \"NotAllowedError\";\n                    c(a);\n                  };\n\n                  r.appendChild(p);\n                  f.appendChild(h);\n                  f.appendChild(g);\n                  f.appendChild(r);\n                  var w = document.createElement(\"div\");\n                  w.setAttribute(\"style\", \"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\");\n                  w.appendChild(d);\n                  w.appendChild(f);\n                  document.body.appendChild(w);\n                  z(a).call(a, function (a) {\n                    if (a.id) {\n                      var _c28 = document.createElement(\"div\");\n\n                      _c28.setAttribute(\"style\", \"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");\n\n                      var _d8 = a.thumbnail;\n\n                      var _d8$getSize = _d8.getSize(),\n                          _e15 = _d8$getSize.width;\n\n                      1920 < _e15 && (_d8 = _d8.resize({\n                        width: 1920\n                      }));\n                      _c28.innerHTML = '<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src=' + _d8.toDataURL() + ' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">' + (a.name.replace(/[\\u00A0-\\u9999<>&]/g, function (a) {\n                        return \"&#\" + a.charCodeAt(0) + \";\";\n                      }) + \"</span>\");\n\n                      _c28.onclick = function () {\n                        document.body.removeChild(w);\n                        b(a.id);\n                      };\n\n                      g.appendChild(_c28);\n                    }\n                  });\n                });\n              };\n\n              _context169.next = 3;\n              return fj(d.mediaSource);\n\n            case 3:\n              _context169.t1 = _context169.sent;\n              _context169.next = 6;\n              return (0, _context169.t0)(_context169.t1);\n\n            case 6:\n              g = _context169.sent;\n              _context169.next = 9;\n              return ej(g, d);\n\n            case 9:\n              return _context169.abrupt(\"return\", _context169.sent);\n\n            case 10:\n            case \"end\":\n              return _context169.stop();\n          }\n        }\n      }, _callee169, this);\n    }));\n    return _ho.apply(this, arguments);\n  }\n\n  function fj(_x9) {\n    return _fj.apply(this, arguments);\n  }\n\n  function _fj() {\n    _fj = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee170(d) {\n      var g, a;\n      return _regeneratorRuntime.wrap(function _callee170$(_context170) {\n        while (1) {\n          switch (_context170.prev = _context170.next) {\n            case 0:\n              g = [\"window\", \"screen\"];\n              \"application\" !== d && \"window\" !== d || (g = [\"window\"]);\n              \"screen\" === d && (g = [\"screen\"]);\n              a = gj();\n\n              if (a) {\n                _context170.next = 6;\n                break;\n              }\n\n              throw new q(n.ELECTRON_IS_NULL);\n\n            case 6:\n              d = null;\n\n              try {\n                d = a.desktopCapturer.getSources({\n                  types: g\n                });\n              } catch (b) {\n                d = null;\n              }\n\n              d && d.then || (d = new y(function (b, c) {\n                a.desktopCapturer.getSources({\n                  types: g\n                }, function (a, d) {\n                  a ? c(a) : b(d);\n                });\n              }));\n              _context170.prev = 9;\n              _context170.next = 12;\n              return d;\n\n            case 12:\n              return _context170.abrupt(\"return\", _context170.sent);\n\n            case 15:\n              _context170.prev = 15;\n              _context170.t0 = _context170[\"catch\"](9);\n              throw new q(n.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR, _context170.t0.toString());\n\n            case 18:\n            case \"end\":\n              return _context170.stop();\n          }\n        }\n      }, _callee170, this, [[9, 15]]);\n    }));\n    return _fj.apply(this, arguments);\n  }\n\n  function gj() {\n    if (Ne) return Ne;\n\n    try {\n      return Ne = window.require(\"electron\"), Ne;\n    } catch (d) {\n      return null;\n    }\n  }\n\n  function Fb(_x10, _x11) {\n    return _Fb.apply(this, arguments);\n  }\n\n  function _Fb() {\n    _Fb = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee171(d, g) {\n      var a, b, c, e, _b36;\n\n      return _regeneratorRuntime.wrap(function _callee171$(_context171) {\n        while (1) {\n          switch (_context171.prev = _context171.next) {\n            case 0:\n              a = 0, b = null;\n\n            case 1:\n              if (!(2 > a)) {\n                _context171.next = 24;\n                break;\n              }\n\n              _context171.prev = 2;\n              _context171.next = 5;\n              return io(d, g, 0 < a);\n\n            case 5:\n              b = _context171.sent;\n              return _context171.abrupt(\"break\", 24);\n\n            case 9:\n              _context171.prev = 9;\n              _context171.t0 = _context171[\"catch\"](2);\n\n              if (!(_context171.t0 instanceof q)) {\n                _context171.next = 13;\n                break;\n              }\n\n              throw k.error(m(e = \"[\".concat(g, \"] \")).call(e, _context171.t0.toString())), _context171.t0;\n\n            case 13:\n              _b36 = Oe(_context171.t0.name || _context171.t0.code || _context171.t0, _context171.t0.message);\n\n              if (!(_b36.code === n.MEDIA_OPTION_INVALID)) {\n                _context171.next = 21;\n                break;\n              }\n\n              k.debug(\"[\".concat(g, \"] detect media option invalid, retry\"));\n              a += 1;\n              _context171.next = 19;\n              return jb(500);\n\n            case 19:\n              _context171.next = 22;\n              break;\n\n            case 21:\n              throw k.error(m(c = \"[\".concat(g, \"] \")).call(c, _b36.toString())), _b36;\n\n            case 22:\n              _context171.next = 1;\n              break;\n\n            case 24:\n              if (b) {\n                _context171.next = 26;\n                break;\n              }\n\n              throw new q(n.UNEXPECTED_ERROR, \"can not find stream after getUserMedia\");\n\n            case 26:\n              return _context171.abrupt(\"return\", b);\n\n            case 27:\n            case \"end\":\n              return _context171.stop();\n          }\n        }\n      }, _callee171, this, [[2, 9]]);\n    }));\n    return _Fb.apply(this, arguments);\n  }\n\n  function io(_x12, _x13, _x14) {\n    return _io.apply(this, arguments);\n  }\n\n  function _io() {\n    _io = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee172(d, g, a) {\n      var b, c, e, f, h;\n      return _regeneratorRuntime.wrap(function _callee172$(_context172) {\n        while (1) {\n          switch (_context172.prev = _context172.next) {\n            case 0:\n              if (!(!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia)) {\n                _context172.next = 2;\n                break;\n              }\n\n              throw new q(n.NOT_SUPPORTED, \"can not find getUserMedia\");\n\n            case 2:\n              a && (d.video && (delete d.video.width, delete d.video.height), d.screen && (delete d.screen.width, delete d.screen.height));\n              b = la;\n              a = new MediaStream();\n\n              if (!(d.audioSource && a.addTrack(d.audioSource), d.videoSource && a.addTrack(d.videoSource), !d.audio && !d.video && !d.screen)) {\n                _context172.next = 7;\n                break;\n              }\n\n              return _context172.abrupt(\"return\", (k.debug(\"Using Video Source/ Audio Source\"), a));\n\n            case 7:\n              if (!d.screen) {\n                _context172.next = 65;\n                break;\n              }\n\n              if (!gj()) {\n                _context172.next = 26;\n                break;\n              }\n\n              if (!d.screen.sourceId) {\n                _context172.next = 18;\n                break;\n              }\n\n              _context172.t0 = fd;\n              _context172.t1 = a;\n              _context172.next = 14;\n              return ej(d.screen.sourceId, d.screen);\n\n            case 14:\n              _context172.t2 = _context172.sent;\n              (0, _context172.t0)(_context172.t1, _context172.t2);\n              _context172.next = 24;\n              break;\n\n            case 18:\n              _context172.t3 = fd;\n              _context172.t4 = a;\n              _context172.next = 22;\n              return ho(d.screen);\n\n            case 22:\n              _context172.t5 = _context172.sent;\n              (0, _context172.t3)(_context172.t4, _context172.t5);\n\n            case 24:\n              _context172.next = 65;\n              break;\n\n            case 26:\n              if (!(Kd() && d.screen.extensionId && d.screen.mandatory)) {\n                _context172.next = 42;\n                break;\n              }\n\n              if (b.getStreamFromExtension) {\n                _context172.next = 29;\n                break;\n              }\n\n              throw new q(n.NOT_SUPPORTED, \"This browser does not support screen sharing\");\n\n            case 29:\n              k.debug(\"[\".concat(g, '] Screen access on chrome stable, looking for extension\"'));\n              _context172.next = 32;\n              return e = d.screen.extensionId, f = g, new y(function (a, b) {\n                try {\n                  chrome.runtime.sendMessage(e, {\n                    getStream: !0\n                  }, function (c) {\n                    if (!c || !c.streamId) return k.error(\"[\".concat(f, \"] No response from Chrome Plugin. Plugin not installed properly\"), c), void b(new q(n.CHROME_PLUGIN_NO_RESPONSE, \"No response from Chrome Plugin. Plugin not installed properly\"));\n                    a(c.streamId);\n                  });\n                } catch (w) {\n                  var c;\n                  k.error(m(c = \"[\".concat(f, \"] AgoraRTC screensharing plugin is not accessible(\")).call(c, e, \")\"), w.toString());\n                  b(new q(n.CHROME_PLUGIN_NOT_INSTALL));\n                }\n              });\n\n            case 32:\n              c = _context172.sent;\n              d.screen.mandatory.chromeMediaSourceId = c;\n              _context172.t6 = fd;\n              _context172.t7 = a;\n              _context172.next = 38;\n              return navigator.mediaDevices.getUserMedia({\n                video: {\n                  mandatory: d.screen.mandatory\n                }\n              });\n\n            case 38:\n              _context172.t8 = _context172.sent;\n              (0, _context172.t6)(_context172.t7, _context172.t8);\n              _context172.next = 65;\n              break;\n\n            case 42:\n              if (!b.getDisplayMedia) {\n                _context172.next = 54;\n                break;\n              }\n\n              d.screen.mediaSource && aj(d.screen.mediaSource);\n              c = {\n                width: d.screen.width,\n                height: d.screen.height,\n                frameRate: d.screen.frameRate,\n                displaySurface: \"screen\" === d.screen.mediaSource ? \"monitor\" : d.screen.mediaSource\n              };\n              k.debug(\"[\".concat(g, \"] getDisplayMedia:\"), A({\n                video: c,\n                audio: !!d.screenAudio\n              }));\n              _context172.t9 = fd;\n              _context172.t10 = a;\n              _context172.next = 50;\n              return navigator.mediaDevices.getDisplayMedia({\n                video: c,\n                audio: !!d.screenAudio\n              });\n\n            case 50:\n              _context172.t11 = _context172.sent;\n              (0, _context172.t9)(_context172.t10, _context172.t11);\n              _context172.next = 65;\n              break;\n\n            case 54:\n              if (db()) {\n                _context172.next = 56;\n                break;\n              }\n\n              throw k.error(\"[\".concat(g, \"] This browser does not support screenSharing\")), new q(n.NOT_SUPPORTED, \"This browser does not support screen sharing\");\n\n            case 56:\n              d.screen.mediaSource && aj(d.screen.mediaSource);\n              b = {\n                video: {\n                  mediaSource: d.screen.mediaSource,\n                  width: d.screen.width,\n                  height: d.screen.height,\n                  frameRate: d.screen.frameRate\n                }\n              };\n              k.debug(m(c = \"[\".concat(g, \"] getUserMedia: \")).call(c, A(b)));\n              _context172.t12 = fd;\n              _context172.t13 = a;\n              _context172.next = 63;\n              return navigator.mediaDevices.getUserMedia(b);\n\n            case 63:\n              _context172.t14 = _context172.sent;\n              (0, _context172.t12)(_context172.t13, _context172.t14);\n\n            case 65:\n              if (!(!d.video && !d.audio)) {\n                _context172.next = 67;\n                break;\n              }\n\n              return _context172.abrupt(\"return\", a);\n\n            case 67:\n              d = {\n                video: d.video,\n                audio: d.audio\n              };\n              k.debug(\"[\".concat(g, \"] GetUserMedia\"), A(d));\n              V();\n              g = null;\n              _context172.t15 = $c() || vb() || Ee();\n\n              if (!_context172.t15) {\n                _context172.next = 76;\n                break;\n              }\n\n              _context172.next = 75;\n              return eg.lock();\n\n            case 75:\n              g = _context172.sent;\n\n            case 76:\n              _context172.prev = 76;\n              _context172.next = 79;\n              return navigator.mediaDevices.getUserMedia(d);\n\n            case 79:\n              h = _context172.sent;\n              _context172.next = 85;\n              break;\n\n            case 82:\n              _context172.prev = 82;\n              _context172.t16 = _context172[\"catch\"](76);\n              throw g && g(), _context172.t16;\n\n            case 85:\n              return _context172.abrupt(\"return\", (d.audio && (hj = !0), d.video && (ij = !0), fd(a, h), g && g(), a));\n\n            case 86:\n            case \"end\":\n              return _context172.stop();\n          }\n        }\n      }, _callee172, this, [[76, 82]]);\n    }));\n    return _io.apply(this, arguments);\n  }\n\n  function Oe(d, g) {\n    switch (d) {\n      case \"Starting video failed\":\n      case \"OverconstrainedError\":\n      case \"TrackStartError\":\n        var a;\n        return new q(n.MEDIA_OPTION_INVALID, m(a = \"\".concat(d, \": \")).call(a, g));\n\n      case \"NotFoundError\":\n      case \"DevicesNotFoundError\":\n        var b;\n        return new q(n.DEVICE_NOT_FOUND, m(b = \"\".concat(d, \": \")).call(b, g));\n\n      case \"NotSupportedError\":\n        var c;\n        return new q(n.NOT_SUPPORTED, m(c = \"\".concat(d, \": \")).call(c, g));\n\n      case \"NotReadableError\":\n        var e;\n        return new q(n.NOT_READABLE, m(e = \"\".concat(d, \": \")).call(e, g));\n\n      case \"InvalidStateError\":\n      case \"NotAllowedError\":\n      case \"PERMISSION_DENIED\":\n      case \"PermissionDeniedError\":\n        var f;\n        return new q(n.PERMISSION_DENIED, m(f = \"\".concat(d, \": \")).call(f, g));\n\n      case \"ConstraintNotSatisfiedError\":\n        var h;\n        return new q(n.CONSTRAINT_NOT_SATISFIED, m(h = \"\".concat(d, \": \")).call(h, g));\n\n      default:\n        var l;\n        return k.error(\"getUserMedia unexpected error\", d), new q(n.UNEXPECTED_ERROR, m(l = \"\".concat(d, \": \")).call(l, g));\n    }\n  }\n\n  function fd(d, g) {\n    var a = d.getVideoTracks()[0],\n        b = d.getAudioTracks()[0],\n        c = g.getVideoTracks()[0];\n    (g = g.getAudioTracks()[0]) && (b && d.removeTrack(b), d.addTrack(g));\n    c && (a && d.removeTrack(a), d.addTrack(c));\n  }\n\n  function jj() {\n    if (!fg) {\n      var d = function d(g) {\n        g.preventDefault();\n        fg = !1;\n        document.body.removeEventListener(\"touchstart\", d, !0);\n        document.body.removeEventListener(\"mousedown\", d, !0);\n      };\n\n      fg = !0;\n      document.body.addEventListener(\"touchstart\", d, !0);\n      document.body.addEventListener(\"mousedown\", d, !0);\n      kj.emit(\"autoplay-failed\");\n    }\n  }\n\n  function pa() {\n    return function (d, g, a) {\n      var b = d[g];\n      \"function\" == typeof b && (a.value = function () {\n        this._isClosed && new q(n.INVALID_OPERATION, \"[\".concat(this.getTrackId(), \"] cannot operate a closed track\")).print(\"warning\");\n\n        for (var _len3 = arguments.length, a = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          a[_key3] = arguments[_key3];\n        }\n\n        var c = b.apply(this, a);\n        return c instanceof y ? new y(function (a, b) {\n          c.then(a).catch(b);\n        }) : c;\n      });\n    };\n  }\n\n  function lj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function Pe(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = lj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = lj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function mj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function bc(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = mj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = mj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function nj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function oj(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = nj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = nj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function jo(d) {\n    if (!d.address || !d.tcp) throw new q(n.UNEXPECTED_RESPONSE, \"Invalid address format \".concat(d));\n    return d.address.match(/^[\\.:\\d]+$/) ? \"\".concat(d.address.replace(/[^\\d]/g, \"-\"), \".edge.agora.io\") : (k.info(\"Cannot recognized as IP address \".concat(d.address, \". Used As Host instead\")), m(g = \"\".concat(d.address, \":\")).call(g, d.tcp));\n    var g;\n  }\n\n  function pj(d, g) {\n    var a;\n    var b = v.GATEWAY_DOMAINS,\n        c = b[1] && -1 !== J(g).call(g, b[1]) ? 1 : 0;\n    d.addresses = d.addresses || [];\n    return {\n      gatewayAddrs: z(a = d.addresses).call(a, function (a) {\n        var d, e, g;\n        return a.ip.match(/^[\\.:\\d]+$/) ? m(d = m(e = \"\".concat(a.ip.replace(/[^\\d]/g, \"-\"), \".\")).call(e, b[c++ % b.length], \":\")).call(d, a.port) : (k.info(\"Cannot recognized as IP address \".concat(a.ip, \". Used As Host instead\")), m(g = \"\".concat(a.ip, \":\")).call(g, a.port));\n      }),\n      uid: d.uid,\n      cid: d.cid,\n      vid: d.detail && d.detail[8],\n      uni_lbs_ip: d.detail && d.detail[1],\n      res: d,\n      csIp: d.detail && d.detail[502]\n    };\n  }\n\n  function wc(d) {\n    return \"number\" == typeof d ? d : d.exact || d.ideal || d.max || d.min || 0;\n  }\n\n  function qj(d, g) {\n    var a = d.videoSend[0];\n    if (!a) return null;\n    g = g && g.videoSend[0] ? g.videoSend[0].inputFrame : void 0;\n    d = {\n      id: va(10, \"\"),\n      timestamp: new Date(d.timestamp).toISOString(),\n      mediaType: \"video\",\n      type: \"ssrc\",\n      ssrc: a.ssrc.toString()\n    };\n    return a.inputFrame && (g && a.inputFrame.height === g.height || (d.A_fhi = a.inputFrame.height ? a.inputFrame.height.toString() : \"0\"), g && a.inputFrame.width === g.width || (d.A_fwi = a.inputFrame.width ? a.inputFrame.width.toString() : \"0\"), g && a.inputFrame.frameRate === g.frameRate || (d.A_fri = a.inputFrame.frameRate ? a.inputFrame.frameRate.toString() : \"0\")), d;\n  }\n\n  function rj(d) {\n    return 0 <= d && .17 > d ? 1 : .17 <= d && .36 > d ? 2 : .36 <= d && .59 > d ? 3 : .59 <= d && 1 >= d ? 4 : 1 < d ? 5 : 0;\n  }\n\n  function ko(d, g) {\n    var a = {};\n    d.height && d.width && (g = g._videoHeight || g.getMediaStreamTrack(!0).getSettings().height, a.scaleResolutionDownBy = g ? g / wc(d.height) : 4);\n    return a.maxFramerate = d.framerate ? wc(d.framerate) : void 0, a.maxBitrate = d.bitrate ? 1E3 * d.bitrate : void 0, a;\n  }\n\n  function gg(d, g) {\n    var a;\n    var b,\n        c = void 0;\n\n    switch (g) {\n      case ib.CHOOSE_SERVER:\n        b = 4096;\n        g = \"choose server\";\n        break;\n\n      case ib.CLOUD_PROXY:\n        b = 1048576;\n        g = \"proxy\";\n        break;\n\n      case ib.CLOUD_PROXY_5:\n        b = 4194304;\n        g = \"proxy5\";\n        break;\n\n      default:\n        throw new q(n.UNEXPECTED_ERROR, \"multi unlibs response transformer get unknown service id\", {\n          csIp: d.detail && d.detail[502],\n          retry: !1\n        });\n    }\n\n    if (t(a = d.response_body).call(a, function (a) {\n      var e;\n      a.buffer && a.buffer.flag === b && (c = {\n        code: a.buffer.code,\n        addresses: z(e = a.buffer.edges_services).call(e, function (b) {\n          return oj({}, b, {\n            ticket: a.buffer.cert\n          });\n        }),\n        server_ts: d.enter_ts,\n        uid: a.buffer.uid,\n        cid: a.buffer.cid,\n        cname: a.buffer.cname,\n        detail: oj({}, a.buffer.detail, {}, d.detail),\n        flag: a.buffer.flag,\n        opid: d.opid\n      });\n    }), !c) throw new q(n.MULTI_UNILBS_RESPONSE_ERROR, \"cannot parse response \".concat(g, \" from multi unilbs response\"), {\n      csIp: d.detail && d.detail[502]\n    });\n    return c;\n  }\n\n  function lo(d) {\n    var g;\n    return z(g = d.addresses).call(g, function (a) {\n      return {\n        address: a.ip,\n        tcpport: a.port,\n        udpport: a.port,\n        username: Oa.username,\n        password: Oa.password\n      };\n    });\n  }\n\n  function sj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function hg(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = sj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = sj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function ed(d) {\n    return window.TextEncoder ? new TextEncoder().encode(d).length : d.length;\n  }\n\n  function jb(d) {\n    return new y(function (g) {\n      window.setTimeout(g, d);\n    });\n  }\n\n  function mo(d) {\n    var g = new q(n.TIMEOUT, \"timeout\");\n    return new y(function (a, b) {\n      window.setTimeout(function () {\n        return b(g);\n      }, d);\n    });\n  }\n\n  function va() {\n    var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n    var g = arguments.length > 1 ? arguments[1] : undefined;\n    var a, b;\n    var c = Math.random().toString(16).substr(2, d).toLowerCase();\n    return c.length === d ? m(a = \"\".concat(g)).call(a, c) : m(b = \"\".concat(g)).call(b, c) + va(d - c.length, \"\");\n  }\n\n  function tj(d) {\n    return new y(function (g, a) {\n      var b = !1,\n          c = document.createElement(\"video\");\n      c.setAttribute(\"autoplay\", \"\");\n      c.setAttribute(\"muted\", \"\");\n      c.muted = !0;\n      c.autoplay = !0;\n      c.setAttribute(\"playsinline\", \"\");\n      c.setAttribute(\"style\", \"position: fixed; top: 0; left: 0; width: 1px; height: 1px\");\n      document.body.appendChild(c);\n      a = vb() ? \"canplay\" : \"playing\";\n      c.addEventListener(a, function () {\n        var a = c.videoWidth,\n            d = c.videoHeight;\n        !a && db() || (b = !0, c.srcObject = null, c.remove(), g([a, d]));\n      });\n      c.srcObject = new MediaStream([d]);\n      c.play().catch(Qe);\n      wb(function () {\n        b || (c.srcObject = null, c.remove(), g([c.videoWidth, c.videoHeight]));\n      }, 4E3);\n    });\n  }\n\n  function gd(d) {\n    return y.all(z(d).call(d, function (d) {\n      return d.then(function (a) {\n        throw a;\n      }, function (a) {\n        return a;\n      });\n    })).then(function (d) {\n      throw d;\n    }, function (d) {\n      return d;\n    });\n  }\n\n  function Ia(d, g) {\n    for (var _len4 = arguments.length, a = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n      a[_key4 - 2] = arguments[_key4];\n    }\n\n    return 0 === d.getListeners(g).length ? y.reject(new q(n.UNEXPECTED_ERROR, \"can not emit promise\")) : new y(function (b, c) {\n      d.emit.apply(d, [g].concat(a, [b, c]));\n    });\n  }\n\n  function Za(d, g) {\n    for (var _len5 = arguments.length, a = new Array(_len5 > 2 ? _len5 - 2 : 0), _key5 = 2; _key5 < _len5; _key5++) {\n      a[_key5 - 2] = arguments[_key5];\n    }\n\n    return 0 === d.getListeners(g).length ? y.resolve() : Ia.apply(void 0, [d, g].concat(a));\n  }\n\n  function Hc(d, g) {\n    for (var _len6 = arguments.length, a = new Array(_len6 > 2 ? _len6 - 2 : 0), _key6 = 2; _key6 < _len6; _key6++) {\n      a[_key6 - 2] = arguments[_key6];\n    }\n\n    return 0 === d.getListeners(g).length ? null : Pd.apply(void 0, [d, g].concat(a));\n  }\n\n  function Pd(d, g) {\n    var b = null,\n        c = null;\n\n    for (var _len7 = arguments.length, a = new Array(_len7 > 2 ? _len7 - 2 : 0), _key7 = 2; _key7 < _len7; _key7++) {\n      a[_key7 - 2] = arguments[_key7];\n    }\n\n    if (d.emit.apply(d, [g].concat(a, [function (a) {\n      b = a;\n    }, function (a) {\n      c = a;\n    }])), null !== c) throw c;\n    if (null === b) throw new q(n.UNEXPECTED_ERROR, \"handler is not sync\");\n    return b;\n  }\n\n  function Gc(d, g) {\n    g = J(d).call(d, g);\n    -1 !== g && Ra(d).call(d, g, 1);\n  }\n\n  function uj(d) {\n    var g = [];\n    return t(d).call(d, function (a) {\n      -1 === J(g).call(g, a) && g.push(a);\n    }), g;\n  }\n\n  function xb(d) {\n    y.resolve().then(d);\n  }\n\n  function Qd(d, g) {\n    vj[g] || (vj[g] = !0, d());\n  }\n\n  function ig(d) {\n    d = window.atob(d);\n    var g = new Uint8Array(new ArrayBuffer(d.length));\n\n    for (var a = 0; a < d.length; a += 1) {\n      g[a] = d.charCodeAt(a);\n    }\n\n    return g;\n  }\n\n  function Re(d) {\n    var g = \"\";\n\n    for (var a = 0; a < d.length; a += 1) {\n      g += String.fromCharCode(d[a]);\n    }\n\n    return window.btoa(g);\n  }\n\n  function Se(d) {\n    var g = no[Math.floor(d / 1E4)];\n    if (!g) return {\n      desc: \"unkonw error\",\n      retry: !1\n    };\n    g = g[d % 1E4];\n\n    if (!g) {\n      if (Math.floor(d / 1E4) === hd.ACCESS_POINT) {\n        g = d % 1E4;\n        if (\"1\" === g.toString()[0]) return {\n          desc: d.toString(),\n          retry: !1\n        };\n        if (\"2\" === g.toString()[0]) return {\n          desc: d.toString(),\n          retry: !0\n        };\n      }\n\n      return {\n        desc: \"unkonw error\",\n        retry: !1\n      };\n    }\n\n    return g;\n  }\n\n  function wj(d) {\n    return oo[d] || {\n      desc: \"UNKNOW_ERROR_\".concat(d),\n      action: \"failed\"\n    };\n  }\n\n  function po() {\n    return _po.apply(this, arguments);\n  }\n\n  function _po() {\n    _po = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee174() {\n      var d, g, a, b, c, e, f, h, l, r, p, w, k, K, m, B, n, q, t, u, v, x, A, xj, z, C, D, F, E, G, I, H, Pa, kc;\n      return _regeneratorRuntime.wrap(function _callee174$(_context174) {\n        while (1) {\n          switch (_context174.prev = _context174.next) {\n            case 0:\n              c = function _ref60(a) {\n                function c() {\n                  if (!E && (E = !0, h.calledRun = !0, !B)) {\n                    b(x);\n                    b(A);\n                    h.onRuntimeInitialized && h.onRuntimeInitialized();\n                    if (h.postRun) for (\"function\" == typeof h.postRun && (h.postRun = [h.postRun]); h.postRun.length;) {\n                      var a = h.postRun.shift();\n                      xj.unshift(a);\n                    }\n                    b(xj);\n                  }\n                }\n\n                0 < z || (!function () {\n                  if (h.preRun) for (\"function\" == typeof h.preRun && (h.preRun = [h.preRun]); h.preRun.length;) {\n                    var a = h.preRun.shift();\n                    v.unshift(a);\n                  }\n                  b(v);\n                }(), 0 < z || (h.setStatus ? (h.setStatus(\"Running...\"), wb(function () {\n                  wb(function () {\n                    h.setStatus(\"\");\n                  }, 1);\n                  c();\n                }, 1)) : c()));\n              };\n\n              b = function _ref59(a) {\n                for (; 0 < a.length;) {\n                  var _b40 = a.shift();\n\n                  if (\"function\" == typeof _b40) {\n                    _b40(h);\n\n                    continue;\n                  }\n\n                  var _c29 = _b40.func;\n                  \"number\" == typeof _c29 ? void 0 === _b40.arg ? u.get(_c29)() : u.get(_c29)(_b40.arg) : _c29(void 0 === _b40.arg ? null : _b40.arg);\n                }\n              };\n\n              a = function _ref58(a) {\n                h.onAbort && h.onAbort(a);\n                K(a += \"\");\n                B = !0;\n                throw new WebAssembly.RuntimeError(\"abort(\" + a + \"). Build with -s ASSERTIONS=1 for more info.\");\n              };\n\n              g = function _ref57(a, b, c, e, f) {\n                f = {\n                  string: function string(a) {\n                    var b = 0;\n\n                    if (null != a && 0 !== a) {\n                      var c = 1 + (a.length << 2);\n                      b = kc(c);\n                      var d = t,\n                          e = b;\n\n                      if (0 < c) {\n                        c = e + c - 1;\n\n                        for (var _b37 = 0; _b37 < a.length; ++_b37) {\n                          var _f11 = a.charCodeAt(_b37);\n\n                          55296 <= _f11 && 57343 >= _f11 && (_f11 = 65536 + ((1023 & _f11) << 10) | 1023 & a.charCodeAt(++_b37));\n\n                          if (127 >= _f11) {\n                            if (e >= c) break;\n                            d[e++] = _f11;\n                          } else {\n                            if (2047 >= _f11) {\n                              if (e + 1 >= c) break;\n                              d[e++] = 192 | _f11 >> 6;\n                            } else {\n                              if (65535 >= _f11) {\n                                if (e + 2 >= c) break;\n                                d[e++] = 224 | _f11 >> 12;\n                              } else {\n                                if (e + 3 >= c) break;\n                                d[e++] = 240 | _f11 >> 18;\n                                d[e++] = 128 | _f11 >> 12 & 63;\n                              }\n\n                              d[e++] = 128 | _f11 >> 6 & 63;\n                            }\n\n                            d[e++] = 128 | 63 & _f11;\n                          }\n                        }\n\n                        d[e] = 0;\n                      }\n                    }\n\n                    return b;\n                  },\n                  array: function array(a) {\n                    var b = kc(a.length);\n                    return q.set(a, b), b;\n                  }\n                };\n                var h = d(a),\n                    g = [];\n                a = 0;\n                if (e) for (var _b38 = 0; _b38 < e.length; _b38++) {\n                  var _d9 = f[c[_b38]];\n                  _d9 ? (0 === a && (a = H()), g[_b38] = _d9(e[_b38])) : g[_b38] = e[_b38];\n                }\n                c = h.apply(null, g);\n                return c = function (a) {\n                  if (\"string\" === b) {\n                    if (e = a) {\n                      {\n                        a = t;\n                        var c = e + d;\n                        var d = e;\n                        var _b39 = \"\";\n\n                        for (; a[d] && !(d >= c);) {\n                          ++d;\n                        }\n\n                        if (16 < d - e && a.subarray && n) a = n.decode(a.subarray(e, d));else {\n                          for (; e < d;) {\n                            c = a[e++];\n\n                            if (!(128 & c)) {\n                              _b39 += String.fromCharCode(c);\n                              continue;\n                            }\n\n                            var _d10 = 63 & a[e++];\n\n                            if (192 == (224 & c)) {\n                              _b39 += String.fromCharCode((31 & c) << 6 | _d10);\n                              continue;\n                            }\n\n                            var _f12 = 63 & a[e++];\n\n                            (c = 224 == (240 & c) ? (15 & c) << 12 | _d10 << 6 | _f12 : (7 & c) << 18 | _d10 << 12 | _f12 << 6 | 63 & a[e++], 65536 > c) ? _b39 += String.fromCharCode(c) : (c -= 65536, _b39 += String.fromCharCode(55296 | c >> 10, 56320 | 1023 & c));\n                          }\n\n                          a = _b39;\n                        }\n                      }\n                    } else a = \"\";\n                  } else a = \"boolean\" === b ? !!a : a;\n                  return a;\n                  var e;\n                }(c), 0 !== a && Pa(a), c;\n              };\n\n              d = function _ref56(b) {\n                var c = h[\"_\" + b];\n                var d;\n                return d = \"Cannot call unknown function \" + b + \", make sure it is exported\", c || a(\"Assertion failed: \" + d), c;\n              };\n\n              if (!kg) {\n                _context174.next = 7;\n                break;\n              }\n\n              return _context174.abrupt(\"return\", kg);\n\n            case 7:\n              h = {}, r = {};\n\n              for (l in h) {\n                Object.prototype.hasOwnProperty.call(h, l) && (r[l] = h[l]);\n              }\n\n              p = !1, w = !1;\n              p = \"object\" == typeof window;\n              w = \"function\" == typeof importScripts;\n              k = \"\";\n              (p || w) && (w ? k = self.location.href : \"undefined\" != typeof document && document.currentScript && (k = document.currentScript.src), k = 0 !== J(k).call(k, \"blob:\") ? k.substr(0, qo(k).call(k, \"/\") + 1) : \"\");\n              h.print || xa(e = console.log).call(e, console);\n              K = h.printErr || xa(f = console.warn).call(f, console);\n\n              for (l in r) {\n                Object.prototype.hasOwnProperty.call(r, l) && (h[l] = r[l]);\n              }\n\n              r = null;\n              \"object\" != typeof WebAssembly && a(\"no native wasm support detected\");\n              B = !1, n = \"undefined\" != typeof TextDecoder ? new TextDecoder(\"utf8\") : void 0;\n              \"undefined\" != typeof TextDecoder && new TextDecoder(\"utf-16le\");\n              v = [], x = [], A = [], xj = [];\n              x.push({\n                func: function func() {\n                  G();\n                }\n              });\n              z = 0, C = null;\n              h.preloadedImages = {};\n              h.preloadedAudios = {};\n              e = \"deflate.wasm\";\n              Hd(D = e).call(D, \"data:application/octet-stream;base64,\") || (e = function (a) {\n                return h.locateFile ? h.locateFile(a, k) : k + a;\n              }(e));\n              F = {\n                emscripten_memcpy_big: function emscripten_memcpy_big(a, b, c) {\n                  var d = t.copyWithin;\n                  (t === yj || t instanceof Array && d === yj.copyWithin ? ro : d).call(t, a, b, b + c);\n                },\n                emscripten_resize_heap: function emscripten_resize_heap(b) {\n                  a(\"OOM\");\n                }\n              };\n              _context174.next = 31;\n              return _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee173() {\n                var b, c;\n                return _regeneratorRuntime.wrap(function _callee173$(_context173) {\n                  while (1) {\n                    switch (_context173.prev = _context173.next) {\n                      case 0:\n                        b = function _ref55(a, b) {\n                          h.asm = a.exports;\n                          m = h.asm.memory;\n                          a = m.buffer;\n                          h.HEAP8 = q = new Int8Array(a);\n                          h.HEAP16 = new Int16Array(a);\n                          h.HEAP32 = new Int32Array(a);\n                          h.HEAPU8 = t = new Uint8Array(a);\n                          h.HEAPU16 = new Uint16Array(a);\n                          h.HEAPU32 = new Uint32Array(a);\n                          h.HEAPF32 = new Float32Array(a);\n                          h.HEAPF64 = new Float64Array(a);\n                          u = h.asm.__indirect_function_table;\n                          if (z--, h.monitorRunDependencies && h.monitorRunDependencies(z), 0 == z && C) a = C, C = null, a();\n                        };\n\n                        c = {\n                          env: F,\n                          wasi_snapshot_preview1: F\n                        };\n\n                        if (!(z++, h.monitorRunDependencies && h.monitorRunDependencies(z), h.instantiateWasm)) {\n                          _context173.next = 10;\n                          break;\n                        }\n\n                        _context173.prev = 3;\n                        return _context173.abrupt(\"return\", h.instantiateWasm(c, b));\n\n                      case 7:\n                        _context173.prev = 7;\n                        _context173.t0 = _context173[\"catch\"](3);\n                        return _context173.abrupt(\"return\", (K(\"Module.instantiateWasm callback failed with error: \" + _context173.t0), !1));\n\n                      case 10:\n                        _context173.next = 12;\n                        return function (b) {\n                          return new y(function (a, b) {\n                            a(so().buffer);\n                          }).then(function (a) {\n                            return WebAssembly.instantiate(a, c);\n                          }).then(b, function (b) {\n                            K(\"failed to asynchronously prepare wasm: \" + b);\n                            a(b);\n                          });\n                        }(function (a) {\n                          b(a.instance);\n                        });\n\n                      case 12:\n                        return _context173.abrupt(\"return\", {});\n\n                      case 13:\n                      case \"end\":\n                        return _context173.stop();\n                    }\n                  }\n                }, _callee173, this, [[3, 7]]);\n              }))();\n\n            case 31:\n              G = h.___wasm_call_ctors = function () {\n                return (G = h.___wasm_call_ctors = h.asm.__wasm_call_ctors).apply(null, arguments);\n              }, I = h._malloc = function () {\n                return (I = h._malloc = h.asm.malloc).apply(null, arguments);\n              };\n\n              h._free = function () {\n                return (h._free = h.asm.free).apply(null, arguments);\n              };\n\n              h.___errno_location = function () {\n                return (h.___errno_location = h.asm.__errno_location).apply(null, arguments);\n              };\n\n              h._zlibCompress = function () {\n                return (h._zlibCompress = h.asm.zlibCompress).apply(null, arguments);\n              };\n\n              H = h.stackSave = function () {\n                return (H = h.stackSave = h.asm.stackSave).apply(null, arguments);\n              }, Pa = h.stackRestore = function () {\n                return (Pa = h.stackRestore = h.asm.stackRestore).apply(null, arguments);\n              }, kc = h.stackAlloc = function () {\n                return (kc = h.stackAlloc = h.asm.stackAlloc).apply(null, arguments);\n              };\n              if (h.ccall = g, h.cwrap = function (a, b, c, e) {\n                var f = to(c = c || []).call(c, function (a) {\n                  return \"number\" === a;\n                });\n                return \"string\" !== b && f && !e ? d(a) : function () {\n                  return g(a, b, c, arguments);\n                };\n              }, h.allocate = function (a, b) {\n                var c;\n                return c = 1 == b ? kc(a.length) : I(a.length), a.subarray || Ma(a) ? t.set(a, c) : t.set(new Uint8Array(a), c), c;\n              }, C = function Ic() {\n                E || c();\n                E || (C = Ic);\n              }, h.run = c, h.preInit) for (\"function\" == typeof h.preInit && (h.preInit = [h.preInit]); 0 < h.preInit.length;) {\n                h.preInit.pop()();\n              }\n              return _context174.abrupt(\"return\", (c(), kg = h, h));\n\n            case 38:\n            case \"end\":\n              return _context174.stop();\n          }\n        }\n      }, _callee174, this);\n    }));\n    return _po.apply(this, arguments);\n  }\n\n  function zj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function lg(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = zj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = zj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Aj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function uo(d, g, a, b, c) {\n    mg += 1;\n    var e = {\n      sid: a.sid,\n      command: \"convergeAllocateEdge\",\n      uid: \"666\",\n      appId: a.appId,\n      ts: Math.floor(x() / 1E3),\n      seq: mg,\n      requestId: mg,\n      version: ob,\n      cname: a.cname\n    },\n        f = {\n      service_name: g,\n      json_body: A(e)\n    },\n        h,\n        l,\n        r = d[0];\n    return ac(\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var a, c;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              h = x();\n              _context5.next = 3;\n              return Rb(r, {\n                data: f,\n                cancelToken: b,\n                headers: {\n                  \"X-Packet-Service-Type\": \"0\",\n                  \"X-Packet-URI\": \"61\"\n                }\n              });\n\n            case 3:\n              a = _context5.sent;\n\n              if (!(l = x() - h, 0 !== a.code)) {\n                _context5.next = 7;\n                break;\n              }\n\n              c = new q(n.UNEXPECTED_RESPONSE, \"live streaming ap error, code\" + a.code, {\n                retry: !0,\n                responseTime: l\n              });\n              throw k.error(c.toString()), c;\n\n            case 7:\n              a = JSON.parse(a.json_body);\n\n              if (!(200 !== a.code)) {\n                _context5.next = 10;\n                break;\n              }\n\n              throw a = new q(n.UNEXPECTED_RESPONSE, m(c = \"live streaming app center error, code: \".concat(a.code, \", reason: \")).call(c, a.reason), {\n                code: a.code,\n                responseTime: l\n              }), k.error(a.toString()), a;\n\n            case 10:\n              if (!(!a.servers || 0 === a.servers.length)) {\n                _context5.next = 12;\n                break;\n              }\n\n              throw c = new q(n.UNEXPECTED_RESPONSE, \"live streaming app center empty server\", {\n                code: a.code,\n                responseTime: l\n              }), k.error(c.toString()), c;\n\n            case 12:\n              c = function (a, b) {\n                var c;\n                return {\n                  addressList: z(c = a.servers).call(c, function (a) {\n                    var c, d;\n                    return m(c = m(d = \"wss://\".concat(a.address.replace(/\\./g, \"-\"), \".edge.agora.io:\")).call(d, a.wss, \"?serviceName=\")).call(c, encodeURIComponent(b));\n                  }),\n                  workerToken: a.workerToken,\n                  vid: a.vid\n                };\n              }(a, g);\n\n              return _context5.abrupt(\"return\", (v.LIVE_STREAMING_ADDRESS && (c.addressList = v.LIVE_STREAMING_ADDRESS instanceof Array ? v.LIVE_STREAMING_ADDRESS : [v.LIVE_STREAMING_ADDRESS]), function (a) {\n                for (var b = 1; b < arguments.length; b++) {\n                  var c,\n                      d = null != arguments[b] ? arguments[b] : {};\n                  if (b % 2) t(c = Aj(Object(d), !0)).call(c, function (b) {\n                    gb(a, b, d[b]);\n                  });else if (ka) hb(a, ka(d));else {\n                    var e;\n                    t(e = Aj(Object(d))).call(e, function (b) {\n                      Q(a, b, ca(d, b));\n                    });\n                  }\n                }\n\n                return a;\n              }({}, c, {\n                responseTime: l\n              })));\n\n            case 14:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    })), function (b, c) {\n      return u.apworkerEvent(a.sid, {\n        success: !0,\n        sc: 200,\n        serviceName: g,\n        responseDetail: A(b.addressList),\n        firstSuccess: 0 === c,\n        responseTime: l,\n        serverIp: d[c % d.length]\n      }), !1;\n    }, function (b, c) {\n      return u.apworkerEvent(a.sid, {\n        success: !1,\n        sc: b.data && b.data.code || 200,\n        serviceName: g,\n        responseTime: l,\n        serverIp: d[c % d.length]\n      }), !!(b.code !== n.OPERATION_ABORTED && b.code !== n.UNEXPECTED_RESPONSE || b.data && b.data.retry) && (r = d[(c + 1) % d.length], !0);\n    }, c);\n  }\n\n  function Bj(_ref14, a, b, c) {\n    var d = _ref14.url,\n        g = _ref14.areaCode;\n\n    var e = x(),\n        _Cj = Cj(a, g, [ib.CHOOSE_SERVER]),\n        _Cj2 = _slicedToArray(_Cj, 2),\n        f = _Cj2[0],\n        h = _Cj2[1],\n        l = pb.networkState;\n\n    return ac(\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee6() {\n      var h;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.t0 = l && pb.networkState === Gb.OFFLINE && pb.onlineWaiter;\n\n              if (!_context6.t0) {\n                _context6.next = 4;\n                break;\n              }\n\n              _context6.next = 4;\n              return y.race([pb.onlineWaiter, jb(c && c.maxRetryTimeout || Ga.maxRetryTimeout)]);\n\n            case 4:\n              l = pb.networkState;\n              _context6.next = 7;\n              return Rb(d, {\n                data: f,\n                cancelToken: b,\n                headers: {\n                  \"Content-Type\": \"multipart/form-data;\"\n                }\n              }, !0);\n\n            case 7:\n              h = _context6.sent;\n              Dj(h, d, a, e, [ib.CHOOSE_SERVER]);\n              h = gg(h, ib.CHOOSE_SERVER);\n              return _context6.abrupt(\"return\", (Ej(h), pj(h, d)));\n\n            case 11:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    })), function (b) {\n      return b && u.joinChooseServer(a.sid, {\n        lts: e,\n        succ: !0,\n        csAddr: d,\n        opid: h,\n        serverList: b.gatewayAddrs,\n        ec: null,\n        cid: b.cid.toString(),\n        uid: b.uid.toString(),\n        csIp: b.csIp,\n        unilbsServerIds: [ib.CHOOSE_SERVER].toString()\n      }), !1;\n    }, function (b) {\n      return b.code !== n.OPERATION_ABORTED && (b.code === n.CAN_NOT_GET_GATEWAY_SERVER ? b.data.retry : (u.joinChooseServer(a.sid, {\n        lts: e,\n        succ: !1,\n        csAddr: d,\n        serverList: null,\n        opid: h,\n        ec: b.code,\n        csIp: b.data && b.data.csIp,\n        unilbsServerIds: [ib.CHOOSE_SERVER].toString(),\n        extend: A({\n          networkState: l\n        })\n      }), k.warning(\"[\".concat(a.clientId, \"] Choose server network error, retry\"), b), !0));\n    }, c);\n  }\n\n  function Fj(_ref16, b, c, e) {\n    var d = _ref16.url,\n        g = _ref16.areaCode,\n        a = _ref16.serviceIds;\n\n    var f = x(),\n        _Cj3 = Cj(b, g, a),\n        _Cj4 = _slicedToArray(_Cj3, 2),\n        h = _Cj4[0],\n        l = _Cj4[1],\n        r = void 0;\n\n    return ac(\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee7() {\n      var g, l;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.t0 = r && pb.networkState === Gb.OFFLINE && pb.onlineWaiter;\n\n              if (!_context7.t0) {\n                _context7.next = 4;\n                break;\n              }\n\n              _context7.next = 4;\n              return y.race([pb.onlineWaiter, jb(e && e.maxRetryTimeout || Ga.maxRetryTimeout)]);\n\n            case 4:\n              r = pb.networkState;\n              _context7.next = 7;\n              return Rb(d, {\n                data: h,\n                cancelToken: c,\n                headers: {\n                  \"Content-Type\": \"multipart/form-data;\"\n                }\n              }, !0);\n\n            case 7:\n              g = _context7.sent;\n              Dj(g, d, b, f, a);\n              l = gg(g, ib.CHOOSE_SERVER);\n              g = gg(g, \"proxy5\" === b.cloudProxyServer ? ib.CLOUD_PROXY_5 : ib.CLOUD_PROXY);\n              return _context7.abrupt(\"return\", (Ej(l), {\n                gatewayInfo: pj(l, d),\n                proxyInfo: g,\n                url: d\n              }));\n\n            case 12:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    })), function (c) {\n      var e;\n      return c.gatewayInfo && u.joinChooseServer(b.sid, {\n        lts: f,\n        succ: !0,\n        csAddr: d,\n        serverList: c.gatewayInfo.gatewayAddrs,\n        ec: null,\n        opid: l,\n        cid: c.gatewayInfo.cid.toString(),\n        uid: c.gatewayInfo.uid.toString(),\n        csIp: c.gatewayInfo.csIp,\n        unilbsServerIds: a.toString()\n      }), c.proxyInfo && u.joinWebProxyAP(b.sid, {\n        lts: f,\n        sucess: 1,\n        apServerAddr: d,\n        turnServerAddrList: z(e = c.proxyInfo.addresses).call(e, function (a) {\n          return a.ip;\n        }).join(\",\"),\n        errorCode: null,\n        eventType: b.cloudProxyServer,\n        unilbsServerIds: a.toString()\n      }), !1;\n    }, function (c) {\n      return c.code !== n.OPERATION_ABORTED && (c.code === n.CAN_NOT_GET_GATEWAY_SERVER ? c.data.retry : (u.joinWebProxyAP(b.sid, {\n        lts: f,\n        sucess: 0,\n        apServerAddr: d,\n        turnServerAddrList: null,\n        errorCode: c.code,\n        eventType: b.cloudProxyServer,\n        unilbsServerIds: a.toString(),\n        extend: A({\n          networkState: r\n        })\n      }), k.warning(\"[\".concat(b.clientId, \"] multi unilbs network error, retry\"), c), !0));\n    }, e);\n  }\n\n  function Ud(_x15, _x16, _x17) {\n    return _Ud.apply(this, arguments);\n  }\n\n  function _Ud() {\n    _Ud = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee178(d, g, a) {\n      return _regeneratorRuntime.wrap(function _callee178$(_context178) {\n        while (1) {\n          switch (_context178.prev = _context178.next) {\n            case 0:\n              _context178.next = 2;\n              return function () {\n                var _ref61 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee177(a, c, d) {\n                  var b, e, g, r, p;\n                  return _regeneratorRuntime.wrap(function _callee177$(_context177) {\n                    while (1) {\n                      switch (_context177.prev = _context177.next) {\n                        case 0:\n                          g = z(b = Ma(e = v.WEBCS_DOMAIN).call(e, 0, v.AJAX_REQUEST_CONCURRENT)).call(b, function (b) {\n                            var c;\n                            return {\n                              url: a.proxyServer ? m(c = \"https://\".concat(a.proxyServer, \"/ap/?url=\")).call(c, b + \"/api/v2/transpond/webrtc?v=2\") : \"https://\".concat(b, \"/api/v2/transpond/webrtc?v=2\"),\n                              areaCode: Vd()\n                            };\n                          });\n                          r = null;\n                          p = [];\n                          _context177.next = 5;\n                          return gd([_asyncToGenerator(\n                          /*#__PURE__*/\n                          _regeneratorRuntime.mark(function _callee175() {\n                            return _regeneratorRuntime.wrap(function _callee175$(_context175) {\n                              while (1) {\n                                switch (_context175.prev = _context175.next) {\n                                  case 0:\n                                    _context175.next = 2;\n                                    return id({\n                                      fragementLength: v.FRAGEMENT_LENGTH,\n                                      referenceList: g,\n                                      asyncMapHandler: function asyncMapHandler(b) {\n                                        return k.debug(\"[\".concat(a.clientId, \"] Connect to choose_server:\"), b.url), Bj(b, a, c, d);\n                                      },\n                                      allFailedhandler: function allFailedhandler(a) {\n                                        throw a[0];\n                                      },\n                                      promisesCollector: p\n                                    });\n\n                                  case 2:\n                                    return _context175.abrupt(\"return\", _context175.sent);\n\n                                  case 3:\n                                  case \"end\":\n                                    return _context175.stop();\n                                }\n                              }\n                            }, _callee175, this);\n                          }))(), _asyncToGenerator(\n                          /*#__PURE__*/\n                          _regeneratorRuntime.mark(function _callee176() {\n                            var b, e;\n                            return _regeneratorRuntime.wrap(function _callee176$(_context176) {\n                              while (1) {\n                                switch (_context176.prev = _context176.next) {\n                                  case 0:\n                                    _context176.next = 2;\n                                    return jb(1E3);\n\n                                  case 2:\n                                    if (!(null !== r)) {\n                                      _context176.next = 4;\n                                      break;\n                                    }\n\n                                    return _context176.abrupt(\"return\", r);\n\n                                  case 4:\n                                    e = z(b = v.WEBCS_DOMAIN_BACKUP_LIST).call(b, function (b) {\n                                      var c;\n                                      return {\n                                        url: a.proxyServer ? m(c = \"https://\".concat(a.proxyServer, \"/ap/?url=\")).call(c, b + \"/api/v2/transpond/webrtc?v=2\") : \"https://\".concat(b, \"/api/v2/transpond/webrtc?v=2\"),\n                                        areaCode: Vd()\n                                      };\n                                    });\n                                    _context176.next = 7;\n                                    return id({\n                                      fragementLength: v.FRAGEMENT_LENGTH,\n                                      referenceList: e,\n                                      asyncMapHandler: function asyncMapHandler(b) {\n                                        return k.debug(\"[\".concat(a.clientId, \"] Connect to backup choose_server:\"), b.url), Bj(b, a, c, d);\n                                      },\n                                      allFailedhandler: function allFailedhandler(a) {\n                                        throw a[0];\n                                      },\n                                      promisesCollector: p\n                                    });\n\n                                  case 7:\n                                    return _context176.abrupt(\"return\", _context176.sent);\n\n                                  case 8:\n                                  case \"end\":\n                                    return _context176.stop();\n                                }\n                              }\n                            }, _callee176, this);\n                          }))()]);\n\n                        case 5:\n                          r = _context177.sent;\n                          p.length && t(p).call(p, function (a) {\n                            return a.cancel && \"function\" == typeof a.cancel && a.cancel();\n                          });\n                          return _context177.abrupt(\"return\", r);\n\n                        case 8:\n                        case \"end\":\n                          return _context177.stop();\n                      }\n                    }\n                  }, _callee177, this);\n                }));\n\n                return function (_x218, _x219, _x220) {\n                  return _ref61.apply(this, arguments);\n                };\n              }()(d, g, a);\n\n            case 2:\n              _context178.t0 = _context178.sent;\n              return _context178.abrupt(\"return\", {\n                gatewayInfo: _context178.t0\n              });\n\n            case 4:\n            case \"end\":\n              return _context178.stop();\n          }\n        }\n      }, _callee178, this);\n    }));\n    return _Ud.apply(this, arguments);\n  }\n\n  function Gj(_x18, _x19, _x20, _x21) {\n    return _Gj.apply(this, arguments);\n  }\n\n  function _Gj() {\n    _Gj = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee182(d, g, a, b) {\n      var c, e, f, _ref64, _ref65, h, _c30, _ref66, _b41, _c31;\n\n      return _regeneratorRuntime.wrap(function _callee182$(_context182) {\n        while (1) {\n          switch (_context182.prev = _context182.next) {\n            case 0:\n              if (!(\"disabled\" === d.cloudProxyServer)) {\n                _context182.next = 9;\n                break;\n              }\n\n              if (!b) {\n                _context182.next = 7;\n                break;\n              }\n\n              _context182.next = 4;\n              return Ud(d, g, a);\n\n            case 4:\n              _context182.t0 = _context182.sent;\n              _context182.next = 8;\n              break;\n\n            case 7:\n              _context182.t0 = void 0;\n\n            case 8:\n              return _context182.abrupt(\"return\", _context182.t0);\n\n            case 9:\n              if (!(\"443only\" === d.cloudProxyServer || \"normal\" === d.cloudProxyServer)) {\n                _context182.next = 48;\n                break;\n              }\n\n              if (!b) {\n                _context182.next = 32;\n                break;\n              }\n\n              if (!(\"normal\" !== d.cloudProxyServer)) {\n                _context182.next = 21;\n                break;\n              }\n\n              _context182.next = 14;\n              return y.all([Te(d, g, a), Ud(d, g, a)]);\n\n            case 14:\n              _ref64 = _context182.sent;\n              _ref65 = _slicedToArray(_ref64, 2);\n              _c30 = _ref65[0];\n              f = _ref65[1];\n              _ref64;\n              _context182.next = 30;\n              break;\n\n            case 21:\n              _context182.next = 23;\n              return Te(d, g, a);\n\n            case 23:\n              _c30 = _context182.sent;\n              d.proxyServer = _c30.addresses[0];\n              u.setProxyServer(d.proxyServer);\n              k.setProxyServer(d.proxyServer);\n              _context182.next = 29;\n              return Ud(d, g, a);\n\n            case 29:\n              f = _context182.sent;\n\n            case 30:\n              _context182.next = 45;\n              break;\n\n            case 32:\n              f = void 0;\n\n              if (!(\"normal\" !== d.cloudProxyServer)) {\n                _context182.next = 39;\n                break;\n              }\n\n              _context182.next = 36;\n              return Te(d, g, a);\n\n            case 36:\n              _c30 = _context182.sent;\n              _context182.next = 45;\n              break;\n\n            case 39:\n              _context182.next = 41;\n              return Te(d, g, a);\n\n            case 41:\n              _c30 = _context182.sent;\n              d.proxyServer = _c30.addresses[0];\n              u.setProxyServer(d.proxyServer);\n              k.setProxyServer(d.proxyServer);\n\n            case 45:\n              d.turnServer = {\n                mode: \"manual\",\n                servers: z(h = _c30.addresses).call(h, function (a) {\n                  return {\n                    turnServerURL: a,\n                    tcpport: \"proxy3\" === d.cloudProxyServer ? void 0 : _c30.serverResponse.tcpport ? _c30.serverResponse.tcpport : Oa.tcpport,\n                    udpport: \"proxy4\" === d.cloudProxyServer ? void 0 : _c30.serverResponse.udpport ? _c30.serverResponse.udpport : Oa.udpport,\n                    username: _c30.serverResponse.username || Oa.username,\n                    password: _c30.serverResponse.password || Oa.password,\n                    forceturn: \"proxy4\" !== d.cloudProxyServer && \"proxy5\" !== d.cloudProxyServer,\n                    security: \"proxy5\" === d.cloudProxyServer\n                  };\n                })\n              };\n              _context182.next = 55;\n              break;\n\n            case 48:\n              _context182.next = 50;\n              return function () {\n                var _ref67 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee181(a, b, c) {\n                  var d, e, f, h, g, l, r, _ref68, p, w, X;\n\n                  return _regeneratorRuntime.wrap(function _callee181$(_context181) {\n                    while (1) {\n                      switch (_context181.prev = _context181.next) {\n                        case 0:\n                          f = v.PROXY_SERVER_TYPE3, h = function h(a, b) {\n                            var c;\n                            var d = f;\n                            return Qb(d) && (d = 0 == b % 2 ? f[1] : f[0]), m(c = \"https://\".concat(d, \"/ap/?url=\")).call(c, a);\n                          }, g = z(d = Ma(e = v.WEBCS_DOMAIN).call(e, 0, v.AJAX_REQUEST_CONCURRENT)).call(d, function (b, c) {\n                            return {\n                              url: h(\"\".concat(b, \"/api/v2/transpond/webrtc?v=2\"), c),\n                              areaCode: Vd(),\n                              serviceIds: [ib.CHOOSE_SERVER, \"proxy5\" === a.cloudProxyServer ? ib.CLOUD_PROXY_5 : ib.CLOUD_PROXY]\n                            };\n                          });\n                          l = null;\n                          r = [];\n                          _context181.next = 5;\n                          return gd([_asyncToGenerator(\n                          /*#__PURE__*/\n                          _regeneratorRuntime.mark(function _callee179() {\n                            return _regeneratorRuntime.wrap(function _callee179$(_context179) {\n                              while (1) {\n                                switch (_context179.prev = _context179.next) {\n                                  case 0:\n                                    _context179.next = 2;\n                                    return id({\n                                      fragementLength: v.FRAGEMENT_LENGTH,\n                                      referenceList: g,\n                                      asyncMapHandler: function asyncMapHandler(d) {\n                                        return k.debug(\"[\".concat(a.clientId, \"] Connect to choose_server:\"), d.url), Fj(d, a, b, c);\n                                      },\n                                      allFailedhandler: function allFailedhandler(a) {\n                                        throw a[0];\n                                      },\n                                      promisesCollector: r\n                                    });\n\n                                  case 2:\n                                    return _context179.abrupt(\"return\", _context179.sent);\n\n                                  case 3:\n                                  case \"end\":\n                                    return _context179.stop();\n                                }\n                              }\n                            }, _callee179, this);\n                          }))(), _asyncToGenerator(\n                          /*#__PURE__*/\n                          _regeneratorRuntime.mark(function _callee180() {\n                            var d, e;\n                            return _regeneratorRuntime.wrap(function _callee180$(_context180) {\n                              while (1) {\n                                switch (_context180.prev = _context180.next) {\n                                  case 0:\n                                    _context180.next = 2;\n                                    return jb(1E3);\n\n                                  case 2:\n                                    if (!(null !== l)) {\n                                      _context180.next = 4;\n                                      break;\n                                    }\n\n                                    return _context180.abrupt(\"return\", l);\n\n                                  case 4:\n                                    e = z(d = v.WEBCS_DOMAIN_BACKUP_LIST).call(d, function (a, b) {\n                                      return {\n                                        url: h(\"\".concat(a, \"/api/v2/transpond/webrtc?v=2\"), b),\n                                        areaCode: Vd(),\n                                        serviceIds: [11, 18]\n                                      };\n                                    });\n                                    _context180.next = 7;\n                                    return id({\n                                      fragementLength: v.FRAGEMENT_LENGTH,\n                                      referenceList: e,\n                                      asyncMapHandler: function asyncMapHandler(d) {\n                                        return k.debug(\"[\".concat(a.clientId, \"] Connect to backup choose_server:\"), d.url), Fj(d, a, b, c);\n                                      },\n                                      allFailedhandler: function allFailedhandler(a) {\n                                        throw a[0];\n                                      },\n                                      promisesCollector: r\n                                    });\n\n                                  case 7:\n                                    return _context180.abrupt(\"return\", _context180.sent);\n\n                                  case 8:\n                                  case \"end\":\n                                    return _context180.stop();\n                                }\n                              }\n                            }, _callee180, this);\n                          }))()]);\n\n                        case 5:\n                          _ref68 = _context181.sent;\n                          p = _ref68.gatewayInfo;\n                          w = _ref68.proxyInfo;\n                          X = _ref68.url;\n                          r.length && t(r).call(r, function (a) {\n                            return a.cancel && \"function\" == typeof a.cancel && a.cancel();\n                          });\n\n                          if (!(!p || !w)) {\n                            _context181.next = 12;\n                            break;\n                          }\n\n                          throw new q(n.UNEXPECTED_ERROR, \"missing gateway or proxy response\").print();\n\n                        case 12:\n                          Qb(f) && X && (d = new vo(X).host, Z(f).call(f, d) && (a.proxyServer = d, k.setProxyServer(d), u.setProxyServer(d)));\n                          return _context181.abrupt(\"return\", (l = {\n                            gatewayInfo: p,\n                            proxyInfo: lo(w)\n                          }, l));\n\n                        case 14:\n                        case \"end\":\n                          return _context181.stop();\n                      }\n                    }\n                  }, _callee181, this);\n                }));\n\n                return function (_x221, _x222, _x223) {\n                  return _ref67.apply(this, arguments);\n                };\n              }()(d, g, a);\n\n            case 50:\n              _ref66 = _context182.sent;\n              _b41 = _ref66.proxyInfo;\n              _c31 = _ref66.gatewayInfo;\n              f = {\n                gatewayInfo: _c31\n              };\n              d.turnServer = {\n                mode: \"manual\",\n                servers: z(_b41).call(_b41, function (a) {\n                  return {\n                    turnServerURL: a.address,\n                    tcpport: \"proxy3\" === d.cloudProxyServer ? void 0 : a.tcpport ? a.tcpport : Oa.tcpport,\n                    udpport: \"proxy4\" === d.cloudProxyServer ? void 0 : a.udpport ? a.udpport : Oa.udpport,\n                    username: a.username || Oa.username,\n                    password: a.password || Oa.password,\n                    forceturn: \"proxy4\" !== d.cloudProxyServer && \"proxy5\" !== d.cloudProxyServer,\n                    security: \"proxy5\" === d.cloudProxyServer\n                  };\n                })\n              };\n\n            case 55:\n              return _context182.abrupt(\"return\", (k.debug(m(c = m(e = \"[\".concat(d.clientId, \"] set proxy server: \")).call(e, d.proxyServer, \", mode: \")).call(c, d.cloudProxyServer)), f));\n\n            case 56:\n            case \"end\":\n              return _context182.stop();\n          }\n        }\n      }, _callee182, this);\n    }));\n    return _Gj.apply(this, arguments);\n  }\n\n  function ng(_x22, _x23, _x24, _x25) {\n    return _ng.apply(this, arguments);\n  }\n\n  function _ng() {\n    _ng = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee184(d, g, a, b) {\n      var c, e;\n      return _regeneratorRuntime.wrap(function _callee184$(_context184) {\n        while (1) {\n          switch (_context184.prev = _context184.next) {\n            case 0:\n              e = Ma(c = v.ACCOUNT_REGISTER).call(c, 0, v.AJAX_REQUEST_CONCURRENT);\n              c = [];\n              c = g.proxyServer ? z(e).call(e, function (a) {\n                var b;\n                return m(b = \"https://\".concat(g.proxyServer, \"/ap/?url=\")).call(b, a + \"/api/v1\");\n              }) : z(e).call(e, function (a) {\n                return \"https://\".concat(a, \"/api/v1\");\n              });\n              _context184.next = 5;\n              return function () {\n                var _ref71 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee183(a, b, c, d, e) {\n                  var f, h, g;\n                  return _regeneratorRuntime.wrap(function _callee183$(_context183) {\n                    while (1) {\n                      switch (_context183.prev = _context183.next) {\n                        case 0:\n                          f = x(), h = {\n                            sid: c.sid,\n                            opid: 10,\n                            appid: c.appId,\n                            string_uid: b\n                          }, g = a[0];\n                          _context183.next = 3;\n                          return ac(function () {\n                            return Rb(g + \"\".concat(-1 === J(g).call(g, \"?\") ? \"?\" : \"&\", \"action=stringuid\"), {\n                              data: h,\n                              cancelToken: d,\n                              headers: {\n                                \"X-Packet-Service-Type\": 0,\n                                \"X-Packet-URI\": 72\n                              }\n                            });\n                          }, function (c, d) {\n                            if (0 === c.code) {\n                              var e;\n                              if (0 >= c.uid || c.uid >= Math.pow(2, 32)) throw k.error(m(e = \"Invalid Uint Uid \".concat(b, \" => \")).call(e, c.uid), c), u.reqUserAccount(h.sid, {\n                                lts: f,\n                                success: !1,\n                                serverAddr: g,\n                                stringUid: h.string_uid,\n                                uid: c.uid,\n                                errorCode: n.INVALID_UINT_UID_FROM_STRING_UID,\n                                extend: h\n                              }), new q(n.INVALID_UINT_UID_FROM_STRING_UID);\n                              return u.reqUserAccount(h.sid, {\n                                lts: f,\n                                success: !0,\n                                serverAddr: g,\n                                stringUid: h.string_uid,\n                                uid: c.uid,\n                                errorCode: null,\n                                extend: h\n                              }), !1;\n                            }\n\n                            e = Se(c.code);\n                            return e.retry && (g = a[(d + 1) % a.length]), u.reqUserAccount(h.sid, {\n                              lts: f,\n                              success: !1,\n                              serverAddr: g,\n                              stringUid: h.string_uid,\n                              uid: c.uid,\n                              errorCode: e.desc,\n                              extend: h\n                            }), e.retry;\n                          }, function (b, c) {\n                            return b.code !== n.OPERATION_ABORTED && (u.reqUserAccount(h.sid, {\n                              lts: f,\n                              success: !1,\n                              serverAddr: g,\n                              stringUid: h.string_uid,\n                              uid: null,\n                              errorCode: b.code,\n                              extend: h\n                            }), g = a[(c + 1) % a.length], !0);\n                          }, e);\n\n                        case 3:\n                          c = _context183.sent;\n\n                          if (!(0 !== c.code)) {\n                            _context183.next = 6;\n                            break;\n                          }\n\n                          throw c = Se(c.code), new q(n.UNEXPECTED_RESPONSE, c.desc);\n\n                        case 6:\n                          return _context183.abrupt(\"return\", c);\n\n                        case 7:\n                        case \"end\":\n                          return _context183.stop();\n                      }\n                    }\n                  }, _callee183, this);\n                }));\n\n                return function (_x224, _x225, _x226, _x227, _x228) {\n                  return _ref71.apply(this, arguments);\n                };\n              }()(c, d, g, a, b);\n\n            case 5:\n              return _context184.abrupt(\"return\", _context184.sent.uid);\n\n            case 6:\n            case \"end\":\n              return _context184.stop();\n          }\n        }\n      }, _callee184, this);\n    }));\n    return _ng.apply(this, arguments);\n  }\n\n  function Te(_x26, _x27, _x28) {\n    return _Te.apply(this, arguments);\n  }\n\n  function _Te() {\n    _Te = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee188(d, g, a) {\n      var b, c, e, f;\n      return _regeneratorRuntime.wrap(function _callee188$(_context188) {\n        while (1) {\n          switch (_context188.prev = _context188.next) {\n            case 0:\n              c = x(), e = z(b = v[\"normal\" === d.cloudProxyServer ? \"PROXY_CS\" : \"WEBCS_DOMAIN\"]).call(b, function (a) {\n                var b;\n                return d.proxyServer ? m(b = \"https://\".concat(d.proxyServer, \"/ap/?url=\")).call(b, a + \"/api/v1\") : \"https://\".concat(a, \"/api/v1\");\n              });\n\n              if (!(\"proxy3\" === d.cloudProxyServer || \"proxy4\" === d.cloudProxyServer || \"proxy5\" === d.cloudProxyServer)) {\n                _context188.next = 11;\n                break;\n              }\n\n              c = z(e).call(e, function (a) {\n                return {\n                  url: a,\n                  areaCode: Vd()\n                };\n              });\n              f = null;\n              _context188.next = 6;\n              return id({\n                fragementLength: v.FRAGEMENT_LENGTH,\n                referenceList: c,\n                asyncMapHandler: function asyncMapHandler(b) {\n                  return function (_ref72, c, d, e) {\n                    var a = _ref72.url,\n                        b = _ref72.areaCode;\n                    var f = x(),\n                        h = {\n                      opid: 133,\n                      flag: \"proxy5\" === c.cloudProxyServer ? 4194304 : 1048576,\n                      ts: +new Date(),\n                      key: c.token,\n                      cname: c.cname,\n                      sid: c.sid,\n                      detail: {\n                        6: c.stringUid,\n                        11: b\n                      },\n                      uid: c.uid || 0\n                    };\n                    return ac(\n                    /*#__PURE__*/\n                    _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee185() {\n                      return _regeneratorRuntime.wrap(function _callee185$(_context185) {\n                        while (1) {\n                          switch (_context185.prev = _context185.next) {\n                            case 0:\n                              _context185.next = 2;\n                              return Rb(a, {\n                                data: h,\n                                cancelToken: d,\n                                headers: {\n                                  \"X-Packet-Service-Type\": 0,\n                                  \"X-Packet-URI\": 69\n                                }\n                              });\n\n                            case 2:\n                              return _context185.abrupt(\"return\", _context185.sent);\n\n                            case 3:\n                            case \"end\":\n                              return _context185.stop();\n                          }\n                        }\n                      }, _callee185, this);\n                    })), function (b) {\n                      var d;\n                      if (0 === b.code) return u.joinWebProxyAP(c.sid, {\n                        lts: f,\n                        sucess: 1,\n                        apServerAddr: a,\n                        turnServerAddrList: z(d = b.addresses).call(d, function (a) {\n                          return a.ip;\n                        }).join(\",\"),\n                        errorCode: null,\n                        eventType: c.cloudProxyServer\n                      }), !1;\n                      b = Se(b.code);\n                      throw new q(n.CAN_NOT_GET_GATEWAY_SERVER, b.desc, {\n                        retry: b.retry\n                      });\n                    }, function (b) {\n                      return b.code !== n.OPERATION_ABORTED && (b.code === n.CAN_NOT_GET_GATEWAY_SERVER ? (u.joinWebProxyAP(h.sid, {\n                        lts: f,\n                        sucess: 0,\n                        apServerAddr: a,\n                        turnServerAddrList: null,\n                        errorCode: b.code,\n                        eventType: c.cloudProxyServer\n                      }), k.warning(m(d = m(e = m(g = \"[\".concat(c.clientId, \"] proxy ap server \")).call(g, a, \" failed, message: \")).call(e, b.message, \", retry: \")).call(d, b.data.retry)), b.data.retry) : (u.joinWebProxyAP(h.sid, {\n                        lts: f,\n                        sucess: 0,\n                        apServerAddr: a,\n                        turnServerAddrList: null,\n                        errorCode: b.code,\n                        eventType: c.cloudProxyServer\n                      }), !0));\n                      var d, e, g;\n                    }, e);\n                  }(b, d, g, a);\n                },\n                allFailedhandler: function allFailedhandler() {\n                  throw k.error(\"[\".concat(d.clientId, \"] can not get proxy server after trying several times\")), new q(n.CAN_NOT_GET_PROXY_SERVER);\n                }\n              });\n\n            case 6:\n              f = _context188.sent;\n              c = f.addresses;\n\n              if (!(!c || 0 === c.length)) {\n                _context188.next = 10;\n                break;\n              }\n\n              throw k.error(\"[\".concat(d.clientId, \"] can not get proxy server, empty proxy server list\")), new q(n.CAN_NOT_GET_PROXY_SERVER, \"empty proxy server list\");\n\n            case 10:\n              return _context188.abrupt(\"return\", {\n                addresses: z(c).call(c, function (a) {\n                  return a.ip;\n                }),\n                serverResponse: {\n                  tcpport: c[0].port || 443,\n                  udpport: c[0].port || Oa.udpport,\n                  username: Oa.username,\n                  password: Oa.password\n                }\n              });\n\n            case 11:\n              b = null;\n              _context188.next = 14;\n              return id({\n                fragementLength: v.FRAGEMENT_LENGTH,\n                referenceList: e,\n                asyncMapHandler: function asyncMapHandler(b) {\n                  return function (a, b, c, d) {\n                    var e = x(),\n                        f = {\n                      command: \"convergeAllocateEdge\",\n                      sid: b.sid,\n                      appId: b.appId,\n                      token: b.token,\n                      uid: b.uid,\n                      cname: b.cname,\n                      ts: Math.floor(x() / 1E3),\n                      version: ob,\n                      seq: 0,\n                      requestId: 1\n                    };\n                    return ac(\n                    /*#__PURE__*/\n                    _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee186() {\n                      return _regeneratorRuntime.wrap(function _callee186$(_context186) {\n                        while (1) {\n                          switch (_context186.prev = _context186.next) {\n                            case 0:\n                              _context186.next = 2;\n                              return Rb(a, {\n                                data: {\n                                  service_name: \"webrtc_proxy\",\n                                  json_body: A(f)\n                                },\n                                cancelToken: c,\n                                headers: {\n                                  \"X-Packet-Service-Type\": 0,\n                                  \"X-Packet-URI\": 61\n                                }\n                              });\n\n                            case 2:\n                              _context186.t0 = _context186.sent;\n                              _context186.t1 = a;\n                              return _context186.abrupt(\"return\", {\n                                res: _context186.t0,\n                                url: _context186.t1\n                              });\n\n                            case 5:\n                            case \"end\":\n                              return _context186.stop();\n                          }\n                        }\n                      }, _callee186, this);\n                    })), function (a) {\n                      if (!a.res.json_body) throw k.debug(\"[\".concat(b.clientId, \"] Get proxy server failed: no json_body\")), new q(n.UNEXPECTED_RESPONSE, A(a.res));\n                      var c = JSON.parse(a.res.json_body);\n                      var d, e;\n                      if (200 !== c.code) throw k.debug(m(d = m(e = \"[\".concat(b.clientId, \"] Get proxy server failed: response code [\")).call(e, c.code, \"], reason [\")).call(d, c.reason, \"]\")), new q(n.UNEXPECTED_RESPONSE, A(a.res));\n                      return k.debug(\"[\".concat(b.clientId, \"] App return server length\"), c.servers.length), !1;\n                    }, function (b) {\n                      return b.code !== n.OPERATION_ABORTED && (u.requestProxyAppCenter(f.sid, {\n                        lts: e,\n                        succ: !1,\n                        APAddr: a,\n                        workerManagerList: null,\n                        ec: b.code,\n                        response: b.message\n                      }), !0);\n                    }, d);\n                  }(b, d, g, a);\n                },\n                allFailedhandler: function allFailedhandler() {\n                  throw k.error(\"[\".concat(d.clientId, \"] can not get proxy server after trying several times\")), new q(n.CAN_NOT_GET_PROXY_SERVER);\n                }\n              });\n\n            case 14:\n              b = _context188.sent;\n              e = JSON.parse(b.res.json_body);\n              e = z(f = e.servers).call(f, jo);\n\n              if (!(\"443only\" === d.cloudProxyServer)) {\n                _context188.next = 19;\n                break;\n              }\n\n              return _context188.abrupt(\"return\", {\n                addresses: e,\n                serverResponse: {\n                  tcpport: 443,\n                  udpport: Oa.udpport,\n                  username: Oa.username,\n                  password: Oa.password\n                }\n              });\n\n            case 19:\n              u.requestProxyAppCenter(d.sid, {\n                lts: c,\n                succ: !0,\n                APAddr: b.url,\n                workerManagerList: A(e),\n                ec: null,\n                response: A(b.res)\n              });\n              c = x();\n              f = z(e).call(e, function (b) {\n                return function (a, b, c, d) {\n                  var e = x();\n                  var f = a;\n                  Hd(a).call(a, \"http\") || (f = \"https://\".concat(a, \":4000/v2/machine\"));\n                  var h = {\n                    command: \"request\",\n                    gatewayType: \"http\",\n                    appId: b.appId,\n                    cname: b.cname,\n                    uid: (b.uid || \"\").toString(),\n                    sdkVersion: \"2.3.1\",\n                    sid: b.sid,\n                    seq: 1,\n                    ts: x(),\n                    requestId: 3,\n                    clientRequest: {\n                      appId: b.appId,\n                      cname: b.cname,\n                      uid: (b.uid || \"\").toString(),\n                      sid: b.sid\n                    }\n                  };\n                  return ac(\n                  /*#__PURE__*/\n                  _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee187() {\n                    return _regeneratorRuntime.wrap(function _callee187$(_context187) {\n                      while (1) {\n                        switch (_context187.prev = _context187.next) {\n                          case 0:\n                            _context187.next = 2;\n                            return Rb(f, {\n                              data: h,\n                              cancelToken: c\n                            });\n\n                          case 2:\n                            _context187.t0 = _context187.sent;\n                            _context187.t1 = a;\n                            return _context187.abrupt(\"return\", {\n                              res: _context187.t0,\n                              url: _context187.t1\n                            });\n\n                          case 5:\n                          case \"end\":\n                            return _context187.stop();\n                        }\n                      }\n                    }, _callee187, this);\n                  })), function (a) {\n                    if (!a.res.serverResponse) throw new q(n.UNEXPECTED_RESPONSE, \"requeet worker manager server failed: serverResponse is undefined\");\n                    return !1;\n                  }, function (b) {\n                    return b.code !== n.OPERATION_ABORTED && (u.requestProxyWorkerManager(h.sid, {\n                      lts: e,\n                      succ: !1,\n                      workerManagerAddr: a,\n                      ec: b.code,\n                      response: b.message\n                    }), !0);\n                  }, d);\n                }(b, d, g, a);\n              });\n              b = null;\n              _context188.prev = 23;\n              _context188.next = 26;\n              return gd(f);\n\n            case 26:\n              b = _context188.sent;\n              _context188.next = 32;\n              break;\n\n            case 29:\n              _context188.prev = 29;\n              _context188.t0 = _context188[\"catch\"](23);\n              throw k.error(\"[\".concat(d.clientId, \"] can not get worker manager after trying several times\")), new q(n.CAN_NOT_GET_PROXY_SERVER);\n\n            case 32:\n              return _context188.abrupt(\"return\", (t(f).call(f, function (a) {\n                return a.cancel();\n              }), u.requestProxyWorkerManager(d.sid, {\n                lts: c,\n                succ: !0,\n                workerManagerAddr: b.url,\n                ec: null,\n                response: A(b.res)\n              }), {\n                addresses: [b.url],\n                serverResponse: b.res.serverResponse\n              }));\n\n            case 33:\n            case \"end\":\n              return _context188.stop();\n          }\n        }\n      }, _callee188, this, [[23, 29]]);\n    }));\n    return _Te.apply(this, arguments);\n  }\n\n  function wo(_x29, _x30, _x31) {\n    return _wo.apply(this, arguments);\n  }\n\n  function _wo() {\n    _wo = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee189(d, g, a) {\n      var b, c, e, f;\n      return _regeneratorRuntime.wrap(function _callee189$(_context189) {\n        while (1) {\n          switch (_context189.prev = _context189.next) {\n            case 0:\n              e = z(b = Ma(c = v.CDS_AP).call(c, 0, v.AJAX_REQUEST_CONCURRENT)).call(b, function (a) {\n                var b;\n                return d.proxyServer ? m(b = \"https://\".concat(d.proxyServer, \"/ap/?url=\")).call(b, a + \"/api/v1\") : \"https://\".concat(a, \"/api/v1?action=config\");\n              });\n              b = z(e).call(e, function (b) {\n                return function (a, b, c, d) {\n                  var e = V(),\n                      f = {\n                    flag: 64,\n                    cipher_method: 0,\n                    features: {\n                      device: e.name,\n                      system: e.os,\n                      vendor: b.appId,\n                      version: ob,\n                      cname: b.cname,\n                      sid: b.sid,\n                      session_id: b.sid,\n                      detail: \"\",\n                      proxyServer: b.proxyServer\n                    }\n                  };\n                  return ac(function () {\n                    return Rb(a, {\n                      data: f,\n                      timeout: 1E3,\n                      cancelToken: c,\n                      headers: {\n                        \"X-Packet-Service-Type\": 0,\n                        \"X-Packet-URI\": 54\n                      }\n                    });\n                  }, void 0, function (a) {\n                    return a.code !== n.OPERATION_ABORTED;\n                  }, d);\n                }(b, d, g, a);\n              });\n              e = c = null;\n              f = {};\n              _context189.prev = 4;\n              _context189.next = 7;\n              return gd(b);\n\n            case 7:\n              c = _context189.sent;\n              _context189.next = 15;\n              break;\n\n            case 10:\n              _context189.prev = 10;\n              _context189.t0 = _context189[\"catch\"](4);\n\n              if (!(_context189.t0.code === n.OPERATION_ABORTED)) {\n                _context189.next = 14;\n                break;\n              }\n\n              throw _context189.t0;\n\n            case 14:\n              e = _context189.t0;\n\n            case 15:\n              t(b).call(b, function (a) {\n                return a.cancel();\n              });\n              if (u.reportApiInvoke(d.sid, {\n                name: D.REQUEST_CONFIG_DISTRIBUTE,\n                options: {\n                  error: e,\n                  res: c\n                }\n              }).onSuccess(), c && c.test_tags) try {\n                f = function (a) {\n                  if (!a.test_tags) return {};\n                  var b = a.test_tags;\n                  a = W(b);\n                  var c = {};\n                  return t(a).call(a, function (a) {\n                    var d;\n                    var e = Fc(d = Ma(a).call(a, 4)).call(d);\n                    a = JSON.parse(b[a])[1];\n                    c[e] = a;\n                  }), c;\n                }(c);\n              } catch (h) {}\n              return _context189.abrupt(\"return\", f);\n\n            case 18:\n            case \"end\":\n              return _context189.stop();\n          }\n        }\n      }, _callee189, this, [[4, 10]]);\n    }));\n    return _wo.apply(this, arguments);\n  }\n\n  function Hj(_x32, _x33, _x34, _x35) {\n    return _Hj.apply(this, arguments);\n  }\n\n  function _Hj() {\n    _Hj = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee190(d, g, a, b) {\n      var c, e, f;\n      return _regeneratorRuntime.wrap(function _callee190$(_context190) {\n        while (1) {\n          switch (_context190.prev = _context190.next) {\n            case 0:\n              f = z(c = Ma(e = v.UAP_AP).call(e, 0, v.AJAX_REQUEST_CONCURRENT)).call(c, function (a) {\n                var b;\n                return g.proxyServer ? m(b = \"https://\".concat(g.proxyServer, \"/ap/?url=\")).call(b, a + \"/api/v1?action=uap\") : \"https://\".concat(a, \"/api/v1?action=uap\");\n              });\n              _context190.next = 3;\n              return uo(f, d, g, a, b);\n\n            case 3:\n              return _context190.abrupt(\"return\", _context190.sent);\n\n            case 4:\n            case \"end\":\n              return _context190.stop();\n          }\n        }\n      }, _callee190, this);\n    }));\n    return _Hj.apply(this, arguments);\n  }\n\n  function xo(_x36, _x37, _x38) {\n    return _xo.apply(this, arguments);\n  }\n\n  function _xo() {\n    _xo = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee192(d, g, a) {\n      var b, c, e, _a47;\n\n      return _regeneratorRuntime.wrap(function _callee192$(_context192) {\n        while (1) {\n          switch (_context192.prev = _context192.next) {\n            case 0:\n              e = z(b = Ma(c = v.UAP_AP).call(c, 0, v.AJAX_REQUEST_CONCURRENT)).call(b, function (a) {\n                var b;\n                return d.proxyServer ? m(b = \"https://\".concat(d.proxyServer, \"/ap/?url=\")).call(b, a + \"/api/v1?action=uap\") : \"https://\".concat(a, \"/api/v1?action=uap\");\n              });\n              b = z(e).call(e, function (b) {\n                return function (a, b, c, d) {\n                  b = {\n                    command: \"convergeAllocateEdge\",\n                    sid: b.sid,\n                    appId: b.appId,\n                    token: b.token,\n                    ts: x(),\n                    version: ob,\n                    cname: b.cname,\n                    uid: b.uid.toString(),\n                    requestId: og,\n                    seq: og\n                  };\n                  og += 1;\n                  var e = {\n                    service_name: \"tele_channel\",\n                    json_body: A(b)\n                  };\n                  return ac(\n                  /*#__PURE__*/\n                  _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee191() {\n                    var b, d, f;\n                    return _regeneratorRuntime.wrap(function _callee191$(_context191) {\n                      while (1) {\n                        switch (_context191.prev = _context191.next) {\n                          case 0:\n                            _context191.next = 2;\n                            return Rb(a, {\n                              data: e,\n                              cancelToken: c,\n                              headers: {\n                                \"X-Packet-Service-Type\": 0,\n                                \"X-Packet-URI\": 61\n                              }\n                            });\n\n                          case 2:\n                            b = _context191.sent;\n\n                            if (!(0 !== b.code)) {\n                              _context191.next = 6;\n                              break;\n                            }\n\n                            d = new q(n.UNEXPECTED_RESPONSE, \"cross channel ap error, code\" + b.code, {\n                              retry: !0\n                            });\n                            throw k.error(d.toString()), d;\n\n                          case 6:\n                            b = JSON.parse(b.json_body);\n\n                            if (!(200 !== b.code)) {\n                              _context191.next = 10;\n                              break;\n                            }\n\n                            f = new q(n.UNEXPECTED_RESPONSE, m(d = \"cross channel app center error, code: \".concat(b.code, \", reason: \")).call(d, b.reason));\n                            throw k.error(f.toString()), f;\n\n                          case 10:\n                            if (!(!b.servers || 0 === b.servers.length)) {\n                              _context191.next = 12;\n                              break;\n                            }\n\n                            throw d = new q(n.UNEXPECTED_RESPONSE, \"cross channel app center empty server\"), k.error(d.toString()), d;\n\n                          case 12:\n                            return _context191.abrupt(\"return\", {\n                              vid: b.vid,\n                              workerToken: b.workerToken,\n                              addressList: z(f = b.servers).call(f, function (a) {\n                                var b;\n                                return m(b = \"wss://\".concat(a.address.replace(/\\./g, \"-\"), \".edge.agora.io:\")).call(b, a.wss);\n                              })\n                            });\n\n                          case 13:\n                          case \"end\":\n                            return _context191.stop();\n                        }\n                      }\n                    }, _callee191, this);\n                  })), void 0, function (a) {\n                    return !!(a.code !== n.OPERATION_ABORTED && a.code !== n.UNEXPECTED_RESPONSE || a.data && a.data.retry);\n                  }, d);\n                }(b, d, g, a);\n              });\n              _context192.prev = 2;\n              _context192.next = 5;\n              return gd(b);\n\n            case 5:\n              _a47 = _context192.sent;\n              return _context192.abrupt(\"return\", (t(b).call(b, function (a) {\n                return a.cancel();\n              }), _a47));\n\n            case 9:\n              _context192.prev = 9;\n              _context192.t0 = _context192[\"catch\"](2);\n              throw _context192.t0[0];\n\n            case 12:\n            case \"end\":\n              return _context192.stop();\n          }\n        }\n      }, _callee192, this, [[2, 9]]);\n    }));\n    return _xo.apply(this, arguments);\n  }\n\n  function Ij(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function Hb(d) {\n    if (Array.isArray(d)) return d.map(function (a) {\n      return a;\n    });\n    if (!Jj(d)) return d;\n    var g = {},\n        a;\n\n    for (a in d) {\n      Jj(d[a]) || Array.isArray(d[a]) ? g[a] = Hb(d[a]) : g[a] = d[a];\n    }\n\n    return g;\n  }\n\n  function Jj(d) {\n    return !(\"object\" != typeof d || Array.isArray(d) || !d);\n  }\n\n  function pg(d, g) {\n    function a() {\n      this.constructor = d;\n    }\n\n    _Kj(d, g);\n\n    d.prototype = null === g ? Object.create(g) : (a.prototype = g.prototype, new a());\n  }\n\n  function qg(d, g, a, b) {\n    return new (a || (a = Promise))(function (c, e) {\n      function f(a) {\n        try {\n          l(b.next(a));\n        } catch (p) {\n          e(p);\n        }\n      }\n\n      function h(a) {\n        try {\n          l(b.throw(a));\n        } catch (p) {\n          e(p);\n        }\n      }\n\n      function l(b) {\n        b.done ? c(b.value) : new a(function (a) {\n          a(b.value);\n        }).then(f, h);\n      }\n\n      l((b = b.apply(d, g || [])).next());\n    });\n  }\n\n  function rg(d, g) {\n    function a(a) {\n      return function (f) {\n        return function (a) {\n          if (b) throw new TypeError(\"Generator is already executing.\");\n\n          for (; h;) {\n            try {\n              if (b = 1, c && (e = 2 & a[0] ? c.return : a[0] ? c.throw || ((e = c.return) && e.call(c), 0) : c.next) && !(e = e.call(c, a[1])).done) return e;\n\n              switch (c = 0, e && (a = [2 & a[0], e.value]), a[0]) {\n                case 0:\n                case 1:\n                  e = a;\n                  break;\n\n                case 4:\n                  return h.label++, {\n                    value: a[1],\n                    done: !1\n                  };\n\n                case 5:\n                  h.label++;\n                  c = a[1];\n                  a = [0];\n                  continue;\n\n                case 7:\n                  a = h.ops.pop();\n                  h.trys.pop();\n                  continue;\n\n                default:\n                  if (!(e = h.trys, (e = 0 < e.length && e[e.length - 1]) || 6 !== a[0] && 2 !== a[0])) {\n                    h = 0;\n                    continue;\n                  }\n\n                  if (3 === a[0] && (!e || a[1] > e[0] && a[1] < e[3])) h.label = a[1];else if (6 === a[0] && h.label < e[1]) h.label = e[1], e = a;else if (e && h.label < e[2]) h.label = e[2], h.ops.push(a);else {\n                    e[2] && h.ops.pop();\n                    h.trys.pop();\n                    continue;\n                  }\n              }\n\n              a = g.call(d, h);\n            } catch (w) {\n              a = [6, w], c = 0;\n            } finally {\n              b = e = 0;\n            }\n          }\n\n          if (5 & a[0]) throw a[1];\n          return {\n            value: a[0] ? a[1] : void 0,\n            done: !0\n          };\n        }([a, f]);\n      };\n    }\n\n    var b,\n        c,\n        e,\n        f,\n        h = {\n      label: 0,\n      sent: function sent() {\n        if (1 & e[0]) throw e[1];\n        return e[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return f = {\n      next: a(0),\n      throw: a(1),\n      return: a(2)\n    }, \"function\" == typeof Symbol && (f[Symbol.iterator] = function () {\n      return this;\n    }), f;\n  }\n\n  function yo(d, g, a) {\n    a = d.createShader(a);\n    if (!a) return new q(n.WEBGL_INTERNAL_ERROR, \"can not create shader\").throw();\n    d.shaderSource(a, g);\n    d.compileShader(a);\n    return d.getShaderParameter(a, d.COMPILE_STATUS) ? a : (g = d.getShaderInfoLog(a), d.deleteShader(a), new q(n.WEBGL_INTERNAL_ERROR, \"error compiling shader:\" + g).throw());\n  }\n\n  function zo(d, g, a, b) {\n    var c = [];\n\n    for (var _a16 = 0; _a16 < g.length; ++_a16) {\n      c.push(yo(d, g[_a16], 0 === _a16 ? d.VERTEX_SHADER : d.FRAGMENT_SHADER));\n    }\n\n    return function (a, b, c, d) {\n      var e = a.createProgram();\n      if (!e) throw new q(n.WEBGL_INTERNAL_ERROR, \"can not create webgl program\");\n      if (t(b).call(b, function (b) {\n        a.attachShader(e, b);\n      }), c && t(c).call(c, function (b, c) {\n        a.bindAttribLocation(e, d ? d[c] : c, b);\n      }), a.linkProgram(e), !a.getProgramParameter(e, a.LINK_STATUS)) throw b = a.getProgramInfoLog(e), a.deleteProgram(e), new q(n.WEBGL_INTERNAL_ERROR, \"error in program linking:\" + b);\n      return e;\n    }(d, c, a, b);\n  }\n\n  function Lj(d) {\n    var g = new Uint8Array([99, 114, 121, 112, 116, 105, 105]),\n        a = g.length;\n    var b = d.length,\n        c = new Uint8Array(b),\n        e = new Uint8Array(256);\n\n    for (var f = 0; 256 > f; f++) {\n      e[f] = f;\n    }\n\n    f = 0;\n\n    for (var h = 0; 256 > h; h++) {\n      var _ref18;\n\n      f = (f + e[h] + g[h % a]) % 256, (_ref18 = [e[f], e[h]], e[h] = _ref18[0], e[f] = _ref18[1], _ref18);\n    }\n\n    f = a = 0;\n\n    for (h = 0; h < 0 + b; h++) {\n      var _ref19;\n\n      a = (a + 1) % 256, f = (f + e[a]) % 256, (_ref19 = [e[f], e[a]], e[a] = _ref19[0], e[f] = _ref19[1], _ref19), g = e[(e[a] + e[f]) % 256], 0 <= h && (c[h - 0] = d[h - 0] ^ g);\n    }\n\n    d = String.fromCharCode.apply(null, Ub(c));\n    return Function(\"var winSize = 5; return `\" + d + \"`\")();\n  }\n\n  function sg(d) {\n    var g = {};\n    if (d.facingMode && (g.facingMode = d.facingMode), d.cameraId && (g.deviceId = {\n      exact: d.cameraId\n    }), !d.encoderConfig) return g;\n    d = bd(d.encoderConfig);\n    return g.width = d.width, g.height = d.height, !Ki() && d.frameRate && (g.frameRate = d.frameRate), V().name === S.EDGE && \"object\" == typeof g.frameRate && (g.frameRate.max = 60), db() && (g.frameRate = {\n      ideal: 30,\n      max: 30\n    }), g;\n  }\n\n  function Mj(d) {\n    var g = {};\n\n    if (Ki() || (void 0 !== d.AGC && (g.autoGainControl = d.AGC, Kd() && (g.googAutoGainControl = d.AGC, g.googAutoGainControl2 = d.AGC)), void 0 !== d.AEC && (g.echoCancellation = d.AEC), void 0 !== d.ANS && (g.noiseSuppression = d.ANS, Kd() && (g.googNoiseSuppression = d.ANS))), d.encoderConfig) {\n      var a = Ge(d.encoderConfig);\n      g.channelCount = a.stereo ? 2 : 1;\n      g.sampleRate = a.sampleRate;\n      g.sampleSize = a.sampleSize;\n    }\n\n    return d.microphoneId && (g.deviceId = {\n      exact: d.microphoneId\n    }), Kd() && 2 === g.channelCount && (g.googAutoGainControl = !1, g.googAutoGainControl2 = !1, g.echoCancellation = !1, g.googNoiseSuppression = !1), V().os === Na.ANDROID && (g.sampleRate = void 0), g;\n  }\n\n  function Nj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function Wd(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = Nj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = Nj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Oj(d) {\n    var g = {\n      video: [],\n      audio: []\n    };\n    return d.match(/ VP8/i) && g.video.push(\"VP8\"), d.match(/ VP9/i) && g.video.push(\"VP9\"), d.match(/ AV1X/i) && g.video.push(\"AV1\"), d.match(/ H264/i) && g.video.push(\"H264\"), d.match(/ opus/i) && g.audio.push(\"OPUS\"), g;\n  }\n\n  function tg(d, g) {\n    var a = d.match(/a=rtpmap:(\\d+) opus/);\n    if (!a || !a[0] || !a[1]) return d;\n    var b = a[1];\n    a = d.match(\"a=fmtp:\".concat(b, \".*\\r\\n\"));\n    if (!a || !a[0]) return d;\n    b = \"a=fmtp:\".concat(b, \" minptime=10;useinbandfec=1;\");\n    var c;\n    (g.bitrate && !db() && (b += \"maxaveragebitrate=\".concat(Math.floor(1E3 * g.bitrate), \";\")), g.sampleRate) && (b += m(c = \"maxplaybackrate=\".concat(g.sampleRate, \";sprop-maxcapturerate=\")).call(c, g.sampleRate, \";\"));\n    return g.stereo && (b += \"stereo=1;sprop-stereo-1;\"), b += \"\\r\\n\", d.replace(a[0], b);\n  }\n\n  function Pj(d) {\n    return d.replace(\"minptime=10\", \"minptime=10;stereo=1;sprop-stereo=1\");\n  }\n\n  function Qj(d, g, a) {\n    var b = !1;\n\n    switch (g) {\n      case \"h264\":\n        return d;\n\n      case \"vp8\":\n        if (!v.SIMULCAST) return d;\n        a && (a.numSpatialLayers = 2);\n\n      case \"vp9\":\n      case \"av1\":\n        b = !0;\n    }\n\n    if (b) {\n      var c;\n      var X = xa(c = RegExp.prototype.test).call(c, /^([a-z])=(.*)/),\n          Ca = d.split(\"m=\"),\n          ra,\n          Tb,\n          _v = null,\n          Td = null,\n          _y = null,\n          _x39 = [];\n      c = [];\n      var e;\n      g = [];\n\n      var _z = b = null;\n\n      var f;\n      var _A = [],\n          _C = [];\n\n      for (var h = 0; h < Ca.length; ++h) {\n        if (_v = Ca[h].match(/a=msid-semantic:/), _v) {\n          _v = Ca[h];\n          break;\n        }\n      }\n\n      for (h = 0; h < Ca.length; ++h) {\n        if (Td = Ca[h].match(/audio /), Td) {\n          ra = h;\n          Td = \"m=\" + Ca[h];\n          break;\n        }\n      }\n\n      for (h = 0; h < Ca.length; ++h) {\n        if (_y = Ca[h].match(/video /), _y) {\n          Tb = h;\n          _y = \"m=\" + Ca[h];\n          break;\n        }\n      }\n\n      _v && (_x39 = I(e = _v.split(/(\\r\\n|\\r|\\n)/)).call(e, X));\n      if (0 < _x39.length && (g = m(g).call(g, _x39)), Td) c = I(f = Td.split(/(\\r\\n|\\r|\\n)/)).call(f, X);\n      if (!_y) return d;\n      var l;\n      e = I(l = _y.split(/(\\r\\n|\\r|\\n)/)).call(l, X);\n\n      for (l = 0; l < e.length; ++l) {\n        if (null === b && (b = e[l].match(/cname:/), null !== b)) {\n          b = \"cname:\" + e[l].split(\"cname:\")[1];\n          break;\n        }\n      }\n\n      for (f = 0; f < e.length; ++f) {\n        if (null === _z && (_z = e[f].match(/a=msid:/), null !== _z && (_z = \"msid:\" + e[f].split(\":\")[1])), e[f].match(/a=ssrc-group:FID/)) {\n          l = e[f].split(\" \");\n\n          _A.push(Number(l[1]));\n\n          l[2] && _C.push(Number(l[2]));\n          e.length = f;\n          break;\n        }\n      }\n\n      for (l = 1; l < a.numSpatialLayers; ++l) {\n        _A.push(_A[0] + l), 0 < _C.length && _C.push(_C[0] + l);\n      }\n\n      l = \"a=ssrc-group:SIM \";\n\n      for (f = 0; f < _A.length; ++f) {\n        l = m(l).call(l, String(_A[f])), f < _A.length - 1 && (l = m(l).call(l, \" \"));\n      }\n\n      e.push(l);\n\n      for (l = 0; l < a.numSpatialLayers; ++l) {\n        var r, p;\n        f = m(r = m(p = m(\"a=ssrc-group:FID \").call(\"a=ssrc-group:FID \", String(_A[l]))).call(p, \" \")).call(r, String(_C[l]));\n        e.push(f);\n      }\n\n      for (r = 0; r < a.numSpatialLayers; ++r) {\n        var w, k, K, n;\n        if (null === b || null === _z) return d;\n        p = m(w = m(k = \"a=ssrc:\".concat(String(_A[r]))).call(k, \" \")).call(w, b);\n        l = m(K = m(n = \"a=ssrc:\".concat(String(_A[r]))).call(n, \" \")).call(K, _z);\n        e.push(p);\n        e.push(l);\n      }\n\n      for (w = 0; w < a.numSpatialLayers; ++w) {\n        var B, q, t, u;\n        if (null === b || null === _z) return d;\n        k = m(B = m(q = \"a=ssrc:\".concat(String(_C[w]))).call(q, \" \")).call(B, b);\n        K = m(t = m(u = \"a=ssrc:\".concat(String(_C[w]))).call(u, \" \")).call(t, _z);\n        e.push(k);\n        e.push(K);\n      }\n\n      ra && Tb && ra > Tb ? (g = m(g).call(g, e), g = m(g).call(g, c)) : (g = m(g).call(g, c), g = m(g).call(g, e));\n      d = g.join(\"\\r\\n\") + \"\\r\\n\";\n    }\n\n    return d;\n  }\n\n  function ug(d, g) {\n    var a = function a(c, d) {\n      var e = Rj(c, d);\n      return e ? a(b(c, e), d) : c;\n    },\n        b = function (_b9) {\n      function b(_x40, _x41) {\n        return _b9.apply(this, arguments);\n      }\n\n      b.toString = function () {\n        return _b9.toString();\n      };\n\n      return b;\n    }(function (a, b) {\n      var c, d;\n      var e = xa(c = RegExp.prototype.test).call(c, /^([a-z])=(.*)/),\n          g = [\"a=rtpmap:\".concat(b), \"a=rtcp-fb:\".concat(b), \"a=fmtp:\".concat(b)],\n          p = I(d = a.split(/(\\r\\n|\\r|\\n)/)).call(d, e),\n          w = [];\n      t(p).call(p, function (a, b) {\n        t(g).call(g, function (c) {\n          Z(a).call(a, c) && w.push(b);\n        });\n      });\n      a = Ue(p).call(p, function (a) {\n        return Z(a).call(a, \"apt=\".concat(b));\n      });\n\n      if (a) {\n        w.push(a, a - 1);\n        var k = (k = p[a - 1].match(/a=rtpmap:(\\d+) rtx.*/)) && k[1];\n      }\n\n      t(w).call(w, function (a) {\n        p[a] = \"\";\n      });\n      a = Ue(p).call(p, function (a) {\n        return Z(a).call(a, \"m=video\");\n      });\n      return p[a] = p[a].replace(\" \".concat(b), \"\"), k && (p[a] = p[a].replace(\" \".concat(k), \"\")), I(p).call(p, function (a) {\n        return !!a;\n      }).join(\"\\r\\n\") + \"\\r\\n\";\n    });\n\n    return t(g).call(g, function (b) {\n      d = a(d, b);\n    }), d;\n  }\n\n  function Ao(d, g) {\n    var a = document.createElement(\"video\"),\n        b = document.createElement(\"canvas\");\n    a.setAttribute(\"style\", \"display:none\");\n    b.setAttribute(\"style\", \"display:none\");\n    a.setAttribute(\"muted\", \"\");\n    a.muted = !0;\n    a.setAttribute(\"autoplay\", \"\");\n    a.autoplay = !0;\n    a.setAttribute(\"playsinline\", \"\");\n    b.width = wc(g.width);\n    b.height = wc(g.height);\n    g = wc(g.framerate || 15);\n    document.body.append(a);\n    document.body.append(b);\n    var c = d._mediaStreamTrack;\n    a.srcObject = new MediaStream([c]);\n    a.play();\n    var e = b.getContext(\"2d\");\n    if (!e) throw new q(n.UNEXPECTED_ERROR, \"can not get canvas context\");\n    var f = b.captureStream(la.supportRequestFrame ? 0 : g).getVideoTracks()[0],\n        h = dg(function () {\n      if (a.paused && a.play(), 2 < a.videoHeight && 2 < a.videoWidth) {\n        var _c6 = a.videoHeight / a.videoWidth * b.width;\n\n        var h, g, l;\n        2 <= Math.abs(_c6 - b.height) && (k.debug(\"adjust low stream resolution\", m(h = m(g = m(l = \"\".concat(b.width, \"x\")).call(l, b.height, \" -> \")).call(g, b.width, \"x\")).call(h, _c6)), b.height = _c6);\n      }\n\n      e.drawImage(a, 0, 0, b.width, b.height);\n      f.requestFrame && f.requestFrame();\n      c !== d._mediaStreamTrack && (c = d._mediaStreamTrack, a.srcObject = new MediaStream([c]));\n    }, g),\n        l = f.stop;\n    return f.stop = function () {\n      l.call(f);\n      h();\n      a.remove();\n      b.width = 0;\n      b.remove();\n      a = b = null;\n      k.debug(\"clean low stream renderer\");\n    }, f;\n  }\n\n  function Sj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function Tj(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = Sj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = Sj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Uj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function vg(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = Uj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = Uj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Vj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function wg(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = Vj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = Vj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Wj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function xc(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = Wj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = Wj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Xj(d) {\n    if (!(d instanceof Yj)) return new q(n.INVALID_PARAMS, \"Config should be instance of [ChannelMediaRelayConfiguration]\").throw();\n    var g = d.getSrcChannelMediaInfo();\n    d = d.getDestChannelMediaInfo();\n    if (!g) return new q(n.INVALID_PARAMS, \"srcChannelMediaInfo should not be empty\").throw();\n    if (0 === d.size) return new q(n.INVALID_PARAMS, \"destChannelMediaInfo should not be empty\").throw();\n  }\n\n  function Zj(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function jd(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = Zj(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = Zj(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function Bo(_x42, _x43) {\n    return _Bo.apply(this, arguments);\n  }\n\n  function _Bo() {\n    _Bo = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee193(d, g) {\n      var a, _b42;\n\n      return _regeneratorRuntime.wrap(function _callee193$(_context193) {\n        while (1) {\n          switch (_context193.prev = _context193.next) {\n            case 0:\n              a = null;\n\n              if (!(\"string\" == typeof d)) {\n                _context193.next = 16;\n                break;\n              }\n\n              _b42 = ak.get(d);\n\n              if (!_b42) {\n                _context193.next = 5;\n                break;\n              }\n\n              return _context193.abrupt(\"return\", (k.debug(\"use cached audio resource: \", d), _b42));\n\n            case 5:\n              _context193.prev = 5;\n              _context193.next = 8;\n              return ac(function () {\n                return $b.get(d, {\n                  responseType: \"arraybuffer\"\n                });\n              }, void 0, void 0, {\n                maxRetryCount: 3\n              });\n\n            case 8:\n              a = _context193.sent.data;\n              _context193.next = 14;\n              break;\n\n            case 11:\n              _context193.prev = 11;\n              _context193.t0 = _context193[\"catch\"](5);\n              throw new q(n.FETCH_AUDIO_FILE_FAILED, _context193.t0.toString());\n\n            case 14:\n              _context193.next = 19;\n              break;\n\n            case 16:\n              _context193.next = 18;\n              return new y(function (a, c) {\n                var b = new FileReader();\n\n                b.onload = function (b) {\n                  b.target ? a(b.target.result) : c(new q(n.READ_LOCAL_AUDIO_FILE_ERROR));\n                };\n\n                b.onerror = function () {\n                  c(new q(n.READ_LOCAL_AUDIO_FILE_ERROR));\n                };\n\n                b.readAsArrayBuffer(d);\n              });\n\n            case 18:\n              a = _context193.sent;\n\n            case 19:\n              _context193.next = 21;\n              return function (a) {\n                var b = Nd();\n                return new y(function (c, d) {\n                  b.decodeAudioData(a, function (a) {\n                    c(a);\n                  }, function (a) {\n                    d(new q(n.DECODE_AUDIO_FILE_FAILED, a.toString()));\n                  });\n                });\n              }(a);\n\n            case 21:\n              a = _context193.sent;\n              return _context193.abrupt(\"return\", (\"string\" == typeof d && g && ak.set(d, a), a));\n\n            case 23:\n            case \"end\":\n              return _context193.stop();\n          }\n        }\n      }, _callee193, this, [[5, 11]]);\n    }));\n    return _Bo.apply(this, arguments);\n  }\n\n  function bk(d, g) {\n    var a = W(d);\n\n    if (ja) {\n      var b = ja(d);\n      g && (b = I(b).call(b, function (a) {\n        return ca(d, a).enumerable;\n      }));\n      a.push.apply(a, b);\n    }\n\n    return a;\n  }\n\n  function xg(d) {\n    for (var g = 1; g < arguments.length; g++) {\n      var a,\n          b = null != arguments[g] ? arguments[g] : {};\n      if (g % 2) t(a = bk(Object(b), !0)).call(a, function (a) {\n        gb(d, a, b[a]);\n      });else if (ka) hb(d, ka(b));else {\n        var c;\n        t(c = bk(Object(b))).call(c, function (a) {\n          Q(d, a, ca(b, a));\n        });\n      }\n    }\n\n    return d;\n  }\n\n  function yg(d, g, a, b) {\n    a.optimizationMode && (b && b.width && b.height ? (a.encoderConfig = xg({}, b, {\n      bitrateMin: b.bitrateMin,\n      bitrateMax: b.bitrateMax\n    }), \"motion\" !== a.optimizationMode && \"detail\" !== a.optimizationMode || (g.contentHint = a.optimizationMode, g.contentHint === a.optimizationMode ? k.debug(\"[\".concat(d, \"] set content hint to\"), a.optimizationMode) : k.debug(\"[\".concat(d, \"] set content hint failed\")))) : k.warning(\"[\".concat(d, \"] can not apply optimization mode bitrate config, no encoderConfig\")));\n  }\n\n  var Xd = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {},\n      Ve = function Ve(d) {\n    return d && d.Math == Math && d;\n  },\n      N = Ve(\"object\" == typeof globalThis && globalThis) || Ve(\"object\" == typeof window && window) || Ve(\"object\" == typeof self && self) || Ve(\"object\" == typeof Xd && Xd) || Function(\"return this\")(),\n      ya = function ya(d) {\n    try {\n      return !!d();\n    } catch (g) {\n      return !0;\n    }\n  },\n      na = !ya(function () {\n    return 7 != Object.defineProperty({}, \"a\", {\n      get: function get() {\n        return 7;\n      }\n    }).a;\n  }),\n      ck = {}.propertyIsEnumerable,\n      dk = Object.getOwnPropertyDescriptor,\n      We = dk && !ck.call({\n    1: 2\n  }, 1) ? function (d) {\n    d = dk(this, d);\n    return !!d && d.enumerable;\n  } : ck,\n      lc = function lc(d, g) {\n    return {\n      enumerable: !(1 & d),\n      configurable: !(2 & d),\n      writable: !(4 & d),\n      value: g\n    };\n  },\n      Co = {}.toString,\n      cc = function cc(d) {\n    return Co.call(d).slice(8, -1);\n  },\n      Do = \"\".split,\n      Xe = ya(function () {\n    return !Object(\"z\").propertyIsEnumerable(0);\n  }) ? function (d) {\n    return \"String\" == cc(d) ? Do.call(d, \"\") : Object(d);\n  } : Object,\n      Jc = function Jc(d) {\n    if (null == d) throw TypeError(\"Can't call method on \" + d);\n    return d;\n  },\n      yb = function yb(d) {\n    return Xe(Jc(d));\n  },\n      qa = function qa(d) {\n    return \"object\" == typeof d ? null !== d : \"function\" == typeof d;\n  },\n      kd = function kd(d, g) {\n    if (!qa(d)) return d;\n    var a, b;\n    if (g && \"function\" == typeof (a = d.toString) && !qa(b = a.call(d)) || \"function\" == typeof (a = d.valueOf) && !qa(b = a.call(d)) || !g && \"function\" == typeof (a = d.toString) && !qa(b = a.call(d))) return b;\n    throw TypeError(\"Can't convert object to primitive value\");\n  },\n      Eo = {}.hasOwnProperty,\n      P = function P(d, g) {\n    return Eo.call(d, g);\n  },\n      ld = N.document,\n      Ye = qa(ld) && qa(ld.createElement),\n      ek = !na && !ya(function () {\n    return 7 != Object.defineProperty(Ye ? ld.createElement(\"div\") : {}, \"a\", {\n      get: function get() {\n        return 7;\n      }\n    }).a;\n  }),\n      fk = Object.getOwnPropertyDescriptor,\n      md = na ? fk : function (d, g) {\n    if (d = yb(d), g = kd(g, !0), ek) try {\n      return fk(d, g);\n    } catch (a) {}\n    if (P(d, g)) return lc(!We.call(d, g), d[g]);\n  },\n      Fo = /#|\\.prototype\\./,\n      nd = function nd(d, g) {\n    d = Go[Ho(d)];\n    return d == Io || d != Jo && (\"function\" == typeof g ? ya(g) : !!g);\n  },\n      Ho = nd.normalize = function (d) {\n    return String(d).replace(Fo, \".\").toLowerCase();\n  },\n      Go = nd.data = {},\n      Jo = nd.NATIVE = \"N\",\n      Io = nd.POLYFILL = \"P\",\n      ma = {},\n      Vb = function Vb(d) {\n    if (\"function\" != typeof d) throw TypeError(String(d) + \" is not a function\");\n    return d;\n  },\n      yc = function yc(d, g, a) {\n    if (Vb(d), void 0 === g) return d;\n\n    switch (a) {\n      case 0:\n        return function () {\n          return d.call(g);\n        };\n\n      case 1:\n        return function (a) {\n          return d.call(g, a);\n        };\n\n      case 2:\n        return function (a, c) {\n          return d.call(g, a, c);\n        };\n\n      case 3:\n        return function (a, c, e) {\n          return d.call(g, a, c, e);\n        };\n    }\n\n    return function () {\n      return d.apply(g, arguments);\n    };\n  },\n      $a = function $a(d) {\n    if (!qa(d)) throw TypeError(String(d) + \" is not an object\");\n    return d;\n  },\n      gk = Object.defineProperty,\n      Ib = {\n    f: na ? gk : function (d, g, a) {\n      if ($a(d), g = kd(g, !0), $a(a), ek) try {\n        return gk(d, g, a);\n      } catch (b) {}\n      if (\"get\" in a || \"set\" in a) throw TypeError(\"Accessors not supported\");\n      return \"value\" in a && (d[g] = a.value), d;\n    }\n  },\n      Wb = na ? function (d, g, a) {\n    return Ib.f(d, g, lc(1, a));\n  } : function (d, g, a) {\n    return d[g] = a, d;\n  },\n      Ko = md,\n      Lo = function Lo(d) {\n    var g = function g(a, b, c) {\n      if (this instanceof d) {\n        switch (arguments.length) {\n          case 0:\n            return new d();\n\n          case 1:\n            return new d(a);\n\n          case 2:\n            return new d(a, b);\n        }\n\n        return new d(a, b, c);\n      }\n\n      return d.apply(this, arguments);\n    };\n\n    return g.prototype = d.prototype, g;\n  },\n      L = function L(d, g) {\n    var a,\n        b,\n        c,\n        e,\n        f,\n        h = d.target,\n        l = d.global,\n        r = d.stat,\n        p = d.proto,\n        w = l ? N : r ? N[h] : (N[h] || {}).prototype,\n        k = l ? ma : ma[h] || (ma[h] = {}),\n        K = k.prototype;\n\n    for (b in g) {\n      var m = !nd(l ? b : h + (r ? \".\" : \"#\") + b, d.forced) && w && P(w, b);\n      var n = k[b];\n      m && (c = d.noTargetGet ? (f = Ko(w, b)) && f.value : w[b]);\n      var q = m && c ? c : g[b];\n      m && typeof n == typeof q || (e = d.bind && m ? yc(q, N) : d.wrap && m ? Lo(q) : p && \"function\" == typeof q ? yc(Function.call, q) : q, (d.sham || q && q.sham || n && n.sham) && Wb(e, \"sham\", !0), k[b] = e, p && (P(ma, a = h + \"Prototype\") || Wb(ma, a, {}), ma[a][b] = q, d.real && K && !K[b] && Wb(K, b, q)));\n    }\n  },\n      hk = function hk(d) {\n    return \"function\" == typeof d ? d : void 0;\n  },\n      Xb = function Xb(d, g) {\n    return 2 > arguments.length ? hk(ma[d]) || hk(N[d]) : ma[d] && ma[d][g] || N[d] && N[d][g];\n  },\n      Ze = Xb(\"JSON\", \"stringify\"),\n      Mo = /[\\uD800-\\uDFFF]/g,\n      ik = /^[\\uD800-\\uDBFF]$/,\n      jk = /^[\\uDC00-\\uDFFF]$/,\n      No = function No(d, g, a) {\n    var b = a.charAt(g - 1);\n    g = a.charAt(g + 1);\n    return ik.test(d) && !jk.test(g) || jk.test(d) && !ik.test(b) ? \"\\\\u\" + d.charCodeAt(0).toString(16) : d;\n  },\n      Oo = ya(function () {\n    return \"\\\"\\\\udf06\\\\ud834\\\"\" !== Ze(\"\\uDF06\\uD834\") || \"\\\"\\\\udead\\\"\" !== Ze(\"\\uDEAD\");\n  });\n\n  Ze && L({\n    target: \"JSON\",\n    stat: !0,\n    forced: Oo\n  }, {\n    stringify: function stringify(d, g, a) {\n      var b = Ze.apply(null, arguments);\n      return \"string\" == typeof b ? b.replace(Mo, No) : b;\n    }\n  });\n  ma.JSON || (ma.JSON = {\n    stringify: JSON.stringify\n  });\n\n  var od,\n      $e,\n      A = function A(d, g, a) {\n    return ma.JSON.stringify.apply(null, arguments);\n  },\n      Kc = Array.isArray || function (d) {\n    return \"Array\" == cc(d);\n  },\n      Jb = function Jb(d) {\n    return Object(Jc(d));\n  },\n      Po = Math.ceil,\n      Qo = Math.floor,\n      Yd = function Yd(d) {\n    return isNaN(d = +d) ? 0 : (0 < d ? Qo : Po)(d);\n  },\n      Ro = Math.min,\n      zb = function zb(d) {\n    return 0 < d ? Ro(Yd(d), 9007199254740991) : 0;\n  },\n      Lc = function Lc(d, g, a) {\n    g = kd(g);\n    g in d ? Ib.f(d, g, lc(0, a)) : d[g] = a;\n  },\n      kk = N[\"__core-js_shared__\"] || function (d, g) {\n    try {\n      Wb(N, d, g);\n    } catch (a) {\n      N[d] = g;\n    }\n\n    return g;\n  }(\"__core-js_shared__\", {}),\n      mc = ub(function (d) {\n    (d.exports = function (d, a) {\n      return kk[d] || (kk[d] = void 0 !== a ? a : {});\n    })(\"versions\", []).push({\n      version: \"3.4.3\",\n      mode: \"pure\",\n      copyright: \"\\xA9 2019 Denis Pushkarev (zloirock.ru)\"\n    });\n  }),\n      So = 0,\n      To = Math.random(),\n      af = function af(d) {\n    return \"Symbol(\" + String(void 0 === d ? \"\" : d) + \")_\" + (++So + To).toString(36);\n  },\n      dc = !!Object.getOwnPropertySymbols && !ya(function () {\n    return !String(Symbol());\n  }),\n      lk = dc && !Symbol.sham && \"symbol\" == typeof Symbol(),\n      bf = mc(\"wks\"),\n      zg = N.Symbol,\n      Uo = lk ? zg : af,\n      za = function za(d) {\n    return P(bf, d) || (dc && P(zg, d) ? bf[d] = zg[d] : bf[d] = Uo(\"Symbol.\" + d)), bf[d];\n  },\n      Vo = za(\"species\"),\n      Ag = function Ag(d, g) {\n    var a;\n    return Kc(d) && (\"function\" != typeof (a = d.constructor) || a !== Array && !Kc(a.prototype) ? qa(a) && null === (a = a[Vo]) && (a = void 0) : a = void 0), new (void 0 === a ? Array : a)(0 === g ? 0 : g);\n  },\n      Zd = Xb(\"navigator\", \"userAgent\") || \"\",\n      mk = N.process,\n      nk = mk && mk.versions,\n      ok = nk && nk.v8;\n\n  ok ? $e = (od = ok.split(\".\"))[0] + od[1] : Zd && (!(od = Zd.match(/Edge\\/(\\d+)/)) || 74 <= od[1]) && (od = Zd.match(/Chrome\\/(\\d+)/)) && ($e = od[1]);\n\n  var cf = $e && +$e,\n      Wo = za(\"species\"),\n      $d = function $d(d) {\n    return 51 <= cf || !ya(function () {\n      var g = [];\n      return (g.constructor = {})[Wo] = function () {\n        return {\n          foo: 1\n        };\n      }, 1 !== g[d](Boolean).foo;\n    });\n  },\n      pk = za(\"isConcatSpreadable\"),\n      Xo = 51 <= cf || !ya(function () {\n    var d = [];\n    return d[pk] = !1, d.concat()[0] !== d;\n  }),\n      Yo = $d(\"concat\");\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: !Xo || !Yo\n  }, {\n    concat: function concat(d) {\n      var g,\n          a,\n          b = Jb(this),\n          c = Ag(b, 0),\n          e = 0;\n      var f = -1;\n\n      for (g = arguments.length; f < g; f++) {\n        var h = a = -1 === f ? b : arguments[f];\n\n        if (qa(h)) {\n          var l = h[pk];\n          h = void 0 !== l ? !!l : Kc(h);\n        } else h = !1;\n\n        if (h) {\n          if (9007199254740991 < e + (l = zb(a.length))) throw TypeError(\"Maximum allowed index exceeded\");\n\n          for (h = 0; h < l; h++, e++) {\n            h in a && Lc(c, e, a[h]);\n          }\n        } else {\n          if (9007199254740991 <= e) throw TypeError(\"Maximum allowed index exceeded\");\n          Lc(c, e++, a);\n        }\n      }\n\n      return c.length = e, c;\n    }\n  });\n\n  var Aa = function Aa(d) {\n    return ma[d + \"Prototype\"];\n  },\n      Zo = Aa(\"Array\").concat,\n      qk = Array.prototype,\n      m = function m(d) {\n    var g = d.concat;\n    return d === qk || d instanceof Array && g === qk.concat ? Zo : g;\n  },\n      pd = {},\n      $o = !ya(function () {\n    return Object.isExtensible(Object.preventExtensions({}));\n  }),\n      df = ub(function (d) {\n    var g = Ib.f,\n        a = af(\"meta\"),\n        b = 0,\n        c = Object.isExtensible || function () {\n      return !0;\n    },\n        e = function e(c) {\n      g(c, a, {\n        value: {\n          objectID: \"O\" + ++b,\n          weakData: {}\n        }\n      });\n    },\n        f = d.exports = {\n      REQUIRED: !1,\n      fastKey: function fastKey(b, d) {\n        if (!qa(b)) return \"symbol\" == typeof b ? b : (\"string\" == typeof b ? \"S\" : \"P\") + b;\n\n        if (!P(b, a)) {\n          if (!c(b)) return \"F\";\n          if (!d) return \"E\";\n          e(b);\n        }\n\n        return b[a].objectID;\n      },\n      getWeakData: function getWeakData(b, d) {\n        if (!P(b, a)) {\n          if (!c(b)) return !0;\n          if (!d) return !1;\n          e(b);\n        }\n\n        return b[a].weakData;\n      },\n      onFreeze: function onFreeze(b) {\n        return $o && f.REQUIRED && c(b) && !P(b, a) && e(b), b;\n      }\n    };\n\n    pd[a] = !0;\n  }),\n      nc = {},\n      ap = za(\"iterator\"),\n      bp = Array.prototype,\n      rk = function rk(d) {\n    return void 0 !== d && (nc.Array === d || bp[ap] === d);\n  },\n      sk = {};\n\n  sk[za(\"toStringTag\")] = \"z\";\n\n  var Bg = \"[object z]\" === String(sk),\n      cp = za(\"toStringTag\"),\n      dp = \"Arguments\" == cc(function () {\n    return arguments;\n  }()),\n      qd = Bg ? cc : function (d) {\n    var g;\n    if (void 0 === d) var a = \"Undefined\";else {\n      if (null === d) var b = \"Null\";else {\n        a: {\n          var c = d = Object(d);\n\n          try {\n            b = c[cp];\n            break a;\n          } catch (e) {}\n\n          b = void 0;\n        }\n\n        b = \"string\" == typeof (a = b) ? a : dp ? cc(d) : \"Object\" == (g = cc(d)) && \"function\" == typeof d.callee ? \"Arguments\" : g;\n      }\n      a = b;\n    }\n    return a;\n  },\n      ep = za(\"iterator\"),\n      ef = function ef(d) {\n    if (null != d) return d[ep] || d[\"@@iterator\"] || nc[qd(d)];\n  },\n      tk = function tk(d, g, a, b) {\n    try {\n      return b ? g($a(a)[0], a[1]) : g(a);\n    } catch (c) {\n      throw g = d.return, void 0 !== g && $a(g.call(d)), c;\n    }\n  },\n      rd = ub(function (d) {\n    var g = function g(a, b) {\n      this.stopped = a;\n      this.result = b;\n    };\n\n    (d.exports = function (a, b, c, d, f) {\n      var e, l;\n      b = yc(b, c, d ? 2 : 1);\n\n      if (!f) {\n        if (\"function\" != typeof (f = ef(a))) throw TypeError(\"Target is not iterable\");\n\n        if (rk(f)) {\n          f = 0;\n\n          for (c = zb(a.length); c > f; f++) {\n            if ((e = d ? b($a(l = a[f])[0], l[1]) : b(a[f])) && e instanceof g) return e;\n          }\n\n          return new g(!1);\n        }\n\n        a = f.call(a);\n      }\n\n      for (f = a.next; !(l = f.call(a)).done;) {\n        if (\"object\" == typeof (e = tk(a, b, l.value, d)) && e && e instanceof g) return e;\n      }\n\n      return new g(!1);\n    }).stop = function (a) {\n      return new g(!0, a);\n    };\n  }),\n      sd = function sd(d, g, a) {\n    if (!(d instanceof g)) throw TypeError(\"Incorrect \" + (a ? a + \" \" : \"\") + \"invocation\");\n    return d;\n  },\n      fp = Bg ? {}.toString : function () {\n    return \"[object \" + qd(this) + \"]\";\n  },\n      gp = Ib.f,\n      uk = za(\"toStringTag\"),\n      Mc = function Mc(d, g, a, b) {\n    d && (d = a ? d : d.prototype, P(d, uk) || gp(d, uk, {\n      configurable: !0,\n      value: g\n    }), b && !Bg && Wb(d, \"toString\", fp));\n  },\n      hp = [].push,\n      Nc = function Nc(d) {\n    var g = 1 == d,\n        a = 2 == d,\n        b = 3 == d,\n        c = 4 == d,\n        e = 6 == d,\n        f = 5 == d || e;\n    return function (h, l, r, p) {\n      var w,\n          k,\n          K = Jb(h),\n          m = Xe(K);\n      l = yc(l, r, 3);\n      r = zb(m.length);\n      var n = 0;\n      p = p || Ag;\n\n      for (h = g ? p(h, r) : a ? p(h, 0) : void 0; r > n; n++) {\n        if ((f || n in m) && (k = l(w = m[n], n, K), d)) if (g) h[n] = k;else if (k) switch (d) {\n          case 3:\n            return !0;\n\n          case 5:\n            return w;\n\n          case 6:\n            return n;\n\n          case 2:\n            hp.call(h, w);\n        } else if (c) return !1;\n      }\n\n      return e ? -1 : b || c ? c : h;\n    };\n  },\n      td = Nc(0),\n      ip = Nc(1),\n      jp = Nc(2),\n      kp = Nc(3),\n      lp = Nc(4),\n      vk = Nc(5),\n      wk = Nc(6),\n      mp = mc(\"native-function-to-string\", Function.toString),\n      xk = N.WeakMap,\n      yk = \"function\" == typeof xk && /native code/.test(mp.call(xk)),\n      zk = mc(\"keys\"),\n      ff = function ff(d) {\n    return zk[d] || (zk[d] = af(d));\n  },\n      np = N.WeakMap;\n\n  if (yk) {\n    var ud = new np(),\n        op = ud.get,\n        pp = ud.has,\n        qp = ud.set;\n\n    var Cg = function Cg(d, g) {\n      return qp.call(ud, d, g), g;\n    };\n\n    var gf = function gf(d) {\n      return op.call(ud, d) || {};\n    };\n\n    var Dg = function Dg(d) {\n      return pp.call(ud, d);\n    };\n  } else {\n    var ae = ff(\"state\");\n    pd[ae] = !0;\n\n    Cg = function Cg(d, g) {\n      return Wb(d, ae, g), g;\n    };\n\n    gf = function gf(d) {\n      return P(d, ae) ? d[ae] : {};\n    };\n\n    Dg = function Dg(d) {\n      return P(d, ae);\n    };\n  }\n\n  var Fa = {\n    set: Cg,\n    get: gf,\n    has: Dg,\n    enforce: function enforce(d) {\n      return Dg(d) ? gf(d) : Cg(d, {});\n    },\n    getterFor: function getterFor(d) {\n      return function (g) {\n        var a;\n        if (!qa(g) || (a = gf(g)).type !== d) throw TypeError(\"Incompatible receiver, \" + d + \" required\");\n        return a;\n      };\n    }\n  },\n      rp = Ib.f,\n      sp = Fa.set,\n      tp = Fa.getterFor,\n      Ak = function Ak(d, g, a) {\n    var b = -1 !== d.indexOf(\"Map\"),\n        c = -1 !== d.indexOf(\"Weak\"),\n        e = b ? \"set\" : \"add\",\n        f = N[d],\n        h = f && f.prototype,\n        l = {};\n\n    if (na && \"function\" == typeof f && (c || h.forEach && !ya(function () {\n      new f().entries().next();\n    }))) {\n      var r = g(function (a, c) {\n        sp(sd(a, r, d), {\n          type: d,\n          collection: new f()\n        });\n        null != c && rd(c, a[e], a, b);\n      });\n      var p = tp(d);\n      td(\"add clear delete forEach get has set keys values entries\".split(\" \"), function (a) {\n        var b = \"add\" == a || \"set\" == a;\n        !(a in h) || c && \"clear\" == a || Wb(r.prototype, a, function (d, e) {\n          var f = p(this).collection;\n          if (!b && c && !qa(d)) return \"get\" == a && void 0;\n          d = f[a](0 === d ? 0 : d, e);\n          return b ? this : d;\n        });\n      });\n      c || rp(r.prototype, \"size\", {\n        configurable: !0,\n        get: function get() {\n          return p(this).collection.size;\n        }\n      });\n    } else r = a.getConstructor(g, d, b, e), df.REQUIRED = !0;\n\n    return Mc(r, d, !1, !0), l[d] = r, L({\n      global: !0,\n      forced: !0\n    }, l), c || a.setStrong(r, d, b), r;\n  },\n      up = Math.max,\n      vp = Math.min,\n      Oc = function Oc(d, g) {\n    d = Yd(d);\n    return 0 > d ? up(d + g, 0) : vp(d, g);\n  },\n      Bk = function Bk(d) {\n    return function (g, a, b) {\n      var c;\n      g = yb(g);\n      var e = zb(g.length);\n      b = Oc(b, e);\n      if (d && a != a) for (; e > b;) {\n        if ((c = g[b++]) != c) return !0;\n      } else for (; e > b; b++) {\n        if ((d || b in g) && g[b] === a) return d || b || 0;\n      }\n      return !d && -1;\n    };\n  },\n      wp = Bk(!0),\n      Ck = Bk(!1),\n      Dk = function Dk(d, g) {\n    var a;\n    d = yb(d);\n    var b = 0,\n        c = [];\n\n    for (a in d) {\n      !P(pd, a) && P(d, a) && c.push(a);\n    }\n\n    for (; g.length > b;) {\n      P(d, a = g[b++]) && (~Ck(c, a) || c.push(a));\n    }\n\n    return c;\n  },\n      hf = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),\n      zc = Object.keys || function (d) {\n    return Dk(d, hf);\n  },\n      Eg = na ? Object.defineProperties : function (d, g) {\n    $a(d);\n\n    for (var a, b = zc(g), c = b.length, e = 0; c > e;) {\n      Ib.f(d, a = b[e++], g[a]);\n    }\n\n    return d;\n  },\n      Fg = Xb(\"document\", \"documentElement\"),\n      Ek = ff(\"IE_PROTO\"),\n      Gg = function Gg() {},\n      _jf = function jf() {\n    var d = Ye ? ld.createElement(\"iframe\") : {};\n    var g = hf.length;\n    d.style.display = \"none\";\n    Fg.appendChild(d);\n    d.src = \"javascript:\";\n    (d = d.contentWindow.document).open();\n    d.write(\"<script>document.F=Object\\x3c/script>\");\n    d.close();\n\n    for (_jf = d.F; g--;) {\n      delete _jf.prototype[hf[g]];\n    }\n\n    return _jf();\n  },\n      Ac = Object.create || function (d, g) {\n    var a;\n    return null !== d ? (Gg.prototype = $a(d), a = new Gg(), Gg.prototype = null, a[Ek] = d) : a = _jf(), void 0 === g ? a : Eg(a, g);\n  };\n\n  pd[Ek] = !0;\n\n  var kf,\n      Fk,\n      Gk,\n      oc = function oc(d, g, a, b) {\n    b && b.enumerable ? d[g] = a : Wb(d, g, a);\n  },\n      Pc = function Pc(d, g, a) {\n    for (var b in g) {\n      a && a.unsafe && d[b] ? d[b] = g[b] : oc(d, b, g[b], a);\n    }\n\n    return d;\n  },\n      xp = !ya(function () {\n    function d() {}\n\n    return d.prototype.constructor = null, Object.getPrototypeOf(new d()) !== d.prototype;\n  }),\n      Hk = ff(\"IE_PROTO\"),\n      yp = Object.prototype,\n      Hg = xp ? Object.getPrototypeOf : function (d) {\n    return d = Jb(d), P(d, Hk) ? d[Hk] : \"function\" == typeof d.constructor && d instanceof d.constructor ? d.constructor.prototype : d instanceof Object ? yp : null;\n  },\n      Ik = (za(\"iterator\"), !1);\n\n  [].keys && (\"next\" in (Gk = [].keys()) ? (Fk = Hg(Hg(Gk))) !== Object.prototype && (kf = Fk) : Ik = !0);\n  null == kf && (kf = {});\n\n  var Jk = kf,\n      lf = Ik,\n      zp = function zp() {\n    return this;\n  },\n      Kk = function Kk(d, g, a) {\n    g += \" Iterator\";\n    return d.prototype = Ac(Jk, {\n      next: lc(1, a)\n    }), Mc(d, g, !1, !0), nc[g] = zp, d;\n  },\n      Ap = (Object.setPrototypeOf || \"__proto__\" in {} && function () {\n    var d = {};\n\n    try {\n      Object.getOwnPropertyDescriptor(Object.prototype, \"__proto__\").set.call(d, []);\n    } catch (g) {}\n  }(), Jk),\n      Ig = za(\"iterator\"),\n      Bp = function Bp() {\n    return this;\n  },\n      Jg = function Jg(d, g, a, b, c, e, f) {\n    Kk(a, g, b);\n    var h, l, r;\n\n    b = function (_b10) {\n      function b(_x44) {\n        return _b10.apply(this, arguments);\n      }\n\n      b.toString = function () {\n        return _b10.toString();\n      };\n\n      return b;\n    }(function (b) {\n      if (b === c && m) return m;\n      if (!lf && b in X) return X[b];\n\n      switch (b) {\n        case \"keys\":\n        case \"values\":\n        case \"entries\":\n          return function () {\n            return new a(this, b);\n          };\n      }\n\n      return function () {\n        return new a(this);\n      };\n    });\n\n    var p = g + \" Iterator\",\n        k = !1,\n        X = d.prototype,\n        K = X[Ig] || X[\"@@iterator\"] || c && X[c],\n        m = !lf && K || b(c),\n        n = \"Array\" == g && X.entries || K;\n    if (n && (h = Hg(n.call(new d())), Ap !== Object.prototype && h.next && (Mc(h, p, !0, !0), nc[p] = Bp)), \"values\" == c && K && \"values\" !== K.name && (k = !0, m = function m() {\n      return K.call(this);\n    }), f && X[Ig] !== m && Wb(X, Ig, m), nc[g] = m, c) if (l = {\n      values: b(\"values\"),\n      keys: e ? m : b(\"keys\"),\n      entries: b(\"entries\")\n    }, f) for (r in l) {\n      !lf && !k && r in X || oc(X, r, l[r]);\n    } else L({\n      target: g,\n      proto: !0,\n      forced: lf || k\n    }, l);\n    return l;\n  },\n      Lk = za(\"species\"),\n      Mk = function Mk(d) {\n    d = Xb(d);\n    var g = Ib.f;\n    na && d && !d[Lk] && g(d, Lk, {\n      configurable: !0,\n      get: function get() {\n        return this;\n      }\n    });\n  },\n      Cp = Ib.f,\n      Nk = df.fastKey,\n      Ok = Fa.set,\n      Kg = Fa.getterFor,\n      Pk = (Ak(\"Map\", function (d) {\n    return function () {\n      return d(this, arguments.length ? arguments[0] : void 0);\n    };\n  }, {\n    getConstructor: function getConstructor(d, g, a, b) {\n      var c = d(function (d, e) {\n        sd(d, c, g);\n        Ok(d, {\n          type: g,\n          index: Ac(null),\n          first: void 0,\n          last: void 0,\n          size: 0\n        });\n        na || (d.size = 0);\n        null != e && rd(e, d[b], d, a);\n      }),\n          e = Kg(g),\n          f = function f(a, b, c) {\n        var d,\n            f,\n            g = e(a),\n            l = h(a, b);\n        return l ? l.value = c : (g.last = l = {\n          index: f = Nk(b, !0),\n          key: b,\n          value: c,\n          previous: d = g.last,\n          next: void 0,\n          removed: !1\n        }, g.first || (g.first = l), d && (d.next = l), na ? g.size++ : a.size++, \"F\" !== f && (g.index[f] = l)), a;\n      },\n          h = function h(a, b) {\n        a = e(a);\n        var c = Nk(b);\n        if (\"F\" !== c) return a.index[c];\n\n        for (a = a.first; a; a = a.next) {\n          if (a.key == b) return a;\n        }\n      };\n\n      return Pc(c.prototype, {\n        clear: function clear() {\n          for (var a = e(this), b = a.index, c = a.first; c;) {\n            c.removed = !0, c.previous && (c.previous = c.previous.next = void 0), delete b[c.index], c = c.next;\n          }\n\n          a.first = a.last = void 0;\n          na ? a.size = 0 : this.size = 0;\n        },\n        delete: function _delete(a) {\n          var b = e(this);\n\n          if (a = h(this, a)) {\n            var c = a.next,\n                d = a.previous;\n            delete b.index[a.index];\n            a.removed = !0;\n            d && (d.next = c);\n            c && (c.previous = d);\n            b.first == a && (b.first = c);\n            b.last == a && (b.last = d);\n            na ? b.size-- : this.size--;\n          }\n\n          return !!a;\n        },\n        forEach: function forEach(a) {\n          for (var b, c = e(this), d = yc(a, 1 < arguments.length ? arguments[1] : void 0, 3); b = b ? b.next : c.first;) {\n            for (d(b.value, b.key, this); b && b.removed;) {\n              b = b.previous;\n            }\n          }\n        },\n        has: function has(a) {\n          return !!h(this, a);\n        }\n      }), Pc(c.prototype, a ? {\n        get: function get(a) {\n          return (a = h(this, a)) && a.value;\n        },\n        set: function set(a, b) {\n          return f(this, 0 === a ? 0 : a, b);\n        }\n      } : {\n        add: function add(a) {\n          return f(this, a = 0 === a ? 0 : a, a);\n        }\n      }), na && Cp(c.prototype, \"size\", {\n        get: function get() {\n          return e(this).size;\n        }\n      }), c;\n    },\n    setStrong: function setStrong(d, g, a) {\n      var b = g + \" Iterator\",\n          c = Kg(g),\n          e = Kg(b);\n      Jg(d, g, function (a, d) {\n        Ok(this, {\n          type: b,\n          target: a,\n          state: c(a),\n          kind: d,\n          last: void 0\n        });\n      }, function () {\n        for (var a = e(this), b = a.kind, c = a.last; c && c.removed;) {\n          c = c.previous;\n        }\n\n        return a.target && (a.last = c = c ? c.next : a.state.first) ? \"keys\" == b ? {\n          value: c.key,\n          done: !1\n        } : \"values\" == b ? {\n          value: c.value,\n          done: !1\n        } : {\n          value: [c.key, c.value],\n          done: !1\n        } : (a.target = void 0, {\n          value: void 0,\n          done: !0\n        });\n      }, a ? \"entries\" : \"values\", !a, !0);\n      Mk(g);\n    }\n  }), function (d) {\n    return function (g, a) {\n      var b, c;\n      g = String(Jc(g));\n      a = Yd(a);\n      var e = g.length;\n      return 0 > a || a >= e ? d ? \"\" : void 0 : 55296 > (b = g.charCodeAt(a)) || 56319 < b || a + 1 === e || 56320 > (c = g.charCodeAt(a + 1)) || 57343 < c ? d ? g.charAt(a) : b : d ? g.slice(a, a + 2) : c - 56320 + (b - 55296 << 10) + 65536;\n    };\n  }),\n      Dp = Pk(!1),\n      Ep = Pk(!0),\n      Fp = Fa.set,\n      Gp = Fa.getterFor(\"String Iterator\");\n\n  Jg(String, \"String\", function (d) {\n    Fp(this, {\n      type: \"String Iterator\",\n      string: String(d),\n      index: 0\n    });\n  }, function () {\n    var d,\n        g = Gp(this),\n        a = g.string,\n        b = g.index;\n    return b >= a.length ? {\n      value: void 0,\n      done: !0\n    } : (d = Ep(a, b), g.index += d.length, {\n      value: d,\n      done: !1\n    });\n  });\n  var Hp = Fa.set,\n      Ip = Fa.getterFor(\"Array Iterator\");\n  Jg(Array, \"Array\", function (d, g) {\n    Hp(this, {\n      type: \"Array Iterator\",\n      target: yb(d),\n      index: 0,\n      kind: g\n    });\n  }, function () {\n    var d = Ip(this),\n        g = d.target,\n        a = d.kind,\n        b = d.index++;\n    return !g || b >= g.length ? (d.target = void 0, {\n      value: void 0,\n      done: !0\n    }) : \"keys\" == a ? {\n      value: b,\n      done: !1\n    } : \"values\" == a ? {\n      value: g[b],\n      done: !1\n    } : {\n      value: [b, g[b]],\n      done: !1\n    };\n  }, \"values\");\n  nc.Arguments = nc.Array;\n  var Qk = za(\"toStringTag\"),\n      mf;\n\n  for (mf in {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  }) {\n    var Rk = N[mf],\n        Lg = Rk && Rk.prototype;\n    Lg && !Lg[Qk] && Wb(Lg, Qk, mf);\n    nc[mf] = nc.Array;\n  }\n\n  var ba = ma.Map,\n      Jp = za(\"match\"),\n      Mg = function Mg(d) {\n    var g;\n    if (qa(d) && (void 0 !== (g = d[Jp]) ? g : \"RegExp\" == cc(d))) throw TypeError(\"The method doesn't accept regular expressions\");\n    return d;\n  },\n      Kp = za(\"match\"),\n      Ng = function Ng(d) {\n    var g = /./;\n\n    try {\n      \"/./\"[d](g);\n    } catch (a) {\n      try {\n        return g[Kp] = !1, \"/./\"[d](g);\n      } catch (b) {}\n    }\n\n    return !1;\n  },\n      Sk = \"\".endsWith,\n      Lp = Math.min,\n      Mp = Ng(\"endsWith\");\n\n  L({\n    target: \"String\",\n    proto: !0,\n    forced: !Mp\n  }, {\n    endsWith: function endsWith(d) {\n      var g = String(Jc(this));\n      Mg(d);\n      var a = 1 < arguments.length ? arguments[1] : void 0,\n          b = zb(g.length);\n      a = void 0 === a ? b : Lp(zb(a), b);\n      b = String(d);\n      return Sk ? Sk.call(g, b, a) : g.slice(a - b.length, a) === b;\n    }\n  });\n\n  var Np = Aa(\"String\").endsWith,\n      Tk = String.prototype,\n      di = function di(d) {\n    var g = d.endsWith;\n    return \"string\" == typeof d || d === Tk || d instanceof String && g === Tk.endsWith ? Np : g;\n  },\n      Qc = function Qc(d, g) {\n    var a = [][d];\n    return !a || !ya(function () {\n      a.call(null, g || function () {\n        throw 1;\n      }, 1);\n    });\n  },\n      Uk = Qc(\"forEach\") ? function (d) {\n    return td(this, d, 1 < arguments.length ? arguments[1] : void 0);\n  } : [].forEach;\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: [].forEach != Uk\n  }, {\n    forEach: Uk\n  });\n\n  var Op = Aa(\"Array\").forEach,\n      Vk = Array.prototype,\n      Pp = {\n    DOMTokenList: !0,\n    NodeList: !0\n  },\n      t = function t(d) {\n    var g = d.forEach;\n    return d === Vk || d instanceof Array && g === Vk.forEach || Pp.hasOwnProperty(qd(d)) ? Op : g;\n  },\n      be = {\n    f: Object.getOwnPropertySymbols\n  },\n      nf = Object.assign,\n      ce = !nf || ya(function () {\n    var d = {},\n        g = {},\n        a = Symbol();\n    return d[a] = 7, \"abcdefghijklmnopqrst\".split(\"\").forEach(function (a) {\n      g[a] = a;\n    }), 7 != nf({}, d)[a] || \"abcdefghijklmnopqrst\" != zc(nf({}, g)).join(\"\");\n  }) ? function (d, g) {\n    for (var a = Jb(d), b = arguments.length, c = 1, e = be.f, f = We; b > c;) {\n      for (var h, l = Xe(arguments[c++]), r = e ? zc(l).concat(e(l)) : zc(l), p = r.length, k = 0; p > k;) {\n        h = r[k++], na && !f.call(l, h) || (a[h] = l[h]);\n      }\n    }\n\n    return a;\n  } : nf;\n\n  L({\n    target: \"Object\",\n    stat: !0,\n    forced: Object.assign !== ce\n  }, {\n    assign: ce\n  });\n  var Ya = ma.Object.assign,\n      Qp = ya(function () {\n    zc(1);\n  });\n  L({\n    target: \"Object\",\n    stat: !0,\n    forced: Qp\n  }, {\n    keys: function keys(d) {\n      return zc(Jb(d));\n    }\n  });\n\n  var W = ma.Object.keys,\n      Wk = function Wk(d) {\n    return function (g, a, b, c) {\n      Vb(a);\n      g = Jb(g);\n      var e = Xe(g),\n          f = zb(g.length),\n          h = d ? f - 1 : 0,\n          l = d ? -1 : 1;\n      if (2 > b) for (;;) {\n        if (h in e) {\n          c = e[h];\n          h += l;\n          break;\n        }\n\n        if (h += l, d ? 0 > h : f <= h) throw TypeError(\"Reduce of empty array with no initial value\");\n      }\n\n      for (; d ? 0 <= h : f > h; h += l) {\n        h in e && (c = a(c, e[h], h, g));\n      }\n\n      return c;\n    };\n  },\n      Rp = {\n    left: Wk(!1),\n    right: Wk(!0)\n  }.left;\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Qc(\"reduce\")\n  }, {\n    reduce: function reduce(d) {\n      return Rp(this, d, arguments.length, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var Sp = Aa(\"Array\").reduce,\n      Xk = Array.prototype,\n      Be = function Be(d) {\n    var g = d.reduce;\n    return d === Xk || d instanceof Array && g === Xk.reduce ? Sp : g;\n  };\n\n  L({\n    target: \"Object\",\n    stat: !0,\n    forced: !na,\n    sham: !na\n  }, {\n    defineProperty: Ib.f\n  });\n\n  var Yk = ub(function (d) {\n    var g = ma.Object;\n\n    d = d.exports = function (a, b, c) {\n      return g.defineProperty(a, b, c);\n    };\n\n    g.defineProperty.sham && (d.sham = !0);\n  }),\n      Q = Yk,\n      Tp = /^[\\t\\n\\x0B\\f\\r \\u00a0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff][\\t\\n\\x0B\\f\\r \\u00a0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff]*/,\n      Up = /[\\t\\n\\x0B\\f\\r \\u00a0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff][\\t\\n\\x0B\\f\\r \\u00a0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff]*$/,\n      Og = function Og(d) {\n    return function (g) {\n      g = String(Jc(g));\n      return 1 & d && (g = g.replace(Tp, \"\")), 2 & d && (g = g.replace(Up, \"\")), g;\n    };\n  };\n\n  Og(1);\n  Og(2);\n  var Zk = Og(3),\n      of = N.parseInt,\n      Vp = /^[+-]?0[Xx]/,\n      $k = 8 !== of(\"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF08\") || 22 !== of(\"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF0x16\") ? function (d, g) {\n    d = Zk(String(d));\n    return of(d, g >>> 0 || (Vp.test(d) ? 16 : 10));\n  } : of;\n  L({\n    global: !0,\n    forced: parseInt != $k\n  }, {\n    parseInt: $k\n  });\n  var wa = ma.parseInt;\n  var $h = !0,\n      ai = !0;\n  var al = md,\n      Wp = ya(function () {\n    al(1);\n  });\n  L({\n    target: \"Object\",\n    stat: !0,\n    forced: !na || Wp,\n    sham: !na\n  }, {\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(d, g) {\n      return al(yb(d), g);\n    }\n  });\n  var ca = ub(function (d) {\n    var g = ma.Object;\n\n    d = d.exports = function (a, b) {\n      return g.getOwnPropertyDescriptor(a, b);\n    };\n\n    g.getOwnPropertyDescriptor.sham && (d.sham = !0);\n  });\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: !$d(\"filter\")\n  }, {\n    filter: function filter(d) {\n      return jp(this, d, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var Xp = Aa(\"Array\").filter,\n      bl = Array.prototype,\n      I = function I(d) {\n    var g = d.filter;\n    return d === bl || d instanceof Array && g === bl.filter ? Xp : g;\n  },\n      Yp = N.Promise,\n      cl = za(\"iterator\"),\n      dl = !1;\n\n  try {\n    var Zp = 0,\n        el = {\n      next: function next() {\n        return {\n          done: !!Zp++\n        };\n      },\n      return: function _return() {\n        dl = !0;\n      }\n    };\n\n    el[cl] = function () {\n      return this;\n    };\n\n    Array.from(el, function () {\n      throw 2;\n    });\n  } catch (d) {}\n\n  var vd,\n      fl,\n      Pg,\n      gl = function gl(d, g) {\n    if (!g && !dl) return !1;\n    var a = !1;\n\n    try {\n      g = {}, g[cl] = function () {\n        return {\n          next: function next() {\n            return {\n              done: a = !0\n            };\n          }\n        };\n      }, d(g);\n    } catch (b) {}\n\n    return a;\n  },\n      $p = za(\"species\"),\n      hl = function hl(d, g) {\n    var a;\n    d = $a(d).constructor;\n    return void 0 === d || null == (a = $a(d)[$p]) ? g : Vb(a);\n  },\n      il = /(iphone|ipod|ipad).*applewebkit/i.test(Zd),\n      jl = N.location,\n      Qg = N.setImmediate,\n      kl = N.clearImmediate,\n      ll = N.process,\n      ml = N.MessageChannel,\n      Rg = N.Dispatch,\n      Sg = 0,\n      de = {},\n      Tg = function Tg(d) {\n    if (de.hasOwnProperty(d)) {\n      var g = de[d];\n      delete de[d];\n      g();\n    }\n  },\n      Ug = function Ug(d) {\n    return function () {\n      Tg(d);\n    };\n  },\n      nl = function nl(d) {\n    Tg(d.data);\n  },\n      ol = function ol(d) {\n    N.postMessage(d + \"\", jl.protocol + \"//\" + jl.host);\n  };\n\n  Qg && kl || (Qg = function Qg(d) {\n    for (var g = [], a = 1; arguments.length > a;) {\n      g.push(arguments[a++]);\n    }\n\n    return de[++Sg] = function () {\n      (\"function\" == typeof d ? d : Function(d)).apply(void 0, g);\n    }, vd(Sg), Sg;\n  }, kl = function kl(d) {\n    delete de[d];\n  }, \"process\" == cc(ll) ? vd = function vd(d) {\n    ll.nextTick(Ug(d));\n  } : Rg && Rg.now ? vd = function vd(d) {\n    Rg.now(Ug(d));\n  } : ml && !il ? (Pg = (fl = new ml()).port2, fl.port1.onmessage = nl, vd = yc(Pg.postMessage, Pg, 1)) : !N.addEventListener || \"function\" != typeof postMessage || N.importScripts || ya(ol) ? vd = \"onreadystatechange\" in (Ye ? ld.createElement(\"script\") : {}) ? function (d) {\n    Fg.appendChild(Ye ? ld.createElement(\"script\") : {}).onreadystatechange = function () {\n      Fg.removeChild(this);\n      Tg(d);\n    };\n  } : function (d) {\n    setTimeout(Ug(d), 0);\n  } : (vd = ol, N.addEventListener(\"message\", nl, !1)));\n  var ee,\n      Rc,\n      fe,\n      wd,\n      Vg,\n      Wg,\n      Xg,\n      pl,\n      Yg = Qg,\n      aq = md,\n      ql = N.MutationObserver || N.WebKitMutationObserver,\n      Zg = N.process,\n      $g = N.Promise,\n      rl = \"process\" == cc(Zg),\n      sl = aq(N, \"queueMicrotask\"),\n      tl = sl && sl.value;\n  tl || (ee = function ee() {\n    var d;\n\n    for (rl && (d = Zg.domain) && d.exit(); Rc;) {\n      var g = Rc.fn;\n      Rc = Rc.next;\n\n      try {\n        g();\n      } catch (a) {\n        throw Rc ? wd() : fe = void 0, a;\n      }\n    }\n\n    fe = void 0;\n    d && d.enter();\n  }, rl ? wd = function wd() {\n    Zg.nextTick(ee);\n  } : ql && !il ? (Vg = !0, Wg = document.createTextNode(\"\"), new ql(ee).observe(Wg, {\n    characterData: !0\n  }), wd = function wd() {\n    Wg.data = Vg = !Vg;\n  }) : $g && $g.resolve ? (Xg = $g.resolve(void 0), pl = Xg.then, wd = function wd() {\n    pl.call(Xg, ee);\n  }) : wd = function wd() {\n    Yg.call(N, ee);\n  });\n\n  var ah,\n      ul,\n      vl = tl || function (d) {\n    d = {\n      fn: d,\n      next: void 0\n    };\n    fe && (fe.next = d);\n    Rc || (Rc = d, wd());\n    fe = d;\n  },\n      bq = function bq(d) {\n    var g, a;\n    this.promise = new d(function (b, c) {\n      if (void 0 !== g || void 0 !== a) throw TypeError(\"Bad Promise constructor\");\n      g = b;\n      a = c;\n    });\n    this.resolve = Vb(g);\n    this.reject = Vb(a);\n  },\n      pf = {\n    f: function f(d) {\n      return new bq(d);\n    }\n  },\n      bh = function bh(d, g) {\n    if ($a(d), qa(g) && g.constructor === d) return g;\n    d = pf.f(d);\n    return (0, d.resolve)(g), d.promise;\n  },\n      qf = function qf(d) {\n    try {\n      return {\n        error: !1,\n        value: d()\n      };\n    } catch (g) {\n      return {\n        error: !0,\n        value: g\n      };\n    }\n  },\n      cq = za(\"species\"),\n      wl = Fa.get,\n      dq = Fa.set,\n      eq = Fa.getterFor(\"Promise\"),\n      _qb = Yp,\n      xl = N.TypeError,\n      ch = N.document,\n      rf = N.process,\n      fq = mc(\"inspectSource\"),\n      xd = (Xb(\"fetch\"), pf.f),\n      gq = xd,\n      ge = \"process\" == cc(rf),\n      hq = !!(ch && ch.createEvent && N.dispatchEvent),\n      sf = nd(\"Promise\", function () {\n    if (fq(_qb) === String(_qb) && (66 === cf || !ge && \"function\" != typeof PromiseRejectionEvent) || !_qb.prototype.finally) return !0;\n    if (51 <= cf && /native code/.test(_qb)) return !1;\n\n    var d = _qb.resolve(1),\n        g = function g(a) {\n      a(function () {}, function () {});\n    };\n\n    return (d.constructor = {})[cq] = g, !(d.then(function () {}) instanceof g);\n  }),\n      iq = sf || !gl(function (d) {\n    _qb.all(d).catch(function () {});\n  }),\n      yl = function yl(d) {\n    var g;\n    return !(!qa(d) || \"function\" != typeof (g = d.then)) && g;\n  },\n      dh = function dh(d, g, a) {\n    if (!g.notified) {\n      g.notified = !0;\n      var b = g.reactions;\n      vl(function () {\n        for (var c = g.value, e = 1 == g.state, f = 0; b.length > f;) {\n          var h,\n              l,\n              r,\n              p = b[f++],\n              k = e ? p.ok : p.fail,\n              X = p.resolve,\n              K = p.reject,\n              m = p.domain;\n\n          try {\n            k ? (e || (2 === g.rejection && jq(d, g), g.rejection = 1), !0 === k ? h = c : (m && m.enter(), h = k(c), m && (m.exit(), r = !0)), h === p.promise ? K(xl(\"Promise-chain cycle\")) : (l = yl(h)) ? l.call(h, X, K) : X(h)) : K(c);\n          } catch (B) {\n            m && !r && m.exit(), K(B);\n          }\n        }\n\n        g.reactions = [];\n        g.notified = !1;\n        a && !g.rejection && kq(d, g);\n      });\n    }\n  },\n      zl = function zl(d, g, a) {\n    var b, c;\n    hq ? ((b = ch.createEvent(\"Event\")).promise = g, b.reason = a, b.initEvent(d, !1, !0), N.dispatchEvent(b)) : b = {\n      promise: g,\n      reason: a\n    };\n    (c = N[\"on\" + d]) ? c(b) : \"unhandledrejection\" === d && function (a, b) {\n      var c = N.console;\n      c && c.error && (1 === arguments.length ? c.error(a) : c.error(a, b));\n    }(\"Unhandled promise rejection\", a);\n  },\n      kq = function kq(d, g) {\n    Yg.call(N, function () {\n      var a,\n          b = g.value;\n      if (1 !== g.rejection && !g.parent && (a = qf(function () {\n        ge ? rf.emit(\"unhandledRejection\", b, d) : zl(\"unhandledrejection\", d, b);\n      }), g.rejection = ge || 1 !== g.rejection && !g.parent ? 2 : 1, a.error)) throw a.value;\n    });\n  },\n      jq = function jq(d, g) {\n    Yg.call(N, function () {\n      ge ? rf.emit(\"rejectionHandled\", d) : zl(\"rejectionhandled\", d, g.value);\n    });\n  },\n      yd = function yd(d, g, a, b) {\n    return function (c) {\n      d(g, a, c, b);\n    };\n  },\n      zd = function zd(d, g, a, b) {\n    g.done || (g.done = !0, b && (g = b), g.value = a, g.state = 2, dh(d, g, !0));\n  },\n      eh = function eh(d, g, a, b) {\n    if (!g.done) {\n      g.done = !0;\n      b && (g = b);\n\n      try {\n        if (d === a) throw xl(\"Promise can't be resolved itself\");\n        var c = yl(a);\n        c ? vl(function () {\n          var b = {\n            done: !1\n          };\n\n          try {\n            c.call(a, yd(eh, d, b, g), yd(zd, d, b, g));\n          } catch (f) {\n            zd(d, b, f, g);\n          }\n        }) : (g.value = a, g.state = 1, dh(d, g, !1));\n      } catch (e) {\n        zd(d, {\n          done: !1\n        }, e, g);\n      }\n    }\n  };\n\n  sf && (_qb = function qb(d) {\n    sd(this, _qb, \"Promise\");\n    Vb(d);\n    ah.call(this);\n    var g = wl(this);\n\n    try {\n      d(yd(eh, this, g), yd(zd, this, g));\n    } catch (a) {\n      zd(this, g, a);\n    }\n  }, (ah = function ah(d) {\n    dq(this, {\n      type: \"Promise\",\n      done: !1,\n      notified: !1,\n      parent: !1,\n      reactions: [],\n      rejection: !1,\n      state: 0,\n      value: void 0\n    });\n  }).prototype = Pc(_qb.prototype, {\n    then: function then(d, g) {\n      var a = eq(this),\n          b = xd(hl(this, _qb));\n      return b.ok = \"function\" != typeof d || d, b.fail = \"function\" == typeof g && g, b.domain = ge ? rf.domain : void 0, a.parent = !0, a.reactions.push(b), 0 != a.state && dh(this, a, !1), b.promise;\n    },\n    catch: function _catch(d) {\n      return this.then(void 0, d);\n    }\n  }), ul = function ul() {\n    var d = new ah(),\n        g = wl(d);\n    this.promise = d;\n    this.resolve = yd(eh, d, g);\n    this.reject = yd(zd, d, g);\n  }, pf.f = xd = function xd(d) {\n    return d === _qb || d === Al ? new ul(d) : gq(d);\n  });\n  L({\n    global: !0,\n    wrap: !0,\n    forced: sf\n  }, {\n    Promise: _qb\n  });\n  Mc(_qb, \"Promise\", !1, !0);\n  Mk(\"Promise\");\n  var Al = Xb(\"Promise\");\n  L({\n    target: \"Promise\",\n    stat: !0,\n    forced: sf\n  }, {\n    reject: function reject(d) {\n      var g = xd(this);\n      return g.reject.call(void 0, d), g.promise;\n    }\n  });\n  L({\n    target: \"Promise\",\n    stat: !0,\n    forced: !0\n  }, {\n    resolve: function resolve(d) {\n      return bh(this === Al ? _qb : this, d);\n    }\n  });\n  L({\n    target: \"Promise\",\n    stat: !0,\n    forced: iq\n  }, {\n    all: function all(d) {\n      var g = this,\n          a = xd(g),\n          b = a.resolve,\n          c = a.reject,\n          e = qf(function () {\n        var a = Vb(g.resolve),\n            e = [],\n            l = 0,\n            r = 1;\n        rd(d, function (d) {\n          var f = l++,\n              h = !1;\n          e.push(void 0);\n          r++;\n          a.call(g, d).then(function (a) {\n            h || (h = !0, e[f] = a, --r || b(e));\n          }, c);\n        });\n        --r || b(e);\n      });\n      return e.error && c(e.value), a.promise;\n    },\n    race: function race(d) {\n      var g = this,\n          a = xd(g),\n          b = a.reject,\n          c = qf(function () {\n        var c = Vb(g.resolve);\n        rd(d, function (d) {\n          c.call(g, d).then(a.resolve, b);\n        });\n      });\n      return c.error && b(c.value), a.promise;\n    }\n  });\n  L({\n    target: \"Promise\",\n    stat: !0\n  }, {\n    allSettled: function allSettled(d) {\n      var g = this,\n          a = pf.f(g),\n          b = a.resolve,\n          c = a.reject,\n          e = qf(function () {\n        var a = Vb(g.resolve),\n            c = [],\n            e = 0,\n            r = 1;\n        rd(d, function (d) {\n          var f = e++,\n              h = !1;\n          c.push(void 0);\n          r++;\n          a.call(g, d).then(function (a) {\n            h || (h = !0, c[f] = {\n              status: \"fulfilled\",\n              value: a\n            }, --r || b(c));\n          }, function (a) {\n            h || (h = !0, c[f] = {\n              status: \"rejected\",\n              reason: a\n            }, --r || b(c));\n          });\n        });\n        --r || b(c);\n      });\n      return e.error && c(e.value), a.promise;\n    }\n  });\n  L({\n    target: \"Promise\",\n    proto: !0,\n    real: !0\n  }, {\n    finally: function _finally(d) {\n      var g = hl(this, Xb(\"Promise\")),\n          a = \"function\" == typeof d;\n      return this.then(a ? function (a) {\n        return bh(g, d()).then(function () {\n          return a;\n        });\n      } : d, a ? function (a) {\n        return bh(g, d()).then(function () {\n          throw a;\n        });\n      } : d);\n    }\n  });\n  var y = ma.Promise;\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: !$d(\"map\")\n  }, {\n    map: function map(d) {\n      return ip(this, d, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var lq = Aa(\"Array\").map,\n      Bl = Array.prototype,\n      z = function z(d) {\n    var g = d.map;\n    return d === Bl || d instanceof Array && g === Bl.map ? lq : g;\n  },\n      mq = Math.max,\n      nq = Math.min;\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: !$d(\"splice\")\n  }, {\n    splice: function splice(d, g) {\n      var a,\n          b,\n          c,\n          e,\n          f = Jb(this),\n          h = zb(f.length),\n          l = Oc(d, h);\n      var r = arguments.length;\n      if (0 === r ? a = b = 0 : 1 === r ? (a = 0, b = h - l) : (a = r - 2, b = nq(mq(Yd(g), 0), h - l)), 9007199254740991 < h + a - b) throw TypeError(\"Maximum allowed length exceeded\");\n      r = Ag(f, b);\n\n      for (c = 0; c < b; c++) {\n        (e = l + c) in f && Lc(r, c, f[e]);\n      }\n\n      if (r.length = b, a < b) {\n        for (c = l; c < h - b; c++) {\n          var p = c + a;\n          (e = c + b) in f ? f[p] = f[e] : delete f[p];\n        }\n\n        for (c = h; c > h - b + a; c--) {\n          delete f[c - 1];\n        }\n      } else if (a > b) for (c = h - b; c > l; c--) {\n        p = c + a - 1, (e = c + b - 1) in f ? f[p] = f[e] : delete f[p];\n      }\n\n      for (c = 0; c < a; c++) {\n        f[c + l] = arguments[c + 2];\n      }\n\n      return f.length = h - b + a, r;\n    }\n  });\n\n  var oq = Aa(\"Array\").splice,\n      Cl = Array.prototype,\n      Ra = function Ra(d) {\n    var g = d.splice;\n    return d === Cl || d instanceof Array && g === Cl.splice ? oq : g;\n  },\n      Dl = [].indexOf,\n      El = !!Dl && 0 > 1 / [1].indexOf(1, -0),\n      pq = Qc(\"indexOf\");\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: El || pq\n  }, {\n    indexOf: function indexOf(d) {\n      return El ? Dl.apply(this, arguments) || 0 : Ck(this, d, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var qq = Aa(\"Array\").indexOf,\n      Fl = Array.prototype,\n      J = function J(d) {\n    var g = d.indexOf;\n    return d === Fl || d instanceof Array && g === Fl.indexOf ? qq : g;\n  },\n      rq = za(\"species\"),\n      sq = [].slice,\n      tq = Math.max;\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: !$d(\"slice\")\n  }, {\n    slice: function slice(d, g) {\n      var a,\n          b = yb(this);\n      var c = zb(b.length);\n      d = Oc(d, c);\n      g = Oc(void 0 === g ? c : g, c);\n      if (Kc(b) && (\"function\" != typeof (a = b.constructor) || a !== Array && !Kc(a.prototype) ? qa(a) && null === (a = a[rq]) && (a = void 0) : a = void 0, a === Array || void 0 === a)) return sq.call(b, d, g);\n      a = new (void 0 === a ? Array : a)(tq(g - d, 0));\n\n      for (c = 0; d < g; d++, c++) {\n        d in b && Lc(a, c, b[d]);\n      }\n\n      return a.length = c, a;\n    }\n  });\n\n  var uq = Aa(\"Array\").slice,\n      Gl = Array.prototype,\n      Ma = function Ma(d) {\n    var g = d.slice;\n    return d === Gl || d instanceof Array && g === Gl.slice ? uq : g;\n  },\n      Hl = !0;\n\n  \"find\" in [] && Array(1).find(function () {\n    Hl = !1;\n  });\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Hl\n  }, {\n    find: function find(d) {\n      return vk(this, d, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var vq = Aa(\"Array\").find,\n      Il = Array.prototype,\n      U = function U(d) {\n    var g = d.find;\n    return d === Il || d instanceof Array && g === Il.find ? vq : g;\n  },\n      Jl = [].slice,\n      fh = {};\n\n  L({\n    target: \"Function\",\n    proto: !0\n  }, {\n    bind: Function.bind || function (d) {\n      var g = Vb(this),\n          a = Jl.call(arguments, 1),\n          b = function b() {\n        var c = a.concat(Jl.call(arguments));\n\n        if (this instanceof b) {\n          var e = c.length;\n\n          if (!(e in fh)) {\n            for (var f = [], h = 0; h < e; h++) {\n              f[h] = \"a[\" + h + \"]\";\n            }\n\n            fh[e] = Function(\"C,a\", \"return new C(\" + f.join(\",\") + \")\");\n          }\n\n          c = fh[e](g, c);\n        } else c = g.apply(d, c);\n\n        return c;\n      };\n\n      return qa(g.prototype) && (b.prototype = g.prototype), b;\n    }\n  });\n\n  var wq = Aa(\"Function\").bind,\n      Kl = Function.prototype,\n      xa = function xa(d) {\n    var g = d.bind;\n    return d === Kl || d instanceof Function && g === Kl.bind ? wq : g;\n  };\n\n  L({\n    target: \"Array\",\n    proto: !0\n  }, {\n    includes: function includes(d) {\n      return wp(this, d, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n  var xq = Aa(\"Array\").includes;\n  L({\n    target: \"String\",\n    proto: !0,\n    forced: !Ng(\"includes\")\n  }, {\n    includes: function includes(d) {\n      return !!~String(Jc(this)).indexOf(Mg(d), 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var yq = Aa(\"String\").includes,\n      Ll = Array.prototype,\n      Ml = String.prototype,\n      Z = function Z(d) {\n    var g = d.includes;\n    return d === Ll || d instanceof Array && g === Ll.includes ? xq : \"string\" == typeof d || d === Ml || d instanceof String && g === Ml.includes ? yq : g;\n  };\n\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Qc(\"some\")\n  }, {\n    some: function some(d) {\n      return kp(this, d, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var zq = Aa(\"Array\").some,\n      Nl = Array.prototype,\n      fi = function fi(d) {\n    var g = d.some;\n    return d === Nl || d instanceof Array && g === Nl.some ? zq : g;\n  };\n\n  var gi = Pb;\n  var Ol = Object.freeze({\n    __proto__: null,\n    shimMediaStream: hi,\n    shimOnTrack: ii,\n    shimGetSendersWithDtmf: ji,\n    shimGetStats: ki,\n    shimSenderReceiverGetStats: li,\n    shimAddTrackRemoveTrackWithNative: mi,\n    shimAddTrackRemoveTrack: ni,\n    shimPeerConnection: Mf,\n    fixNegotiationNeeded: oi,\n    shimGetUserMedia: ei,\n    shimGetDisplayMedia: function shimGetDisplayMedia(d, g) {\n      d.navigator.mediaDevices && \"getDisplayMedia\" in d.navigator.mediaDevices || d.navigator.mediaDevices && (\"function\" == typeof g ? d.navigator.mediaDevices.getDisplayMedia = function (a) {\n        return g(a).then(function (b) {\n          var c = a.video && a.video.width,\n              e = a.video && a.video.height;\n          return a.video = {\n            mandatory: {\n              chromeMediaSource: \"desktop\",\n              chromeMediaSourceId: b,\n              maxFrameRate: a.video && a.video.frameRate || 3\n            }\n          }, c && (a.video.mandatory.maxWidth = c), e && (a.video.mandatory.maxHeight = e), d.navigator.mediaDevices.getUserMedia(a);\n        });\n      } : console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"));\n    }\n  }),\n      Pl = \"\".startsWith,\n      Aq = Math.min,\n      Bq = Ng(\"startsWith\");\n  L({\n    target: \"String\",\n    proto: !0,\n    forced: !Bq\n  }, {\n    startsWith: function startsWith(d) {\n      var g = String(Jc(this));\n      Mg(d);\n      var a = zb(Aq(1 < arguments.length ? arguments[1] : void 0, g.length)),\n          b = String(d);\n      return Pl ? Pl.call(g, b, a) : g.slice(a, a + b.length) === b;\n    }\n  });\n\n  var Cq = Aa(\"String\").startsWith,\n      Ql = String.prototype,\n      Hd = function Hd(d) {\n    var g = d.startsWith;\n    return \"string\" == typeof d || d === Ql || d instanceof String && g === Ql.startsWith ? Cq : g;\n  };\n\n  L({\n    target: \"String\",\n    proto: !0,\n    forced: ya(function () {\n      return \"trim\" !== \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF\".trim.name;\n    })\n  }, {\n    trim: function trim() {\n      return Zk(this);\n    }\n  });\n\n  var Dq = Aa(\"String\").trim,\n      Rl = String.prototype,\n      Fc = function Fc(d) {\n    var g = d.trim;\n    return \"string\" == typeof d || d === Rl || d instanceof String && g === Rl.trim ? Dq : g;\n  },\n      H = ub(function (d) {\n    var g = {\n      generateIdentifier: function generateIdentifier() {\n        return Math.random().toString(36).substr(2, 10);\n      }\n    };\n    g.localCName = g.generateIdentifier();\n\n    g.splitLines = function (a) {\n      var b;\n      return z(b = Fc(a).call(a).split(\"\\n\")).call(b, function (a) {\n        return Fc(a).call(a);\n      });\n    };\n\n    g.splitSections = function (a) {\n      a = a.split(\"\\nm=\");\n      return z(a).call(a, function (a, c) {\n        var b;\n        return Fc(b = 0 < c ? \"m=\" + a : a).call(b) + \"\\r\\n\";\n      });\n    };\n\n    g.getDescription = function (a) {\n      return (a = g.splitSections(a)) && a[0];\n    };\n\n    g.getMediaSections = function (a) {\n      a = g.splitSections(a);\n      return a.shift(), a;\n    };\n\n    g.matchPrefix = function (a, b) {\n      var c;\n      return I(c = g.splitLines(a)).call(c, function (a) {\n        return 0 === J(a).call(a, b);\n      });\n    };\n\n    g.parseCandidate = function (a) {\n      var b;\n      a = {\n        foundation: (b = 0 === J(a).call(a, \"a=candidate:\") ? a.substring(12).split(\" \") : a.substring(10).split(\" \"))[0],\n        component: wa(b[1], 10),\n        protocol: b[2].toLowerCase(),\n        priority: wa(b[3], 10),\n        ip: b[4],\n        address: b[4],\n        port: wa(b[5], 10),\n        type: b[7]\n      };\n\n      for (var c = 8; c < b.length; c += 2) {\n        switch (b[c]) {\n          case \"raddr\":\n            a.relatedAddress = b[c + 1];\n            break;\n\n          case \"rport\":\n            a.relatedPort = wa(b[c + 1], 10);\n            break;\n\n          case \"tcptype\":\n            a.tcpType = b[c + 1];\n            break;\n\n          case \"ufrag\":\n            a.ufrag = b[c + 1];\n            a.usernameFragment = b[c + 1];\n            break;\n\n          default:\n            a[b[c]] = b[c + 1];\n        }\n      }\n\n      return a;\n    };\n\n    g.writeCandidate = function (a) {\n      var b = [];\n      b.push(a.foundation);\n      b.push(a.component);\n      b.push(a.protocol.toUpperCase());\n      b.push(a.priority);\n      b.push(a.address || a.ip);\n      b.push(a.port);\n      var c = a.type;\n      return b.push(\"typ\"), b.push(c), \"host\" !== c && a.relatedAddress && a.relatedPort && (b.push(\"raddr\"), b.push(a.relatedAddress), b.push(\"rport\"), b.push(a.relatedPort)), a.tcpType && \"tcp\" === a.protocol.toLowerCase() && (b.push(\"tcptype\"), b.push(a.tcpType)), (a.usernameFragment || a.ufrag) && (b.push(\"ufrag\"), b.push(a.usernameFragment || a.ufrag)), \"candidate:\" + b.join(\" \");\n    };\n\n    g.parseIceOptions = function (a) {\n      return a.substr(14).split(\" \");\n    };\n\n    g.parseRtpMap = function (a) {\n      a = a.substr(9).split(\" \");\n      var b = {\n        payloadType: wa(a.shift(), 10)\n      };\n      return a = a[0].split(\"/\"), b.name = a[0], b.clockRate = wa(a[1], 10), b.channels = 3 === a.length ? wa(a[2], 10) : 1, b.numChannels = b.channels, b;\n    };\n\n    g.writeRtpMap = function (a) {\n      var b = a.payloadType;\n      void 0 !== a.preferredPayloadType && (b = a.preferredPayloadType);\n      var c = a.channels || a.numChannels || 1;\n      return \"a=rtpmap:\" + b + \" \" + a.name + \"/\" + a.clockRate + (1 !== c ? \"/\" + c : \"\") + \"\\r\\n\";\n    };\n\n    g.parseExtmap = function (a) {\n      var b;\n      a = a.substr(9).split(\" \");\n      return {\n        id: wa(a[0], 10),\n        direction: 0 < J(b = a[0]).call(b, \"/\") ? a[0].split(\"/\")[1] : \"sendrecv\",\n        uri: a[1]\n      };\n    };\n\n    g.writeExtmap = function (a) {\n      return \"a=extmap:\" + (a.id || a.preferredId) + (a.direction && \"sendrecv\" !== a.direction ? \"/\" + a.direction : \"\") + \" \" + a.uri + \"\\r\\n\";\n    };\n\n    g.parseFmtp = function (a) {\n      for (var b = {}, c = a.substr(J(a).call(a, \" \") + 1).split(\";\"), d = 0; d < c.length; d++) {\n        var f, h;\n        a = Fc(f = c[d]).call(f).split(\"=\");\n        b[Fc(h = a[0]).call(h)] = a[1];\n      }\n\n      return b;\n    };\n\n    g.writeFmtp = function (a) {\n      var b = \"\",\n          c = a.payloadType;\n\n      if (void 0 !== a.preferredPayloadType && (c = a.preferredPayloadType), a.parameters && W(a.parameters).length) {\n        var d,\n            f = [];\n        t(d = W(a.parameters)).call(d, function (b) {\n          a.parameters[b] ? f.push(b + \"=\" + a.parameters[b]) : f.push(b);\n        });\n        b += \"a=fmtp:\" + c + \" \" + f.join(\";\") + \"\\r\\n\";\n      }\n\n      return b;\n    };\n\n    g.parseRtcpFb = function (a) {\n      a = a.substr(J(a).call(a, \" \") + 1).split(\" \");\n      return {\n        type: a.shift(),\n        parameter: a.join(\" \")\n      };\n    };\n\n    g.writeRtcpFb = function (a) {\n      var b,\n          c = \"\",\n          d = a.payloadType;\n      (void 0 !== a.preferredPayloadType && (d = a.preferredPayloadType), a.rtcpFeedback && a.rtcpFeedback.length) && t(b = a.rtcpFeedback).call(b, function (a) {\n        c += \"a=rtcp-fb:\" + d + \" \" + a.type + (a.parameter && a.parameter.length ? \" \" + a.parameter : \"\") + \"\\r\\n\";\n      });\n      return c;\n    };\n\n    g.parseSsrcMedia = function (a) {\n      var b = J(a).call(a, \" \"),\n          c = {\n        ssrc: wa(a.substr(7, b - 7), 10)\n      },\n          d = J(a).call(a, \":\", b);\n      return -1 < d ? (c.attribute = a.substr(b + 1, d - b - 1), c.value = a.substr(d + 1)) : c.attribute = a.substr(b + 1), c;\n    };\n\n    g.parseSsrcGroup = function (a) {\n      a = a.substr(13).split(\" \");\n      return {\n        semantics: a.shift(),\n        ssrcs: z(a).call(a, function (a) {\n          return wa(a, 10);\n        })\n      };\n    };\n\n    g.getMid = function (a) {\n      if (a = g.matchPrefix(a, \"a=mid:\")[0]) return a.substr(6);\n    };\n\n    g.parseFingerprint = function (a) {\n      a = a.substr(14).split(\" \");\n      return {\n        algorithm: a[0].toLowerCase(),\n        value: a[1]\n      };\n    };\n\n    g.getDtlsParameters = function (a, b) {\n      a = g.matchPrefix(a + b, \"a=fingerprint:\");\n      return {\n        role: \"auto\",\n        fingerprints: z(a).call(a, g.parseFingerprint)\n      };\n    };\n\n    g.writeDtlsParameters = function (a, b) {\n      var c,\n          d = \"a=setup:\" + b + \"\\r\\n\";\n      return t(c = a.fingerprints).call(c, function (a) {\n        d += \"a=fingerprint:\" + a.algorithm + \" \" + a.value + \"\\r\\n\";\n      }), d;\n    };\n\n    g.getIceParameters = function (a, b) {\n      a = g.splitLines(a);\n      return a = m(a).call(a, g.splitLines(b)), {\n        usernameFragment: I(a).call(a, function (a) {\n          return 0 === J(a).call(a, \"a=ice-ufrag:\");\n        })[0].substr(12),\n        password: I(a).call(a, function (a) {\n          return 0 === J(a).call(a, \"a=ice-pwd:\");\n        })[0].substr(10)\n      };\n    };\n\n    g.writeIceParameters = function (a) {\n      return \"a=ice-ufrag:\" + a.usernameFragment + \"\\r\\na=ice-pwd:\" + a.password + \"\\r\\n\";\n    };\n\n    g.parseRtpParameters = function (a) {\n      for (var b, c = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: [],\n        rtcp: []\n      }, d = g.splitLines(a)[0].split(\" \"), f = 3; f < d.length; f++) {\n        var h = d[f],\n            l = g.matchPrefix(a, \"a=rtpmap:\" + h + \" \")[0];\n\n        if (l) {\n          var r;\n          l = g.parseRtpMap(l);\n          var p = g.matchPrefix(a, \"a=fmtp:\" + h + \" \");\n\n          switch (l.parameters = p.length ? g.parseFmtp(p[0]) : {}, l.rtcpFeedback = z(r = g.matchPrefix(a, \"a=rtcp-fb:\" + h + \" \")).call(r, g.parseRtcpFb), c.codecs.push(l), l.name.toUpperCase()) {\n            case \"RED\":\n            case \"ULPFEC\":\n              c.fecMechanisms.push(l.name.toUpperCase());\n          }\n        }\n      }\n\n      return t(b = g.matchPrefix(a, \"a=extmap:\")).call(b, function (a) {\n        c.headerExtensions.push(g.parseExtmap(a));\n      }), c;\n    };\n\n    g.writeRtpDescription = function (a, b) {\n      var c,\n          d,\n          f,\n          h = \"\";\n      h += \"m=\" + a + \" \";\n      h += 0 < b.codecs.length ? \"9\" : \"0\";\n      h += \" UDP/TLS/RTP/SAVPF \";\n      h += z(c = b.codecs).call(c, function (a) {\n        return void 0 !== a.preferredPayloadType ? a.preferredPayloadType : a.payloadType;\n      }).join(\" \") + \"\\r\\n\";\n      h += \"c=IN IP4 0.0.0.0\\r\\n\";\n      h += \"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\";\n      t(d = b.codecs).call(d, function (a) {\n        h += g.writeRtpMap(a);\n        h += g.writeFmtp(a);\n        h += g.writeRtcpFb(a);\n      });\n      var l,\n          r = 0;\n      (t(f = b.codecs).call(f, function (a) {\n        a.maxptime > r && (r = a.maxptime);\n      }), 0 < r && (h += \"a=maxptime:\" + r + \"\\r\\n\"), h += \"a=rtcp-mux\\r\\n\", b.headerExtensions) && t(l = b.headerExtensions).call(l, function (a) {\n        h += g.writeExtmap(a);\n      });\n      return h;\n    };\n\n    g.parseRtpEncodingParameters = function (a) {\n      var b,\n          c,\n          d,\n          f,\n          h,\n          l,\n          r,\n          p = [],\n          k = g.parseRtpParameters(a),\n          X = -1 !== J(b = k.fecMechanisms).call(b, \"RED\"),\n          K = -1 !== J(c = k.fecMechanisms).call(c, \"ULPFEC\");\n      b = I(d = z(f = g.matchPrefix(a, \"a=ssrc:\")).call(f, function (a) {\n        return g.parseSsrcMedia(a);\n      })).call(d, function (a) {\n        return \"cname\" === a.attribute;\n      });\n      var m = 0 < b.length && b[0].ssrc;\n      d = z(h = g.matchPrefix(a, \"a=ssrc-group:FID\")).call(h, function (a) {\n        a = a.substr(17).split(\" \");\n        return z(a).call(a, function (a) {\n          return wa(a, 10);\n        });\n      });\n      0 < d.length && 1 < d[0].length && d[0][0] === m && (r = d[0][1]);\n      t(l = k.codecs).call(l, function (a) {\n        \"RTX\" === a.name.toUpperCase() && a.parameters.apt && (a = {\n          ssrc: m,\n          codecPayloadType: wa(a.parameters.apt, 10)\n        }, m && r && (a.rtx = {\n          ssrc: r\n        }), p.push(a), X && ((a = JSON.parse(A(a))).fec = {\n          ssrc: m,\n          mechanism: K ? \"red+ulpfec\" : \"red\"\n        }, p.push(a)));\n      });\n      0 === p.length && m && p.push({\n        ssrc: m\n      });\n      var n,\n          q,\n          Tb = g.matchPrefix(a, \"b=\");\n      Tb.length && (Tb = 0 === J(n = Tb[0]).call(n, \"b=TIAS:\") ? wa(Tb[0].substr(7), 10) : 0 === J(q = Tb[0]).call(q, \"b=AS:\") ? 950 * wa(Tb[0].substr(5), 10) - 16E3 : void 0, t(p).call(p, function (a) {\n        a.maxBitrate = Tb;\n      }));\n      return p;\n    };\n\n    g.parseRtcpParameters = function (a) {\n      var b,\n          c,\n          d = {},\n          f = I(b = z(c = g.matchPrefix(a, \"a=ssrc:\")).call(c, function (a) {\n        return g.parseSsrcMedia(a);\n      })).call(b, function (a) {\n        return \"cname\" === a.attribute;\n      })[0];\n      f && (d.cname = f.value, d.ssrc = f.ssrc);\n      b = g.matchPrefix(a, \"a=rtcp-rsize\");\n      d.reducedSize = 0 < b.length;\n      d.compound = 0 === b.length;\n      a = g.matchPrefix(a, \"a=rtcp-mux\");\n      return d.mux = 0 < a.length, d;\n    };\n\n    g.parseMsid = function (a) {\n      var b,\n          c,\n          d,\n          f = g.matchPrefix(a, \"a=msid:\");\n      if (1 === f.length) return {\n        stream: (d = f[0].substr(7).split(\" \"))[0],\n        track: d[1]\n      };\n      a = I(b = z(c = g.matchPrefix(a, \"a=ssrc:\")).call(c, function (a) {\n        return g.parseSsrcMedia(a);\n      })).call(b, function (a) {\n        return \"msid\" === a.attribute;\n      });\n      return 0 < a.length ? {\n        stream: (d = a[0].value.split(\" \"))[0],\n        track: d[1]\n      } : void 0;\n    };\n\n    g.generateSessionId = function () {\n      return Math.random().toString().substr(2, 21);\n    };\n\n    g.writeSessionBoilerplate = function (a, b, c) {\n      b = void 0 !== b ? b : 2;\n      return \"v=0\\r\\no=\" + (c || \"thisisadapterortc\") + \" \" + (a || g.generateSessionId()) + \" \" + b + \" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\";\n    };\n\n    g.writeMediaSection = function (a, b, c, d) {\n      b = g.writeRtpDescription(a.kind, b);\n      if (b += g.writeIceParameters(a.iceGatherer.getLocalParameters()), b += g.writeDtlsParameters(a.dtlsTransport.getLocalParameters(), \"offer\" === c ? \"actpass\" : \"active\"), b += \"a=mid:\" + a.mid + \"\\r\\n\", a.direction ? b += \"a=\" + a.direction + \"\\r\\n\" : a.rtpSender && a.rtpReceiver ? b += \"a=sendrecv\\r\\n\" : a.rtpSender ? b += \"a=sendonly\\r\\n\" : a.rtpReceiver ? b += \"a=recvonly\\r\\n\" : b += \"a=inactive\\r\\n\", a.rtpSender) c = \"msid:\" + d.id + \" \" + a.rtpSender.track.id + \"\\r\\n\", b = b + (\"a=\" + c) + (\"a=ssrc:\" + a.sendEncodingParameters[0].ssrc + \" \" + c), a.sendEncodingParameters[0].rtx && (b += \"a=ssrc:\" + a.sendEncodingParameters[0].rtx.ssrc + \" \" + c, b += \"a=ssrc-group:FID \" + a.sendEncodingParameters[0].ssrc + \" \" + a.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n      return b += \"a=ssrc:\" + a.sendEncodingParameters[0].ssrc + \" cname:\" + g.localCName + \"\\r\\n\", a.rtpSender && a.sendEncodingParameters[0].rtx && (b += \"a=ssrc:\" + a.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + g.localCName + \"\\r\\n\"), b;\n    };\n\n    g.getDirection = function (a, b) {\n      a = g.splitLines(a);\n\n      for (var c = 0; c < a.length; c++) {\n        switch (a[c]) {\n          case \"a=sendrecv\":\n          case \"a=sendonly\":\n          case \"a=recvonly\":\n          case \"a=inactive\":\n            return a[c].substr(2);\n        }\n      }\n\n      return b ? g.getDirection(b) : \"sendrecv\";\n    };\n\n    g.getKind = function (a) {\n      return g.splitLines(a)[0].split(\" \")[0].substr(2);\n    };\n\n    g.isRejected = function (a) {\n      return \"0\" === a.split(\" \", 2)[1];\n    };\n\n    g.parseMLine = function (a) {\n      a = g.splitLines(a)[0].substr(2).split(\" \");\n      return {\n        kind: a[0],\n        port: wa(a[1], 10),\n        protocol: a[2],\n        fmt: Ma(a).call(a, 3).join(\" \")\n      };\n    };\n\n    g.parseOLine = function (a) {\n      a = g.matchPrefix(a, \"o=\")[0].substr(2).split(\" \");\n      return {\n        username: a[0],\n        sessionId: a[1],\n        sessionVersion: wa(a[2], 10),\n        netType: a[3],\n        addressType: a[4],\n        address: a[5]\n      };\n    };\n\n    g.isValidSDP = function (a) {\n      if (\"string\" != typeof a || 0 === a.length) return !1;\n      a = g.splitLines(a);\n\n      for (var b = 0; b < a.length; b++) {\n        if (2 > a[b].length || \"=\" !== a[b].charAt(1)) return !1;\n      }\n\n      return !0;\n    };\n\n    d.exports = g;\n  }),\n      Xn = function Xn(d, g) {\n    function a(a, b) {\n      b.addTrack(a);\n      b.dispatchEvent(new d.MediaStreamTrackEvent(\"addtrack\", {\n        track: a\n      }));\n    }\n\n    function b(a, b, c, e) {\n      var f = new Event(\"track\");\n      f.track = b;\n      f.receiver = c;\n      f.transceiver = {\n        receiver: c\n      };\n      f.streams = e;\n      d.setTimeout(function () {\n        a._dispatchEvent(\"track\", f);\n      });\n    }\n\n    var c = function c(a) {\n      var b = this,\n          c = document.createDocumentFragment();\n      if ([\"addEventListener\", \"removeEventListener\", \"dispatchEvent\"].forEach(function (a) {\n        b[a] = c[a].bind(c);\n      }), this.canTrickleIceCandidates = null, this.needNegotiation = !1, this.localStreams = [], this.remoteStreams = [], this._localDescription = null, this._remoteDescription = null, this.signalingState = \"stable\", this.iceConnectionState = \"new\", this.connectionState = \"new\", this.iceGatheringState = \"new\", a = JSON.parse(JSON.stringify(a || {})), this.usingBundle = \"max-bundle\" === a.bundlePolicy, \"negotiate\" === a.rtcpMuxPolicy) throw bb(\"NotSupportedError\", \"rtcpMuxPolicy 'negotiate' is not supported\");\n\n      switch (a.rtcpMuxPolicy || (a.rtcpMuxPolicy = \"require\"), a.iceTransportPolicy) {\n        case \"all\":\n        case \"relay\":\n          break;\n\n        default:\n          a.iceTransportPolicy = \"all\";\n      }\n\n      switch (a.bundlePolicy) {\n        case \"balanced\":\n        case \"max-compat\":\n        case \"max-bundle\":\n          break;\n\n        default:\n          a.bundlePolicy = \"balanced\";\n      }\n\n      if (a.iceServers = function (a, b) {\n        var c = !1;\n        return (a = JSON.parse(JSON.stringify(a))).filter(function (a) {\n          if (a && (a.urls || a.url)) {\n            var d = a.urls || a.url;\n            a.url && !a.urls && console.warn(\"RTCIceServer.url is deprecated! Use urls instead.\");\n            var e = \"string\" == typeof d;\n            return e && (d = [d]), d = d.filter(function (a) {\n              return 0 !== a.indexOf(\"turn:\") || -1 === a.indexOf(\"transport=udp\") || -1 !== a.indexOf(\"turn:[\") || c ? 0 === a.indexOf(\"stun:\") && 14393 <= b && -1 === a.indexOf(\"?transport=udp\") : (c = !0, !0);\n            }), delete a.url, a.urls = e ? d[0] : d, !!d.length;\n          }\n        });\n      }(a.iceServers || [], g), this._iceGatherers = [], a.iceCandidatePoolSize) for (var e = a.iceCandidatePoolSize; 0 < e; e--) {\n        this._iceGatherers.push(new d.RTCIceGatherer({\n          iceServers: a.iceServers,\n          gatherPolicy: a.iceTransportPolicy\n        }));\n      } else a.iceCandidatePoolSize = 0;\n      this._config = a;\n      this.transceivers = [];\n      this._sdpSessionId = H.generateSessionId();\n      this._sdpSessionVersion = 0;\n      this._dtlsRole = void 0;\n      this._isClosed = !1;\n    };\n\n    Object.defineProperty(c.prototype, \"localDescription\", {\n      configurable: !0,\n      get: function get() {\n        return this._localDescription;\n      }\n    });\n    Object.defineProperty(c.prototype, \"remoteDescription\", {\n      configurable: !0,\n      get: function get() {\n        return this._remoteDescription;\n      }\n    });\n    c.prototype.onicecandidate = null;\n    c.prototype.onaddstream = null;\n    c.prototype.ontrack = null;\n    c.prototype.onremovestream = null;\n    c.prototype.onsignalingstatechange = null;\n    c.prototype.oniceconnectionstatechange = null;\n    c.prototype.onconnectionstatechange = null;\n    c.prototype.onicegatheringstatechange = null;\n    c.prototype.onnegotiationneeded = null;\n    c.prototype.ondatachannel = null;\n\n    c.prototype._dispatchEvent = function (a, b) {\n      this._isClosed || (this.dispatchEvent(b), \"function\" == typeof this[\"on\" + a] && this[\"on\" + a](b));\n    };\n\n    c.prototype._emitGatheringStateChange = function () {\n      var a = new Event(\"icegatheringstatechange\");\n\n      this._dispatchEvent(\"icegatheringstatechange\", a);\n    };\n\n    c.prototype.getConfiguration = function () {\n      return this._config;\n    };\n\n    c.prototype.getLocalStreams = function () {\n      return this.localStreams;\n    };\n\n    c.prototype.getRemoteStreams = function () {\n      return this.remoteStreams;\n    };\n\n    c.prototype._createTransceiver = function (a, b) {\n      var c = 0 < this.transceivers.length;\n      a = {\n        track: null,\n        iceGatherer: null,\n        iceTransport: null,\n        dtlsTransport: null,\n        localCapabilities: null,\n        remoteCapabilities: null,\n        rtpSender: null,\n        rtpReceiver: null,\n        kind: a,\n        mid: null,\n        sendEncodingParameters: null,\n        recvEncodingParameters: null,\n        stream: null,\n        associatedRemoteMediaStreams: [],\n        wantReceive: !0\n      };\n      this.usingBundle && c ? (a.iceTransport = this.transceivers[0].iceTransport, a.dtlsTransport = this.transceivers[0].dtlsTransport) : (c = this._createIceAndDtlsTransports(), a.iceTransport = c.iceTransport, a.dtlsTransport = c.dtlsTransport);\n      return b || this.transceivers.push(a), a;\n    };\n\n    c.prototype.addTrack = function (a, b) {\n      if (this._isClosed) throw bb(\"InvalidStateError\", \"Attempted to call addTrack on a closed peerconnection.\");\n      var c;\n      if (this.transceivers.find(function (b) {\n        return b.track === a;\n      })) throw bb(\"InvalidAccessError\", \"Track already exists.\");\n\n      for (var e = 0; e < this.transceivers.length; e++) {\n        this.transceivers[e].track || this.transceivers[e].kind !== a.kind || (c = this.transceivers[e]);\n      }\n\n      return c || (c = this._createTransceiver(a.kind)), this._maybeFireNegotiationNeeded(), -1 === this.localStreams.indexOf(b) && this.localStreams.push(b), c.track = a, c.stream = b, c.rtpSender = new d.RTCRtpSender(a, c.dtlsTransport), c.rtpSender;\n    };\n\n    c.prototype.addStream = function (a) {\n      var b = this;\n      if (15025 <= g) a.getTracks().forEach(function (c) {\n        b.addTrack(c, a);\n      });else {\n        var c = a.clone();\n        a.getTracks().forEach(function (a, b) {\n          var d = c.getTracks()[b];\n          a.addEventListener(\"enabled\", function (a) {\n            d.enabled = a.enabled;\n          });\n        });\n        c.getTracks().forEach(function (a) {\n          b.addTrack(a, c);\n        });\n      }\n    };\n\n    c.prototype.removeTrack = function (a) {\n      if (this._isClosed) throw bb(\"InvalidStateError\", \"Attempted to call removeTrack on a closed peerconnection.\");\n      if (!(a instanceof d.RTCRtpSender)) throw new TypeError(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\");\n      var b = this.transceivers.find(function (b) {\n        return b.rtpSender === a;\n      });\n      if (!b) throw bb(\"InvalidAccessError\", \"Sender was not created by this connection.\");\n      var c = b.stream;\n      b.rtpSender.stop();\n      b.rtpSender = null;\n      b.track = null;\n      b.stream = null;\n      -1 === this.transceivers.map(function (a) {\n        return a.stream;\n      }).indexOf(c) && -1 < this.localStreams.indexOf(c) && this.localStreams.splice(this.localStreams.indexOf(c), 1);\n\n      this._maybeFireNegotiationNeeded();\n    };\n\n    c.prototype.removeStream = function (a) {\n      var b = this;\n      a.getTracks().forEach(function (a) {\n        var c = b.getSenders().find(function (b) {\n          return b.track === a;\n        });\n        c && b.removeTrack(c);\n      });\n    };\n\n    c.prototype.getSenders = function () {\n      return this.transceivers.filter(function (a) {\n        return !!a.rtpSender;\n      }).map(function (a) {\n        return a.rtpSender;\n      });\n    };\n\n    c.prototype.getReceivers = function () {\n      return this.transceivers.filter(function (a) {\n        return !!a.rtpReceiver;\n      }).map(function (a) {\n        return a.rtpReceiver;\n      });\n    };\n\n    c.prototype._createIceGatherer = function (a, b) {\n      var c = this;\n      if (b && 0 < a) return this.transceivers[0].iceGatherer;\n      if (this._iceGatherers.length) return this._iceGatherers.shift();\n      var e = new d.RTCIceGatherer({\n        iceServers: this._config.iceServers,\n        gatherPolicy: this._config.iceTransportPolicy\n      });\n      return Object.defineProperty(e, \"state\", {\n        value: \"new\",\n        writable: !0\n      }), this.transceivers[a].bufferedCandidateEvents = [], this.transceivers[a].bufferCandidates = function (b) {\n        var d = !b.candidate || 0 === Object.keys(b.candidate).length;\n        e.state = d ? \"completed\" : \"gathering\";\n        null !== c.transceivers[a].bufferedCandidateEvents && c.transceivers[a].bufferedCandidateEvents.push(b);\n      }, e.addEventListener(\"localcandidate\", this.transceivers[a].bufferCandidates), e;\n    };\n\n    c.prototype._gather = function (a, b) {\n      var c = this,\n          e = this.transceivers[b].iceGatherer;\n\n      if (!e.onlocalcandidate) {\n        var f = this.transceivers[b].bufferedCandidateEvents;\n        this.transceivers[b].bufferedCandidateEvents = null;\n        e.removeEventListener(\"localcandidate\", this.transceivers[b].bufferCandidates);\n\n        e.onlocalcandidate = function (d) {\n          if (!(c.usingBundle && 0 < b)) {\n            var f = new Event(\"icecandidate\");\n            f.candidate = {\n              sdpMid: a,\n              sdpMLineIndex: b\n            };\n            var h = d.candidate;\n            (d = !h || 0 === Object.keys(h).length) ? \"new\" !== e.state && \"gathering\" !== e.state || (e.state = \"completed\") : (\"new\" === e.state && (e.state = \"gathering\"), h.component = 1, h.ufrag = e.getLocalParameters().usernameFragment, h = H.writeCandidate(h), f.candidate = Object.assign(f.candidate, H.parseCandidate(h)), f.candidate.candidate = h, f.candidate.toJSON = function () {\n              return {\n                candidate: f.candidate.candidate,\n                sdpMid: f.candidate.sdpMid,\n                sdpMLineIndex: f.candidate.sdpMLineIndex,\n                usernameFragment: f.candidate.usernameFragment\n              };\n            });\n            h = H.getMediaSections(c._localDescription.sdp);\n            h[f.candidate.sdpMLineIndex] += d ? \"a=end-of-candidates\\r\\n\" : \"a=\" + f.candidate.candidate + \"\\r\\n\";\n            c._localDescription.sdp = H.getDescription(c._localDescription.sdp) + h.join(\"\");\n            h = c.transceivers.every(function (a) {\n              return a.iceGatherer && \"completed\" === a.iceGatherer.state;\n            });\n            \"gathering\" !== c.iceGatheringState && (c.iceGatheringState = \"gathering\", c._emitGatheringStateChange());\n            d || c._dispatchEvent(\"icecandidate\", f);\n            h && (c._dispatchEvent(\"icecandidate\", new Event(\"icecandidate\")), c.iceGatheringState = \"complete\", c._emitGatheringStateChange());\n          }\n        };\n\n        d.setTimeout(function () {\n          f.forEach(function (a) {\n            e.onlocalcandidate(a);\n          });\n        }, 0);\n      }\n    };\n\n    c.prototype._createIceAndDtlsTransports = function () {\n      var a = this,\n          b = new d.RTCIceTransport(null);\n\n      b.onicestatechange = function () {\n        a._updateIceConnectionState();\n\n        a._updateConnectionState();\n      };\n\n      var c = new d.RTCDtlsTransport(b);\n      return c.ondtlsstatechange = function () {\n        a._updateConnectionState();\n      }, c.onerror = function () {\n        Object.defineProperty(c, \"state\", {\n          value: \"failed\",\n          writable: !0\n        });\n\n        a._updateConnectionState();\n      }, {\n        iceTransport: b,\n        dtlsTransport: c\n      };\n    };\n\n    c.prototype._disposeIceAndDtlsTransports = function (a) {\n      var b = this.transceivers[a].iceGatherer;\n      b && (delete b.onlocalcandidate, delete this.transceivers[a].iceGatherer);\n      (b = this.transceivers[a].iceTransport) && (delete b.onicestatechange, delete this.transceivers[a].iceTransport);\n      (b = this.transceivers[a].dtlsTransport) && (delete b.ondtlsstatechange, delete b.onerror, delete this.transceivers[a].dtlsTransport);\n    };\n\n    c.prototype._transceive = function (a, b, c) {\n      var d = Ce(a.localCapabilities, a.remoteCapabilities);\n      b && a.rtpSender && (d.encodings = a.sendEncodingParameters, d.rtcp = {\n        cname: H.localCName,\n        compound: a.rtcpParameters.compound\n      }, a.recvEncodingParameters.length && (d.rtcp.ssrc = a.recvEncodingParameters[0].ssrc), a.rtpSender.send(d));\n      c && a.rtpReceiver && 0 < d.codecs.length && (\"video\" === a.kind && a.recvEncodingParameters && 15019 > g && a.recvEncodingParameters.forEach(function (a) {\n        delete a.rtx;\n      }), a.recvEncodingParameters.length ? d.encodings = a.recvEncodingParameters : d.encodings = [{}], d.rtcp = {\n        compound: a.rtcpParameters.compound\n      }, a.rtcpParameters.cname && (d.rtcp.cname = a.rtcpParameters.cname), a.sendEncodingParameters.length && (d.rtcp.ssrc = a.sendEncodingParameters[0].ssrc), a.rtpReceiver.receive(d));\n    };\n\n    c.prototype.setLocalDescription = function (a) {\n      var b = this;\n      if (-1 === [\"offer\", \"answer\"].indexOf(a.type)) return Promise.reject(bb(\"TypeError\", 'Unsupported type \"' + a.type + '\"'));\n      if (!qi(\"setLocalDescription\", a.type, b.signalingState) || b._isClosed) return Promise.reject(bb(\"InvalidStateError\", \"Can not set local \" + a.type + \" in state \" + b.signalingState));\n\n      if (\"offer\" === a.type) {\n        var c = H.splitSections(a.sdp);\n        var d = c.shift();\n        c.forEach(function (a, c) {\n          a = H.parseRtpParameters(a);\n          b.transceivers[c].localCapabilities = a;\n        });\n        b.transceivers.forEach(function (a, c) {\n          b._gather(a.mid, c);\n        });\n      } else if (\"answer\" === a.type) {\n        c = H.splitSections(b._remoteDescription.sdp);\n        d = c.shift();\n        var e = 0 < H.matchPrefix(d, \"a=ice-lite\").length;\n        c.forEach(function (a, c) {\n          var f = b.transceivers[c],\n              h = f.iceGatherer,\n              g = f.iceTransport,\n              l = f.dtlsTransport,\n              r = f.localCapabilities,\n              p = f.remoteCapabilities;\n\n          if (!(H.isRejected(a) && 0 === H.matchPrefix(a, \"a=bundle-only\").length || f.rejected)) {\n            var k = H.getIceParameters(a, d);\n            a = H.getDtlsParameters(a, d);\n            e && (a.role = \"server\");\n            b.usingBundle && 0 !== c || (b._gather(f.mid, c), \"new\" === g.state && g.start(h, k, e ? \"controlling\" : \"controlled\"), \"new\" === l.state && l.start(a));\n            c = Ce(r, p);\n\n            b._transceive(f, 0 < c.codecs.length, !1);\n          }\n        });\n      }\n\n      return b._localDescription = {\n        type: a.type,\n        sdp: a.sdp\n      }, \"offer\" === a.type ? b._updateSignalingState(\"have-local-offer\") : b._updateSignalingState(\"stable\"), Promise.resolve();\n    };\n\n    c.prototype.setRemoteDescription = function (c) {\n      var e = this;\n      if (-1 === [\"offer\", \"answer\"].indexOf(c.type)) return Promise.reject(bb(\"TypeError\", 'Unsupported type \"' + c.type + '\"'));\n      if (!qi(\"setRemoteDescription\", c.type, e.signalingState) || e._isClosed) return Promise.reject(bb(\"InvalidStateError\", \"Can not set remote \" + c.type + \" in state \" + e.signalingState));\n      var f = {};\n      e.remoteStreams.forEach(function (a) {\n        f[a.id] = a;\n      });\n      var r = [],\n          p = H.splitSections(c.sdp),\n          k = p.shift(),\n          X = 0 < H.matchPrefix(k, \"a=ice-lite\").length,\n          m = 0 < H.matchPrefix(k, \"a=group:BUNDLE \").length;\n      e.usingBundle = m;\n      var n = H.matchPrefix(k, \"a=ice-options:\")[0];\n      return e.canTrickleIceCandidates = !!n && 0 <= n.substr(14).split(\" \").indexOf(\"trickle\"), p.forEach(function (b, h) {\n        var l = H.splitLines(b),\n            p = H.getKind(b),\n            w = H.isRejected(b) && 0 === H.matchPrefix(b, \"a=bundle-only\").length,\n            n = l[0].substr(2).split(\" \")[2];\n        l = H.getDirection(b, k);\n        var K = H.parseMsid(b),\n            q = H.getMid(b) || H.generateIdentifier();\n        if (w || \"application\" === p && (\"DTLS/SCTP\" === n || \"UDP/DTLS/SCTP\" === n)) e.transceivers[h] = {\n          mid: q,\n          kind: p,\n          protocol: n,\n          rejected: !0\n        };else {\n          var B, Ca;\n          !w && e.transceivers[h] && e.transceivers[h].rejected && (e.transceivers[h] = e._createTransceiver(p, !0));\n          var t,\n              ra,\n              u = H.parseRtpParameters(b);\n          w || (t = H.getIceParameters(b, k), (ra = H.getDtlsParameters(b, k)).role = \"client\");\n          n = H.parseRtpEncodingParameters(b);\n          var v = H.parseRtcpParameters(b),\n              y = 0 < H.matchPrefix(b, \"a=end-of-candidates\", k).length;\n          b = H.matchPrefix(b, \"a=candidate:\").map(function (a) {\n            return H.parseCandidate(a);\n          }).filter(function (a) {\n            return 1 === a.component;\n          });\n\n          if ((\"offer\" === c.type || \"answer\" === c.type) && !w && m && 0 < h && e.transceivers[h] && (e._disposeIceAndDtlsTransports(h), e.transceivers[h].iceGatherer = e.transceivers[0].iceGatherer, e.transceivers[h].iceTransport = e.transceivers[0].iceTransport, e.transceivers[h].dtlsTransport = e.transceivers[0].dtlsTransport, e.transceivers[h].rtpSender && e.transceivers[h].rtpSender.setTransport(e.transceivers[0].dtlsTransport), e.transceivers[h].rtpReceiver && e.transceivers[h].rtpReceiver.setTransport(e.transceivers[0].dtlsTransport)), \"offer\" !== c.type || w) {\n            if (\"answer\" === c.type && !w) {\n              p = (B = e.transceivers[h]).iceGatherer;\n              var x = B.iceTransport;\n              var z = B.dtlsTransport;\n              var Pa = B.rtpReceiver;\n              w = B.sendEncodingParameters;\n              q = B.localCapabilities;\n              e.transceivers[h].recvEncodingParameters = n;\n              e.transceivers[h].remoteCapabilities = u;\n              e.transceivers[h].rtcpParameters = v;\n              b.length && \"new\" === x.state && (!X && !y || m && 0 !== h ? b.forEach(function (a) {\n                Nf(B.iceTransport, a);\n              }) : x.setRemoteCandidates(b));\n              m && 0 !== h || (\"new\" === x.state && x.start(p, t, \"controlling\"), \"new\" === z.state && z.start(ra));\n              !Ce(B.localCapabilities, B.remoteCapabilities).codecs.filter(function (a) {\n                return \"rtx\" === a.name.toLowerCase();\n              }).length && B.sendEncodingParameters[0].rtx && delete B.sendEncodingParameters[0].rtx;\n\n              e._transceive(B, \"sendrecv\" === l || \"recvonly\" === l, \"sendrecv\" === l || \"sendonly\" === l);\n\n              !Pa || \"sendrecv\" !== l && \"sendonly\" !== l ? delete B.rtpReceiver : (Ca = Pa.track, K ? (f[K.stream] || (f[K.stream] = new d.MediaStream()), a(Ca, f[K.stream]), r.push([Ca, Pa, f[K.stream]])) : (f.default || (f.default = new d.MediaStream()), a(Ca, f.default), r.push([Ca, Pa, f.default])));\n            }\n          } else {\n            (B = e.transceivers[h] || e._createTransceiver(p)).mid = q;\n            B.iceGatherer || (B.iceGatherer = e._createIceGatherer(h, m));\n            b.length && \"new\" === B.iceTransport.state && (!y || m && 0 !== h ? b.forEach(function (a) {\n              Nf(B.iceTransport, a);\n            }) : B.iceTransport.setRemoteCandidates(b));\n            q = d.RTCRtpReceiver.getCapabilities(p);\n            15019 > g && (q.codecs = q.codecs.filter(function (a) {\n              return \"rtx\" !== a.name;\n            }));\n            w = B.sendEncodingParameters || [{\n              ssrc: 1001 * (2 * h + 2)\n            }];\n            t = !1;\n\n            if (\"sendrecv\" === l || \"sendonly\" === l) {\n              if (t = !B.rtpReceiver, Pa = B.rtpReceiver || new d.RTCRtpReceiver(B.dtlsTransport, p), t) Ca = Pa.track, K && \"-\" === K.stream || (K ? (f[K.stream] || (f[K.stream] = new d.MediaStream(), Object.defineProperty(f[K.stream], \"id\", {\n                get: function get() {\n                  return K.stream;\n                }\n              })), Object.defineProperty(Ca, \"id\", {\n                get: function get() {\n                  return K.track;\n                }\n              }), x = f[K.stream]) : (f.default || (f.default = new d.MediaStream()), x = f.default)), x && (a(Ca, x), B.associatedRemoteMediaStreams.push(x)), r.push([Ca, Pa, x]);\n            } else B.rtpReceiver && B.rtpReceiver.track && (B.associatedRemoteMediaStreams.forEach(function (a) {\n              var b = a.getTracks().find(function (a) {\n                return a.id === B.rtpReceiver.track.id;\n              });\n              b && function (a, b) {\n                b.removeTrack(a);\n                b.dispatchEvent(new d.MediaStreamTrackEvent(\"removetrack\", {\n                  track: a\n                }));\n              }(b, a);\n            }), B.associatedRemoteMediaStreams = []);\n\n            B.localCapabilities = q;\n            B.remoteCapabilities = u;\n            B.rtpReceiver = Pa;\n            B.rtcpParameters = v;\n            B.sendEncodingParameters = w;\n            B.recvEncodingParameters = n;\n\n            e._transceive(e.transceivers[h], !1, t);\n          }\n        }\n      }), void 0 === e._dtlsRole && (e._dtlsRole = \"offer\" === c.type ? \"active\" : \"passive\"), e._remoteDescription = {\n        type: c.type,\n        sdp: c.sdp\n      }, \"offer\" === c.type ? e._updateSignalingState(\"have-remote-offer\") : e._updateSignalingState(\"stable\"), Object.keys(f).forEach(function (a) {\n        var c = f[a];\n\n        if (c.getTracks().length) {\n          if (-1 === e.remoteStreams.indexOf(c)) {\n            e.remoteStreams.push(c);\n            var h = new Event(\"addstream\");\n            h.stream = c;\n            d.setTimeout(function () {\n              e._dispatchEvent(\"addstream\", h);\n            });\n          }\n\n          r.forEach(function (a) {\n            var d = a[0],\n                f = a[1];\n            c.id === a[2].id && b(e, d, f, [c]);\n          });\n        }\n      }), r.forEach(function (a) {\n        a[2] || b(e, a[0], a[1], []);\n      }), d.setTimeout(function () {\n        e && e.transceivers && e.transceivers.forEach(function (a) {\n          a.iceTransport && \"new\" === a.iceTransport.state && 0 < a.iceTransport.getRemoteCandidates().length && (console.warn(\"Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification\"), a.iceTransport.addRemoteCandidate({}));\n        });\n      }, 4E3), Promise.resolve();\n    };\n\n    c.prototype.close = function () {\n      this.transceivers.forEach(function (a) {\n        a.iceTransport && a.iceTransport.stop();\n        a.dtlsTransport && a.dtlsTransport.stop();\n        a.rtpSender && a.rtpSender.stop();\n        a.rtpReceiver && a.rtpReceiver.stop();\n      });\n      this._isClosed = !0;\n\n      this._updateSignalingState(\"closed\");\n    };\n\n    c.prototype._updateSignalingState = function (a) {\n      this.signalingState = a;\n      a = new Event(\"signalingstatechange\");\n\n      this._dispatchEvent(\"signalingstatechange\", a);\n    };\n\n    c.prototype._maybeFireNegotiationNeeded = function () {\n      var a = this;\n      \"stable\" === this.signalingState && !0 !== this.needNegotiation && (this.needNegotiation = !0, d.setTimeout(function () {\n        if (a.needNegotiation) {\n          a.needNegotiation = !1;\n          var b = new Event(\"negotiationneeded\");\n\n          a._dispatchEvent(\"negotiationneeded\", b);\n        }\n      }, 0));\n    };\n\n    c.prototype._updateIceConnectionState = function () {\n      var a,\n          b = {\n        new: 0,\n        closed: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        disconnected: 0,\n        failed: 0\n      };\n      if (this.transceivers.forEach(function (a) {\n        a.iceTransport && !a.rejected && b[a.iceTransport.state]++;\n      }), a = \"new\", 0 < b.failed ? a = \"failed\" : 0 < b.checking ? a = \"checking\" : 0 < b.disconnected ? a = \"disconnected\" : 0 < b.new ? a = \"new\" : 0 < b.connected ? a = \"connected\" : 0 < b.completed && (a = \"completed\"), a !== this.iceConnectionState) this.iceConnectionState = a, a = new Event(\"iceconnectionstatechange\"), this._dispatchEvent(\"iceconnectionstatechange\", a);\n    };\n\n    c.prototype._updateConnectionState = function () {\n      var a,\n          b = {\n        new: 0,\n        closed: 0,\n        connecting: 0,\n        connected: 0,\n        completed: 0,\n        disconnected: 0,\n        failed: 0\n      };\n      if (this.transceivers.forEach(function (a) {\n        a.iceTransport && a.dtlsTransport && !a.rejected && (b[a.iceTransport.state]++, b[a.dtlsTransport.state]++);\n      }), b.connected += b.completed, a = \"new\", 0 < b.failed ? a = \"failed\" : 0 < b.connecting ? a = \"connecting\" : 0 < b.disconnected ? a = \"disconnected\" : 0 < b.new ? a = \"new\" : 0 < b.connected && (a = \"connected\"), a !== this.connectionState) this.connectionState = a, a = new Event(\"connectionstatechange\"), this._dispatchEvent(\"connectionstatechange\", a);\n    };\n\n    c.prototype.createOffer = function (a) {\n      var b = this;\n      if (b._isClosed) return Promise.reject(bb(\"InvalidStateError\", \"Can not call createOffer after close\"));\n      var c = b.transceivers.filter(function (a) {\n        return \"audio\" === a.kind;\n      }).length,\n          e = b.transceivers.filter(function (a) {\n        return \"video\" === a.kind;\n      }).length;\n\n      if (a) {\n        if (a.mandatory || a.optional) throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");\n        void 0 !== a.offerToReceiveAudio && (c = !0 === a.offerToReceiveAudio ? 1 : !1 === a.offerToReceiveAudio ? 0 : a.offerToReceiveAudio);\n        void 0 !== a.offerToReceiveVideo && (e = !0 === a.offerToReceiveVideo ? 1 : !1 === a.offerToReceiveVideo ? 0 : a.offerToReceiveVideo);\n      }\n\n      for (b.transceivers.forEach(function (a) {\n        \"audio\" === a.kind ? 0 > --c && (a.wantReceive = !1) : \"video\" === a.kind && 0 > --e && (a.wantReceive = !1);\n      }); 0 < c || 0 < e;) {\n        0 < c && (b._createTransceiver(\"audio\"), c--), 0 < e && (b._createTransceiver(\"video\"), e--);\n      }\n\n      var f = H.writeSessionBoilerplate(b._sdpSessionId, b._sdpSessionVersion++);\n      b.transceivers.forEach(function (a, c) {\n        var e = a.track,\n            f = a.kind,\n            h = a.mid || H.generateIdentifier();\n        a.mid = h;\n        a.iceGatherer || (a.iceGatherer = b._createIceGatherer(c, b.usingBundle));\n        h = d.RTCRtpSender.getCapabilities(f);\n        15019 > g && (h.codecs = h.codecs.filter(function (a) {\n          return \"rtx\" !== a.name;\n        }));\n        h.codecs.forEach(function (b) {\n          \"H264\" === b.name && void 0 === b.parameters[\"level-asymmetry-allowed\"] && (b.parameters[\"level-asymmetry-allowed\"] = \"1\");\n          a.remoteCapabilities && a.remoteCapabilities.codecs && a.remoteCapabilities.codecs.forEach(function (a) {\n            b.name.toLowerCase() === a.name.toLowerCase() && b.clockRate === a.clockRate && (b.preferredPayloadType = a.payloadType);\n          });\n        });\n        h.headerExtensions.forEach(function (b) {\n          (a.remoteCapabilities && a.remoteCapabilities.headerExtensions || []).forEach(function (a) {\n            b.uri === a.uri && (b.id = a.id);\n          });\n        });\n        c = a.sendEncodingParameters || [{\n          ssrc: 1001 * (2 * c + 1)\n        }];\n        e && 15019 <= g && \"video\" === f && !c[0].rtx && (c[0].rtx = {\n          ssrc: c[0].ssrc + 1\n        });\n        a.wantReceive && (a.rtpReceiver = new d.RTCRtpReceiver(a.dtlsTransport, f));\n        a.localCapabilities = h;\n        a.sendEncodingParameters = c;\n      });\n      \"max-compat\" !== b._config.bundlePolicy && (f += \"a=group:BUNDLE \" + b.transceivers.map(function (a) {\n        return a.mid;\n      }).join(\" \") + \"\\r\\n\");\n      f += \"a=ice-options:trickle\\r\\n\";\n      b.transceivers.forEach(function (a, c) {\n        f += pi(a, a.localCapabilities, \"offer\", a.stream, b._dtlsRole);\n        f += \"a=rtcp-rsize\\r\\n\";\n        !a.iceGatherer || \"new\" === b.iceGatheringState || 0 !== c && b.usingBundle || (a.iceGatherer.getLocalCandidates().forEach(function (a) {\n          a.component = 1;\n          f += \"a=\" + H.writeCandidate(a) + \"\\r\\n\";\n        }), \"completed\" === a.iceGatherer.state && (f += \"a=end-of-candidates\\r\\n\"));\n      });\n      a = new d.RTCSessionDescription({\n        type: \"offer\",\n        sdp: f\n      });\n      return Promise.resolve(a);\n    };\n\n    c.prototype.createAnswer = function () {\n      var a = this;\n      if (a._isClosed) return Promise.reject(bb(\"InvalidStateError\", \"Can not call createAnswer after close\"));\n      if (\"have-remote-offer\" !== a.signalingState && \"have-local-pranswer\" !== a.signalingState) return Promise.reject(bb(\"InvalidStateError\", \"Can not call createAnswer in signalingState \" + a.signalingState));\n      var b = H.writeSessionBoilerplate(a._sdpSessionId, a._sdpSessionVersion++);\n      a.usingBundle && (b += \"a=group:BUNDLE \" + a.transceivers.map(function (a) {\n        return a.mid;\n      }).join(\" \") + \"\\r\\n\");\n      b += \"a=ice-options:trickle\\r\\n\";\n      var c = H.getMediaSections(a._remoteDescription.sdp).length;\n      a.transceivers.forEach(function (d, e) {\n        if (!(e + 1 > c)) {\n          if (d.rejected) return \"application\" === d.kind ? \"DTLS/SCTP\" === d.protocol ? b += \"m=application 0 DTLS/SCTP 5000\\r\\n\" : b += \"m=application 0 \" + d.protocol + \" webrtc-datachannel\\r\\n\" : \"audio\" === d.kind ? b += \"m=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\na=rtpmap:0 PCMU/8000\\r\\n\" : \"video\" === d.kind && (b += \"m=video 0 UDP/TLS/RTP/SAVPF 120\\r\\na=rtpmap:120 VP8/90000\\r\\n\"), void (b += \"c=IN IP4 0.0.0.0\\r\\na=inactive\\r\\na=mid:\" + d.mid + \"\\r\\n\");\n          var f;\n          d.stream && (\"audio\" === d.kind ? f = d.stream.getAudioTracks()[0] : \"video\" === d.kind && (f = d.stream.getVideoTracks()[0]), f && 15019 <= g && \"video\" === d.kind && !d.sendEncodingParameters[0].rtx && (d.sendEncodingParameters[0].rtx = {\n            ssrc: d.sendEncodingParameters[0].ssrc + 1\n          }));\n          e = Ce(d.localCapabilities, d.remoteCapabilities);\n          !e.codecs.filter(function (a) {\n            return \"rtx\" === a.name.toLowerCase();\n          }).length && d.sendEncodingParameters[0].rtx && delete d.sendEncodingParameters[0].rtx;\n          b += pi(d, e, \"answer\", d.stream, a._dtlsRole);\n          d.rtcpParameters && d.rtcpParameters.reducedSize && (b += \"a=rtcp-rsize\\r\\n\");\n        }\n      });\n      var e = new d.RTCSessionDescription({\n        type: \"answer\",\n        sdp: b\n      });\n      return Promise.resolve(e);\n    };\n\n    c.prototype.addIceCandidate = function (a) {\n      var b,\n          c = this;\n      return a && void 0 === a.sdpMLineIndex && !a.sdpMid ? Promise.reject(new TypeError(\"sdpMLineIndex or sdpMid required\")) : new Promise(function (d, e) {\n        if (!c._remoteDescription) return e(bb(\"InvalidStateError\", \"Can not add ICE candidate without a remote description\"));\n\n        if (a && \"\" !== a.candidate) {\n          var f = a.sdpMLineIndex;\n          if (a.sdpMid) for (var h = 0; h < c.transceivers.length; h++) {\n            if (c.transceivers[h].mid === a.sdpMid) {\n              f = h;\n              break;\n            }\n          }\n          var g = c.transceivers[f];\n          if (!g) return e(bb(\"OperationError\", \"Can not add ICE candidate\"));\n          if (g.rejected) return d();\n          h = 0 < Object.keys(a.candidate).length ? H.parseCandidate(a.candidate) : {};\n          if (\"tcp\" === h.protocol && (0 === h.port || 9 === h.port) || h.component && 1 !== h.component) return d();\n          if ((0 === f || 0 < f && g.iceTransport !== c.transceivers[0].iceTransport) && !Nf(g.iceTransport, h)) return e(bb(\"OperationError\", \"Can not add ICE candidate\"));\n          e = a.candidate.trim();\n          0 === e.indexOf(\"a=\") && (e = e.substr(2));\n          (b = H.getMediaSections(c._remoteDescription.sdp))[f] += \"a=\" + (h.type ? e : \"end-of-candidates\") + \"\\r\\n\";\n          c._remoteDescription.sdp = H.getDescription(c._remoteDescription.sdp) + b.join(\"\");\n        } else for (f = 0; f < c.transceivers.length && (c.transceivers[f].rejected || (c.transceivers[f].iceTransport.addRemoteCandidate({}), (b = H.getMediaSections(c._remoteDescription.sdp))[f] += \"a=end-of-candidates\\r\\n\", c._remoteDescription.sdp = H.getDescription(c._remoteDescription.sdp) + b.join(\"\"), !c.usingBundle)); f++) {\n          ;\n        }\n\n        d();\n      });\n    };\n\n    c.prototype.getStats = function (a) {\n      if (a && a instanceof d.MediaStreamTrack) {\n        var b = null;\n        if (this.transceivers.forEach(function (c) {\n          c.rtpSender && c.rtpSender.track === a ? b = c.rtpSender : c.rtpReceiver && c.rtpReceiver.track === a && (b = c.rtpReceiver);\n        }), !b) throw bb(\"InvalidAccessError\", \"Invalid selector.\");\n        return b.getStats();\n      }\n\n      var c = [];\n      return this.transceivers.forEach(function (a) {\n        [\"rtpSender\", \"rtpReceiver\", \"iceGatherer\", \"iceTransport\", \"dtlsTransport\"].forEach(function (b) {\n          a[b] && c.push(a[b].getStats());\n        });\n      }), Promise.all(c).then(function (a) {\n        var b = new Map();\n        return a.forEach(function (a) {\n          a.forEach(function (a) {\n            b.set(a.id, a);\n          });\n        }), b;\n      });\n    };\n\n    [\"RTCRtpSender\", \"RTCRtpReceiver\", \"RTCIceGatherer\", \"RTCIceTransport\", \"RTCDtlsTransport\"].forEach(function (a) {\n      if ((a = d[a]) && a.prototype && a.prototype.getStats) {\n        var b = a.prototype.getStats;\n\n        a.prototype.getStats = function () {\n          return b.apply(this).then(function (a) {\n            var b = new Map();\n            return Object.keys(a).forEach(function (c) {\n              var d;\n              a[c].type = {\n                inboundrtp: \"inbound-rtp\",\n                outboundrtp: \"outbound-rtp\",\n                candidatepair: \"candidate-pair\",\n                localcandidate: \"local-candidate\",\n                remotecandidate: \"remote-candidate\"\n              }[(d = a[c]).type] || d.type;\n              b.set(c, a[c]);\n            }), b;\n          });\n        };\n      }\n    });\n    var e = [\"createOffer\", \"createAnswer\"];\n    return e.forEach(function (a) {\n      var b = c.prototype[a];\n\n      c.prototype[a] = function () {\n        var a = arguments;\n        return \"function\" == typeof a[0] || \"function\" == typeof a[1] ? b.apply(this, [arguments[2]]).then(function (b) {\n          \"function\" == typeof a[0] && a[0].apply(null, [b]);\n        }, function (b) {\n          \"function\" == typeof a[1] && a[1].apply(null, [b]);\n        }) : b.apply(this, arguments);\n      };\n    }), (e = [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"]).forEach(function (a) {\n      var b = c.prototype[a];\n\n      c.prototype[a] = function () {\n        var a = arguments;\n        return \"function\" == typeof a[1] || \"function\" == typeof a[2] ? b.apply(this, arguments).then(function () {\n          \"function\" == typeof a[1] && a[1].apply(null);\n        }, function (b) {\n          \"function\" == typeof a[2] && a[2].apply(null, [b]);\n        }) : b.apply(this, arguments);\n      };\n    }), [\"getStats\"].forEach(function (a) {\n      var b = c.prototype[a];\n\n      c.prototype[a] = function () {\n        var a = arguments;\n        return \"function\" == typeof a[1] ? b.apply(this, arguments).then(function () {\n          \"function\" == typeof a[1] && a[1].apply(null);\n        }) : b.apply(this, arguments);\n      };\n    }), c;\n  },\n      Sl = Object.freeze({\n    __proto__: null,\n    shimPeerConnection: Of,\n    shimReplaceTrack: ti,\n    shimGetUserMedia: ri,\n    shimGetDisplayMedia: si\n  }),\n      Tl = Object.freeze({\n    __proto__: null,\n    shimOnTrack: vi,\n    shimPeerConnection: Pf,\n    shimSenderGetStats: wi,\n    shimReceiverGetStats: xi,\n    shimRemoveStream: yi,\n    shimRTCDataChannel: zi,\n    shimGetUserMedia: ui,\n    shimGetDisplayMedia: function shimGetDisplayMedia(d, g) {\n      d.navigator.mediaDevices && \"getDisplayMedia\" in d.navigator.mediaDevices || d.navigator.mediaDevices && (d.navigator.mediaDevices.getDisplayMedia = function (a) {\n        return a && a.video ? (!0 === a.video ? a.video = {\n          mediaSource: g\n        } : a.video.mediaSource = g, d.navigator.mediaDevices.getUserMedia(a)) : (a = new DOMException(\"getDisplayMedia without video constraints is undefined\"), a.name = \"NotFoundError\", a.code = 8, y.reject(a));\n      });\n    }\n  }),\n      Ul = Object.freeze({\n    __proto__: null,\n    shimLocalStreamsAPI: Ai,\n    shimRemoteStreamsAPI: Bi,\n    shimCallbacksAPI: Ci,\n    shimGetUserMedia: Di,\n    shimConstraints: Ei,\n    shimRTCIceServerUrls: Fi,\n    shimTrackEventTransceiver: Gi,\n    shimCreateOfferLegacy: Hi\n  }),\n      Eq = Object.freeze({\n    __proto__: null,\n    shimRTCIceCandidate: De,\n    shimMaxMessageSize: Id,\n    shimSendThrowTypeError: Jd,\n    shimConnectionState: Qf,\n    removeAllowExtmapMixed: Rf\n  });\n\n  !function () {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        d = _ref20.window;\n\n    var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      shimChrome: !0,\n      shimFirefox: !0,\n      shimEdge: !0,\n      shimSafari: !0\n    };\n    var a = ic(d),\n        b = {\n      browserDetails: a,\n      commonShim: Eq,\n      extractVersion: hc,\n      disableLog: Vn,\n      disableWarnings: Wn\n    };\n\n    switch (a.browser) {\n      case \"chrome\":\n        if (!Ol || !Mf || !g.shimChrome) return Pb(\"Chrome shim is not included in this adapter release.\"), b;\n        Pb(\"adapter.js shimming chrome.\");\n        b.browserShim = Ol;\n        ei(d);\n        hi(d);\n        Mf(d);\n        ii(d);\n        ni(d);\n        ji(d);\n        ki(d);\n        li(d);\n        oi(d);\n        De(d);\n        Qf(d);\n        Id(d);\n        Jd(d);\n        Rf(d);\n        break;\n\n      case \"firefox\":\n        if (!Tl || !Pf || !g.shimFirefox) return Pb(\"Firefox shim is not included in this adapter release.\"), b;\n        Pb(\"adapter.js shimming firefox.\");\n        b.browserShim = Tl;\n        ui(d);\n        Pf(d);\n        vi(d);\n        yi(d);\n        wi(d);\n        xi(d);\n        zi(d);\n        De(d);\n        Qf(d);\n        Id(d);\n        Jd(d);\n        break;\n\n      case \"edge\":\n        if (!Sl || !Of || !g.shimEdge) return Pb(\"MS edge shim is not included in this adapter release.\"), b;\n        Pb(\"adapter.js shimming edge.\");\n        b.browserShim = Sl;\n        ri(d);\n        si(d);\n        Of(d);\n        ti(d);\n        Id(d);\n        Jd(d);\n        break;\n\n      case \"safari\":\n        if (!Ul || !g.shimSafari) return Pb(\"Safari shim is not included in this adapter release.\"), b;\n        Pb(\"adapter.js shimming safari.\");\n        b.browserShim = Ul;\n        Fi(d);\n        Hi(d);\n        Ci(d);\n        Ai(d);\n        Bi(d);\n        Gi(d);\n        Di(d);\n        De(d);\n        Id(d);\n        Jd(d);\n        Rf(d);\n        break;\n\n      default:\n        Pb(\"Unsupported browser!\");\n    }\n  }({\n    window: window\n  });\n  var Na, S;\n  !function (d) {\n    d.WIN_10 = \"Windows 10\";\n    d.WIN_81 = \"Windows 8.1\";\n    d.WIN_8 = \"Windows 8\";\n    d.WIN_7 = \"Windows 7\";\n    d.WIN_VISTA = \"Windows Vista\";\n    d.WIN_SERVER_2003 = \"Windows Server 2003\";\n    d.WIN_XP = \"Windows XP\";\n    d.WIN_2000 = \"Windows 2000\";\n    d.ANDROID = \"Android\";\n    d.OPEN_BSD = \"Open BSD\";\n    d.SUN_OS = \"Sun OS\";\n    d.LINUX = \"Linux\";\n    d.IOS = \"iOS\";\n    d.MAC_OS = \"Mac OS\";\n    d.QNX = \"QNX\";\n    d.UNIX = \"UNIX\";\n    d.BEOS = \"BeOS\";\n    d.OS_2 = \"OS/2\";\n    d.SEARCH_BOT = \"Search Bot\";\n  }(Na || (Na = {}));\n\n  (function (d) {\n    d.CHROME = \"Chrome\";\n    d.SAFARI = \"Safari\";\n    d.EDGE = \"Edge\";\n    d.FIREFOX = \"Firefox\";\n    d.OPERA = \"OPR\";\n    d.QQ = \"QQBrowser\";\n    d.WECHAT = \"MicroMessenger\";\n  })(S || (S = {}));\n\n  var Sf = new (ub(function (d, g) {\n    !function (a, b) {\n      var c = {\n        extend: function extend(a, b) {\n          var c = {},\n              d;\n\n          for (d in a) {\n            b[d] && 0 == b[d].length % 2 ? c[d] = b[d].concat(a[d]) : c[d] = a[d];\n          }\n\n          return c;\n        },\n        has: function has(a, b) {\n          return \"string\" === typeof a && -1 !== b.toLowerCase().indexOf(a.toLowerCase());\n        },\n        lowerize: function lowerize(a) {\n          return a.toLowerCase();\n        },\n        major: function major(a) {\n          return \"string\" === typeof a ? a.replace(/[^\\d\\.]/g, \"\").split(\".\")[0] : b;\n        },\n        trim: function trim(a, b) {\n          return a = a.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\"), void 0 === b ? a : a.substring(0, 255);\n        }\n      },\n          e = function e(a, c) {\n        for (var d, e, f, h, g, l, r = 0; r < c.length && !g;) {\n          var p = c[r],\n              k = c[r + 1];\n\n          for (d = e = 0; d < p.length && !g;) {\n            if (g = p[d++].exec(a)) for (f = 0; f < k.length; f++) {\n              l = g[++e], \"object\" === typeof (h = k[f]) && 0 < h.length ? 2 == h.length ? \"function\" == typeof h[1] ? this[h[0]] = h[1].call(this, l) : this[h[0]] = h[1] : 3 == h.length ? \"function\" !== typeof h[1] || h[1].exec && h[1].test ? this[h[0]] = l ? l.replace(h[1], h[2]) : b : this[h[0]] = l ? h[1].call(this, l, h[2]) : b : 4 == h.length && (this[h[0]] = l ? h[3].call(this, l.replace(h[1], h[2])) : b) : this[h] = l || b;\n            }\n          }\n\n          r += 2;\n        }\n      },\n          f = function f(a, d) {\n        for (var e in d) {\n          if (\"object\" === typeof d[e] && 0 < d[e].length) for (var f = 0; f < d[e].length; f++) {\n            if (c.has(d[e][f], a)) return \"?\" === e ? b : e;\n          } else if (c.has(d[e], a)) return \"?\" === e ? b : e;\n        }\n\n        return a;\n      },\n          h = {\n        ME: \"4.90\",\n        \"NT 3.11\": \"NT3.51\",\n        \"NT 4.0\": \"NT4.0\",\n        2E3: \"NT 5.0\",\n        XP: [\"NT 5.1\", \"NT 5.2\"],\n        Vista: \"NT 6.0\",\n        7: \"NT 6.1\",\n        8: \"NT 6.2\",\n        \"8.1\": \"NT 6.3\",\n        10: [\"NT 6.4\", \"NT 10.0\"],\n        RT: \"ARM\"\n      },\n          l = {\n        browser: [[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Chrome\"]], [/edg(?:e|ios|a)?\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Edge\"]], [/(opera\\smini)\\/([\\w\\.-]+)/i, /(opera\\s[mobiletab]{3,6})\\b.+version\\/([\\w\\.-]+)/i, /(opera)(?:.+version\\/|[\\/\\s]+)([\\w\\.]+)/i], [\"name\", \"version\"], [/opios[\\/\\s]+([\\w\\.]+)/i], [\"version\", [\"name\", \"Opera Mini\"]], [/\\sopr\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Opera\"]], [/(kindle)\\/([\\w\\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i, /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i, /(ba?idubrowser)[\\/\\s]?([\\w\\.]+)/i, /(?:ms|\\()(ie)\\s([\\w\\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i, /(rekonq|puffin|brave|whale|qqbrowserlite|qq)\\/([\\w\\.]+)/i, /(weibo)__([\\d\\.]+)/i], [\"name\", \"version\"], [/(?:[\\s\\/]uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i], [\"version\", [\"name\", \"UCBrowser\"]], [/(?:windowswechat)?\\sqbcore\\/([\\w\\.]+)\\b.*(?:windowswechat)?/i], [\"version\", [\"name\", \"WeChat(Win) Desktop\"]], [/micromessenger\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"WeChat\"]], [/konqueror\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Konqueror\"]], [/trident.+rv[:\\s]([\\w\\.]{1,9})\\b.+like\\sgecko/i], [\"version\", [\"name\", \"IE\"]], [/yabrowser\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Yandex\"]], [/(avast|avg)\\/([\\w\\.]+)/i], [[\"name\", /(.+)/, \"$1 Secure Browser\"], \"version\"], [/focus\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Firefox Focus\"]], [/opt\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Opera Touch\"]], [/coc_coc_browser\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Coc Coc\"]], [/dolfin\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Dolphin\"]], [/coast\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"Opera Coast\"]], [/xiaomi\\/miuibrowser\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"MIUI Browser\"]], [/fxios\\/([\\w\\.-]+)/i], [\"version\", [\"name\", \"Firefox\"]], [/(qihu|qhbrowser|qihoobrowser|360browser)/i], [[\"name\", \"360 Browser\"]], [/(oculus|samsung|sailfish)browser\\/([\\w\\.]+)/i], [[\"name\", /(.+)/, \"$1 Browser\"], \"version\"], [/(comodo_dragon)\\/([\\w\\.]+)/i], [[\"name\", /_/g, \" \"], \"version\"], [/\\s(electron)\\/([\\w\\.]+)\\ssafari/i, /(tesla)(?:\\sqtcarbrowser|\\/(20[12]\\d\\.[\\w\\.-]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/\\s]?([\\w\\.]+)/i], [\"name\", \"version\"], [/(MetaSr)[\\/\\s]?([\\w\\.]+)/i, /(LBBROWSER)/i], [\"name\"], [/;fbav\\/([\\w\\.]+);/i], [\"version\", [\"name\", \"Facebook\"]], [/FBAN\\/FBIOS|FB_IAB\\/FB4A/i], [[\"name\", \"Facebook\"]], [/safari\\s(line)\\/([\\w\\.]+)/i, /\\b(line)\\/([\\w\\.]+)\\/iab/i, /(chromium|instagram)[\\/\\s]([\\w\\.-]+)/i], [\"name\", \"version\"], [/\\bgsa\\/([\\w\\.]+)\\s.*safari\\//i], [\"version\", [\"name\", \"GSA\"]], [/headlesschrome(?:\\/([\\w\\.]+)|\\s)/i], [\"version\", [\"name\", \"Chrome Headless\"]], [/\\swv\\).+(chrome)\\/([\\w\\.]+)/i], [[\"name\", \"Chrome WebView\"], \"version\"], [/droid.+\\sversion\\/([\\w\\.]+)\\b.+(?:mobile\\ssafari|safari)/i], [\"version\", [\"name\", \"Android Browser\"]], [/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i], [\"name\", \"version\"], [/version\\/([\\w\\.]+)\\s.*mobile\\/\\w+\\s(safari)/i], [\"version\", [\"name\", \"Mobile Safari\"]], [/version\\/([\\w\\.]+)\\s.*(mobile\\s?safari|safari)/i], [\"version\", \"name\"], [/webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i], [\"name\", [\"version\", f, {\n          \"1.0\": \"/8\",\n          \"1.2\": \"/1\",\n          \"1.3\": \"/3\",\n          \"2.0\": \"/412\",\n          \"2.0.2\": \"/416\",\n          \"2.0.3\": \"/417\",\n          \"2.0.4\": \"/419\",\n          \"?\": \"/\"\n        }]], [/(webkit|khtml)\\/([\\w\\.]+)/i], [\"name\", \"version\"], [/(navigator|netscape)\\/([\\w\\.-]+)/i], [[\"name\", \"Netscape\"], \"version\"], [/ile\\svr;\\srv:([\\w\\.]+)\\).+firefox/i], [\"version\", [\"name\", \"Firefox Reality\"]], [/ekiohf.+(flow)\\/([\\w\\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i, /(firefox)\\/([\\w\\.]+)\\s[\\w\\s\\-]+\\/[\\w\\.]+$/i, /(mozilla)\\/([\\w\\.]+)\\s.+rv:.+gecko\\/\\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i, /(links)\\s\\(([\\w\\.]+)/i, /(gobrowser)\\/?([\\w\\.]*)/i, /(ice\\s?browser)\\/v?([\\w\\._]+)/i, /(mosaic)[\\/\\s]([\\w\\.]+)/i], [\"name\", \"version\"]],\n        cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i], [[\"architecture\", \"amd64\"]], [/(ia32(?=;))/i], [[\"architecture\", c.lowerize]], [/((?:i[346]|x)86)[;\\)]/i], [[\"architecture\", \"ia32\"]], [/\\b(aarch64|armv?8e?l?)\\b/i], [[\"architecture\", \"arm64\"]], [/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i], [[\"architecture\", \"armhf\"]], [/windows\\s(ce|mobile);\\sppc;/i], [[\"architecture\", \"arm\"]], [/((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i], [[\"architecture\", /ower/, \"\", c.lowerize]], [/(sun4\\w)[;\\)]/i], [[\"architecture\", \"sparc\"]], [/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i], [[\"architecture\", c.lowerize]]],\n        device: [[/\\b(sch-i[89]0\\d|shw-m380s|sm-[pt]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus\\s10)/i], [\"model\", [\"vendor\", \"Samsung\"], [\"type\", \"tablet\"]], [/\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy\\snexus)/i, /\\ssamsung[\\s-]([\\w-]+)/i, /sec-(sgh\\w+)/i], [\"model\", [\"vendor\", \"Samsung\"], [\"type\", \"mobile\"]], [/\\((ip(?:hone|od)[\\s\\w]*);/i], [\"model\", [\"vendor\", \"Apple\"], [\"type\", \"mobile\"]], [/\\((ipad);[\\w\\s\\),;-]+apple/i, /applecoremedia\\/[\\w\\.]+\\s\\((ipad)/i, /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i], [\"model\", [\"vendor\", \"Apple\"], [\"type\", \"tablet\"]], [/\\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\\d{2})/i], [\"model\", [\"vendor\", \"Huawei\"], [\"type\", \"tablet\"]], [/d\\/huawei([\\w\\s-]+)[;\\)]/i, /\\b(nexus\\s6p|vog-[at]?l\\d\\d|ane-[at]?l[x\\d]\\d|eml-a?l\\d\\da?|lya-[at]?l\\d[\\dc]|clt-a?l\\d\\di?|ele-l\\d\\d)/i, /\\b(\\w{2,4}-[atu][ln][01259][019])[;\\)\\s]/i], [\"model\", [\"vendor\", \"Huawei\"], [\"type\", \"mobile\"]], [/\\b(poco[\\s\\w]+)(?:\\sbuild|\\))/i, /\\b;\\s(\\w+)\\sbuild\\/hm\\1/i, /\\b(hm[\\s\\-_]?note?[\\s_]?(?:\\d\\w)?)\\sbuild/i, /\\b(redmi[\\s\\-_]?(?:note|k)?[\\w\\s_]+)(?:\\sbuild|\\))/i, /\\b(mi[\\s\\-_]?(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]?(?:\\d?\\w?)[\\s_]?(?:plus)?)\\sbuild/i], [[\"model\", /_/g, \" \"], [\"vendor\", \"Xiaomi\"], [\"type\", \"mobile\"]], [/\\b(mi[\\s\\-_]?(?:pad)(?:[\\w\\s_]+))(?:\\sbuild|\\))/i], [[\"model\", /_/g, \" \"], [\"vendor\", \"Xiaomi\"], [\"type\", \"tablet\"]], [/;\\s(\\w+)\\sbuild.+\\soppo/i, /\\s(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007)\\b/i], [\"model\", [\"vendor\", \"OPPO\"], [\"type\", \"mobile\"]], [/\\svivo\\s(\\w+)(?:\\sbuild|\\))/i, /\\s(v[12]\\d{3}\\w?[at])(?:\\sbuild|;)/i], [\"model\", [\"vendor\", \"Vivo\"], [\"type\", \"mobile\"]], [/\\s(rmx[12]\\d{3})(?:\\sbuild|;)/i], [\"model\", [\"vendor\", \"Realme\"], [\"type\", \"mobile\"]], [/\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)\\b[\\w\\s]+build\\//i, /\\smot(?:orola)?[\\s-](\\w*)/i, /((?:moto[\\s\\w\\(\\)]+|xt\\d{3,4}|nexus\\s6)(?=\\sbuild|\\)))/i], [\"model\", [\"vendor\", \"Motorola\"], [\"type\", \"mobile\"]], [/\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i], [\"model\", [\"vendor\", \"Motorola\"], [\"type\", \"tablet\"]], [/((?=lg)?[vl]k\\-?\\d{3})\\sbuild|\\s3\\.[\\s\\w;-]{10}lg?-([06cv9]{3,4})/i], [\"model\", [\"vendor\", \"LG\"], [\"type\", \"tablet\"]], [/(lm-?f100[nv]?|nexus\\s[45])/i, /lg[e;\\s\\/-]+((?!browser|netcast)\\w+)/i, /\\blg(\\-?[\\d\\w]+)\\sbuild/i], [\"model\", [\"vendor\", \"LG\"], [\"type\", \"mobile\"]], [/(ideatab[\\w\\-\\s]+)/i, /lenovo\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+)|yt[\\d\\w-]{6}|tb[\\d\\w-]{6})/i], [\"model\", [\"vendor\", \"Lenovo\"], [\"type\", \"tablet\"]], [/(?:maemo|nokia).*(n900|lumia\\s\\d+)/i, /nokia[\\s_-]?([\\w\\.-]*)/i], [[\"model\", /_/g, \" \"], [\"vendor\", \"Nokia\"], [\"type\", \"mobile\"]], [/droid.+;\\s(pixel\\sc)[\\s)]/i], [\"model\", [\"vendor\", \"Google\"], [\"type\", \"tablet\"]], [/droid.+;\\s(pixel[\\s\\daxl]{0,6})(?:\\sbuild|\\))/i], [\"model\", [\"vendor\", \"Google\"], [\"type\", \"mobile\"]], [/droid.+\\s([c-g]\\d{4}|so[-l]\\w+|xq-a\\w[4-7][12])(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i], [\"model\", [\"vendor\", \"Sony\"], [\"type\", \"mobile\"]], [/sony\\stablet\\s[ps]\\sbuild\\//i, /(?:sony)?sgp\\w+(?:\\sbuild\\/|\\))/i], [[\"model\", \"Xperia Tablet\"], [\"vendor\", \"Sony\"], [\"type\", \"tablet\"]], [/\\s(kb2005|in20[12]5|be20[12][59])\\b/i, /\\ba000(1)\\sbuild/i, /\\boneplus\\s(a\\d{4})[\\s)]/i], [\"model\", [\"vendor\", \"OnePlus\"], [\"type\", \"mobile\"]], [/(alexa)webm/i, /(kf[a-z]{2}wi)(\\sbuild\\/|\\))/i, /(kf[a-z]+)(\\sbuild\\/|\\)).+silk\\//i], [\"model\", [\"vendor\", \"Amazon\"], [\"type\", \"tablet\"]], [/(sd|kf)[0349hijorstuw]+(\\sbuild\\/|\\)).+silk\\//i], [[\"model\", \"Fire Phone\"], [\"vendor\", \"Amazon\"], [\"type\", \"mobile\"]], [/\\((playbook);[\\w\\s\\),;-]+(rim)/i], [\"model\", \"vendor\", [\"type\", \"tablet\"]], [/((?:bb[a-f]|st[hv])100-\\d)/i, /\\(bb10;\\s(\\w+)/i], [\"model\", [\"vendor\", \"BlackBerry\"], [\"type\", \"mobile\"]], [/(?:\\b|asus_)(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus\\s7|padfone|p00[cj])/i], [\"model\", [\"vendor\", \"ASUS\"], [\"type\", \"tablet\"]], [/\\s(z[es]6[027][01][km][ls]|zenfone\\s\\d\\w?)\\b/i], [\"model\", [\"vendor\", \"ASUS\"], [\"type\", \"mobile\"]], [/(nexus\\s9)/i], [\"model\", [\"vendor\", \"HTC\"], [\"type\", \"tablet\"]], [/(htc)[;_\\s-]{1,2}([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i, /(zte)-(\\w*)/i, /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i], [\"vendor\", [\"model\", /_/g, \" \"], [\"type\", \"mobile\"]], [/droid[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i], [\"model\", [\"vendor\", \"Acer\"], [\"type\", \"tablet\"]], [/droid.+;\\s(m[1-5]\\snote)\\sbuild/i, /\\bmz-([\\w-]{2,})/i], [\"model\", [\"vendor\", \"Meizu\"], [\"type\", \"mobile\"]], [/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i, /(hp)\\s([\\w\\s]+\\w)/i, /(asus)-?(\\w+)/i, /(microsoft);\\s(lumia[\\s\\w]+)/i, /(lenovo)[_\\s-]?([\\w-]+)/i, /linux;.+(jolla);/i, /droid.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i], [\"vendor\", \"model\", [\"type\", \"mobile\"]], [/(archos)\\s(gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\\/([\\w\\.]+)/i, /\\s(nook)[\\w\\s]+build\\/(\\w+)/i, /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i, /[;\\/]\\s?(le[\\s\\-]+pan)[\\s\\-]+(\\w{1,9})\\sbuild/i, /[;\\/]\\s?(trinity)[\\-\\s]*(t\\d{3})\\sbuild/i, /\\b(gigaset)[\\s\\-]+(q\\w{1,9})\\sbuild/i, /\\b(vodafone)\\s([\\w\\s]+)(?:\\)|\\sbuild)/i], [\"vendor\", \"model\", [\"type\", \"tablet\"]], [/\\s(surface\\sduo)\\s/i], [\"model\", [\"vendor\", \"Microsoft\"], [\"type\", \"tablet\"]], [/droid\\s[\\d\\.]+;\\s(fp\\du?)\\sbuild/i], [\"model\", [\"vendor\", \"Fairphone\"], [\"type\", \"mobile\"]], [/\\s(u304aa)\\sbuild/i], [\"model\", [\"vendor\", \"AT&T\"], [\"type\", \"mobile\"]], [/sie-(\\w*)/i], [\"model\", [\"vendor\", \"Siemens\"], [\"type\", \"mobile\"]], [/[;\\/]\\s?(rct\\w+)\\sbuild/i], [\"model\", [\"vendor\", \"RCA\"], [\"type\", \"tablet\"]], [/[;\\/\\s](venue[\\d\\s]{2,7})\\sbuild/i], [\"model\", [\"vendor\", \"Dell\"], [\"type\", \"tablet\"]], [/[;\\/]\\s?(q(?:mv|ta)\\w+)\\sbuild/i], [\"model\", [\"vendor\", \"Verizon\"], [\"type\", \"tablet\"]], [/[;\\/]\\s(?:barnes[&\\s]+noble\\s|bn[rt])([\\w\\s\\+]*)\\sbuild/i], [\"model\", [\"vendor\", \"Barnes & Noble\"], [\"type\", \"tablet\"]], [/[;\\/]\\s(tm\\d{3}\\w+)\\sbuild/i], [\"model\", [\"vendor\", \"NuVision\"], [\"type\", \"tablet\"]], [/;\\s(k88)\\sbuild/i], [\"model\", [\"vendor\", \"ZTE\"], [\"type\", \"tablet\"]], [/;\\s(nx\\d{3}j)\\sbuild/i], [\"model\", [\"vendor\", \"ZTE\"], [\"type\", \"mobile\"]], [/[;\\/]\\s?(gen\\d{3})\\sbuild.*49h/i], [\"model\", [\"vendor\", \"Swiss\"], [\"type\", \"mobile\"]], [/[;\\/]\\s?(zur\\d{3})\\sbuild/i], [\"model\", [\"vendor\", \"Swiss\"], [\"type\", \"tablet\"]], [/[;\\/]\\s?((zeki)?tb.*\\b)\\sbuild/i], [\"model\", [\"vendor\", \"Zeki\"], [\"type\", \"tablet\"]], [/[;\\/]\\s([yr]\\d{2})\\sbuild/i, /[;\\/]\\s(dragon[\\-\\s]+touch\\s|dt)(\\w{5})\\sbuild/i], [[\"vendor\", \"Dragon Touch\"], \"model\", [\"type\", \"tablet\"]], [/[;\\/]\\s?(ns-?\\w{0,9})\\sbuild/i], [\"model\", [\"vendor\", \"Insignia\"], [\"type\", \"tablet\"]], [/[;\\/]\\s?((nxa|Next)-?\\w{0,9})\\sbuild/i], [\"model\", [\"vendor\", \"NextBook\"], [\"type\", \"tablet\"]], [/[;\\/]\\s?(xtreme_)?(v(1[045]|2[015]|[3469]0|7[05]))\\sbuild/i], [[\"vendor\", \"Voice\"], \"model\", [\"type\", \"mobile\"]], [/[;\\/]\\s?(lvtel\\-)?(v1[12])\\sbuild/i], [[\"vendor\", \"LvTel\"], \"model\", [\"type\", \"mobile\"]], [/;\\s(ph-1)\\s/i], [\"model\", [\"vendor\", \"Essential\"], [\"type\", \"mobile\"]], [/[;\\/]\\s?(v(100md|700na|7011|917g).*\\b)\\sbuild/i], [\"model\", [\"vendor\", \"Envizen\"], [\"type\", \"tablet\"]], [/[;\\/]\\s?(trio[\\s\\w\\-\\.]+)\\sbuild/i], [\"model\", [\"vendor\", \"MachSpeed\"], [\"type\", \"tablet\"]], [/[;\\/]\\s?tu_(1491)\\sbuild/i], [\"model\", [\"vendor\", \"Rotor\"], [\"type\", \"tablet\"]], [/(shield[\\w\\s]+)\\sbuild/i], [\"model\", [\"vendor\", \"Nvidia\"], [\"type\", \"tablet\"]], [/(sprint)\\s(\\w+)/i], [\"vendor\", \"model\", [\"type\", \"mobile\"]], [/(kin\\.[onetw]{3})/i], [[\"model\", /\\./g, \" \"], [\"vendor\", \"Microsoft\"], [\"type\", \"mobile\"]], [/droid\\s[\\d\\.]+;\\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i], [\"model\", [\"vendor\", \"Zebra\"], [\"type\", \"tablet\"]], [/droid\\s[\\d\\.]+;\\s(ec30|ps20|tc[2-8]\\d[kx])\\)/i], [\"model\", [\"vendor\", \"Zebra\"], [\"type\", \"mobile\"]], [/\\s(ouya)\\s/i, /(nintendo)\\s([wids3utch]+)/i], [\"vendor\", \"model\", [\"type\", \"console\"]], [/droid.+;\\s(shield)\\sbuild/i], [\"model\", [\"vendor\", \"Nvidia\"], [\"type\", \"console\"]], [/(playstation\\s[345portablevi]+)/i], [\"model\", [\"vendor\", \"Sony\"], [\"type\", \"console\"]], [/[\\s\\(;](xbox(?:\\sone)?(?!;\\sxbox))[\\s\\);]/i], [\"model\", [\"vendor\", \"Microsoft\"], [\"type\", \"console\"]], [/smart-tv.+(samsung)/i], [\"vendor\", [\"type\", \"smarttv\"]], [/hbbtv.+maple;(\\d+)/i], [[\"model\", /^/, \"SmartTV\"], [\"vendor\", \"Samsung\"], [\"type\", \"smarttv\"]], [/(?:linux;\\snetcast.+smarttv|lg\\snetcast\\.tv-201\\d)/i], [[\"vendor\", \"LG\"], [\"type\", \"smarttv\"]], [/(apple)\\s?tv/i], [\"vendor\", [\"model\", \"Apple TV\"], [\"type\", \"smarttv\"]], [/crkey/i], [[\"model\", \"Chromecast\"], [\"vendor\", \"Google\"], [\"type\", \"smarttv\"]], [/droid.+aft([\\w])(\\sbuild\\/|\\))/i], [\"model\", [\"vendor\", \"Amazon\"], [\"type\", \"smarttv\"]], [/\\(dtv[\\);].+(aquos)/i], [\"model\", [\"vendor\", \"Sharp\"], [\"type\", \"smarttv\"]], [/hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i], [[\"vendor\", c.trim], [\"model\", c.trim], [\"type\", \"smarttv\"]], [/[\\s\\/\\(](android\\s|smart[-\\s]?|opera\\s)tv[;\\)\\s]/i], [[\"type\", \"smarttv\"]], [/((pebble))app\\/[\\d\\.]+\\s/i], [\"vendor\", \"model\", [\"type\", \"wearable\"]], [/droid.+;\\s(glass)\\s\\d/i], [\"model\", [\"vendor\", \"Google\"], [\"type\", \"wearable\"]], [/droid\\s[\\d\\.]+;\\s(wt63?0{2,3})\\)/i], [\"model\", [\"vendor\", \"Zebra\"], [\"type\", \"wearable\"]], [/(tesla)(?:\\sqtcarbrowser|\\/20[12]\\d\\.[\\w\\.-]+)/i], [\"vendor\", [\"type\", \"embedded\"]], [/droid .+?; ([^;]+?)(?: build|\\) applewebkit).+? mobile safari/i], [\"model\", [\"type\", \"mobile\"]], [/droid .+?;\\s([^;]+?)(?: build|\\) applewebkit).+?(?! mobile) safari/i], [\"model\", [\"type\", \"tablet\"]], [/\\s(tablet|tab)[;\\/]/i, /\\s(mobile)(?:[;\\/]|\\ssafari)/i], [[\"type\", c.lowerize]], [/(android[\\w\\.\\s\\-]{0,9});.+build/i], [\"model\", [\"vendor\", \"Generic\"]], [/(phone)/i], [[\"type\", \"mobile\"]]],\n        engine: [[/windows.+\\sedge\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"EdgeHTML\"]], [/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i], [\"version\", [\"name\", \"Blink\"]], [/(presto)\\/([\\w\\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, /ekioh(flow)\\/([\\w\\.]+)/i, /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i, /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i], [\"name\", \"version\"], [/rv:([\\w\\.]{1,9})\\b.+(gecko)/i], [\"version\", \"name\"]],\n        os: [[/microsoft\\s(windows)\\s(vista|xp)/i], [\"name\", \"version\"], [/(windows)\\snt\\s6\\.2;\\s(arm)/i, /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i, /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)(?!.+xbox)/i], [\"name\", [\"version\", f, h]], [/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i], [[\"name\", \"Windows\"], [\"version\", f, h]], [/ip[honead]{2,4}\\b(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i, /cfnetwork\\/.+darwin/i], [[\"version\", /_/g, \".\"], [\"name\", \"iOS\"]], [/(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i, /(macintosh|mac(?=_powerpc)\\s)(?!.+haiku)/i], [[\"name\", \"Mac OS\"], [\"version\", /_/g, \".\"]], [/(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i, /(blackberry)\\w*\\/([\\w\\.]*)/i, /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i, /\\((series40);/i], [\"name\", \"version\"], [/\\(bb(10);/i], [\"version\", [\"name\", \"BlackBerry\"]], [/(?:symbian\\s?os|symbos|s60(?=;)|series60)[\\/\\s-]?([\\w\\.]*)/i], [\"version\", [\"name\", \"Symbian\"]], [/mozilla.+\\(mobile;.+gecko.+firefox/i], [[\"name\", \"Firefox OS\"]], [/web0s;.+rt(tv)/i, /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i], [\"version\", [\"name\", \"webOS\"]], [/crkey\\/([\\d\\.]+)/i], [\"version\", [\"name\", \"Chromecast\"]], [/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i], [[\"name\", \"Chromium OS\"], \"version\"], [/(nintendo|playstation)\\s([wids345portablevuch]+)/i, /(xbox);\\s+xbox\\s([^\\);]+)/i, /(mint)[\\/\\s\\(\\)]?(\\w*)/i, /(mageia|vectorlinux)[;\\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\\sgnu\\/linux)?(?:\\slinux)?[\\/\\s-]?(?!chrom|package)([\\w\\.-]*)/i, /(hurd|linux)\\s?([\\w\\.]*)/i, /(gnu)\\s?([\\w\\.]*)/i, /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, /(haiku)\\s(\\w+)/i], [\"name\", \"version\"], [/(sunos)\\s?([\\w\\.\\d]*)/i], [[\"name\", \"Solaris\"], \"version\"], [/((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i, /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i, /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i, /(unix)\\s?([\\w\\.]*)/i], [\"name\", \"version\"]]\n      },\n          r = function r(d, f) {\n        if (\"object\" == typeof d && (f = d, d = b), !(this instanceof r)) return new r(d, f).getResult();\n        var h = d || (void 0 !== a && a.navigator && a.navigator.userAgent ? a.navigator.userAgent : \"\"),\n            g = f ? c.extend(l, f) : l;\n        return this.getBrowser = function () {\n          var a = {\n            name: b,\n            version: b\n          };\n          return e.call(a, h, g.browser), a.major = c.major(a.version), a;\n        }, this.getCPU = function () {\n          var a = {\n            architecture: b\n          };\n          return e.call(a, h, g.cpu), a;\n        }, this.getDevice = function () {\n          var a = {\n            vendor: b,\n            model: b,\n            type: b\n          };\n          return e.call(a, h, g.device), a;\n        }, this.getEngine = function () {\n          var a = {\n            name: b,\n            version: b\n          };\n          return e.call(a, h, g.engine), a;\n        }, this.getOS = function () {\n          var a = {\n            name: b,\n            version: b\n          };\n          return e.call(a, h, g.os), a;\n        }, this.getResult = function () {\n          return {\n            ua: this.getUA(),\n            browser: this.getBrowser(),\n            engine: this.getEngine(),\n            os: this.getOS(),\n            device: this.getDevice(),\n            cpu: this.getCPU()\n          };\n        }, this.getUA = function () {\n          return h;\n        }, this.setUA = function (a) {\n          return h = \"string\" === typeof a && 255 < a.length ? c.trim(a, 255) : a, this;\n        }, this.setUA(h), this;\n      };\n\n      r.VERSION = \"0.7.28\";\n      r.BROWSER = {\n        NAME: \"name\",\n        MAJOR: \"major\",\n        VERSION: \"version\"\n      };\n      r.CPU = {\n        ARCHITECTURE: \"architecture\"\n      };\n      r.DEVICE = {\n        MODEL: \"model\",\n        VENDOR: \"vendor\",\n        TYPE: \"type\",\n        CONSOLE: \"console\",\n        MOBILE: \"mobile\",\n        SMARTTV: \"smarttv\",\n        TABLET: \"tablet\",\n        WEARABLE: \"wearable\",\n        EMBEDDED: \"embedded\"\n      };\n      r.ENGINE = {\n        NAME: \"name\",\n        VERSION: \"version\"\n      };\n      r.OS = {\n        NAME: \"name\",\n        VERSION: \"version\"\n      };\n      d.exports && (g = d.exports = r);\n      g.UAParser = r;\n      var p = void 0 !== a && (a.jQuery || a.Zepto);\n\n      if (p && !p.ua) {\n        var k = new r();\n        p.ua = k.getResult();\n\n        p.ua.get = function () {\n          return k.getUA();\n        };\n\n        p.ua.set = function (a) {\n          k.setUA(a);\n          a = k.getResult();\n\n          for (var b in a) {\n            p.ua[b] = a[b];\n          }\n        };\n      }\n    }(\"object\" == typeof window ? window : Xd);\n  }))(),\n      cb = Sf.getResult(),\n      ob = function (d) {\n    if (d.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/)) return d;\n    var g = d.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);\n\n    if (g && g[1] && g[2]) {\n      var a,\n          b = g[2];\n      return m(a = \"\".concat(g[1], \".\")).call(a, b);\n    }\n\n    return (g = d.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/)) && g[1] && g[2] ? (a = g[2], m(b = \"\".concat(g[1], \".\")).call(b, 100 * (Number(a) + 1))) : \"4.0.0.999\";\n  }(\"4.7.3\");\n\n  try {\n    var Vl = !0 === JSON.parse(\"true\");\n  } catch (d) {\n    Vl = !0;\n  }\n\n  var gh = Vl,\n      Oa = {\n    username: \"test\",\n    password: \"111111\",\n    turnServerURL: \"\",\n    tcpport: 3433,\n    udpport: 3478,\n    forceturn: !1\n  },\n      $n = {\n    \"90p\": M(160, 90),\n    \"90p_1\": M(160, 90),\n    \"120p\": M(160, 120, 15, 30, 65),\n    \"120p_1\": M(160, 120, 15, 30, 65),\n    \"120p_3\": M(120, 120, 15, 30, 50),\n    \"120p_4\": M(212, 120),\n    \"180p\": M(320, 180, 15, 30, 140),\n    \"180p_1\": M(320, 180, 15, 30, 140),\n    \"180p_3\": M(180, 180, 15, 30, 100),\n    \"180p_4\": M(240, 180, 15, 30, 120),\n    \"240p\": M(320, 240, 15, 40, 200),\n    \"240p_1\": M(320, 240, 15, 40, 200),\n    \"240p_3\": M(240, 240, 15, 40, 140),\n    \"240p_4\": M(424, 240, 15, 40, 220),\n    \"360p\": M(640, 360, 15, 80, 400),\n    \"360p_1\": M(640, 360, 15, 80, 400),\n    \"360p_3\": M(360, 360, 15, 80, 260),\n    \"360p_4\": M(640, 360, 30, 80, 600),\n    \"360p_6\": M(360, 360, 30, 80, 400),\n    \"360p_7\": M(480, 360, 15, 80, 320),\n    \"360p_8\": M(480, 360, 30, 80, 490),\n    \"360p_9\": M(640, 360, 15, 80, 800),\n    \"360p_10\": M(640, 360, 24, 80, 800),\n    \"360p_11\": M(640, 360, 24, 80, 1E3),\n    \"480p\": M(640, 480, 15, 100, 500),\n    \"480p_1\": M(640, 480, 15, 100, 500),\n    \"480p_2\": M(640, 480, 30, 100, 1E3),\n    \"480p_3\": M(480, 480, 15, 100, 400),\n    \"480p_4\": M(640, 480, 30, 100, 750),\n    \"480p_6\": M(480, 480, 30, 100, 600),\n    \"480p_8\": M(848, 480, 15, 100, 610),\n    \"480p_9\": M(848, 480, 30, 100, 930),\n    \"480p_10\": M(640, 480, 10, 100, 400),\n    \"720p\": M(1280, 720, 15, 120, 1130),\n    \"720p_1\": M(1280, 720, 15, 120, 1130),\n    \"720p_2\": M(1280, 720, 30, 120, 2E3),\n    \"720p_3\": M(1280, 720, 30, 120, 1710),\n    \"720p_5\": M(960, 720, 15, 120, 910),\n    \"720p_6\": M(960, 720, 30, 120, 1380),\n    \"1080p\": M(1920, 1080, 15, 120, 2080),\n    \"1080p_1\": M(1920, 1080, 15, 120, 2080),\n    \"1080p_2\": M(1920, 1080, 30, 120, 3E3),\n    \"1080p_3\": M(1920, 1080, 30, 120, 3150),\n    \"1080p_5\": M(1920, 1080, 60, 120, 4780),\n    \"1440p\": M(2560, 1440, 30, 120, 4850),\n    \"1440p_1\": M(2560, 1440, 30, 120, 4850),\n    \"1440p_2\": M(2560, 1440, 60, 120, 7350),\n    \"4k\": M(3840, 2160, 30, 120, 8910),\n    \"4k_1\": M(3840, 2160, 30, 120, 8910),\n    \"4k_3\": M(3840, 2160, 60, 120, 13500)\n  },\n      ao = {\n    \"480p\": Eb(640, 480, 5),\n    \"480p_1\": Eb(640, 480, 5),\n    \"480p_2\": Eb(640, 480, 30),\n    \"480p_3\": Eb(640, 480, 15),\n    \"720p\": Eb(1280, 720, 5),\n    \"720p_1\": Eb(1280, 720, 5),\n    \"720p_2\": Eb(1280, 720, 30),\n    \"720p_3\": Eb(1280, 720, 15),\n    \"1080p\": Eb(1920, 1080, 5),\n    \"1080p_1\": Eb(1920, 1080, 5),\n    \"1080p_2\": Eb(1920, 1080, 30),\n    \"1080p_3\": Eb(1920, 1080, 15)\n  },\n      bo = {\n    \"1SL1TL\": Vf(1, 1),\n    \"3SL3TL\": Vf(3, 3),\n    \"2SL3TL\": Vf(2, 3)\n  },\n      co = {\n    speech_low_quality: cd(16E3, !1),\n    speech_standard: cd(32E3, !1, 18),\n    music_standard: cd(48E3, !1),\n    standard_stereo: cd(48E3, !0, 56),\n    high_quality: cd(48E3, !1, 128),\n    high_quality_stereo: cd(48E3, !0, 192)\n  },\n      v = {\n    PROCESS_ID: \"\",\n    ENCRYPT_AES: !0,\n    AREAS: [\"CHINA\", \"GLOBAL\"],\n    WEBCS_DOMAIN: [\"webrtc2-ap-web-1.agora.io\", \"webrtc2-2.ap.sd-rtn.com\"],\n    WEBCS_DOMAIN_BACKUP_LIST: [\"webrtc2-ap-web-3.agora.io\", \"webrtc2-4.ap.sd-rtn.com\"],\n    PROXY_CS: [\"ap-proxy-1.agora.io\", \"ap-proxy-2.agora.io\"],\n    CDS_AP: [\"cds-ap-web-1.agora.io\", \"cds-web-2.ap.sd-rtn.com\", \"cds-ap-web-3.agora.io\", \"cds-web-4.ap.sd-rtn.com\"],\n    ACCOUNT_REGISTER: [\"sua-ap-web-1.agora.io\", \"sua-web-2.ap.sd-rtn.com\", \"sua-ap-web-3.agora.io\", \"sua-web-4.ap.sd-rtn.com\"],\n    UAP_AP: [\"uap-ap-web-1.agora.io\", \"uap-web-2.ap.sd-rtn.com\", \"uap-ap-web-3.agora.io\", \"uap-web-4.ap.sd-rtn.com\"],\n    LOG_UPLOAD_SERVER: \"logservice.agora.io\",\n    EVENT_REPORT_DOMAIN: \"statscollector-1.agora.io\",\n    EVENT_REPORT_BACKUP_DOMAIN: \"web-2.statscollector.sd-rtn.com\",\n    GATEWAY_ADDRESS: [],\n    GATEWAY_WSS_ADDRESS: \"\",\n    LIVE_STREAMING_ADDRESS: \"\",\n    ACCOUNT_REGISTER_RETRY_TIMEOUT: 1,\n    ACCOUNT_REGISTER_RETRY_RATIO: 2,\n    ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX: 6E4,\n    ACCOUNT_REGISTER_RETRY_COUNT_MAX: 1E5,\n    AUDIO_CONTEXT: null,\n    WEBCS_BACKUP_CONNECT_TIMEOUT: 6E3,\n    HTTP_CONNECT_TIMEOUT: 5E3,\n    PLAYER_STATE_DEFER: 2E3,\n    SIGNAL_REQUEST_TIMEOUT: 1E4,\n    SIGNAL_REQUEST_WATCH_INTERVAL: 1E3,\n    REPORT_STATS: !0,\n    UPLOAD_LOG: !1,\n    NOT_REPORT_EVENT: [],\n    FILEPATH_LENMAX: 255,\n    SUBSCRIBE_TCC: !0,\n    PING_PONG_TIME_OUT: 10,\n    DUALSTREAM_OPERATION_CHECK: !0,\n    WEBSOCKET_TIMEOUT_MIN: 1E4,\n    EVENT_REPORT_SEND_INTERVAL: 3E3,\n    CONFIG_DISTRIBUTE_INTERVAL: 3E5,\n    MEDIA_ELEMENT_EXISTS_DEPTH: 3,\n    CANDIDATE_TIMEOUT: 5E3,\n    SHIM_CANDIDATE: !1,\n    LEAVE_MSG_TIMEOUT: 2E3,\n    SHOW_REPORT_INVOKER_LOG: !1,\n    STATS_FILTER: {\n      transportId: !0,\n      googTrackId: !0\n    },\n    JOIN_EXTEND: \"\",\n    PUB_EXTEND: \"\",\n    SUB_EXTEND: \"\",\n    FORCE_TURN: !1,\n    TURN_ENABLE_TCP: !0,\n    TURN_ENABLE_UDP: !0,\n    MAX_UPLOAD_CACHE: 50,\n    UPLOAD_CACHE_INTERVAL: 2E3,\n    AJAX_REQUEST_CONCURRENT: 3,\n    REPORT_APP_SCENARIO: void 0,\n    GATEWAY_DOMAINS: [\"edge.agora.io\", \"edge.sd-rtn.com\"],\n    EVENT_REPORT_RETRY: !0,\n    CHROME_FORCE_PLAN_B: !1,\n    AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL: 400,\n    AUDIO_SOURCE_AVG_VOLUME_DURATION: 3E3,\n    AUDIO_VOLUME_INDICATION_INTERVAL: 2E3,\n    VOLUME_VOICE_WEIGHT: 10,\n    NORMAL_EVENT_QUEUE_CAPACITY: 100,\n    CUSTOM_REPORT: !0,\n    CUSTOM_REPORT_LIMIT: 20,\n    PROXY_SERVER_TYPE2: \"webnginx-proxy.agora.io\",\n    PROXY_SERVER_TYPE3: [\"webrtc-cloud-proxy.sd-rtn.com\", \"webrtc-cloud-proxy.agora.io\"],\n    CUSTOM_PUB_ANSWER_MODIFIER: null,\n    CUSTOM_SUB_ANSWER_MODIFIER: null,\n    CUSTOM_PUB_OFFER_MODIFIER: null,\n    CUSTOM_SUB_OFFER_MODIFIER: null,\n    DSCP_TYPE: \"high\",\n    REMOVE_NEW_CODECS: !0,\n    FRAGEMENT_LENGTH: 3,\n    WEBSOCKET_COMPRESS: !1,\n    SIMULCAST: !1,\n    ENUMERATE_DEVICES_INTERVAL: !0\n  };\n  gh || (v.WEBCS_DOMAIN = [\"ap-web-1-oversea.agora.io\", \"ap-web-1-north-america.agora.io\"], v.WEBCS_DOMAIN_BACKUP_LIST = [\"ap-web-2-oversea.agora.io\", \"ap-web-2-north-america.agora.io\"], v.PROXY_CS = [\"proxy-ap-web-oversea.agora.io\", \"proxy-ap-web-america.agora.io\"], v.CDS_AP = [\"cds-ap-web-oversea.agora.io\", \"cds-ap-web-america.agora.io\", \"cds-ap-web-america2.agora.io\"], v.ACCOUNT_REGISTER = [\"sua-ap-web-oversea.agora.io\", \"sua-ap-web-america.agora.io\", \"sua-ap-web-america2.agora.io\"], v.UAP_AP = [\"uap-ap-web-oversea.agora.io\", \"uap-ap-web-america.agora.io\", \"uap-ap-web-america2.agora.io\"], v.LOG_UPLOAD_SERVER = \"logservice-oversea.agora.io\", v.EVENT_REPORT_DOMAIN = \"statscollector-1-oversea.agora.io\", v.EVENT_REPORT_BACKUP_DOMAIN = \"statscollector-2-oversea.agora.io\", v.PROXY_SERVER_TYPE3 = \"webrtc-cloud-proxy.agora.io\", v.AREAS = [\"NORTH_AMERICA\", \"OVERSEA\"]);\n  var Fq = [[0, 1, 2, 3, 4, 5, 5], [0, 2, 2, 3, 4, 5, 5], [0, 3, 3, 3, 4, 5, 5], [0, 4, 4, 4, 4, 5, 5], [0, 5, 5, 5, 5, 5, 5]],\n      pc = [],\n      Bc = [];\n  var hh = [],\n      Wl = hh.sort,\n      Gq = ya(function () {\n    hh.sort(void 0);\n  }),\n      Hq = ya(function () {\n    hh.sort(null);\n  }),\n      Iq = Qc(\"sort\");\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Gq || !Hq || Iq\n  }, {\n    sort: function sort(d) {\n      return void 0 === d ? Wl.call(Jb(this)) : Wl.call(Jb(this), Vb(d));\n    }\n  });\n\n  var Jq = Aa(\"Array\").sort,\n      Xl = Array.prototype,\n      he = function he(d) {\n    var g = d.sort;\n    return d === Xl || d instanceof Array && g === Xl.sort ? Jq : g;\n  };\n\n  L({\n    target: \"Array\",\n    stat: !0\n  }, {\n    isArray: Kc\n  });\n  var n,\n      Qb = ma.Array.isArray;\n  !function (d) {\n    d.UNEXPECTED_ERROR = \"UNEXPECTED_ERROR\";\n    d.UNEXPECTED_RESPONSE = \"UNEXPECTED_RESPONSE\";\n    d.TIMEOUT = \"TIMEOUT\";\n    d.INVALID_PARAMS = \"INVALID_PARAMS\";\n    d.NOT_READABLE = \"NOT_READABLE\";\n    d.NOT_SUPPORTED = \"NOT_SUPPORTED\";\n    d.INVALID_OPERATION = \"INVALID_OPERATION\";\n    d.OPERATION_ABORTED = \"OPERATION_ABORTED\";\n    d.WEB_SECURITY_RESTRICT = \"WEB_SECURITY_RESTRICT\";\n    d.NETWORK_ERROR = \"NETWORK_ERROR\";\n    d.NETWORK_TIMEOUT = \"NETWORK_TIMEOUT\";\n    d.NETWORK_RESPONSE_ERROR = \"NETWORK_RESPONSE_ERROR\";\n    d.API_INVOKE_TIMEOUT = \"API_INVOKE_TIMEOUT\";\n    d.ENUMERATE_DEVICES_FAILED = \"ENUMERATE_DEVICES_FAILED\";\n    d.DEVICE_NOT_FOUND = \"DEVICE_NOT_FOUND\";\n    d.ELECTRON_IS_NULL = \"ELECTRON_IS_NULL\";\n    d.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR = \"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\";\n    d.CHROME_PLUGIN_NO_RESPONSE = \"CHROME_PLUGIN_NO_RESPONSE\";\n    d.CHROME_PLUGIN_NOT_INSTALL = \"CHROME_PLUGIN_NOT_INSTALL\";\n    d.MEDIA_OPTION_INVALID = \"MEDIA_OPTION_INVALID\";\n    d.PERMISSION_DENIED = \"PERMISSION_DENIED\";\n    d.CONSTRAINT_NOT_SATISFIED = \"CONSTRAINT_NOT_SATISFIED\";\n    d.TRACK_IS_DISABLED = \"TRACK_IS_DISABLED\";\n    d.SHARE_AUDIO_NOT_ALLOWED = \"SHARE_AUDIO_NOT_ALLOWED\";\n    d.LOW_STREAM_ENCODING_ERROR = \"LOW_STREAM_ENCODING_ERROR\";\n    d.SET_ENCODING_PARAMETER_ERROR = \"SET_ENCODING_PARAMETER_ERROR\";\n    d.TRACK_STATE_UNREACHABLE = \"TRACK_STATE_UNREACHABLE\";\n    d.INVALID_UINT_UID_FROM_STRING_UID = \"INVALID_UINT_UID_FROM_STRING_UID\";\n    d.CAN_NOT_GET_PROXY_SERVER = \"CAN_NOT_GET_PROXY_SERVER\";\n    d.CAN_NOT_GET_GATEWAY_SERVER = \"CAN_NOT_GET_GATEWAY_SERVER\";\n    d.VOID_GATEWAY_ADDRESS = \"VOID_GATEWAY_ADDRESS\";\n    d.UID_CONFLICT = \"UID_CONFLICT\";\n    d.MULTI_UNILBS_RESPONSE_ERROR = \"MULTI_UNILBS_RESPONSE_ERROR\";\n    d.INVALID_LOCAL_TRACK = \"INVALID_LOCAL_TRACK\";\n    d.INVALID_TRACK = \"INVALID_TRACK\";\n    d.SENDER_NOT_FOUND = \"SENDER_NOT_FOUND\";\n    d.CREATE_OFFER_FAILED = \"CREATE_OFFER_FAILED\";\n    d.SET_ANSWER_FAILED = \"SET_ANSWER_FAILED\";\n    d.ICE_FAILED = \"ICE_FAILED\";\n    d.PC_CLOSED = \"PC_CLOSED\";\n    d.SENDER_REPLACE_FAILED = \"SENDER_REPLACE_FAILED\";\n    d.GATEWAY_P2P_LOST = \"GATEWAY_P2P_LOST\";\n    d.NO_ICE_CANDIDATE = \"NO_ICE_CANDIDATE\";\n    d.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS = \"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\";\n    d.CAN_NOT_PUBLISH_MULTIPLE_AUDIO_TRACKS = \"CAN_NOT_PUBLISH_MULTIPLE_AUDIO_TRACKS\";\n    d.EXIST_DISABLED_VIDEO_TRACK = \"EXIST_DISABLED_VIDEO_TRACK\";\n    d.INVALID_REMOTE_USER = \"INVALID_REMOTE_USER\";\n    d.REMOTE_USER_IS_NOT_PUBLISHED = \"REMOTE_USER_IS_NOT_PUBLISHED\";\n    d.CUSTOM_REPORT_SEND_FAILED = \"CUSTOM_REPORT_SEND_FAILED\";\n    d.CUSTOM_REPORT_FREQUENCY_TOO_HIGH = \"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\";\n    d.FETCH_AUDIO_FILE_FAILED = \"FETCH_AUDIO_FILE_FAILED\";\n    d.READ_LOCAL_AUDIO_FILE_ERROR = \"READ_LOCAL_AUDIO_FILE_ERROR\";\n    d.DECODE_AUDIO_FILE_FAILED = \"DECODE_AUDIO_FILE_FAILED\";\n    d.WS_ABORT = \"WS_ABORT\";\n    d.WS_DISCONNECT = \"WS_DISCONNECT\";\n    d.WS_ERR = \"WS_ERR\";\n    d.LIVE_STREAMING_TASK_CONFLICT = \"LIVE_STREAMING_TASK_CONFLICT\";\n    d.LIVE_STREAMING_INVALID_ARGUMENT = \"LIVE_STREAMING_INVALID_ARGUMENT\";\n    d.LIVE_STREAMING_INTERNAL_SERVER_ERROR = \"LIVE_STREAMING_INTERNAL_SERVER_ERROR\";\n    d.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED = \"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\";\n    d.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED = \"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\";\n    d.LIVE_STREAMING_CDN_ERROR = \"LIVE_STREAMING_CDN_ERROR\";\n    d.LIVE_STREAMING_INVALID_RAW_STREAM = \"LIVE_STREAMING_INVALID_RAW_STREAM\";\n    d.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT = \"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\";\n    d.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE = \"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\";\n    d.LIVE_STREAMING_WARN_FREQUENT_REQUEST = \"LIVE_STREAMING_WARN_FREQUENT_REQUEST\";\n    d.WEBGL_INTERNAL_ERROR = \"WEBGL_INTERNAL_ERROR\";\n    d.BEAUTY_PROCESSOR_INTERNAL_ERROR = \"BEAUTY_PROCESSOR_INTERNAL_ERROR\";\n    d.CROSS_CHANNEL_WAIT_STATUS_ERROR = \"CROSS_CHANNEL_WAIT_STATUS_ERROR\";\n    d.CROSS_CHANNEL_FAILED_JOIN_SRC = \"CROSS_CHANNEL_FAILED_JOIN_SEC\";\n    d.CROSS_CHANNEL_FAILED_JOIN_DEST = \"CROSS_CHANNEL_FAILED_JOIN_DEST\";\n    d.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST = \"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\";\n    d.CROSS_CHANNEL_SERVER_ERROR_RESPONSE = \"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\";\n    d.METADATA_OUT_OF_RANGE = \"METADATA_OUT_OF_RANGE\";\n    d.LOCAL_AEC_ERROR = \"LOCAL_AEC_ERROR\";\n    d.INVALID_PLUGIN = \"INVALID_PLUGIN\";\n  }(n || (n = {}));\n\n  var Kq = [].slice,\n      Lq = /MSIE .\\./.test(Zd),\n      Yl = function Yl(d) {\n    return function (g, a) {\n      var b = 2 < arguments.length,\n          c = b ? Kq.call(arguments, 2) : void 0;\n      return d(b ? function () {\n        (\"function\" == typeof g ? g : Function(g)).apply(this, c);\n      } : g, a);\n    };\n  };\n\n  L({\n    global: !0,\n    bind: !0,\n    forced: Lq\n  }, {\n    setTimeout: Yl(N.setTimeout),\n    setInterval: Yl(N.setInterval)\n  });\n  var wb = ma.setTimeout;\n  L({\n    target: \"Date\",\n    stat: !0\n  }, {\n    now: function now() {\n      return new Date().getTime();\n    }\n  });\n\n  var x = ma.Date.now,\n      Ti = function Ti(d, g) {\n    return function () {\n      for (var a = Array(arguments.length), b = 0; b < a.length; b++) {\n        a[b] = arguments[b];\n      }\n\n      return d.apply(g, a);\n    };\n  },\n      dd = Object.prototype.toString,\n      O = {\n    isArray: Li,\n    isArrayBuffer: function isArrayBuffer(d) {\n      return \"[object ArrayBuffer]\" === dd.call(d);\n    },\n    isBuffer: function isBuffer(d) {\n      return null != d && null != d.constructor && \"function\" == typeof d.constructor.isBuffer && d.constructor.isBuffer(d);\n    },\n    isFormData: function isFormData(d) {\n      return \"undefined\" != typeof FormData && d instanceof FormData;\n    },\n    isArrayBufferView: function isArrayBufferView(d) {\n      return \"undefined\" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(d) : d && d.buffer && d.buffer instanceof ArrayBuffer;\n    },\n    isString: function isString(d) {\n      return \"string\" == typeof d;\n    },\n    isNumber: function isNumber(d) {\n      return \"number\" == typeof d;\n    },\n    isObject: Mi,\n    isUndefined: function isUndefined(d) {\n      return void 0 === d;\n    },\n    isDate: function isDate(d) {\n      return \"[object Date]\" === dd.call(d);\n    },\n    isFile: function isFile(d) {\n      return \"[object File]\" === dd.call(d);\n    },\n    isBlob: function isBlob(d) {\n      return \"[object Blob]\" === dd.call(d);\n    },\n    isFunction: Ni,\n    isStream: function isStream(d) {\n      return Mi(d) && Ni(d.pipe);\n    },\n    isURLSearchParams: function isURLSearchParams(d) {\n      return \"undefined\" != typeof URLSearchParams && d instanceof URLSearchParams;\n    },\n    isStandardBrowserEnv: function isStandardBrowserEnv() {\n      return (\"undefined\" == typeof navigator || \"ReactNative\" !== navigator.product && \"NativeScript\" !== navigator.product && \"NS\" !== navigator.product) && \"undefined\" != typeof window && \"undefined\" != typeof document;\n    },\n    forEach: He,\n    merge: function g() {\n      function a(a, c) {\n        \"object\" == typeof b[c] && \"object\" == typeof a ? b[c] = g(b[c], a) : b[c] = a;\n      }\n\n      for (var b = {}, c = 0, e = arguments.length; c < e; c++) {\n        He(arguments[c], a);\n      }\n\n      return b;\n    },\n    deepMerge: function a() {\n      function b(b, e) {\n        \"object\" == typeof c[e] && \"object\" == typeof b ? c[e] = a(c[e], b) : c[e] = \"object\" == typeof b ? a({}, b) : b;\n      }\n\n      for (var c = {}, e = 0, f = arguments.length; e < f; e++) {\n        He(arguments[e], b);\n      }\n\n      return c;\n    },\n    extend: function extend(a, b, c) {\n      return He(b, function (b, f) {\n        a[f] = c && \"function\" == typeof b ? Ti(b, c) : b;\n      }), a;\n    },\n    trim: function trim(a) {\n      return a.replace(/^\\s*/, \"\").replace(/\\s*$/, \"\");\n    }\n  },\n      Zl = function Zl(a, b, c) {\n    if (!b) return a;\n    if (c) b = c(b);else if (O.isURLSearchParams(b)) b = b.toString();else {\n      var e = [];\n      O.forEach(b, function (a, b) {\n        null != a && (O.isArray(a) ? b += \"[]\" : a = [a], O.forEach(a, function (a) {\n          O.isDate(a) ? a = a.toISOString() : O.isObject(a) && (a = JSON.stringify(a));\n          e.push(Oi(b) + \"=\" + Oi(a));\n        }));\n      });\n      b = e.join(\"&\");\n    }\n    b && (c = a.indexOf(\"#\"), -1 !== c && (a = a.slice(0, c)), a += (-1 === a.indexOf(\"?\") ? \"?\" : \"&\") + b);\n    return a;\n  };\n\n  Ie.prototype.use = function (a, b) {\n    return this.handlers.push({\n      fulfilled: a,\n      rejected: b\n    }), this.handlers.length - 1;\n  };\n\n  Ie.prototype.eject = function (a) {\n    this.handlers[a] && (this.handlers[a] = null);\n  };\n\n  Ie.prototype.forEach = function (a) {\n    O.forEach(this.handlers, function (b) {\n      null !== b && a(b);\n    });\n  };\n\n  var Qi = Ie,\n      ih = function ih(a, b, c) {\n    return O.forEach(c, function (c) {\n      a = c(a, b);\n    }), a;\n  },\n      $l = function $l(a) {\n    return !(!a || !a.__CANCEL__);\n  },\n      am = function am(a, b) {\n    O.forEach(a, function (c, e) {\n      e !== b && e.toUpperCase() === b.toUpperCase() && (a[b] = c, delete a[e]);\n    });\n  },\n      tf = function tf(a, b, c, e, f) {\n    return function (a, b, c, e, f) {\n      return a.config = b, c && (a.code = c), a.request = e, a.response = f, a.isAxiosError = !0, a.toJSON = function () {\n        return {\n          message: this.message,\n          name: this.name,\n          description: this.description,\n          number: this.number,\n          fileName: this.fileName,\n          lineNumber: this.lineNumber,\n          columnNumber: this.columnNumber,\n          stack: this.stack,\n          config: this.config,\n          code: this.code\n        };\n      }, a;\n    }(Error(a), b, c, e, f);\n  },\n      Mq = \"age authorization content-length content-type etag expires from host if-modified-since if-unmodified-since last-modified location max-forwards proxy-authorization referer retry-after user-agent\".split(\" \"),\n      Nq = O.isStandardBrowserEnv() ? function () {\n    function a(a) {\n      return c && (e.setAttribute(\"href\", a), a = e.href), e.setAttribute(\"href\", a), {\n        href: e.href,\n        protocol: e.protocol ? e.protocol.replace(/:$/, \"\") : \"\",\n        host: e.host,\n        search: e.search ? e.search.replace(/^\\?/, \"\") : \"\",\n        hash: e.hash ? e.hash.replace(/^#/, \"\") : \"\",\n        hostname: e.hostname,\n        port: e.port,\n        pathname: \"/\" === e.pathname.charAt(0) ? e.pathname : \"/\" + e.pathname\n      };\n    }\n\n    var b,\n        c = /(msie|trident)/i.test(navigator.userAgent),\n        e = document.createElement(\"a\");\n    return b = a(window.location.href), function (c) {\n      c = O.isString(c) ? a(c) : c;\n      return c.protocol === b.protocol && c.host === b.host;\n    };\n  }() : function () {\n    return !0;\n  },\n      Oq = O.isStandardBrowserEnv() ? {\n    write: function write(a, b, c, e, f, h) {\n      var l = [];\n      l.push(a + \"=\" + encodeURIComponent(b));\n      O.isNumber(c) && l.push(\"expires=\" + new Date(c).toGMTString());\n      O.isString(e) && l.push(\"path=\" + e);\n      O.isString(f) && l.push(\"domain=\" + f);\n      !0 === h && l.push(\"secure\");\n      document.cookie = l.join(\"; \");\n    },\n    read: function read(a) {\n      return (a = document.cookie.match(new RegExp(\"(^|;\\\\s*)(\" + a + \")=([^;]*)\"))) ? decodeURIComponent(a[3]) : null;\n    },\n    remove: function remove(a) {\n      this.write(a, \"\", Date.now() - 864E5);\n    }\n  } : {\n    write: function write() {},\n    read: function read() {\n      return null;\n    },\n    remove: function remove() {}\n  },\n      Pq = function Pq(a) {\n    return new Promise(function (b, c) {\n      var e = a.data,\n          f = a.headers;\n      O.isFormData(e) && delete f[\"Content-Type\"];\n      var h = new XMLHttpRequest();\n      a.auth && (f.Authorization = \"Basic \" + btoa((a.auth.username || \"\") + \":\" + (a.auth.password || \"\")));\n\n      if (h.open(a.method.toUpperCase(), Zl(a.url, a.params, a.paramsSerializer), !0), h.timeout = a.timeout, h.onreadystatechange = function () {\n        if (h && 4 === h.readyState && (0 !== h.status || h.responseURL && 0 === h.responseURL.indexOf(\"file:\"))) {\n          var e,\n              f,\n              l,\n              k,\n              m,\n              n = \"getAllResponseHeaders\" in h ? (e = h.getAllResponseHeaders(), m = {}, e ? (O.forEach(e.split(\"\\n\"), function (a) {\n            (k = a.indexOf(\":\"), f = O.trim(a.substr(0, k)).toLowerCase(), l = O.trim(a.substr(k + 1)), !f) || m[f] && 0 <= Mq.indexOf(f) || (m[f] = \"set-cookie\" === f ? (m[f] ? m[f] : []).concat([l]) : m[f] ? m[f] + \", \" + l : l);\n          }), m) : m) : null;\n          !function (a, b, c) {\n            var e = c.config.validateStatus;\n            !e || e(c.status) ? a(c) : b(tf(\"Request failed with status code \" + c.status, c.config, null, c.request, c));\n          }(b, c, {\n            data: a.responseType && \"text\" !== a.responseType ? h.response : h.responseText,\n            status: h.status,\n            statusText: h.statusText,\n            headers: n,\n            config: a,\n            request: h\n          });\n          h = null;\n        }\n      }, h.onabort = function () {\n        h && (c(tf(\"Request aborted\", a, \"ECONNABORTED\", h)), h = null);\n      }, h.onerror = function () {\n        c(tf(\"Network Error\", a, null, h));\n        h = null;\n      }, h.ontimeout = function () {\n        c(tf(\"timeout of \" + a.timeout + \"ms exceeded\", a, \"ECONNABORTED\", h));\n        h = null;\n      }, O.isStandardBrowserEnv()) {\n        var l = (a.withCredentials || Nq(a.url)) && a.xsrfCookieName ? Oq.read(a.xsrfCookieName) : void 0;\n        l && (f[a.xsrfHeaderName] = l);\n      }\n\n      if (\"setRequestHeader\" in h && O.forEach(f, function (a, b) {\n        void 0 === e && \"content-type\" === b.toLowerCase() ? delete f[b] : h.setRequestHeader(b, a);\n      }), a.withCredentials && (h.withCredentials = !0), a.responseType) try {\n        h.responseType = a.responseType;\n      } catch (r) {\n        if (\"json\" !== a.responseType) throw r;\n      }\n      \"function\" == typeof a.onDownloadProgress && h.addEventListener(\"progress\", a.onDownloadProgress);\n      \"function\" == typeof a.onUploadProgress && h.upload && h.upload.addEventListener(\"progress\", a.onUploadProgress);\n      a.cancelToken && a.cancelToken.promise.then(function (a) {\n        h && (h.abort(), c(a), h = null);\n      });\n      void 0 === e && (e = null);\n      h.send(e);\n    });\n  },\n      Qq = {\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n  },\n      uf = {\n    adapter: function () {\n      var a;\n      return (\"undefined\" != typeof process && \"[object process]\" === Object.prototype.toString.call(process) || \"undefined\" != typeof XMLHttpRequest) && (a = Pq), a;\n    }(),\n    transformRequest: [function (a, b) {\n      return am(b, \"Accept\"), am(b, \"Content-Type\"), O.isFormData(a) || O.isArrayBuffer(a) || O.isBuffer(a) || O.isStream(a) || O.isFile(a) || O.isBlob(a) ? a : O.isArrayBufferView(a) ? a.buffer : O.isURLSearchParams(a) ? (Pi(b, \"application/x-www-form-urlencoded;charset=utf-8\"), a.toString()) : O.isObject(a) ? (Pi(b, \"application/json;charset=utf-8\"), JSON.stringify(a)) : a;\n    }],\n    transformResponse: [function (a) {\n      if (\"string\" == typeof a) try {\n        a = JSON.parse(a);\n      } catch (b) {}\n      return a;\n    }],\n    timeout: 0,\n    xsrfCookieName: \"XSRF-TOKEN\",\n    xsrfHeaderName: \"X-XSRF-TOKEN\",\n    maxContentLength: -1,\n    validateStatus: function validateStatus(a) {\n      return 200 <= a && 300 > a;\n    },\n    headers: {\n      common: {\n        Accept: \"application/json, text/plain, */*\"\n      }\n    }\n  };\n\n  O.forEach([\"delete\", \"get\", \"head\"], function (a) {\n    uf.headers[a] = {};\n  });\n  O.forEach([\"post\", \"put\", \"patch\"], function (a) {\n    uf.headers[a] = O.merge(Qq);\n  });\n\n  var Rq = function Rq(a) {\n    var b, c;\n    a.cancelToken && a.cancelToken.throwIfRequested();\n    return a.baseURL && !/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(a.url) && (a.url = (b = a.baseURL, (c = a.url) ? b.replace(/\\/+$/, \"\") + \"/\" + c.replace(/^\\/+/, \"\") : b)), a.headers = a.headers || {}, a.data = ih(a.data, a.headers, a.transformRequest), a.headers = O.merge(a.headers.common || {}, a.headers[a.method] || {}, a.headers || {}), O.forEach(\"delete get head post put patch common\".split(\" \"), function (b) {\n      delete a.headers[b];\n    }), (a.adapter || uf.adapter)(a).then(function (b) {\n      a.cancelToken && a.cancelToken.throwIfRequested();\n      return b.data = ih(b.data, b.headers, a.transformResponse), b;\n    }, function (b) {\n      $l(b) || (a.cancelToken && a.cancelToken.throwIfRequested(), b && b.response && (b.response.data = ih(b.response.data, b.response.headers, a.transformResponse)));\n      return Promise.reject(b);\n    });\n  },\n      jh = function jh(a, b) {\n    b = b || {};\n    var c = {};\n    return O.forEach([\"url\", \"method\", \"params\", \"data\"], function (a) {\n      void 0 !== b[a] && (c[a] = b[a]);\n    }), O.forEach([\"headers\", \"auth\", \"proxy\"], function (e) {\n      O.isObject(b[e]) ? c[e] = O.deepMerge(a[e], b[e]) : void 0 !== b[e] ? c[e] = b[e] : O.isObject(a[e]) ? c[e] = O.deepMerge(a[e]) : void 0 !== a[e] && (c[e] = a[e]);\n    }), O.forEach(\"baseURL transformRequest transformResponse paramsSerializer timeout withCredentials adapter responseType xsrfCookieName xsrfHeaderName onUploadProgress onDownloadProgress maxContentLength validateStatus maxRedirects httpAgent httpsAgent cancelToken socketPath\".split(\" \"), function (e) {\n      void 0 !== b[e] ? c[e] = b[e] : void 0 !== a[e] && (c[e] = a[e]);\n    }), c;\n  };\n\n  Ld.prototype.request = function (a, b) {\n    \"string\" == typeof a ? (a = b || {}).url = a : a = a || {};\n    (a = jh(this.defaults, a)).method = a.method ? a.method.toLowerCase() : \"get\";\n    var c = [Rq, void 0];\n    a = Promise.resolve(a);\n    this.interceptors.request.forEach(function (a) {\n      c.unshift(a.fulfilled, a.rejected);\n    });\n\n    for (this.interceptors.response.forEach(function (a) {\n      c.push(a.fulfilled, a.rejected);\n    }); c.length;) {\n      a = a.then(c.shift(), c.shift());\n    }\n\n    return a;\n  };\n\n  Ld.prototype.getUri = function (a) {\n    return a = jh(this.defaults, a), Zl(a.url, a.params, a.paramsSerializer).replace(/^\\?/, \"\");\n  };\n\n  O.forEach([\"delete\", \"get\", \"head\", \"options\"], function (a) {\n    Ld.prototype[a] = function (b, c) {\n      return this.request(O.merge(c || {}, {\n        method: a,\n        url: b\n      }));\n    };\n  });\n  O.forEach([\"post\", \"put\", \"patch\"], function (a) {\n    Ld.prototype[a] = function (b, c, e) {\n      return this.request(O.merge(e || {}, {\n        method: a,\n        url: b,\n        data: c\n      }));\n    };\n  });\n  var Ke = Ld;\n\n  Wf.prototype.toString = function () {\n    return \"Cancel\" + (this.message ? \": \" + this.message : \"\");\n  };\n\n  Wf.prototype.__CANCEL__ = !0;\n  var Ri = Wf;\n\n  Je.prototype.throwIfRequested = function () {\n    if (this.reason) throw this.reason;\n  };\n\n  Je.source = function () {\n    var a;\n    return {\n      token: new Je(function (b) {\n        a = b;\n      }),\n      cancel: a\n    };\n  };\n\n  var ec = Si(uf);\n  ec.Axios = Ke;\n\n  ec.create = function (a) {\n    return Si(jh(ec.defaults, a));\n  };\n\n  ec.Cancel = Ri;\n  ec.CancelToken = Je;\n  ec.isCancel = $l;\n\n  ec.all = function (a) {\n    return Promise.all(a);\n  };\n\n  ec.spread = function (a) {\n    return function (b) {\n      return a.apply(null, b);\n    };\n  };\n\n  var $b = ec.default = ec;\n\n  var Kb = {\n    DEBUG: 0,\n    INFO: 1,\n    WARNING: 2,\n    ERROR: 3,\n    NONE: 4\n  },\n      bm = x(),\n      cm = function cm(a) {\n    for (var _b11 in Kb) {\n      if (Object.prototype.hasOwnProperty.call(Kb, _b11) && Kb[_b11] === a) return _b11;\n    }\n\n    return \"DEFAULT\";\n  },\n      k = new (\n  /*#__PURE__*/\n  function () {\n    function _class() {\n      _classCallCheck(this, _class);\n\n      this.logLevel = Kb.DEBUG;\n      this.uploadState = \"collecting\";\n      this.uploadLogWaitingList = [];\n      this.uploadLogUploadingList = [];\n      this.currentLogID = this.uploadErrorCount = 0;\n    }\n\n    _createClass(_class, [{\n      key: \"debug\",\n      value: function debug() {\n        for (var _len8 = arguments.length, a = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n          a[_key8] = arguments[_key8];\n        }\n\n        var b;\n        a = m(b = [Kb.DEBUG]).call(b, a);\n        this.log.apply(this, a);\n      }\n    }, {\n      key: \"info\",\n      value: function info() {\n        for (var _len9 = arguments.length, a = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n          a[_key9] = arguments[_key9];\n        }\n\n        var b;\n        a = m(b = [Kb.INFO]).call(b, a);\n        this.log.apply(this, a);\n      }\n    }, {\n      key: \"warning\",\n      value: function warning() {\n        for (var _len10 = arguments.length, a = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n          a[_key10] = arguments[_key10];\n        }\n\n        var b;\n        a = m(b = [Kb.WARNING]).call(b, a);\n        this.log.apply(this, a);\n      }\n    }, {\n      key: \"error\",\n      value: function error() {\n        for (var _len11 = arguments.length, a = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n          a[_key11] = arguments[_key11];\n        }\n\n        var b;\n        a = m(b = [Kb.ERROR]).call(b, a);\n        this.log.apply(this, a);\n      }\n    }, {\n      key: \"setLogLevel\",\n      value: function setLogLevel(a) {\n        this.logLevel = a = Math.min(Math.max(0, a), 4);\n      }\n    }, {\n      key: \"enableLogUpload\",\n      value: function enableLogUpload() {\n        eb(\"UPLOAD_LOG\", !0);\n      }\n    }, {\n      key: \"disableLogUpload\",\n      value: function disableLogUpload() {\n        eb(\"UPLOAD_LOG\", !1);\n        this.uploadLogUploadingList = [];\n        this.uploadLogWaitingList = [];\n      }\n    }, {\n      key: \"setProxyServer\",\n      value: function setProxyServer(a) {\n        this.proxyServerURL = a;\n      }\n    }, {\n      key: \"log\",\n      value: function log() {\n        var _this22 = this;\n\n        for (var _len12 = arguments.length, a = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n          a[_key12] = arguments[_key12];\n        }\n\n        var b, c, e, f;\n        if (100 > x() - bm) return void wb(function () {\n          _this22.log.apply(_this22, a);\n        }, x() - bm);\n        var h = Math.max(0, Math.min(4, a[0]));\n\n        if (!(a[0] = Ui() + \" Agora-SDK [\".concat(cm(h), \"]:\"), this.appendLogToWaitingList(h, a), h < this.logLevel)) {\n          var l = Ui() + \" %cAgora-SDK [\".concat(cm(h), \"]:\"),\n              r = [];\n\n          switch (h) {\n            case Kb.DEBUG:\n              r = m(b = [l, \"color: #64B5F6;\"]).call(b, Ma(a).call(a, 1));\n              console.log.apply(console, r);\n              break;\n\n            case Kb.INFO:\n              r = m(c = [l, \"color: #1E88E5; font-weight: bold;\"]).call(c, Ma(a).call(a, 1));\n              console.log.apply(console, r);\n              break;\n\n            case Kb.WARNING:\n              r = m(e = [l, \"color: #FB8C00; font-weight: bold;\"]).call(e, Ma(a).call(a, 1));\n              console.warn.apply(console, r);\n              break;\n\n            case Kb.ERROR:\n              r = m(f = [l, \"color: #B00020; font-weight: bold;\"]).call(f, Ma(a).call(a, 1)), console.error.apply(console, r);\n          }\n        }\n      }\n    }, {\n      key: \"appendLogToWaitingList\",\n      value: function appendLogToWaitingList(a) {\n        if (v.UPLOAD_LOG) {\n          var c = \"\";\n\n          for (var _len13 = arguments.length, b = new Array(_len13 > 1 ? _len13 - 1 : 0), _key13 = 1; _key13 < _len13; _key13++) {\n            b[_key13 - 1] = arguments[_key13];\n          }\n\n          t(b).call(b, function (a) {\n            \"object\" == typeof a && (a = A(a));\n            c += \"\".concat(a, \" \");\n          });\n          this.uploadLogWaitingList.push({\n            payload_str: c,\n            log_level: a,\n            log_item_id: this.currentLogID++\n          });\n          \"uploading\" === this.uploadState && 0 === this.uploadLogUploadingList.length && this.uploadLogInterval();\n        }\n      }\n    }, {\n      key: \"startUpload\",\n      value: function startUpload() {\n        this.uploadState = \"uploading\";\n        0 === this.uploadLogUploadingList.length && this.uploadLogInterval();\n      }\n    }, {\n      key: \"uploadLogs\",\n      value: function () {\n        var _uploadLogs = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee8() {\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  b = {\n                    sdk_version: ob,\n                    process_id: v.PROCESS_ID,\n                    payload: A(this.uploadLogUploadingList)\n                  };\n                  _context8.next = 3;\n                  return $b.post(this.url || (this.proxyServerURL ? m(a = \"https://\".concat(this.proxyServerURL, \"/ls/?h=\")).call(a, v.LOG_UPLOAD_SERVER, \"&p=443&d=upload/v1\") : \"https://\".concat(v.LOG_UPLOAD_SERVER, \"/upload/v1\")), b, {\n                    responseType: \"text\"\n                  });\n\n                case 3:\n                  b = _context8.sent;\n\n                  if (!(\"OK\" !== b.data)) {\n                    _context8.next = 6;\n                    break;\n                  }\n\n                  throw Error(\"unexpected upload log response: \" + b.data);\n\n                case 6:\n                  this.uploadLogUploadingList = [];\n\n                case 7:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8, this);\n        }));\n\n        function uploadLogs() {\n          return _uploadLogs.apply(this, arguments);\n        }\n\n        return uploadLogs;\n      }()\n    }, {\n      key: \"uploadLogInterval\",\n      value: function uploadLogInterval() {\n        var _this23 = this;\n\n        if (0 !== this.uploadLogUploadingList.length || 0 !== this.uploadLogWaitingList.length) {\n          var a;\n          0 === this.uploadLogUploadingList.length && (this.uploadLogUploadingList = Ra(a = this.uploadLogWaitingList).call(a, 0, 10));\n          this.uploadLogs().then(function () {\n            _this23.uploadErrorCount = 0;\n            0 < _this23.uploadLogWaitingList.length && window.setTimeout(function () {\n              return _this23.uploadLogInterval();\n            }, 3E3);\n          }).catch(function (a) {\n            _this23.uploadErrorCount += 1;\n            2 > _this23.uploadErrorCount ? window.setTimeout(function () {\n              return _this23.uploadLogInterval();\n            }, 200) : window.setTimeout(function () {\n              return _this23.uploadLogInterval();\n            }, 1E3);\n          });\n        }\n      }\n    }]);\n\n    return _class;\n  }())();\n\n  var q =\n  /*#__PURE__*/\n  function () {\n    function q(a) {\n      var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      var c = arguments.length > 2 ? arguments[2] : undefined;\n\n      _classCallCheck(this, q);\n\n      var e;\n      this.name = \"AgoraRTCException\";\n      this.code = a;\n      this.message = m(e = \"AgoraRTCError \".concat(this.code, \": \")).call(e, b);\n      this.data = c;\n    }\n\n    _createClass(q, [{\n      key: \"toString\",\n      value: function toString() {\n        var a;\n        return this.data ? m(a = \"\".concat(this.message, \" data: \")).call(a, A(this.data)) : this.message;\n      }\n    }, {\n      key: \"print\",\n      value: function print() {\n        var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"error\";\n        return \"error\" === a && k.error(this.toString()), \"warning\" === a && k.warning(this.toString()), this;\n      }\n    }, {\n      key: \"throw\",\n      value: function _throw() {\n        throw this.print(), this;\n      }\n    }]);\n\n    return q;\n  }();\n\n  var dm, Qa;\n  !function (a) {\n    a.FREE = \"free\";\n    a.UPLOADING = \"uploading\";\n  }(dm || (dm = {}));\n\n  (function (a) {\n    a.NONE = \"none\";\n    a.INIT = \"init\";\n    a.CANPLAY = \"canplay\";\n    a.PLAYING = \"playing\";\n    a.PAUSED = \"paused\";\n    a.SUSPEND = \"suspend\";\n    a.STALLED = \"stalled\";\n    a.WAITING = \"waiting\";\n    a.ERROR = \"error\";\n    a.DESTROYED = \"destroyed\";\n    a.ABORT = \"abort\";\n    a.ENDED = \"ended\";\n    a.EMPTIED = \"emptied\";\n  })(Qa || (Qa = {}));\n\n  L({\n    target: \"Number\",\n    stat: !0\n  }, {\n    MAX_SAFE_INTEGER: 9007199254740991\n  });\n  L({\n    target: \"Number\",\n    stat: !0\n  }, {\n    MIN_SAFE_INTEGER: -9007199254740991\n  });\n  var Sq = {\n    sid: \"\",\n    lts: 0,\n    success: null,\n    cname: null,\n    uid: null,\n    peer: null,\n    cid: null,\n    elapse: null,\n    extend: null,\n    vid: 0\n  };\n  var Ta, sa, em, D, C, Sc, qc, hd, ie, rb, Ua, F, R, kb, Da, T, ia, Lb, fa, E, Mb;\n  !function (a) {\n    a.PUBLISH = \"publish\";\n    a.SUBSCRIBE = \"subscribe\";\n    a.SESSION_INIT = \"session_init\";\n    a.JOIN_CHOOSE_SERVER = \"join_choose_server\";\n    a.REQ_USER_ACCOUNT = \"req_user_account\";\n    a.JOIN_GATEWAY = \"join_gateway\";\n    a.STREAM_SWITCH = \"stream_switch\";\n    a.REQUEST_PROXY_WORKER_MANAGER = \"request_proxy_worker_manager\";\n    a.REQUEST_PROXY_APPCENTER = \"request_proxy_appcenter\";\n    a.FIRST_VIDEO_RECEIVED = \"first_video_received\";\n    a.FIRST_AUDIO_RECEIVED = \"first_audio_received\";\n    a.FIRST_VIDEO_DECODE = \"first_video_decode\";\n    a.FIRST_AUDIO_DECODE = \"first_audio_decode\";\n    a.ON_ADD_AUDIO_STREAM = \"on_add_audio_stream\";\n    a.ON_ADD_VIDEO_STREAM = \"on_add_video_stream\";\n    a.ON_UPDATE_STREAM = \"on_update_stream\";\n    a.ON_REMOVE_STREAM = \"on_remove_stream\";\n    a.USER_ANALYTICS = \"req_user_analytics\";\n  }(Ta || (Ta = {}));\n\n  (function (a) {\n    a.SESSION = \"io.agora.pb.Wrtc.Session\";\n    a.JOIN_CHOOSE_SERVER = \"io.agora.pb.Wrtc.JoinChooseServer\";\n    a.REQ_USER_ACCOUNT = \"io.agora.pb.Wrtc.ReqUserAccount\";\n    a.JOIN_GATEWAT = \"io.agora.pb.Wrtc.JoinGateway\";\n    a.PUBLISH = \"io.agora.pb.Wrtc.Publish\";\n    a.SUBSCRIBE = \"io.agora.pb.Wrtc.Subscribe\";\n    a.STREAM_SWITCH = \"io.agora.pb.Wrtc.StreamSwitch\";\n    a.AUDIO_SENDING_STOPPED = \"io.agora.pb.Wrtc.AudioSendingStopped\";\n    a.VIDEO_SENDING_STOPPED = \"io.agora.pb.Wrtc.VideoSendingStopped\";\n    a.REQUEST_PROXY_APPCENTER = \"io.agora.pb.Wrtc.RequestProxyAppCenter\";\n    a.REQUEST_PROXY_WORKER_MANAGER = \"io.agora.pb.Wrtc.RequestProxyWorkerManager\";\n    a.API_INVOKE = \"io.agora.pb.Wrtc.ApiInvoke\";\n    a.FIRST_VIDEO_RECEIVED = \"io.agora.pb.Wrtc.FirstVideoReceived\";\n    a.FIRST_AUDIO_RECEIVED = \"io.agora.pb.Wrtc.FirstAudioReceived\";\n    a.FIRST_VIDEO_DECODE = \"io.agora.pb.Wrtc.FirstVideoDecode\";\n    a.FIRST_AUDIO_DECODE = \"io.agora.pb.Wrtc.FirstAudioDecode\";\n    a.ON_ADD_AUDIO_STREAM = \"io.agora.pb.Wrtc.OnAddAudioStream\";\n    a.ON_ADD_VIDEO_STREAM = \"io.agora.pb.Wrtc.OnAddVideoStream\";\n    a.ON_UPDATE_STREAM = \"io.agora.pb.Wrtc.OnUpdateStream\";\n    a.ON_REMOVE_STREAM = \"io.agora.pb.Wrtc.OnRemoveStream\";\n    a.JOIN_CHANNEL_TIMEOUT = \"io.agora.pb.Wrtc.JoinChannelTimeout\";\n    a.PEER_PUBLISH_STATUS = \"io.agora.pb.Wrtc.PeerPublishStatus\";\n    a.WORKER_EVENT = \"io.agora.pb.Wrtc.WorkerEvent\";\n    a.AP_WORKER_EVENT = \"io.agora.pb.Wrtc.APWorkerEvent\";\n    a.JOIN_WEB_PROXY_AP = \"io.agora.pb.Wrtc.JoinWebProxyAP\";\n    a.WEBSOCKET_QUIT = \"io.agora.pb.Wrtc.WebSocketQuit\";\n    a.USER_ANALYTICS = \"io.agora.pb.Wrtc.UserAnalytics\";\n  })(sa || (sa = {}));\n\n  (function (a) {\n    a[a.WORKER_EVENT = 156] = \"WORKER_EVENT\";\n    a[a.AP_WORKER_EVENT = 160] = \"AP_WORKER_EVENT\";\n  })(em || (em = {}));\n\n  (function (a) {\n    a.CREATE_CLIENT = \"createClient\";\n    a.CHECK_SYSTEM_REQUIREMENTS = \"checkSystemRequirements\";\n    a.SET_AREA = \"setArea\";\n    a.CHECK_VIDEO_TRACK_IS_ACTIVE = \"checkVideoTrackIsActive\";\n    a.CHECK_AUDIO_TRACK_IS_ACTIVE = \"checkAudioTrackIsActive\";\n    a.CREATE_MIC_AUDIO_TRACK = \"createMicrophoneAudioTrack\";\n    a.CREATE_CUSTOM_AUDIO_TRACK = \"createCustomAudioTrack\";\n    a.CREATE_BUFFER_AUDIO_TRACK = \"createBufferSourceAudioTrack\";\n    a.CREATE_CAM_VIDEO_TRACK = \"createCameraVideoTrack\";\n    a.CREATE_CUSTOM_VIDEO_TRACK = \"createCustomVideoTrack\";\n    a.CREATE_MIC_AND_CAM_TRACKS = \"createMicrophoneAndCameraTracks\";\n    a.CREATE_SCREEN_VIDEO_TRACK = \"createScreenVideoTrack\";\n    a.SET_ENCRYPTION_CONFIG = \"Client.setEncryptionConfig\";\n    a.START_PROXY_SERVER = \"Client.startProxyServer\";\n    a.STOP_PROXY_SERVER = \"Client.stopProxyServer\";\n    a.SET_PROXY_SERVER = \"Client.setProxyServer\";\n    a.SET_TURN_SERVER = \"Client.setTurnServer\";\n    a.SET_CLIENT_ROLE = \"Client.setClientRole\";\n    a.SET_LOW_STREAM_PARAMETER = \"Client.setLowStreamParameter\";\n    a.ENABLE_DUAL_STREAM = \"Client.enableDualStream\";\n    a.DISABLE_DUAL_STREAM = \"Client.disableDualStream\";\n    a.JOIN = \"Client.join\";\n    a.LEAVE = \"Client.leave\";\n    a.PUBLISH = \"Client.publish\";\n    a.UNPUBLISH = \"Client.unpublish\";\n    a.SUBSCRIBE = \"Client.subscribe\";\n    a.UNSUBSCRIBE = \"Client.unsubscribe\";\n    a.RENEW_TOKEN = \"Client.renewToken\";\n    a.SET_REMOTE_VIDEO_STREAM_TYPE = \"Client.setRemoteVideoStreamType\";\n    a.SET_STREAM_FALLBACK_OPTION = \"Client.setStreamFallbackOption\";\n    a.ENABLE_AUDIO_VOLUME_INDICATOR = \"Client.enableAudioVolumeIndicator\";\n    a.SEND_CUSTOM_REPORT_MESSAGE = \"Client.sendCustomReportMessage\";\n    a.ON_LIVE_STREAM_WARNING = \"Client.onLiveStreamWarning\";\n    a.ON_LIVE_STREAM_ERROR = \"Client.onLiveStreamingError\";\n    a.START_LIVE_STREAMING = \"Client.startLiveStreaming\";\n    a.SET_LIVE_TRANSCODING = \"Client.setLiveTranscoding\";\n    a.STOP_LIVE_STREAMING = \"Client.stopLiveStreaming\";\n    a.ADD_INJECT_STREAM_URL = \"Client.addInjectStreamUrl\";\n    a.REMOVE_INJECT_STREAM_URL = \"Client.removeInjectStreamUrl\";\n    a.START_CHANNEL_MEDIA_RELAY = \"Client.startChannelMediaRelay\";\n    a.UPDATE_CHANNEL_MEDIA_RELAY = \"Client.updateChannelMediaRelay\";\n    a.STOP_CHANNEL_MEDIA_RELAY = \"Client.stopChannelMediaRelay\";\n    a.REQUEST_CONFIG_DISTRIBUTE = \"_config-distribute-request\";\n    a.SET_CONFIG_DISTRIBUTE = \"_configDistribute\";\n    a.LOCAL_TRACK_SET_MUTED = \"LocalTrack.setMute\";\n    a.LOCAL_AUDIO_TRACK_PLAY = \"LocalAudioTrack.play\";\n    a.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT = \"LocalAudioTrack.playInElement\";\n    a.LOCAL_AUDIO_TRACK_STOP = \"LocalAudioTrack.stop\";\n    a.LOCAL_AUDIO_TRACK_SET_VOLUME = \"LocalAudioTrack.setVolume\";\n    a.MIC_AUDIO_TRACK_SET_DEVICE = \"MicrophoneAudioTrack.setDevice\";\n    a.BUFFER_AUDIO_TRACK_START = \"BufferSourceAudioTrack.startProcessAudioBuffer\";\n    a.BUFFER_AUDIO_TRACK_STOP = \"BufferSourceAudioTrack.stopProcessAudioBuffer\";\n    a.BUFFER_AUDIO_TRACK_PAUSE = \"BufferSourceAudioTrack.pauseProcessAudioBuffer\";\n    a.BUFFER_AUDIO_TRACK_RESUME = \"BufferSourceAudioTrack.resumeProcessAudioBuffer\";\n    a.BUFFER_AUDIO_TRACK_SEEK = \"BufferSourceAudioTrack.seekAudioBuffer\";\n    a.LOCAL_VIDEO_TRACK_PLAY = \"LocalVideoTrack.play\";\n    a.LOCAL_VIDEO_TRACK_STOP = \"LocalVideoTrack.stop\";\n    a.LOCAL_VIDEO_TRACK_BEAUTY = \"LocalVideoTrack.setBeautyEffect\";\n    a.CAM_VIDEO_TRACK_SET_DEVICE = \"CameraVideoTrack.setDevice\";\n    a.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG = \"CameraVideoTrack.setEncoderConfiguration\";\n    a.REMOTE_VIDEO_TRACK_PLAY = \"RemoteVideoTrack.play\";\n    a.REMOTE_VIDEO_TRACK_STOP = \"RemoteVideoTrack.stop\";\n    a.REMOTE_AUDIO_TRACK_PLAY = \"RemoteAudioTrack.play\";\n    a.REMOTE_AUDIO_TRACK_STOP = \"RemoteAudioTrack.stop\";\n    a.REMOTE_AUDIO_SET_VOLUME = \"RemoteAudioTrack.setVolume\";\n    a.REMOTE_AUDIO_SET_OUTPUT_DEVICE = \"RemoteAudioTrack.setOutputDevice\";\n    a.GET_MEDIA_STREAM_TRACK = \"Track.getMediaStreamTrack\";\n    a.STREAM_TYPE_CHANGE = \"streamTypeChange\";\n  })(D || (D = {}));\n\n  (C || (C = {})).TRACER = \"tracer\";\n\n  (function (a) {\n    a.IDLE = \"IDLE\";\n    a.INITING = \"INITING\";\n    a.INITEND = \"INITEND\";\n  })(Sc || (Sc = {}));\n\n  (function (a) {\n    a.STATE_CHANGE = \"state_change\";\n    a.RECORDING_DEVICE_CHANGED = \"recordingDeviceChanged\";\n    a.PLAYOUT_DEVICE_CHANGED = \"playoutDeviceChanged\";\n    a.CAMERA_DEVICE_CHANGED = \"cameraDeviceChanged\";\n  })(qc || (qc = {}));\n\n  (function (a) {\n    a[a.ACCESS_POINT = 101] = \"ACCESS_POINT\";\n    a[a.UNILBS = 201] = \"UNILBS\";\n    a[a.STRING_UID_ALLOCATOR = 901] = \"STRING_UID_ALLOCATOR\";\n  })(hd || (hd = {}));\n\n  (function (a) {\n    a[a.IIIEGAL_APPID = 1] = \"IIIEGAL_APPID\";\n    a[a.IIIEGAL_UID = 2] = \"IIIEGAL_UID\";\n    a[a.INTERNAL_ERROR = 3] = \"INTERNAL_ERROR\";\n  })(ie || (ie = {}));\n\n  (function (a) {\n    a[a.INVALID_VENDOR_KEY = 5] = \"INVALID_VENDOR_KEY\";\n    a[a.INVALID_CHANNEL_NAME = 7] = \"INVALID_CHANNEL_NAME\";\n    a[a.INTERNAL_ERROR = 8] = \"INTERNAL_ERROR\";\n    a[a.NO_AUTHORIZED = 9] = \"NO_AUTHORIZED\";\n    a[a.DYNAMIC_KEY_TIMEOUT = 10] = \"DYNAMIC_KEY_TIMEOUT\";\n    a[a.NO_ACTIVE_STATUS = 11] = \"NO_ACTIVE_STATUS\";\n    a[a.DYNAMIC_KEY_EXPIRED = 13] = \"DYNAMIC_KEY_EXPIRED\";\n    a[a.STATIC_USE_DYNAMIC_KEY = 14] = \"STATIC_USE_DYNAMIC_KEY\";\n    a[a.DYNAMIC_USE_STATIC_KEY = 15] = \"DYNAMIC_USE_STATIC_KEY\";\n    a[a.USER_OVERLOAD = 16] = \"USER_OVERLOAD\";\n    a[a.FORBIDDEN_REGION = 18] = \"FORBIDDEN_REGION\";\n    a[a.CANNOT_MEET_AREA_DEMAND = 19] = \"CANNOT_MEET_AREA_DEMAND\";\n  })(rb || (rb = {}));\n\n  (function (a) {\n    a[a.NO_FLAG_SET = 100] = \"NO_FLAG_SET\";\n    a[a.FLAG_SET_BUT_EMPTY = 101] = \"FLAG_SET_BUT_EMPTY\";\n    a[a.INVALID_FALG_SET = 102] = \"INVALID_FALG_SET\";\n    a[a.NO_SERVICE_AVAILABLE = 200] = \"NO_SERVICE_AVAILABLE\";\n    a[a.NO_SERVICE_AVAILABLE_P2P = 201] = \"NO_SERVICE_AVAILABLE_P2P\";\n    a[a.NO_SERVICE_AVAILABLE_VOICE = 202] = \"NO_SERVICE_AVAILABLE_VOICE\";\n    a[a.NO_SERVICE_AVAILABLE_WEBRTC = 203] = \"NO_SERVICE_AVAILABLE_WEBRTC\";\n    a[a.NO_SERVICE_AVAILABLE_CDS = 204] = \"NO_SERVICE_AVAILABLE_CDS\";\n    a[a.NO_SERVICE_AVAILABLE_CDN = 205] = \"NO_SERVICE_AVAILABLE_CDN\";\n    a[a.NO_SERVICE_AVAILABLE_TDS = 206] = \"NO_SERVICE_AVAILABLE_TDS\";\n    a[a.NO_SERVICE_AVAILABLE_REPORT = 207] = \"NO_SERVICE_AVAILABLE_REPORT\";\n    a[a.NO_SERVICE_AVAILABLE_APP_CENTER = 208] = \"NO_SERVICE_AVAILABLE_APP_CENTER\";\n    a[a.NO_SERVICE_AVAILABLE_ENV0 = 209] = \"NO_SERVICE_AVAILABLE_ENV0\";\n    a[a.NO_SERVICE_AVAILABLE_VOET = 210] = \"NO_SERVICE_AVAILABLE_VOET\";\n    a[a.NO_SERVICE_AVAILABLE_STRING_UID = 211] = \"NO_SERVICE_AVAILABLE_STRING_UID\";\n    a[a.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS = 212] = \"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\";\n    a[a.NO_SERVICE_AVAILABLE_UNILBS_FLV = 213] = \"NO_SERVICE_AVAILABLE_UNILBS_FLV\";\n  })(Ua || (Ua = {}));\n\n  (function (a) {\n    a[a.K_TIMESTAMP_EXPIRED = 2] = \"K_TIMESTAMP_EXPIRED\";\n    a[a.K_CHANNEL_PERMISSION_INVALID = 3] = \"K_CHANNEL_PERMISSION_INVALID\";\n    a[a.K_CERTIFICATE_INVALID = 4] = \"K_CERTIFICATE_INVALID\";\n    a[a.K_CHANNEL_NAME_EMPTY = 5] = \"K_CHANNEL_NAME_EMPTY\";\n    a[a.K_CHANNEL_NOT_FOUND = 6] = \"K_CHANNEL_NOT_FOUND\";\n    a[a.K_TICKET_INVALID = 7] = \"K_TICKET_INVALID\";\n    a[a.K_CHANNEL_CONFLICTED = 8] = \"K_CHANNEL_CONFLICTED\";\n    a[a.K_SERVICE_NOT_READY = 9] = \"K_SERVICE_NOT_READY\";\n    a[a.K_SERVICE_TOO_HEAVY = 10] = \"K_SERVICE_TOO_HEAVY\";\n    a[a.K_UID_BANNED = 14] = \"K_UID_BANNED\";\n    a[a.K_IP_BANNED = 15] = \"K_IP_BANNED\";\n    a[a.K_CHANNEL_BANNED = 16] = \"K_CHANNEL_BANNED\";\n    a[a.WARN_NO_AVAILABLE_CHANNEL = 103] = \"WARN_NO_AVAILABLE_CHANNEL\";\n    a[a.WARN_LOOKUP_CHANNEL_TIMEOUT = 104] = \"WARN_LOOKUP_CHANNEL_TIMEOUT\";\n    a[a.WARN_LOOKUP_CHANNEL_REJECTED = 105] = \"WARN_LOOKUP_CHANNEL_REJECTED\";\n    a[a.WARN_OPEN_CHANNEL_TIMEOUT = 106] = \"WARN_OPEN_CHANNEL_TIMEOUT\";\n    a[a.WARN_OPEN_CHANNEL_REJECTED = 107] = \"WARN_OPEN_CHANNEL_REJECTED\";\n    a[a.WARN_REQUEST_DEFERRED = 108] = \"WARN_REQUEST_DEFERRED\";\n    a[a.ERR_DYNAMIC_KEY_TIMEOUT = 109] = \"ERR_DYNAMIC_KEY_TIMEOUT\";\n    a[a.ERR_NO_AUTHORIZED = 110] = \"ERR_NO_AUTHORIZED\";\n    a[a.ERR_VOM_SERVICE_UNAVAILABLE = 111] = \"ERR_VOM_SERVICE_UNAVAILABLE\";\n    a[a.ERR_NO_CHANNEL_AVAILABLE_CODE = 112] = \"ERR_NO_CHANNEL_AVAILABLE_CODE\";\n    a[a.ERR_MASTER_VOCS_UNAVAILABLE = 114] = \"ERR_MASTER_VOCS_UNAVAILABLE\";\n    a[a.ERR_INTERNAL_ERROR = 115] = \"ERR_INTERNAL_ERROR\";\n    a[a.ERR_NO_ACTIVE_STATUS = 116] = \"ERR_NO_ACTIVE_STATUS\";\n    a[a.ERR_INVALID_UID = 117] = \"ERR_INVALID_UID\";\n    a[a.ERR_DYNAMIC_KEY_EXPIRED = 118] = \"ERR_DYNAMIC_KEY_EXPIRED\";\n    a[a.ERR_STATIC_USE_DYANMIC_KE = 119] = \"ERR_STATIC_USE_DYANMIC_KE\";\n    a[a.ERR_DYNAMIC_USE_STATIC_KE = 120] = \"ERR_DYNAMIC_USE_STATIC_KE\";\n    a[a.ERR_NO_VOCS_AVAILABLE = 2E3] = \"ERR_NO_VOCS_AVAILABLE\";\n    a[a.ERR_NO_VOS_AVAILABLE = 2001] = \"ERR_NO_VOS_AVAILABLE\";\n    a[a.ERR_JOIN_CHANNEL_TIMEOUT = 2002] = \"ERR_JOIN_CHANNEL_TIMEOUT\";\n    a[a.ERR_REPEAT_JOIN_CHANNEL = 2003] = \"ERR_REPEAT_JOIN_CHANNEL\";\n    a[a.ERR_JOIN_BY_MULTI_IP = 2004] = \"ERR_JOIN_BY_MULTI_IP\";\n    a[a.ERR_NOT_JOINED = 2011] = \"ERR_NOT_JOINED\";\n    a[a.ERR_REPEAT_JOIN_REQUEST = 2012] = \"ERR_REPEAT_JOIN_REQUEST\";\n    a[a.ERR_INVALID_VENDOR_KEY = 2013] = \"ERR_INVALID_VENDOR_KEY\";\n    a[a.ERR_INVALID_CHANNEL_NAME = 2014] = \"ERR_INVALID_CHANNEL_NAME\";\n    a[a.ERR_INVALID_STRINGUID = 2015] = \"ERR_INVALID_STRINGUID\";\n    a[a.ERR_TOO_MANY_USERS = 2016] = \"ERR_TOO_MANY_USERS\";\n    a[a.ERR_SET_CLIENT_ROLE_TIMEOUT = 2017] = \"ERR_SET_CLIENT_ROLE_TIMEOUT\";\n    a[a.ERR_SET_CLIENT_ROLE_NO_PERMISSION = 2018] = \"ERR_SET_CLIENT_ROLE_NO_PERMISSION\";\n    a[a.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE = 2019] = \"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\";\n    a[a.ERR_PUBLISH_REQUEST_INVALID = 2020] = \"ERR_PUBLISH_REQUEST_INVALID\";\n    a[a.ERR_SUBSCRIBE_REQUEST_INVALID = 2021] = \"ERR_SUBSCRIBE_REQUEST_INVALID\";\n    a[a.ERR_NOT_SUPPORTED_MESSAGE = 2022] = \"ERR_NOT_SUPPORTED_MESSAGE\";\n    a[a.ERR_ILLEAGAL_PLUGIN = 2023] = \"ERR_ILLEAGAL_PLUGIN\";\n    a[a.ERR_REJOIN_TOKEN_INVALID = 2024] = \"ERR_REJOIN_TOKEN_INVALID\";\n    a[a.ERR_REJOIN_USER_NOT_JOINED = 2025] = \"ERR_REJOIN_USER_NOT_JOINED\";\n    a[a.ERR_INVALID_OPTIONAL_INFO = 2027] = \"ERR_INVALID_OPTIONAL_INFO\";\n    a[a.ILLEGAL_AES_PASSWORD = 2028] = \"ILLEGAL_AES_PASSWORD\";\n    a[a.ILLEGAL_CLIENT_ROLE_LEVEL = 2029] = \"ILLEGAL_CLIENT_ROLE_LEVEL\";\n    a[a.ERR_TEST_RECOVER = 9E3] = \"ERR_TEST_RECOVER\";\n    a[a.ERR_TEST_TRYNEXT = 9001] = \"ERR_TEST_TRYNEXT\";\n    a[a.ERR_TEST_RETRY = 9002] = \"ERR_TEST_RETRY\";\n  })(F || (F = {}));\n\n  (function (a) {\n    a.CONNECTION_STATE_CHANGE = \"connection-state-change\";\n    a.MEDIA_RECONNECT_START = \"media-reconnect-start\";\n    a.MEDIA_RECONNECT_END = \"media-reconnect-end\";\n    a.IS_USING_CLOUD_PROXY = \"is-using-cloud-proxy\";\n    a.USER_JOINED = \"user-joined\";\n    a.USER_LEAVED = \"user-left\";\n    a.USER_PUBLISHED = \"user-published\";\n    a.USER_UNPUBLISHED = \"user-unpublished\";\n    a.USER_INFO_UPDATED = \"user-info-updated\";\n    a.CLIENT_BANNED = \"client-banned\";\n    a.CHANNEL_MEDIA_RELAY_STATE = \"channel-media-relay-state\";\n    a.CHANNEL_MEDIA_RELAY_EVENT = \"channel-media-relay-event\";\n    a.VOLUME_INDICATOR = \"volume-indicator\";\n    a.CRYPT_ERROR = \"crypt-error\";\n    a.ON_TOKEN_PRIVILEGE_WILL_EXPIRE = \"token-privilege-will-expire\";\n    a.ON_TOKEN_PRIVILEGE_DID_EXPIRE = \"token-privilege-did-expire\";\n    a.NETWORK_QUALITY = \"network-quality\";\n    a.STREAM_TYPE_CHANGED = \"stream-type-changed\";\n    a.STREAM_FALLBACK = \"stream-fallback\";\n    a.RECEIVE_METADATA = \"receive-metadata\";\n    a.STREAM_MESSAGE = \"stream-message\";\n    a.LIVE_STREAMING_ERROR = \"live-streaming-error\";\n    a.LIVE_STREAMING_WARNING = \"live-streaming-warning\";\n    a.INJECT_STREAM_STATUS = \"stream-inject-status\";\n    a.EXCEPTION = \"exception\";\n    a.ERROR = \"error\";\n    a.P2P_LOST = \"p2p_lost\";\n  })(R || (R = {}));\n\n  (function (a) {\n    a.NETWORK_ERROR = \"NETWORK_ERROR\";\n    a.SERVER_ERROR = \"SERVER_ERROR\";\n    a.MULTI_IP = \"MULTI_IP\";\n    a.TIMEOUT = \"TIMEOUT\";\n    a.OFFLINE = \"OFFLINE\";\n    a.LEAVE = \"LEAVE\";\n  })(kb || (kb = {}));\n\n  (function (a) {\n    a.CONNECTING = \"connecting\";\n    a.CONNECTED = \"connected\";\n    a.RECONNECTING = \"reconnecting\";\n    a.CLOSED = \"closed\";\n  })(Da || (Da = {}));\n\n  (function (a) {\n    a.WS_CONNECTED = \"ws_connected\";\n    a.WS_RECONNECTING = \"ws_reconnecting\";\n    a.WS_CLOSED = \"ws_closed\";\n    a.ON_BINARY_DATA = \"on_binary_data\";\n    a.REQUEST_RECOVER = \"request_recover\";\n    a.REQUEST_JOIN_INFO = \"request_join_info\";\n    a.REQUEST_REJOIN_INFO = \"req_rejoin_info\";\n    a.IS_P2P_DISCONNECTED = \"is_p2p_dis\";\n    a.DISCONNECT_P2P = \"dis_p2p\";\n    a.NEED_RENEW_SESSION = \"need-sid\";\n    a.REPORT_JOIN_GATEWAY = \"report_join_gateway\";\n    a.REQUEST_TIMEOUT = \"request_timeout\";\n    a.REQUEST_SUCCESS = \"request_success\";\n  })(T || (T = {}));\n\n  (function (a) {\n    a.PING = \"ping\";\n    a.PING_BACK = \"ping_back\";\n    a.JOIN = \"join_v2\";\n    a.REJOIN = \"rejoin\";\n    a.LEAVE = \"leave\";\n    a.SET_CLIENT_ROLE = \"set_client_role\";\n    a.PUBLISH = \"publish\";\n    a.UNPUBLISH = \"unpublish\";\n    a.SUBSCRIBE = \"subscribe\";\n    a.UNSUBSCRIBE = \"unsubscribe\";\n    a.SUBSCRIBE_CHANGE = \"subscribe_change\";\n    a.TRAFFIC_STATS = \"traffic_stats\";\n    a.RENEW_TOKEN = \"renew_token\";\n    a.SWITCH_VIDEO_STREAM = \"switch_video_stream\";\n    a.SET_FALLBACK_OPTION = \"set_fallback_option\";\n    a.GATEWAY_INFO = \"gateway_info\";\n    a.CONTROL = \"control\";\n    a.SEND_METADATA = \"send_metadata\";\n    a.DATA_STREAM = \"data_stream\";\n    a.PICK_SVC_LAYER = \"pick_svc_layer\";\n  })(ia || (ia = {}));\n\n  (function (a) {\n    a.PUBLISH_STATS = \"publish_stats\";\n    a.PUBLISH_RELATED_STATS = \"publish_related_stats\";\n    a.SUBSCRIBE_STATS = \"subscribe_stats\";\n    a.SUBSCRIBE_RELATED_STATS = \"subscribe_related_stats\";\n    a.WS_INFLATE_DATA_LENGTH = \"ws_inflate_data_length\";\n  })(Lb || (Lb = {}));\n\n  (function (a) {\n    a.ON_USER_ONLINE = \"on_user_online\";\n    a.ON_USER_OFFLINE = \"on_user_offline\";\n    a.ON_STREAM_FALLBACK_UPDATE = \"on_stream_fallback_update\";\n    a.ON_PUBLISH_STREAM = \"on_publish_stream\";\n    a.ON_UPLINK_STATS = \"on_uplink_stats\";\n    a.ON_P2P_LOST = \"on_p2p_lost\";\n    a.ON_REMOVE_STREAM = \"on_remove_stream\";\n    a.ON_ADD_AUDIO_STREAM = \"on_add_audio_stream\";\n    a.ON_ADD_VIDEO_STREAM = \"on_add_video_stream\";\n    a.ON_TOKEN_PRIVILEGE_WILL_EXPIRE = \"on_token_privilege_will_expire\";\n    a.ON_TOKEN_PRIVILEGE_DID_EXPIRE = \"on_token_privilege_did_expire\";\n    a.ON_USER_BANNED = \"on_user_banned\";\n    a.ON_NOTIFICATION = \"on_notification\";\n    a.ON_CRYPT_ERROR = \"on_crypt_error\";\n    a.MUTE_AUDIO = \"mute_audio\";\n    a.MUTE_VIDEO = \"mute_video\";\n    a.UNMUTE_AUDIO = \"unmute_audio\";\n    a.UNMUTE_VIDEO = \"unmute_video\";\n    a.RECEIVE_METADATA = \"receive_metadata\";\n    a.ON_DATA_STREAM = \"on_data_stream\";\n    a.ENABLE_LOCAL_VIDEO = \"enable_local_video\";\n    a.DISABLE_LOCAL_VIDEO = \"disable_local_video\";\n    a.ENABLE_LOCAL_AUDIO = \"enable_local_audio\";\n    a.DISABLE_LOCAL_AUDIO = \"disable_local_audio\";\n  })(fa || (fa = {}));\n\n  (function (a) {\n    a.CONNECTION_STATE_CHANGE = \"CONNECTION_STATE_CHANGE\";\n    a.NEED_ANSWER = \"NEED_ANSWER\";\n    a.NEED_RENEGOTIATE = \"NEED_RENEGOTIATE\";\n    a.P2P_LOST = \"P2P_LOST\";\n    a.GATEWAY_P2P_LOST = \"GATEWAY_P2P_LOST\";\n    a.NEED_UNPUB = \"NEED_UNPUB\";\n    a.NEED_UNSUB = \"NEED_UNSUB\";\n    a.NEED_UPLOAD = \"NEED_UPLOAD\";\n    a.NEED_CONTROL = \"NEED_CONTROL\";\n    a.START_RECONNECT = \"START_RECONNECT\";\n    a.END_RECONNECT = \"END_RECONNECT\";\n    a.NEED_SIGNAL_RTT = \"NEED_SIGNAL_RTT\";\n  })(E || (E = {}));\n\n  (function (a) {\n    a.AUDIO_SOURCE_STATE_CHANGE = \"audio_source_state_change\";\n    a.RECEIVE_TRACK_BUFFER = \"receive_track_buffer\";\n    a.ON_AUDIO_BUFFER = \"on_audio_buffer\";\n  })(Mb || (Mb = {}));\n\n  var vf = {\n    sendVolumeLevel: 0,\n    sendBitrate: 0,\n    sendBytes: 0,\n    sendPackets: 0,\n    sendPacketsLost: 0,\n    currentPacketLossRate: 0\n  },\n      wf = {\n    sendBytes: 0,\n    sendBitrate: 0,\n    sendPackets: 0,\n    sendPacketsLost: 0,\n    sendResolutionHeight: 0,\n    sendResolutionWidth: 0,\n    captureResolutionHeight: 0,\n    captureResolutionWidth: 0,\n    targetSendBitrate: 0,\n    totalDuration: 0,\n    totalFreezeTime: 0,\n    currentPacketLossRate: 0\n  },\n      kh = {\n    transportDelay: 0,\n    end2EndDelay: 0,\n    receiveBitrate: 0,\n    receiveLevel: 0,\n    receiveBytes: 0,\n    receiveDelay: 0,\n    receivePackets: 0,\n    receivePacketsLost: 0,\n    totalDuration: 0,\n    totalFreezeTime: 0,\n    freezeRate: 0,\n    packetLossRate: 0,\n    currentPacketLossRate: 0,\n    publishDuration: -1\n  },\n      fm = {\n    uplinkNetworkQuality: 0,\n    downlinkNetworkQuality: 0\n  },\n      lh = {\n    transportDelay: 0,\n    end2EndDelay: 0,\n    receiveBitrate: 0,\n    receiveBytes: 0,\n    receiveDelay: 0,\n    receivePackets: 0,\n    receivePacketsLost: 0,\n    receiveResolutionHeight: 0,\n    receiveResolutionWidth: 0,\n    totalDuration: 0,\n    totalFreezeTime: 0,\n    freezeRate: 0,\n    packetLossRate: 0,\n    currentPacketLossRate: 0,\n    publishDuration: -1\n  };\n  var ea, ua;\n  !function (a) {\n    a.CONNECTED = \"websocket:connected\";\n    a.RECONNECTING = \"websocket:reconnecting\";\n    a.WILL_RECONNECT = \"websocket:will_reconnect\";\n    a.CLOSED = \"websocket:closed\";\n    a.FAILED = \"websocket:failed\";\n    a.ON_MESSAGE = \"websocket:on_message\";\n    a.REQUEST_NEW_URLS = \"websocket:request_new_urls\";\n  }(ea || (ea = {}));\n\n  (function (a) {\n    a.TRANSCODE = \"mix_streaming\";\n    a.RAW = \"raw_streaming\";\n    a.INJECT = \"inject_streaming\";\n  })(ua || (ua = {}));\n\n  var Tq = {\n    alpha: 1,\n    height: 640,\n    width: 360,\n    x: 0,\n    y: 0,\n    zOrder: 0,\n    audioChannel: 0\n  },\n      mh = {\n    x: 0,\n    y: 0,\n    width: 160,\n    height: 160,\n    zOrder: 255,\n    alpha: 1\n  },\n      Uq = {\n    audioBitrate: 48,\n    audioChannels: 1,\n    audioSampleRate: 48E3,\n    backgroundColor: 0,\n    height: 360,\n    lowLatency: !1,\n    videoBitrate: 400,\n    videoCodecProfile: 100,\n    videoCodecType: 1,\n    videoFrameRate: 15,\n    videoGop: 30,\n    width: 640,\n    images: [],\n    userConfigs: [],\n    userConfigExtraInfo: \"\"\n  },\n      Vq = {\n    audioBitrate: 48,\n    audioChannels: 2,\n    audioVolume: 100,\n    audioSampleRate: 48E3,\n    height: 0,\n    width: 0,\n    videoBitrate: 400,\n    videoFramerate: 15,\n    videoGop: 30\n  };\n  var Nb, Ad, oa, gm, Va, Ja, G, Yb, Tc, je;\n  !function (a) {\n    a.WARNING = \"@live_uap-warning\";\n    a.ERROR = \"@line_uap-error\";\n    a.PUBLISH_STREAM_STATUS = \"@live_uap-publish-status\";\n    a.INJECT_STREAM_STATUS = \"@live_uap-inject-status\";\n    a.WORKER_STATUS = \"@live_uap-worker-status\";\n    a.REQUEST_NEW_ADDRESS = \"@live_uap-request-address\";\n  }(Nb || (Nb = {}));\n  (Ad || (Ad = {})).REQUEST_WORKER_MANAGER_LIST = \"@live_req_worker_manager\";\n\n  (function (a) {\n    a[a.LIVE_STREAM_RESPONSE_SUCCEED = 200] = \"LIVE_STREAM_RESPONSE_SUCCEED\";\n    a[a.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM = 454] = \"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\";\n    a[a.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR = 450] = \"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\";\n    a[a.LIVE_STREAM_RESPONSE_BAD_STREAM = 451] = \"LIVE_STREAM_RESPONSE_BAD_STREAM\";\n    a[a.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR = 400] = \"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\";\n    a[a.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST = 404] = \"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\";\n    a[a.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED = 456] = \"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\";\n    a[a.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE = 457] = \"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\";\n    a[a.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN = 429] = \"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\";\n    a[a.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH = 452] = \"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\";\n    a[a.LIVE_STREAM_RESPONSE_NOT_SUPPORTED = 453] = \"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\";\n    a[a.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM = 455] = \"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\";\n    a[a.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR = 500] = \"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\";\n    a[a.LIVE_STREAM_RESPONSE_WORKER_LOST = 501] = \"LIVE_STREAM_RESPONSE_WORKER_LOST\";\n    a[a.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT = 502] = \"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\";\n    a[a.LIVE_STREAM_RESPONSE_WORKER_QUIT = 503] = \"LIVE_STREAM_RESPONSE_WORKER_QUIT\";\n    a[a.ERROR_FAIL_SEND_MESSAGE = 504] = \"ERROR_FAIL_SEND_MESSAGE\";\n    a[a.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE = 30] = \"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\";\n    a[a.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT = 31] = \"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\";\n    a[a.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH = 32] = \"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\";\n    a[a.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN = 33] = \"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\";\n  })(oa || (oa = {}));\n\n  (function (a) {\n    a.CONNECT_FAILED = \"connect failed\";\n    a.CONNECT_TIMEOUT = \"connect timeout\";\n    a.WS_DISCONNECTED = \"websocket disconnected\";\n    a.REQUEST_TIMEOUT = \"request timeout\";\n    a.REQUEST_FAILED = \"request failed\";\n    a.WAIT_STATUS_TIMEOUT = \"wait status timeout\";\n    a.WAIT_STATUS_ERROR = \"wait status error\";\n    a.BAD_STATE = \"bad state\";\n    a.WS_ABORT = \"ws abort\";\n    a.AP_REQUEST_TIMEOUT = \"AP request timeout\";\n    a.AP_JSON_PARSE_ERROR = \"AP json parse error\";\n    a.AP_REQUEST_ERROR = \"AP request error\";\n    a.AP_REQUEST_ABORT = \"AP request abort\";\n  })(gm || (gm = {}));\n\n  (function (a) {\n    a[a.SetSdkProfile = 0] = \"SetSdkProfile\";\n    a[a.SetSourceChannel = 1] = \"SetSourceChannel\";\n    a[a.SetSourceUserId = 2] = \"SetSourceUserId\";\n    a[a.SetDestChannel = 3] = \"SetDestChannel\";\n    a[a.StartPacketTransfer = 4] = \"StartPacketTransfer\";\n    a[a.StopPacketTransfer = 5] = \"StopPacketTransfer\";\n    a[a.UpdateDestChannel = 6] = \"UpdateDestChannel\";\n    a[a.Reconnect = 7] = \"Reconnect\";\n    a[a.SetVideoProfile = 8] = \"SetVideoProfile\";\n  })(Va || (Va = {}));\n\n  (function (a) {\n    a.DISCONNECT = \"disconnect\";\n    a.CONNECTION_STATE_CHANGE = \"connection-state-change\";\n    a.NETWORK_QUALITY = \"network-quality\";\n    a.STREAM_TYPE_CHANGE = \"stream-type-change\";\n    a.IS_P2P_DISCONNECTED = \"is-p2p-dis\";\n    a.DISCONNECT_P2P = \"dis-p2p\";\n    a.REQUEST_NEW_GATEWAY_LIST = \"req-gate-url\";\n    a.NEED_RENEW_SESSION = \"need-sid\";\n  })(Ja || (Ja = {}));\n\n  (function (a) {\n    a.NEED_RENEGOTIATE = \"@need_renegotiate\";\n    a.NEED_REPLACE_TRACK = \"@need_replace_track\";\n    a.NEED_CLOSE = \"@need_close\";\n    a.NEED_ADD_TRACK = \"@need_add_track\";\n    a.NEED_REMOVE_TRACK = \"@need_remove_track\";\n    a.NEED_SESSION_ID = \"@need_sid\";\n    a.SET_OPTIMIZATION_MODE = \"@set_optimization_mode\";\n    a.GET_STATS = \"@get_stats\";\n    a.GET_LOW_VIDEO_TRACK = \"@get_low_video_track\";\n    a.NEED_RESET_REMOTE_SDP = \"@need_reset_remote_sdp\";\n    a.SET_VIDEO_TRACK_MUTED = \"@set_video_track_muted\";\n    a.SET_AUDIO_TRACK_MUTED = \"@set_audio_track_muted\";\n  })(G || (G = {}));\n\n  (function (a) {\n    a.SCREEN_TRACK = \"screen_track\";\n    a.LOW_STREAM = \"low_stream\";\n  })(Yb || (Yb = {}));\n\n  (function (a) {\n    a.SOURCE_STATE_CHANGE = \"source-state-change\";\n    a.TRACK_ENDED = \"track-ended\";\n    a.BEAUTY_EFFECT_OVERLOAD = \"beauty-effect-overload\";\n  })(Tc || (Tc = {}));\n\n  (je || (je = {})).FIRST_FRAME_DECODED = \"first-frame-decoded\";\n  var hm = \"AFRICA ASIA CHINA EUROPE GLOBAL INDIA JAPAN NORTH_AMERICA OCEANIA OVERSEA SOUTH_AMERICA\".split(\" \");\n  var Ka;\n  !function (a) {\n    a.CHINA = \"CN\";\n    a.ASIA = \"AS\";\n    a.NORTH_AMERICA = \"NA\";\n    a.EUROPE = \"EU\";\n    a.JAPAN = \"JP\";\n    a.INDIA = \"IN\";\n    a.OCEANIA = \"OC\";\n    a.SOUTH_AMERICA = \"SA\";\n    a.AFRICA = \"AF\";\n    a.OVERSEA = \"OVERSEA\";\n    a.GLOBAL = \"GLOBAL\";\n  }(Ka || (Ka = {}));\n  var nh = {\n    CHINA: {},\n    ASIA: {\n      CODE: Ka.ASIA,\n      WEBCS_DOMAIN: [\"ap-web-1-asia.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-asia.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-asia.agora.io\"],\n      CDS_AP: [\"cds-ap-web-asia.agora.io\", \"cds-ap-web-asia2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-asia.agora.io\", \"sua-ap-web-asia2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-asia.agora.io\", \"uap-ap-web-asia2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-asia.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-asia.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-asia.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    NORTH_AMERICA: {\n      CODE: Ka.NORTH_AMERICA,\n      WEBCS_DOMAIN: [\"ap-web-1-north-america.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-north-america.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-america.agora.io\"],\n      CDS_AP: [\"cds-ap-web-america.agora.io\", \"cds-ap-web-america2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-america.agora.io\", \"sua-ap-web-america2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-america.agora.io\", \"uap-ap-web-america2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-north-america.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-north-america.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-north-america.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    EUROPE: {\n      CODE: Ka.EUROPE,\n      WEBCS_DOMAIN: [\"ap-web-1-europe.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-europe.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-europe.agora.io\"],\n      CDS_AP: [\"cds-ap-web-europe.agora.io\", \"cds-ap-web-europe2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-europe.agora.io\", \"sua-ap-web-europe.agora.io\"],\n      UAP_AP: [\"uap-ap-web-europe.agora.io\", \"uap-ap-web-europe2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-europe.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-europe.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-europe.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"europe.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    JAPAN: {\n      CODE: Ka.JAPAN,\n      WEBCS_DOMAIN: [\"ap-web-1-japan.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-japan.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-japan.agora.io\"],\n      CDS_AP: [\"cds-ap-web-japan.agora.io\", \"cds-ap-web-japan2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-japan.agora.io\", \"sua-ap-web-japan2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-japan.agora.io\", \"\\tuap-ap-web-japan2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-japan.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-japan.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-japan.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"japan.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    INDIA: {\n      CODE: Ka.INDIA,\n      WEBCS_DOMAIN: [\"ap-web-1-india.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-india.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-india.agora.io\"],\n      CDS_AP: [\"cds-ap-web-india.agora.io\", \"cds-ap-web-india2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-india.agora.io\", \"sua-ap-web-india2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-india.agora.io\", \"uap-ap-web-india2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-india.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-india.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-india.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"india.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    OVERSEA: {\n      CODE: Ka.OVERSEA,\n      WEBCS_DOMAIN: [\"ap-web-1-oversea.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-oversea.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-oversea.agora.io\"],\n      CDS_AP: [\"cds-ap-web-oversea.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-oversea.agora.io\"],\n      UAP_AP: [\"uap-ap-web-oversea.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-oversea.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-oversea.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-oversea.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"webrtc-cloud-proxy.agora.io\"]\n    },\n    GLOBAL: {\n      CODE: Ka.GLOBAL,\n      WEBCS_DOMAIN: [\"webrtc2-ap-web-1.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"webrtc2-ap-web-3.agora.io\"],\n      PROXY_CS: [\"ap-proxy-1.agora.io\", \"ap-proxy-2.agora.io\"],\n      CDS_AP: [\"cds-ap-web-1.agora.io\", \"cds-ap-web-3.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-1.agora.io\", \"sua-ap-web-3.agora.io\"],\n      UAP_AP: [\"uap-ap-web-1.agora.io\", \"uap-ap-web-3.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    OCEANIA: {\n      CODE: Ka.OCEANIA,\n      WEBCS_DOMAIN: [\"ap-web-1-oceania.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-oceania.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-oceania.agora.io\"],\n      CDS_AP: [\"cds-ap-web-oceania.agora.io\", \"cds-ap-web-oceania2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-oceania.agora.io\", \"sua-ap-web-oceania2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-oceania.agora.io\", \"uap-ap-web-oceania2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-oceania.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-oceania.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-oceania.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    SOUTH_AMERICA: {\n      CODE: Ka.SOUTH_AMERICA,\n      WEBCS_DOMAIN: [\"ap-web-1-south-america.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-south-america.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-south-america.agora.io\"],\n      CDS_AP: [\"cds-ap-web-south-america.agora.io\", \"cds-ap-web-south-america2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-south-america.agora.io\", \"sua-ap-web-south-america2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-south-america.agora.io\", \"uap-ap-web-south-america2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-south-america.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-south-america.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-south-america.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    AFRICA: {\n      CODE: Ka.AFRICA,\n      WEBCS_DOMAIN: [\"ap-web-1-africa.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-africa.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-africa.agora.io\"],\n      CDS_AP: [\"cds-ap-web-africa.agora.io\", \"cds-ap-web-africa2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-africa.agora.io\", \"sua-ap-web-africa2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-africa.agora.io\", \"uap-ap-web-africa2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-africa.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-africa.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-south-africa.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"africa.webrtc-cloud-proxy.sd-rtn.com\"]\n    }\n  };\n  var ke, Gb, Bd;\n  gh && (nh.CHINA = {\n    CODE: Ka.CHINA,\n    WEBCS_DOMAIN: [\"webrtc2-2.ap.sd-rtn.com\"],\n    WEBCS_DOMAIN_BACKUP_LIST: [\"webrtc2-4.ap.sd-rtn.com\"],\n    PROXY_CS: [\"proxy-web.ap.sd-rtn.com\"],\n    CDS_AP: [\"cds-web-2.ap.sd-rtn.com\", \"cds-web-4.ap.sd-rtn.com\"],\n    ACCOUNT_REGISTER: [\"sua-web-2.ap.sd-rtn.com\", \"sua-web-4.ap.sd-rtn.com\"],\n    UAP_AP: [\"uap-web-2.ap.sd-rtn.com\", \"uap-web-4.ap.sd-rtn.com\"],\n    EVENT_REPORT_DOMAIN: [\"web-3.statscollector.sd-rtn.com\"],\n    EVENT_REPORT_BACKUP_DOMAIN: [\"web-4.statscollector.sd-rtn.com\"],\n    LOG_UPLOAD_SERVER: [\"logservice-china.agora.io\"],\n    PROXY_SERVER_TYPE3: [\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]\n  });\n  (ke || (ke = {})).UPDATE_BITRATE_LIMIT = \"update_bitrate_limit\";\n\n  (function (a) {\n    a.ONLINE = \"ONLINE\";\n    a.OFFLINE = \"OFFLINE\";\n  })(Gb || (Gb = {}));\n\n  (function (a) {\n    a.NETWORK_STATE_CHANGE = \"NETWORK_STATE_CHANGE\";\n    a.ONLINE = \"ONLINE\";\n    a.OFFLINE = \"OFFLINE\";\n  })(Bd || (Bd = {}));\n\n  var Wq = {\n    join: [\"startJoin\", \"startRequestAp\", \"startJoinGateway\", \"finishJoin\"],\n    publish: [\"startPublish\"]\n  },\n      la = {\n    getDisplayMedia: !1,\n    getStreamFromExtension: !1,\n    supportUnifiedPlan: !1,\n    supportMinBitrate: !1,\n    supportSetRtpSenderParameters: !1,\n    supportDualStream: !0,\n    webAudioMediaStreamDest: !1,\n    supportReplaceTrack: !1,\n    supportWebGL: !1,\n    webAudioWithAEC: !1,\n    supportRequestFrame: !1,\n    supportShareAudio: !1,\n    supportDualStreamEncoding: !1\n  };\n  L({\n    target: \"Object\",\n    stat: !0,\n    forced: !na,\n    sham: !na\n  }, {\n    defineProperties: Eg\n  });\n\n  var hb = ub(function (a) {\n    var b = ma.Object;\n\n    a = a.exports = function (a, e) {\n      return b.defineProperties(a, e);\n    };\n\n    b.defineProperties.sham && (a.sham = !0);\n  }),\n      Xq = hf.concat(\"length\", \"prototype\"),\n      oh = {\n    f: Object.getOwnPropertyNames || function (a) {\n      return Dk(a, Xq);\n    }\n  },\n      Yq = Xb(\"Reflect\", \"ownKeys\") || function (a) {\n    var b = oh.f($a(a)),\n        c = be.f;\n    return c ? b.concat(c(a)) : b;\n  };\n\n  L({\n    target: \"Object\",\n    stat: !0,\n    sham: !na\n  }, {\n    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(a) {\n      var b, c;\n      a = yb(a);\n\n      for (var e = md, f = Yq(a), h = {}, l = 0; f.length > l;) {\n        void 0 !== (c = e(a, b = f[l++])) && Lc(h, b, c);\n      }\n\n      return h;\n    }\n  });\n\n  var ka = ma.Object.getOwnPropertyDescriptors,\n      im = oh.f,\n      Zq = {}.toString,\n      jm = \"object\" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],\n      km = function km(a) {\n    if (jm && \"[object Window]\" == Zq.call(a)) try {\n      var b = im(a);\n    } catch (c) {\n      b = jm.slice();\n    } else b = im(yb(a));\n    return b;\n  },\n      lm = {\n    f: za\n  },\n      $q = Ib.f,\n      sb = ff(\"hidden\"),\n      mm = za(\"toPrimitive\"),\n      ar = Fa.set,\n      nm = Fa.getterFor(\"Symbol\"),\n      Zb = Object.prototype,\n      _Ab = N.Symbol,\n      le = Xb(\"JSON\", \"stringify\"),\n      om = md,\n      Cc = Ib.f,\n      pm = km,\n      br = We,\n      rc = mc(\"symbols\"),\n      me = mc(\"op-symbols\"),\n      ph = mc(\"string-to-symbol-registry\"),\n      qh = mc(\"symbol-to-string-registry\"),\n      cr = mc(\"wks\"),\n      rh = N.QObject,\n      sh = !rh || !rh.prototype || !rh.prototype.findChild,\n      th = na && ya(function () {\n    return 7 != Ac(Cc({}, \"a\", {\n      get: function get() {\n        return Cc(this, \"a\", {\n          value: 7\n        }).a;\n      }\n    })).a;\n  }) ? function (a, b, c) {\n    var e = om(Zb, b);\n    e && delete Zb[b];\n    Cc(a, b, c);\n    e && a !== Zb && Cc(Zb, b, e);\n  } : Cc,\n      qm = function qm(a, b) {\n    var c = rc[a] = Ac(_Ab.prototype);\n    return ar(c, {\n      type: \"Symbol\",\n      tag: a,\n      description: b\n    }), na || (c.description = b), c;\n  },\n      uh = dc && \"symbol\" == typeof _Ab.iterator ? function (a) {\n    return \"symbol\" == typeof a;\n  } : function (a) {\n    return Object(a) instanceof _Ab;\n  },\n      xf = function xf(a, b, c) {\n    a === Zb && xf(me, b, c);\n    $a(a);\n    b = kd(b, !0);\n    return $a(c), P(rc, b) ? (c.enumerable ? (P(a, sb) && a[sb][b] && (a[sb][b] = !1), c = Ac(c, {\n      enumerable: lc(0, !1)\n    })) : (P(a, sb) || Cc(a, sb, lc(1, {})), a[sb][b] = !0), th(a, b, c)) : Cc(a, b, c);\n  },\n      sm = function sm(a, b) {\n    $a(a);\n    var c = yb(b);\n    b = zc(c).concat(vh(c));\n    return td(b, function (b) {\n      na && !rm.call(c, b) || xf(a, b, c[b]);\n    }), a;\n  },\n      rm = function rm(a) {\n    a = kd(a, !0);\n    var b = br.call(this, a);\n    return !(this === Zb && P(rc, a) && !P(me, a)) && (!(b || !P(this, a) || !P(rc, a) || P(this, sb) && this[sb][a]) || b);\n  },\n      tm = function tm(a, b) {\n    a = yb(a);\n    b = kd(b, !0);\n\n    if (a !== Zb || !P(rc, b) || P(me, b)) {\n      var c = om(a, b);\n      return !c || !P(rc, b) || P(a, sb) && a[sb][b] || (c.enumerable = !0), c;\n    }\n  },\n      um = function um(a) {\n    a = pm(yb(a));\n    var b = [];\n    return td(a, function (a) {\n      P(rc, a) || P(pd, a) || b.push(a);\n    }), b;\n  },\n      vh = function vh(a) {\n    var b = a === Zb;\n    a = pm(b ? me : yb(a));\n    var c = [];\n    return td(a, function (a) {\n      !P(rc, a) || b && !P(Zb, a) || c.push(rc[a]);\n    }), c;\n  };\n\n  if (dc || (oc((_Ab = function Ab() {\n    if (this instanceof _Ab) throw TypeError(\"Symbol is not a constructor\");\n\n    var a = arguments.length && void 0 !== arguments[0] ? String(arguments[0]) : void 0,\n        b = af(a),\n        c = function c(a) {\n      this === Zb && c.call(me, a);\n      P(this, sb) && P(this[sb], b) && (this[sb][b] = !1);\n      th(this, b, lc(1, a));\n    };\n\n    return na && sh && th(Zb, b, {\n      configurable: !0,\n      set: c\n    }), qm(b, a);\n  }).prototype, \"toString\", function () {\n    return nm(this).tag;\n  }), We = rm, Ib.f = xf, md = tm, oh.f = km = um, be.f = vh, na && Cc(_Ab.prototype, \"description\", {\n    configurable: !0,\n    get: function get() {\n      return nm(this).description;\n    }\n  })), lk || (lm.f = function (a) {\n    return qm(za(a), a);\n  }), L({\n    global: !0,\n    wrap: !0,\n    forced: !dc,\n    sham: !dc\n  }, {\n    Symbol: _Ab\n  }), td(zc(cr), function (a) {\n    var b = ma.Symbol || (ma.Symbol = {});\n    P(b, a) || $q(b, a, {\n      value: lm.f(a)\n    });\n    !0;\n  }), L({\n    target: \"Symbol\",\n    stat: !0,\n    forced: !dc\n  }, {\n    for: function _for(a) {\n      a = String(a);\n      if (P(ph, a)) return ph[a];\n\n      var b = _Ab(a);\n\n      return ph[a] = b, qh[b] = a, b;\n    },\n    keyFor: function keyFor(a) {\n      if (!uh(a)) throw TypeError(a + \" is not a symbol\");\n      if (P(qh, a)) return qh[a];\n    },\n    useSetter: function useSetter() {\n      sh = !0;\n    },\n    useSimple: function useSimple() {\n      sh = !1;\n    }\n  }), L({\n    target: \"Object\",\n    stat: !0,\n    forced: !dc,\n    sham: !na\n  }, {\n    create: function create(a, b) {\n      return void 0 === b ? Ac(a) : sm(Ac(a), b);\n    },\n    defineProperty: xf,\n    defineProperties: sm,\n    getOwnPropertyDescriptor: tm\n  }), L({\n    target: \"Object\",\n    stat: !0,\n    forced: !dc\n  }, {\n    getOwnPropertyNames: um,\n    getOwnPropertySymbols: vh\n  }), L({\n    target: \"Object\",\n    stat: !0,\n    forced: ya(function () {\n      be.f(1);\n    })\n  }, {\n    getOwnPropertySymbols: function getOwnPropertySymbols(a) {\n      return be.f(Jb(a));\n    }\n  }), le) {\n    var dr = !dc || ya(function () {\n      var a = _Ab();\n\n      return \"[null]\" != le([a]) || \"{}\" != le({\n        a: a\n      }) || \"{}\" != le(Object(a));\n    });\n    L({\n      target: \"JSON\",\n      stat: !0,\n      forced: dr\n    }, {\n      stringify: function stringify(a, b, c) {\n        for (var e, f = [a], h = 1; arguments.length > h;) {\n          f.push(arguments[h++]);\n        }\n\n        if (e = b, (qa(b) || void 0 !== a) && !uh(a)) return Kc(b) || (b = function (_b12) {\n          function b(_x45, _x46) {\n            return _b12.apply(this, arguments);\n          }\n\n          b.toString = function () {\n            return _b12.toString();\n          };\n\n          return b;\n        }(function (a, b) {\n          if (\"function\" == typeof e && (b = e.call(this, a, b)), !uh(b)) return b;\n        })), f[1] = b, le.apply(null, f);\n      }\n    });\n  }\n\n  _Ab.prototype[mm] || Wb(_Ab.prototype, mm, _Ab.prototype.valueOf);\n  Mc(_Ab, \"Symbol\");\n  pd[sb] = !0;\n\n  var ja = ma.Object.getOwnPropertySymbols,\n      ib,\n      gb = function gb(a, b, c) {\n    return b in a ? Yk(a, b, {\n      value: c,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : a[b] = c, a;\n  };\n\n  !function (a) {\n    a[a.CHOOSE_SERVER = 11] = \"CHOOSE_SERVER\";\n    a[a.CLOUD_PROXY = 18] = \"CLOUD_PROXY\";\n    a[a.CLOUD_PROXY_5 = 20] = \"CLOUD_PROXY_5\";\n  }(ib || (ib = {}));\n\n  var er = Aa(\"Array\").values,\n      vm = Array.prototype,\n      fr = {\n    DOMTokenList: !0,\n    NodeList: !0\n  },\n      Uc = function Uc(a) {\n    var b = a.values;\n    return a === vm || a instanceof Array && b === vm.values || fr.hasOwnProperty(qd(a)) ? er : b;\n  },\n      Vc = function Vc(a) {\n    var b = Jb(a);\n    var c = \"function\" == typeof this ? this : Array;\n    var e = arguments.length;\n    var f = 1 < e ? arguments[1] : void 0,\n        h = void 0 !== f,\n        l = 0;\n    var r = ef(b);\n    if (h && (f = yc(f, 2 < e ? arguments[2] : void 0, 2)), null == r || c == Array && rk(r)) for (c = new c(e = zb(b.length)); e > l; l++) {\n      Lc(c, l, h ? f(b[l], l) : b[l]);\n    } else for (e = (b = r.call(b)).next, c = new c(); !(r = e.call(b)).done; l++) {\n      Lc(c, l, h ? tk(b, f, [r.value, l], !0) : r.value);\n    }\n    return c.length = l, c;\n  },\n      gr = !gl(function (a) {\n    Array.from(a);\n  });\n\n  L({\n    target: \"Array\",\n    stat: !0,\n    forced: gr\n  }, {\n    from: Vc\n  });\n  var Ub = ma.Array.from;\n\n  var Wa =\n  /*#__PURE__*/\n  function () {\n    function Wa() {\n      _classCallCheck(this, Wa);\n\n      this._events = {};\n      this.addListener = this.on;\n    }\n\n    _createClass(Wa, [{\n      key: \"getListeners\",\n      value: function getListeners(a) {\n        var b;\n        return this._events[a] ? z(b = this._events[a]).call(b, function (a) {\n          return a.listener;\n        }) : [];\n      }\n    }, {\n      key: \"on\",\n      value: function on(a, b) {\n        this._events[a] || (this._events[a] = []);\n        a = this._events[a];\n        -1 === this._indexOfListener(a, b) && a.push({\n          listener: b,\n          once: !1\n        });\n      }\n    }, {\n      key: \"once\",\n      value: function once(a, b) {\n        this._events[a] || (this._events[a] = []);\n        a = this._events[a];\n        -1 === this._indexOfListener(a, b) && a.push({\n          listener: b,\n          once: !0\n        });\n      }\n    }, {\n      key: \"off\",\n      value: function off(a, b) {\n        if (this._events[a]) {\n          var c = this._events[a];\n          b = this._indexOfListener(c, b);\n          -1 !== b && Ra(c).call(c, b, 1);\n          0 === this._events[a].length && delete this._events[a];\n        }\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners(a) {\n        a ? delete this._events[a] : this._events = {};\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(a) {\n        var c;\n        this._events[a] || (this._events[a] = []);\n        var e = z(c = this._events[a]).call(c, function (a) {\n          return a;\n        });\n\n        for (var _len14 = arguments.length, b = new Array(_len14 > 1 ? _len14 - 1 : 0), _key14 = 1; _key14 < _len14; _key14++) {\n          b[_key14 - 1] = arguments[_key14];\n        }\n\n        for (c = 0; c < e.length; c += 1) {\n          var _f2 = e[c];\n          _f2.once && this.off(a, _f2.listener);\n\n          _f2.listener.apply(this, b || []);\n        }\n      }\n    }, {\n      key: \"_indexOfListener\",\n      value: function _indexOfListener(a, b) {\n        var c = a.length;\n\n        for (; c--;) {\n          if (a[c].listener === b) return c;\n        }\n\n        return -1;\n      }\n    }]);\n\n    return Wa;\n  }();\n\n  var Me = 0,\n      ag = 0,\n      pb = new (\n  /*#__PURE__*/\n  function (_Wa) {\n    _inherits(_class2, _Wa);\n\n    function _class2() {\n      var _this24;\n\n      _classCallCheck(this, _class2);\n\n      _this24 = _possibleConstructorReturn(this, _getPrototypeOf(_class2).call(this));\n      _this24._moduleName = \"network-indicator\";\n      _this24._networkState = Gb.ONLINE;\n      window.addEventListener(\"online\", function () {\n        _this24.networkState = Gb.ONLINE;\n      });\n      window.addEventListener(\"offline\", function () {\n        _this24.networkState = Gb.OFFLINE;\n      });\n      return _this24;\n    }\n\n    _createClass(_class2, [{\n      key: \"networkState\",\n      set: function set(a) {\n        var _this25 = this;\n\n        k.info(\"[\".concat(this._moduleName, \"]\") + \"network state changed, \" + this._networkState + \" -> \" + a);\n        this.emit(Bd.NETWORK_STATE_CHANGE, a, this._networkState);\n        a === Gb.ONLINE ? this.emit(Bd.ONLINE) : a === Gb.OFFLINE && (this.onlineWaiter = new y(function (a) {\n          _this25.once(Bd.ONLINE, function () {\n            _this25.onlineWaiter = void 0;\n            a(Gb.ONLINE);\n          });\n        }), this.emit(Bd.OFFLINE));\n        this._networkState = a;\n      },\n      get: function get() {\n        return this._networkState;\n      }\n    }]);\n\n    return _class2;\n  }(Wa))(),\n      Ga = {\n    timeout: 500,\n    timeoutFactor: 1.5,\n    maxRetryCount: 1 / 0,\n    maxRetryTimeout: 1E4\n  },\n      u = new (\n  /*#__PURE__*/\n  function () {\n    function _class3() {\n      _classCallCheck(this, _class3);\n\n      var a, b;\n      this.baseInfoMap = new ba();\n      this.clientList = pc;\n      this.keyEventUploadPendingItems = [];\n      this.normalEventUploadPendingItems = [];\n      this.apiInvokeUploadPendingItems = [];\n      this.apiInvokeCount = 0;\n      this.ltsList = [];\n      this.lastSendNormalEventTime = x();\n      this.customReportCount = 0;\n      this.eventUploadTimer = window.setInterval(xa(a = this.doSend).call(a, this), v.EVENT_REPORT_SEND_INTERVAL);\n      this.setSessionIdTimer = window.setInterval(xa(b = this.appendSessionId).call(b, this), v.EVENT_REPORT_SEND_INTERVAL);\n    }\n\n    _createClass(_class3, [{\n      key: \"reportApiInvoke\",\n      value: function reportApiInvoke(a, b, c) {\n        var _this26 = this;\n\n        b.timeout = b.timeout || 6E4;\n        b.reportResult = void 0 === b.reportResult || b.reportResult;\n\n        var e = x(),\n            f = this.apiInvokeCount += 1,\n            h = function h() {\n          return {\n            tag: b.tag,\n            invokeId: f,\n            sid: a,\n            name: b.name,\n            apiInvokeTime: e,\n            options: b.options,\n            states: b.states || null\n          };\n        },\n            l = !!v.SHOW_REPORT_INVOKER_LOG;\n\n        l && k.info(\"\".concat(b.name, \" start\"), b.options);\n        var r = !1;\n        jb(b.timeout).then(function () {\n          r || (_this26.sendApiInvoke(Ea({}, h(), {\n            error: n.API_INVOKE_TIMEOUT,\n            success: !1\n          })), k.debug(\"\".concat(b.name, \" timeout\")));\n        });\n        var p = new q(n.UNEXPECTED_ERROR, \"\".concat(b.name, \": this api invoke is end\"));\n        return {\n          onSuccess: function onSuccess(a) {\n            var e = function e() {\n              if (r) throw p;\n              return r = !0, _this26.sendApiInvoke(Ea({}, h(), {\n                success: !0\n              }, b.reportResult && {\n                result: a\n              })), l && k.info(\"\".concat(b.name, \" onSuccess\")), a;\n            };\n\n            return c ? wm(e, b.name + \"Success\", c, function () {\n              return r = !0;\n            }) : e();\n          },\n          onError: function onError(a) {\n            var e = function e() {\n              if (r) throw a;\n              r = !0;\n\n              _this26.sendApiInvoke(Ea({}, h(), {\n                success: !1,\n                error: a.toString()\n              }));\n\n              l && k.info(\"\".concat(b.name, \" onFailure\"), a.toString());\n            };\n\n            return c ? wm(e, b.name + \"Error\", c, function () {\n              return r = !0;\n            }) : e();\n          }\n        };\n      }\n    }, {\n      key: \"sessionInit\",\n      value: function sessionInit(a, b) {\n        if (!this.baseInfoMap.has(a)) {\n          var c = x();\n          a = this.createBaseInfo(a, c);\n          a.cname = b.cname;\n          var e = Ya({}, {\n            willUploadConsoleLog: v.UPLOAD_LOG,\n            maxTouchPoints: navigator.maxTouchPoints,\n            areaVersion: gh ? \"global\" : \"oversea\",\n            areas: v.AREAS && v.AREAS.join(\",\")\n          }, b.extend),\n              f = x();\n          b = Ea({}, a, {\n            eventType: Ta.SESSION_INIT,\n            appid: b.appid,\n            browser: navigator.userAgent,\n            build: \"v4.7.3-0-g0eb931c7(11/16/2021, 7:57:58 PM)\",\n            lts: f,\n            elapse: f - c,\n            extend: A(e),\n            mode: b.mode,\n            process: v.PROCESS_ID,\n            success: !0,\n            version: ob\n          });\n          this.send({\n            type: sa.SESSION,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"joinChooseServer\",\n      value: function joinChooseServer(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            eventType: Ta.JOIN_CHOOSE_SERVER,\n            lts: e,\n            eventElapse: e - b.lts,\n            chooseServerAddr: b.csAddr,\n            errorCode: b.ec,\n            elapse: e - a.startTime,\n            success: b.succ,\n            chooseServerAddrList: A(b.serverList),\n            uid: b.uid ? wa(b.uid) : null,\n            cid: b.cid ? wa(b.cid) : null,\n            chooseServerIp: b.csIp || \"\",\n            opid: b.opid,\n            unilbsServerIds: b.unilbsServerIds,\n            extend: b.extend || void 0\n          });\n          this.send({\n            type: sa.JOIN_CHOOSE_SERVER,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"reqUserAccount\",\n      value: function reqUserAccount(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            eventType: Ta.REQ_USER_ACCOUNT,\n            lts: e,\n            success: b.success,\n            serverAddress: b.serverAddr,\n            stringUid: b.stringUid,\n            uid: b.uid,\n            errorCode: b.errorCode,\n            elapse: e - a.startTime,\n            eventElapse: e - b.lts,\n            extend: A(b.extend)\n          });\n          this.send({\n            type: sa.REQ_USER_ACCOUNT,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"joinGateway\",\n      value: function joinGateway(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info;\n          b.vid && (c.vid = b.vid);\n          c.uid = b.uid;\n          c.cid = b.cid;\n          var e = x();\n          c = Ea({}, c, {\n            eventType: Ta.JOIN_GATEWAY,\n            lts: e,\n            gatewayAddr: b.addr,\n            success: b.succ,\n            errorCode: b.ec,\n            elapse: e - a.startTime,\n            eventElapse: e - b.lts\n          });\n          b.succ && (a.lastJoinSuccessTime = e);\n          this.send({\n            type: sa.JOIN_GATEWAT,\n            data: c\n          }, !0);\n        }\n      }\n    }, {\n      key: \"joinChannelTimeout\",\n      value: function joinChannelTimeout(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = x();\n          b = Ea({}, a.info, {\n            lts: c,\n            timeout: b,\n            elapse: c - a.startTime\n          });\n          this.send({\n            type: sa.JOIN_CHANNEL_TIMEOUT,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"publish\",\n      value: function publish(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            eventType: Ta.PUBLISH,\n            lts: e,\n            eventElapse: e - b.lts,\n            elapse: e - a.startTime,\n            success: b.succ,\n            errorCode: b.ec,\n            videoName: b.videoName,\n            audioName: b.audioName,\n            screenName: b.screenName,\n            screenshare: b.screenshare,\n            audio: b.audio,\n            video: b.video,\n            p2pid: b.p2pid,\n            publishRequestid: b.publishRequestid\n          });\n          this.send({\n            type: sa.PUBLISH,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          a = Ea({}, c, {\n            eventType: Ta.SUBSCRIBE,\n            lts: e,\n            eventElapse: e - b.lts,\n            elapse: e - a.startTime,\n            success: b.succ,\n            errorCode: b.ec,\n            video: b.video,\n            audio: b.audio,\n            subscribeRequestid: b.subscribeRequestid,\n            p2pid: b.p2pid\n          });\n          \"string\" == typeof b.peerid ? a.peerSuid = b.peerid : a.peer = b.peerid;\n          this.send({\n            type: sa.SUBSCRIBE,\n            data: a\n          }, !0);\n        }\n      }\n    }, {\n      key: \"firstRemoteFrame\",\n      value: function firstRemoteFrame(a, b, c, e) {\n        if (a = this.baseInfoMap.get(a)) {\n          var f = a.info,\n              h = x();\n          b = Ea({}, f, {}, e, {\n            elapse: h - a.startTime,\n            eventType: b,\n            lts: h\n          });\n          this.send({\n            type: c,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"onGatewayStream\",\n      value: function onGatewayStream(a, b, c, e) {\n        if (a = this.baseInfoMap.get(a)) b = Ea({}, a.info, {}, e, {\n          eventType: b,\n          lts: x()\n        }), this.send({\n          type: c,\n          data: b\n        }, !0);\n      }\n    }, {\n      key: \"streamSwitch\",\n      value: function streamSwitch(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            eventType: Ta.STREAM_SWITCH,\n            lts: e,\n            isDual: b.isdual,\n            elapse: e - a.startTime,\n            success: b.succ\n          });\n          this.send({\n            type: sa.STREAM_SWITCH,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"requestProxyAppCenter\",\n      value: function requestProxyAppCenter(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            eventType: Ta.REQUEST_PROXY_APPCENTER,\n            lts: e,\n            eventElapse: e - b.lts,\n            elapse: e - a.startTime,\n            APAddr: b.APAddr,\n            workerManagerList: b.workerManagerList,\n            response: b.response,\n            errorCode: b.ec,\n            success: b.succ\n          });\n          this.send({\n            type: sa.REQUEST_PROXY_APPCENTER,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"requestProxyWorkerManager\",\n      value: function requestProxyWorkerManager(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            eventType: Ta.REQUEST_PROXY_WORKER_MANAGER,\n            lts: e,\n            eventElapse: e - b.lts,\n            elapse: e - a.startTime,\n            workerManagerAddr: b.workerManagerAddr,\n            response: b.response,\n            errorCode: b.ec,\n            success: b.succ\n          });\n          this.send({\n            type: sa.REQUEST_PROXY_WORKER_MANAGER,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"setProxyServer\",\n      value: function setProxyServer(a) {\n        (this.proxyServer = a) ? k.debug(\"reportProxyServerurl: \".concat(a)) : k.debug(\"disable reportProxyServerurl: \".concat(a));\n      }\n    }, {\n      key: \"peerPublishStatus\",\n      value: function peerPublishStatus(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {\n            subscribeElapse: b.subscribeElapse,\n            peer: b.peer,\n            peerPublishDuration: Math.max(b.audioPublishDuration, b.videoPublishDuration),\n            audiotag: 0 < b.audioPublishDuration ? 1 : -1,\n            videotag: 0 < b.videoPublishDuration ? 1 : -1,\n            lts: e,\n            elapse: e - a.startTime,\n            joinChannelSuccessElapse: e - (a.lastJoinSuccessTime || e)\n          });\n          this.send({\n            type: sa.PEER_PUBLISH_STATUS,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"workerEvent\",\n      value: function workerEvent(a, b) {\n        var _this27 = this;\n\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n\n          b = function (a, b, c) {\n            var e = a[b];\n            if (!e || \"string\" != typeof e) return [a];\n            a[b] = \"\";\n            var f = ed(A(a));\n            var h = 0;\n            var l = [];\n            var k = 0;\n\n            for (var r = 0; r < e.length; r++) {\n              k += 127 >= e.charCodeAt(r) ? 1 : 3, k <= c - f || (l[l.length] = hg({}, a, _defineProperty({}, b, e.substring(h, r))), h = r, k = 127 >= e.charCodeAt(r) ? 1 : 3);\n            }\n\n            h !== e.length - 1 && (l[l.length] = hg({}, a, _defineProperty({}, b, e.substring(h))));\n            return l;\n          }(Ea({}, c, {}, b, {\n            elapse: e - a.startTime,\n            lts: e,\n            productType: \"WebRTC\"\n          }), \"payload\", 1300);\n\n          t(b).call(b, function (a) {\n            return _this27.send({\n              type: sa.WORKER_EVENT,\n              data: a\n            }, !0);\n          });\n        }\n      }\n    }, {\n      key: \"apworkerEvent\",\n      value: function apworkerEvent(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {}, b, {\n            elapse: e - a.startTime,\n            lts: e\n          });\n          this.send({\n            type: sa.AP_WORKER_EVENT,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"joinWebProxyAP\",\n      value: function joinWebProxyAP(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {}, b, {\n            elapse: e - a.startTime,\n            lts: e,\n            extend: b.extend || void 0\n          });\n          this.send({\n            type: sa.JOIN_WEB_PROXY_AP,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"WebSocketQuit\",\n      value: function WebSocketQuit(a, b) {\n        if (a = this.baseInfoMap.get(a)) {\n          var c = a.info,\n              e = x();\n          b = Ea({}, c, {}, b, {\n            elapse: e - a.startTime,\n            lts: e\n          });\n          this.send({\n            type: sa.WEBSOCKET_QUIT,\n            data: b\n          }, !0);\n        }\n      }\n    }, {\n      key: \"sendCustomReportMessage\",\n      value: function () {\n        var _sendCustomReportMessage = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee9(a, b) {\n          var _this28 = this;\n\n          return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  if (!(this.customReportCount += b.length, this.customReportCount > v.CUSTOM_REPORT_LIMIT)) {\n                    _context9.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);\n\n                case 2:\n                  this.customReportCounterTimer || (this.customReportCounterTimer = window.setInterval(function () {\n                    _this28.customReportCount = 0;\n                  }, 5E3));\n                  b = z(b).call(b, function (b) {\n                    return {\n                      type: sa.USER_ANALYTICS,\n                      data: Ea({\n                        sid: a\n                      }, b)\n                    };\n                  });\n                  b = {\n                    msgType: \"EventMessages\",\n                    sentTs: Math.round(x() / 1E3),\n                    payloads: z(b).call(b, function (a) {\n                      return A(a);\n                    })\n                  };\n                  _context9.prev = 5;\n                  _context9.next = 8;\n                  return this.postDataToStatsCollector(b);\n\n                case 8:\n                  _context9.next = 13;\n                  break;\n\n                case 10:\n                  _context9.prev = 10;\n                  _context9.t0 = _context9[\"catch\"](5);\n                  throw k.error(\"send custom report message failed\", _context9.t0.toString()), new q(n.CUSTOM_REPORT_SEND_FAILED, _context9.t0.message);\n\n                case 13:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9, this, [[5, 10]]);\n        }));\n\n        function sendCustomReportMessage(_x47, _x48) {\n          return _sendCustomReportMessage.apply(this, arguments);\n        }\n\n        return sendCustomReportMessage;\n      }()\n    }, {\n      key: \"sendApiInvoke\",\n      value: function sendApiInvoke(a) {\n        var b = v.NOT_REPORT_EVENT;\n        if (a.tag && Z(b) && Z(b).call(b, a.tag)) return !1;\n        if (null === a.sid) return this.apiInvokeUploadPendingItems.push(a), !1;\n        b = this.baseInfoMap.get(a.sid);\n        if (!b) return this.apiInvokeUploadPendingItems.push(a), !1;\n        var _b$info = b.info,\n            c = _b$info.cname,\n            e = _b$info.uid,\n            f = _b$info.cid;\n        a.lts = a.lts || x();\n        a = {\n          invokeId: a.invokeId,\n          sid: a.sid,\n          cname: c,\n          cid: f,\n          uid: e,\n          lts: a.lts,\n          success: a.success,\n          elapse: a.lts - b.startTime,\n          execElapse: a.lts - a.apiInvokeTime,\n          apiName: a.name,\n          options: a.options ? A(a.options) : void 0,\n          execStates: a.states ? A(a.states) : void 0,\n          execResult: a.result ? A(a.result) : void 0,\n          errorCode: a.error ? A(a.error) : void 0\n        };\n        return this.send({\n          type: sa.API_INVOKE,\n          data: a\n        }, !1), !0;\n      }\n    }, {\n      key: \"appendSessionId\",\n      value: function appendSessionId() {\n        var _this29 = this;\n\n        var a;\n        t(a = this.clientList).call(a, function (a) {\n          if (a._sessionId) {\n            var _b13 = _this29.apiInvokeUploadPendingItems.length;\n\n            for (var _c7 = 0; _c7 < _b13; _c7++) {\n              var _b14 = _this29.apiInvokeUploadPendingItems.shift();\n\n              _b14 && (_b14.sid = a._sessionId, _this29.sendApiInvoke(Ya({}, _b14)));\n            }\n          }\n        });\n      }\n    }, {\n      key: \"send\",\n      value: function send(a, b) {\n        if (b) return this.keyEventUploadPendingItems.push(a), void this.sendItems(this.keyEventUploadPendingItems, !0);\n        var c;\n        (this.normalEventUploadPendingItems.push(a), this.normalEventUploadPendingItems.length > v.NORMAL_EVENT_QUEUE_CAPACITY) && Ra(c = this.normalEventUploadPendingItems).call(c, 0, 1);\n        10 <= this.normalEventUploadPendingItems.length && this.sendItems(this.normalEventUploadPendingItems, !1);\n      }\n    }, {\n      key: \"doSend\",\n      value: function doSend() {\n        0 < this.keyEventUploadPendingItems.length && this.sendItems(this.keyEventUploadPendingItems, !0);\n        0 < this.normalEventUploadPendingItems.length && 5E3 <= x() - this.lastSendNormalEventTime && this.sendItems(this.normalEventUploadPendingItems, !1);\n      }\n    }, {\n      key: \"sendItems\",\n      value: function sendItems(a, b) {\n        var _this30 = this;\n\n        var c = [];\n\n        for (var e = []; a.length;) {\n          var _b15 = a.shift();\n\n          20 > c.length ? c.push(_b15) : e.push(_b15);\n        }\n\n        a.push.apply(a, _toConsumableArray(e));\n\n        var _arr = [].concat(c);\n\n        for (var _i = 0; _i < _arr.length; _i++) {\n          var _a17 = _arr[_i];\n          var f, h;\n          -1 !== J(f = this.ltsList).call(f, _a17.data.lts) ? (_a17.data.lts = this.ltsList[this.ltsList.length - 1] + 1, this.ltsList.push(_a17.data.lts)) : (this.ltsList.push(_a17.data.lts), he(h = this.ltsList).call(h, function (a, b) {\n            return a - b;\n          }));\n        }\n\n        b || (this.lastSendNormalEventTime = x());\n        e = {\n          msgType: \"EventMessages\",\n          sentTs: Math.round(x() / 1E3),\n          payloads: z(c).call(c, function (a) {\n            return A(a);\n          }),\n          vid: function (a) {\n            return (a = a && a.data.sid && _this30.baseInfoMap.get(a.data.sid)) && a.info.vid && +a.info.vid || 0;\n          }(c[0])\n        };\n        return c.length && this.postDataToStatsCollector(e).catch(function (a) {\n          return function (c) {\n            var e, f, h;\n            v.EVENT_REPORT_RETRY && (b ? _this30.keyEventUploadPendingItems = m(e = _this30.keyEventUploadPendingItems).call(e, a) : (_this30.normalEventUploadPendingItems = m(f = _this30.normalEventUploadPendingItems).call(f, a), _this30.normalEventUploadPendingItems.length > v.NORMAL_EVENT_QUEUE_CAPACITY && (Ra(h = _this30.normalEventUploadPendingItems).call(h, 0, _this30.normalEventUploadPendingItems.length - v.NORMAL_EVENT_QUEUE_CAPACITY), k.warning(\"report: drop normal events\"))));\n          };\n        }(c)), a;\n      }\n    }, {\n      key: \"postDataToStatsCollector\",\n      value: function () {\n        var _postDataToStatsCollector = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee10(a) {\n          var b,\n              c,\n              e,\n              f,\n              h,\n              l,\n              r,\n              k,\n              w,\n              _args10 = arguments;\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  b = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : !1;\n                  _context10.t0 = pb.networkState === Gb.OFFLINE;\n\n                  if (!_context10.t0) {\n                    _context10.next = 5;\n                    break;\n                  }\n\n                  _context10.next = 5;\n                  return y.race([pb.onlineWaiter, jb(2 * Ga.maxRetryTimeout)]);\n\n                case 5:\n                  h = b ? \"/events/proto-raws\" : \"/events/messages\";\n                  l = this.url || (this.proxyServer ? m(c = m(e = \"https://\".concat(this.proxyServer, \"/rs/?h=\")).call(e, v.EVENT_REPORT_DOMAIN, \"&p=6443&d=\")).call(c, h) : m(f = \"https://\".concat(v.EVENT_REPORT_DOMAIN, \":6443\")).call(f, h));\n                  c = 0;\n\n                case 8:\n                  if (!(2 > c)) {\n                    _context10.next = 29;\n                    break;\n                  }\n\n                  1 === c && (l = this.backupUrl || (this.proxyServer ? m(r = m(k = \"https://\".concat(this.proxyServer, \"/rs/?h=\")).call(k, v.EVENT_REPORT_BACKUP_DOMAIN, \"&p=6443&d=\")).call(r, h) : m(w = \"https://\".concat(v.EVENT_REPORT_BACKUP_DOMAIN, \":6443\")).call(w, h)));\n                  _context10.prev = 10;\n\n                  if (!b) {\n                    _context10.next = 16;\n                    break;\n                  }\n\n                  _context10.next = 14;\n                  return fo(l, {\n                    timeout: 1E4,\n                    data: a\n                  });\n\n                case 14:\n                  _context10.next = 18;\n                  break;\n\n                case 16:\n                  _context10.next = 18;\n                  return Rb(l, {\n                    timeout: 1E4,\n                    data: a\n                  });\n\n                case 18:\n                  _context10.next = 25;\n                  break;\n\n                case 20:\n                  _context10.prev = 20;\n                  _context10.t1 = _context10[\"catch\"](10);\n\n                  if (!(1 === c)) {\n                    _context10.next = 24;\n                    break;\n                  }\n\n                  throw _context10.t1;\n\n                case 24:\n                  return _context10.abrupt(\"continue\", 26);\n\n                case 25:\n                  return _context10.abrupt(\"break\", 29);\n\n                case 26:\n                  c += 1;\n                  _context10.next = 8;\n                  break;\n\n                case 29:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10, this, [[10, 20]]);\n        }));\n\n        function postDataToStatsCollector(_x49) {\n          return _postDataToStatsCollector.apply(this, arguments);\n        }\n\n        return postDataToStatsCollector;\n      }()\n    }, {\n      key: \"createBaseInfo\",\n      value: function createBaseInfo(a, b) {\n        var c = Ya({}, Sq);\n        return c.sid = a, this.baseInfoMap.set(a, {\n          info: c,\n          startTime: b\n        }), c;\n      }\n    }]);\n\n    return _class3;\n  }())();\n\n  var xm =\n  /*#__PURE__*/\n  function (_Wa2) {\n    _inherits(xm, _Wa2);\n\n    function xm(a, b) {\n      var _this31;\n\n      _classCallCheck(this, xm);\n\n      _this31 = _possibleConstructorReturn(this, _getPrototypeOf(xm).call(this));\n      _this31._hints = [];\n      _this31._isClosed = !1;\n      _this31._ID = b || va(8, \"track-\");\n      _this31._mediaStreamTrack = _this31._originMediaStreamTrack = a;\n      Z(Bc).call(Bc, _assertThisInitialized(_assertThisInitialized(_this31))) || Bc.push(_assertThisInitialized(_assertThisInitialized(_this31)));\n      return _this31;\n    }\n\n    _createClass(xm, [{\n      key: \"toString\",\n      value: function toString() {\n        return this._ID;\n      }\n    }, {\n      key: \"getTrackId\",\n      value: function getTrackId() {\n        return this._ID;\n      }\n    }, {\n      key: \"getMediaStreamTrack\",\n      value: function getMediaStreamTrack(a) {\n        a || (a = u.reportApiInvoke(null, {\n          name: D.GET_MEDIA_STREAM_TRACK,\n          options: [],\n          tag: C.TRACER\n        }), this._mediaStreamTrack && \"string\" == typeof this._mediaStreamTrack.label ? a.onSuccess(this._mediaStreamTrack.label) : a.onSuccess(\"\"));\n        return this._mediaStreamTrack;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this._isClosed = !0;\n        {\n          var a = J(Bc).call(Bc, this);\n          -1 !== a && Ra(Bc).call(Bc, a, 1);\n        }\n      }\n    }]);\n\n    return xm;\n  }(Wa);\n\n  var hr = 1;\n\n  var sc =\n  /*#__PURE__*/\n  function () {\n    function sc(a) {\n      _classCallCheck(this, sc);\n\n      var b;\n      this.lockingPromise = y.resolve();\n      this.locks = 0;\n      this.name = \"\";\n      this.lockId = hr++;\n      a && (this.name = a);\n      k.debug(m(b = \"[lock-\".concat(this.name, \"-\")).call(b, this.lockId, \"] is created.\"));\n    }\n\n    _createClass(sc, [{\n      key: \"lock\",\n      value: function lock() {\n        var _this32 = this;\n\n        var a, b;\n        var c;\n        this.locks += 1;\n        k.debug(m(a = m(b = \"[lock-\".concat(this.name, \"-\")).call(b, this.lockId, \"] is locked, current queue \")).call(a, this.locks, \".\"));\n        var e = new y(function (a) {\n          c = function c() {\n            var b, c;\n            --_this32.locks;\n            k.debug(m(b = m(c = \"[lock-\".concat(_this32.name, \"-\")).call(c, _this32.lockId, \"] is not locked, current queue \")).call(b, _this32.locks, \".\"));\n            a();\n          };\n        });\n        a = this.lockingPromise.then(function () {\n          return c;\n        });\n        return this.lockingPromise = this.lockingPromise.then(function () {\n          return e;\n        }), a;\n      }\n    }, {\n      key: \"isLocked\",\n      get: function get() {\n        return 0 < this.locks;\n      }\n    }]);\n\n    return sc;\n  }();\n\n  var yf =\n  /*#__PURE__*/\n  function (_xm) {\n    _inherits(yf, _xm);\n\n    function yf(a, b) {\n      var _this33;\n\n      _classCallCheck(this, yf);\n\n      _this33 = _possibleConstructorReturn(this, _getPrototypeOf(yf).call(this, a, b));\n      _this33._enabled = !0;\n      _this33._isClosed = _this33._muted = !1;\n      _this33._trackProcessors = [];\n\n      _this33._handleTrackEnded = function () {\n        _this33.onTrackEnded();\n      };\n\n      _this33._enabledMutex = new sc(\"\".concat(b));\n      a.addEventListener(\"ended\", _this33._handleTrackEnded);\n      return _this33;\n    }\n\n    _createClass(yf, [{\n      key: \"getTrackLabel\",\n      value: function getTrackLabel() {\n        return this._originMediaStreamTrack.label;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var a;\n        this._isClosed || (this.stop(), t(a = this._trackProcessors).call(a, function (a) {\n          return a.destroy();\n        }), this._trackProcessors = [], this._originMediaStreamTrack.stop(), this._mediaStreamTrack !== this._originMediaStreamTrack && (this._mediaStreamTrack.stop(), this._mediaStreamTrack = null), this._originMediaStreamTrack = null, this._enabledMutex = null, k.debug(\"[\".concat(this.getTrackId(), \"] close\")), this.emit(G.NEED_CLOSE), _get(_getPrototypeOf(yf.prototype), \"close\", this).call(this));\n      }\n    }, {\n      key: \"_registerTrackProcessor\",\n      value: function () {\n        var _registerTrackProcessor2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee13(a) {\n          var _this34 = this;\n\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n            while (1) {\n              switch (_context13.prev = _context13.next) {\n                case 0:\n                  if (!(-1 === J(b = this._trackProcessors).call(b, a))) {\n                    _context13.next = 12;\n                    break;\n                  }\n\n                  c = this._trackProcessors[this._trackProcessors.length - 1];\n\n                  this._trackProcessors.push(a);\n\n                  a.onOutputChange =\n                  /*#__PURE__*/\n                  _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee11() {\n                    return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                      while (1) {\n                        switch (_context11.prev = _context11.next) {\n                          case 0:\n                            _this34._mediaStreamTrack = a.output || _this34._originMediaStreamTrack;\n\n                            _this34._updatePlayerSource();\n\n                            _context11.next = 4;\n                            return Za(_this34, G.NEED_REPLACE_TRACK, _this34._mediaStreamTrack);\n\n                          case 4:\n                          case \"end\":\n                            return _context11.stop();\n                        }\n                      }\n                    }, _callee11, this);\n                  }));\n\n                  if (!c) {\n                    _context13.next = 10;\n                    break;\n                  }\n\n                  c.onOutputChange =\n                  /*#__PURE__*/\n                  _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee12() {\n                    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n                      while (1) {\n                        switch (_context12.prev = _context12.next) {\n                          case 0:\n                            _context12.t0 = c.output;\n\n                            if (!_context12.t0) {\n                              _context12.next = 4;\n                              break;\n                            }\n\n                            _context12.next = 4;\n                            return a.setInput(c.output);\n\n                          case 4:\n                          case \"end\":\n                            return _context12.stop();\n                        }\n                      }\n                    }, _callee12, this);\n                  }));\n                  _context13.next = 8;\n                  return a.setInput(c.output || c.input || this._originMediaStreamTrack);\n\n                case 8:\n                  _context13.next = 12;\n                  break;\n\n                case 10:\n                  _context13.next = 12;\n                  return a.setInput(this._originMediaStreamTrack);\n\n                case 12:\n                case \"end\":\n                  return _context13.stop();\n              }\n            }\n          }, _callee13, this);\n        }));\n\n        function _registerTrackProcessor(_x50) {\n          return _registerTrackProcessor2.apply(this, arguments);\n        }\n\n        return _registerTrackProcessor;\n      }()\n    }, {\n      key: \"_getOutputFromProcessors\",\n      value: function _getOutputFromProcessors() {\n        if (0 === this._trackProcessors.length) return this._originMediaStreamTrack;\n        var a = this._trackProcessors[this._trackProcessors.length - 1];\n        return a.output || a.input || this._originMediaStreamTrack;\n      }\n    }, {\n      key: \"_updateOriginMediaStreamTrack\",\n      value: function () {\n        var _updateOriginMediaStreamTrack2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee14(a, b) {\n          return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n            while (1) {\n              switch (_context14.prev = _context14.next) {\n                case 0:\n                  _context14.t0 = a !== this._originMediaStreamTrack;\n\n                  if (!_context14.t0) {\n                    _context14.next = 12;\n                    break;\n                  }\n\n                  if (!(this._originMediaStreamTrack.removeEventListener(\"ended\", this._handleTrackEnded), b && this._originMediaStreamTrack.stop(), a.addEventListener(\"ended\", this._handleTrackEnded), this._originMediaStreamTrack = a, 0 < this._trackProcessors.length)) {\n                    _context14.next = 8;\n                    break;\n                  }\n\n                  _context14.next = 5;\n                  return this._trackProcessors[0].setInput(a);\n\n                case 5:\n                  this._mediaStreamTrack = this._getOutputFromProcessors();\n                  _context14.next = 9;\n                  break;\n\n                case 8:\n                  this._mediaStreamTrack = this._originMediaStreamTrack;\n\n                case 9:\n                  this._updatePlayerSource();\n\n                  _context14.next = 12;\n                  return Za(this, G.NEED_REPLACE_TRACK, this._mediaStreamTrack);\n\n                case 12:\n                case \"end\":\n                  return _context14.stop();\n              }\n            }\n          }, _callee14, this);\n        }));\n\n        function _updateOriginMediaStreamTrack(_x51, _x52) {\n          return _updateOriginMediaStreamTrack2.apply(this, arguments);\n        }\n\n        return _updateOriginMediaStreamTrack;\n      }()\n    }, {\n      key: \"_getDefaultPlayerConfig\",\n      value: function _getDefaultPlayerConfig() {\n        return {};\n      }\n    }, {\n      key: \"onTrackEnded\",\n      value: function onTrackEnded() {\n        k.debug(\"[\".concat(this.getTrackId(), \"] track ended\"));\n        this.emit(Tc.TRACK_ENDED);\n      }\n    }, {\n      key: \"stateCheck\",\n      value: function stateCheck(a, b) {\n        var c, e, f;\n        if (k.debug(m(c = m(e = m(f = \"check track state, [muted: \".concat(this._muted, \", enabled: \")).call(f, this._enabled, \"] to [\")).call(e, a, \": \")).call(c, b, \"]\")), \"muted\" === a && !la.webAudioMediaStreamDest) throw new q(n.NOT_SUPPORTED, \"current environment does not support set mute\").print();\n        if (Le(b, a), this._enabled && this._muted && \"enabled\" === a && !1 === b) throw new q(n.TRACK_STATE_UNREACHABLE, \"cannot set enabled while the track is muted\").print();\n        if (!this._enabled && !this._muted && \"muted\" === a && !0 === b) throw new q(n.TRACK_STATE_UNREACHABLE, \"cannot set muted while the track is disabled\").print();\n      }\n    }, {\n      key: \"muted\",\n      get: function get() {\n        return this._muted;\n      }\n    }, {\n      key: \"enabled\",\n      get: function get() {\n        return this._enabled;\n      }\n    }]);\n\n    return yf;\n  }(xm);\n\n  var Ha;\n  !function (a) {\n    a.IOS_15_INTERRUPTION_START = \"ios15-interruption-start\";\n    a.IOS_15_INTERRUPTION_END = \"ios15-interruption-end\";\n    a.IOS_INTERRUPTION_START = \"ios-interruption-start\";\n    a.IOS_INTERRUPTION_END = \"ios-interruption-end\";\n  }(Ha || (Ha = {}));\n  var dj = window.AudioContext || window.webkitAudioContext,\n      Sb = null,\n      da = new (\n  /*#__PURE__*/\n  function (_Wa3) {\n    _inherits(_class4, _Wa3);\n\n    function _class4() {\n      var _this35;\n\n      _classCallCheck(this, _class4);\n\n      _this35 = _possibleConstructorReturn(this, _getPrototypeOf(_class4).apply(this, arguments));\n\n      _this35.onLocalAudioTrackMute = function () {\n        k.info(\"ios15-interruption-start\");\n\n        _this35.emit(Ha.IOS_15_INTERRUPTION_START);\n      };\n\n      _this35.onLocalAudioTrackUnmute =\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee15() {\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                k.info(\"ios15-interruption-end\");\n\n                if (!(\"running\" !== _this35.curState || _this35.duringInterruption)) {\n                  _context15.next = 5;\n                  break;\n                }\n\n                k.info(\"ios15-interruption-end-canceled\");\n                _context15.next = 10;\n                break;\n\n              case 5:\n                _context15.t0 = Sb;\n\n                if (!_context15.t0) {\n                  _context15.next = 9;\n                  break;\n                }\n\n                _context15.next = 9;\n                return Sb.suspend();\n\n              case 9:\n                _this35.emit(Ha.IOS_15_INTERRUPTION_END);\n\n              case 10:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n      return _this35;\n    }\n\n    _createClass(_class4, [{\n      key: \"bindInterruptDetectorTrack\",\n      value: function bindInterruptDetectorTrack(a) {\n        k.debug(\"webaudio bindInterruptDetectorTrack \".concat(a.getTrackId()));\n        this.interruptDetectorTrack || (this.interruptDetectorTrack = a, this.interruptDetectorTrack._mediaStreamTrack.onmute = this.onLocalAudioTrackMute, this.interruptDetectorTrack._mediaStreamTrack.onunmute = this.onLocalAudioTrackUnmute);\n      }\n    }, {\n      key: \"unbindInterruptDetectorTrack\",\n      value: function unbindInterruptDetectorTrack(a) {\n        k.debug(\"webaudio unbindInterruptDetectorTrack \".concat(a.getTrackId()));\n        this.interruptDetectorTrack && this.interruptDetectorTrack === a && (this.interruptDetectorTrack._mediaStreamTrack && (this.interruptDetectorTrack._mediaStreamTrack.onmute = null, this.interruptDetectorTrack._mediaStreamTrack.onunmute = null), this.interruptDetectorTrack = void 0);\n      }\n    }, {\n      key: \"duringInterruption\",\n      get: function get() {\n        return \"running\" === this.prevState && \"interrupted\" === this.curState;\n      }\n    }]);\n\n    return _class4;\n  }(Wa))(),\n      cg = null;\n\n  var ym =\n  /*#__PURE__*/\n  function (_Wa4) {\n    _inherits(ym, _Wa4);\n\n    function ym() {\n      var _this36;\n\n      _classCallCheck(this, ym);\n\n      _this36 = _possibleConstructorReturn(this, _getPrototypeOf(ym).call(this));\n      _this36.isPlayed = !1;\n      _this36.audioOutputLevel = 0;\n      _this36.isNoAudioInput = _this36.isDestroyed = !1;\n      _this36._noAudioInputCount = 0;\n      _this36.context = Nd();\n      _this36.playNode = _this36.context.destination;\n      _this36.outputNode = _this36.context.createGain();\n      Od(_this36.outputNode);\n      _this36.analyserNode = _this36.context.createAnalyser();\n      _this36.analyserNode.smoothingTimeConstant = .4;\n      _this36.analyserNode.fftSize = 2048;\n      return _this36;\n    }\n\n    _createClass(ym, [{\n      key: \"startGetAudioBuffer\",\n      value: function startGetAudioBuffer(a) {\n        var _this37 = this;\n\n        this.audioBufferNode || (this.audioBufferNode = this.context.createScriptProcessor(a), this.outputNode.connect(this.audioBufferNode), this.audioBufferNode.connect(this.context.destination), this.audioBufferNode.onaudioprocess = function (a) {\n          _this37.emit(Mb.ON_AUDIO_BUFFER, function (a) {\n            for (var _b16 = 0; _b16 < a.outputBuffer.numberOfChannels; _b16 += 1) {\n              var _c8 = a.outputBuffer.getChannelData(_b16);\n\n              for (var _a18 = 0; _a18 < _c8.length; _a18 += 1) {\n                _c8[_a18] = 0;\n              }\n            }\n\n            return a.inputBuffer;\n          }(a));\n        });\n      }\n    }, {\n      key: \"stopGetAudioBuffer\",\n      value: function stopGetAudioBuffer() {\n        this.audioBufferNode && (this.audioBufferNode.onaudioprocess = null, this.outputNode.disconnect(this.audioBufferNode), this.audioBufferNode = void 0);\n      }\n    }, {\n      key: \"createOutputTrack\",\n      value: function createOutputTrack() {\n        if (!la.webAudioMediaStreamDest) throw new q(n.NOT_SUPPORTED, \"your browser is not support audio processor\");\n        return this.destNode && this.outputTrack || (this.destNode = this.context.createMediaStreamDestination(), this.outputNode.connect(this.destNode), this.outputTrack = this.destNode.stream.getAudioTracks()[0]), this.outputTrack;\n      }\n    }, {\n      key: \"play\",\n      value: function play(a) {\n        \"running\" !== this.context.state && xb(function () {\n          da.emit(\"autoplay-failed\");\n        });\n        this.isPlayed = !0;\n        this.playNode = a || this.context.destination;\n        this.outputNode.connect(this.playNode);\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this.isPlayed) try {\n          this.outputNode.disconnect(this.playNode);\n        } catch (a) {}\n        this.isPlayed = !1;\n      }\n    }, {\n      key: \"getAccurateVolumeLevel\",\n      value: function getAccurateVolumeLevel() {\n        if (!this.context || vb() || jc() || \"running\" !== this.context.state && this.context.resume(), !this.analyserNode) return 0;\n        var a = new Uint8Array(this.analyserNode.frequencyBinCount);\n        this.analyserNode.getByteFrequencyData(a);\n        var b = 0;\n\n        for (var _c9 = 0; _c9 < a.length; _c9++) {\n          b += 64 > _c9 ? Math.abs(10 * a[_c9]) : Math.abs(6 * a[_c9] / 15);\n        }\n\n        return b / a.length / 255;\n      }\n    }, {\n      key: \"checkHasAudioInput\",\n      value: function () {\n        var _checkHasAudioInput = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee16() {\n          var a,\n              b,\n              c,\n              _a19,\n              _args16 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n            while (1) {\n              switch (_context16.prev = _context16.next) {\n                case 0:\n                  a = _args16.length > 0 && _args16[0] !== undefined ? _args16[0] : 0;\n\n                  if (!(5 < a)) {\n                    _context16.next = 3;\n                    break;\n                  }\n\n                  return _context16.abrupt(\"return\", (this.isNoAudioInput = !0, this.onNoAudioInput && this.onNoAudioInput(), !1));\n\n                case 3:\n                  if (!(vb() || jc() ? \"suspended\" === this.context.state && this.context.resume() : \"running\" !== this.context.state && this.context.resume(), !this.analyserNode)) {\n                    _context16.next = 5;\n                    break;\n                  }\n\n                  return _context16.abrupt(\"return\", !1);\n\n                case 5:\n                  b = new Uint8Array(this.analyserNode.frequencyBinCount);\n                  this.analyserNode.getByteFrequencyData(b);\n                  c = !1;\n\n                  for (_a19 = 0; _a19 < b.length; _a19++) {\n                    0 !== b[_a19] && (c = !0);\n                  }\n\n                  if (!c) {\n                    _context16.next = 13;\n                    break;\n                  }\n\n                  _context16.t0 = (this.isNoAudioInput = !1, !0);\n                  _context16.next = 21;\n                  break;\n\n                case 13:\n                  _context16.next = 15;\n                  return jb(200);\n\n                case 15:\n                  _context16.next = 17;\n                  return this.checkHasAudioInput(a ? a + 1 : 1);\n\n                case 17:\n                  _context16.t1 = _context16.sent;\n\n                  if (!_context16.t1) {\n                    _context16.next = 20;\n                    break;\n                  }\n\n                  _context16.t1 = c;\n\n                case 20:\n                  _context16.t0 = _context16.t1;\n\n                case 21:\n                  return _context16.abrupt(\"return\", _context16.t0);\n\n                case 22:\n                case \"end\":\n                  return _context16.stop();\n              }\n            }\n          }, _callee16, this);\n        }));\n\n        function checkHasAudioInput() {\n          return _checkHasAudioInput.apply(this, arguments);\n        }\n\n        return checkHasAudioInput;\n      }()\n    }, {\n      key: \"getAudioVolume\",\n      value: function getAudioVolume() {\n        return this.outputNode.gain.value;\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(a) {\n        this.outputNode.gain.setValueAtTime(a, this.context.currentTime);\n      }\n    }, {\n      key: \"setMute\",\n      value: function setMute(a) {\n        a ? (this.disconnect(), this.audioOutputLevel = 0) : this.connect();\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.disconnect();\n        this.stop();\n        this.isDestroyed = !0;\n        this.onNoAudioInput = void 0;\n      }\n    }, {\n      key: \"disconnect\",\n      value: function disconnect() {\n        this.sourceNode && this.sourceNode.disconnect();\n        this.outputNode && this.outputNode.disconnect();\n      }\n    }, {\n      key: \"connect\",\n      value: function connect() {\n        this.sourceNode && this.sourceNode.connect(this.outputNode);\n        this.outputNode.connect(this.analyserNode);\n      }\n    }]);\n\n    return ym;\n  }(Wa);\n\n  var zm =\n  /*#__PURE__*/\n  function (_ym) {\n    _inherits(zm, _ym);\n\n    function zm(a, b) {\n      var _this38;\n\n      _classCallCheck(this, zm);\n\n      if (_this38 = _possibleConstructorReturn(this, _getPrototypeOf(zm).call(this)), _this38.isCurrentTrackCloned = !1, _this38.isRemoteTrack = !1, _this38.rebuildWebAudio =\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee17() {\n        var a, b;\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                k.debug(\"ready to rebuild web audio, state:\", _this38.context.state);\n                _context17.t0 = _this38.isNoAudioInput;\n\n                if (!_context17.t0) {\n                  _context17.next = 5;\n                  break;\n                }\n\n                _context17.next = 5;\n                return _this38.checkHasAudioInput();\n\n              case 5:\n                if (!(!_this38.isNoAudioInput || _this38.isDestroyed)) {\n                  _context17.next = 7;\n                  break;\n                }\n\n                return _context17.abrupt(\"return\", (document.body.removeEventListener(\"click\", _this38.rebuildWebAudio, !0), void k.debug(\"rebuild web audio success, current volume status\", _this38.getAccurateVolumeLevel())));\n\n              case 7:\n                _this38.context.resume().then(function () {\n                  return k.info(\"resume success\");\n                });\n\n                k.debug(\"rebuild web audio because of ios 12 bugs\");\n\n                _this38.disconnect();\n\n                a = _this38.track;\n                _this38.track = _this38.track.clone();\n                _this38.isCurrentTrackCloned ? a.stop() : _this38.isCurrentTrackCloned = !0;\n                a = new MediaStream([_this38.track]);\n                _this38.sourceNode = _this38.context.createMediaStreamSource(a);\n                Od(_this38.sourceNode);\n                _this38.analyserNode = _this38.context.createAnalyser();\n                b = _this38.outputNode.gain.value;\n                _this38.outputNode = _this38.context.createGain();\n\n                _this38.outputNode.gain.setValueAtTime(b, _this38.context.currentTime);\n\n                Od(_this38.outputNode);\n\n                _this38.connect();\n\n                _this38.audioElement.srcObject = a;\n                _this38.isPlayed && _this38.play(_this38.playNode);\n\n                _this38.checkHasAudioInput();\n\n              case 25:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      })), \"audio\" !== a.kind) throw new q(n.UNEXPECTED_ERROR);\n      _this38.track = a;\n      a = new MediaStream([_this38.track]);\n      _this38.isRemoteTrack = !!b;\n      _this38.sourceNode = _this38.context.createMediaStreamSource(a);\n      Od(_this38.sourceNode);\n\n      _this38.connect();\n\n      _this38.audioElement = document.createElement(\"audio\");\n      _this38.audioElement.srcObject = a;\n      a = V();\n      b && a.os === Na.IOS && 15 > Number(a.osVersion && a.osVersion.split(\".\")[0]) && (da.on(\"state-change\", function () {\n        \"suspended\" === _this38.context.state ? document.body.addEventListener(\"click\", _this38.rebuildWebAudio, !0) : \"running\" === _this38.context.state && _this38.rebuildWebAudio();\n      }), _this38.checkHasAudioInput().then(function (a) {\n        a || document.body.addEventListener(\"click\", _this38.rebuildWebAudio, !0);\n      }));\n      return _possibleConstructorReturn(_this38);\n    }\n\n    _createClass(zm, [{\n      key: \"updateTrack\",\n      value: function updateTrack(a) {\n        this.sourceNode.disconnect();\n        this.track = a;\n        this.isCurrentTrackCloned = !1;\n        a = new MediaStream([a]);\n        this.sourceNode = this.context.createMediaStreamSource(a);\n        Od(this.sourceNode);\n        this.sourceNode.connect(this.outputNode);\n        this.audioElement.srcObject = a;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.audioElement.srcObject = null;\n        this.audioElement.remove();\n        da.off(\"state-change\", this.rebuildWebAudio);\n\n        _get(_getPrototypeOf(zm.prototype), \"destroy\", this).call(this);\n      }\n    }, {\n      key: \"isFreeze\",\n      get: function get() {\n        return !1;\n      }\n    }]);\n\n    return zm;\n  }(ym);\n\n  var Ne = null,\n      eg = new sc(\"safari\"),\n      hj = !1,\n      ij = !1,\n      lb = new (\n  /*#__PURE__*/\n  function (_Wa5) {\n    _inherits(_class5, _Wa5);\n\n    function _class5() {\n      var _this39;\n\n      _classCallCheck(this, _class5);\n\n      _this39 = _possibleConstructorReturn(this, _getPrototypeOf(_class5).call(this));\n      _this39._state = Sc.IDLE;\n      _this39.lastAccessCameraPermission = _this39.lastAccessMicrophonePermission = _this39.isAccessCameraPermission = _this39.isAccessMicrophonePermission = !1;\n      _this39.deviceInfoMap = new ba();\n\n      _this39.init().then(function () {\n        var a;\n        navigator.mediaDevices.addEventListener && navigator.mediaDevices.addEventListener(\"devicechange\", xa(a = _this39.updateDevicesInfo).call(a, _assertThisInitialized(_assertThisInitialized(_this39))));\n        window.setInterval(function () {\n          return V().name !== S.WECHAT && v.ENUMERATE_DEVICES_INTERVAL && _this39.updateDevicesInfo();\n        }, 6E4);\n      }).catch(function (a) {\n        return k.error(a.toString());\n      });\n\n      return _this39;\n    }\n\n    _createClass(_class5, [{\n      key: \"enumerateDevices\",\n      value: function () {\n        var _enumerateDevices = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee18(a, b) {\n          var c,\n              e,\n              f,\n              h,\n              l,\n              r,\n              p,\n              w,\n              m,\n              _a20,\n              K,\n              Ca,\n              B,\n              _args18 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n            while (1) {\n              switch (_context18.prev = _context18.next) {\n                case 0:\n                  c = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : !1;\n\n                  if (!(!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)) {\n                    _context18.next = 3;\n                    break;\n                  }\n\n                  return _context18.abrupt(\"return\", new q(n.NOT_SUPPORTED, \"enumerateDevices() not supported.\").throw());\n\n                case 3:\n                  _context18.next = 5;\n                  return navigator.mediaDevices.enumerateDevices();\n\n                case 5:\n                  e = _context18.sent;\n                  e = this.checkMediaDeviceInfoIsOk(e);\n                  f = !this.isAccessMicrophonePermission && a, h = !this.isAccessCameraPermission && b;\n                  e.audio && (f = !1);\n                  e.video && (h = !1);\n                  l = e = null, r = null;\n\n                  if (!(!c && (f || h))) {\n                    _context18.next = 67;\n                    break;\n                  }\n\n                  _context18.t0 = eg.isLocked;\n\n                  if (!_context18.t0) {\n                    _context18.next = 20;\n                    break;\n                  }\n\n                  k.debug(\"[device manager] wait GUM lock\");\n                  _context18.next = 17;\n                  return eg.lock();\n\n                case 17:\n                  _context18.t1 = _context18.sent;\n                  (0, _context18.t1)();\n                  k.debug(\"[device manager] GUM unlock\");\n\n                case 20:\n                  if (!(hj && (f = !1, this.isAccessMicrophonePermission = !0), ij && (h = !1, this.isAccessCameraPermission = !0), k.debug(\"[device manager] check media device permissions\", a, b, f, h), f && h)) {\n                    _context18.next = 36;\n                    break;\n                  }\n\n                  _context18.prev = 21;\n                  _context18.next = 24;\n                  return navigator.mediaDevices.getUserMedia({\n                    audio: !0,\n                    video: !0\n                  });\n\n                case 24:\n                  r = _context18.sent;\n                  _context18.next = 33;\n                  break;\n\n                case 27:\n                  _context18.prev = 27;\n                  _context18.t2 = _context18[\"catch\"](21);\n                  c = Oe(_context18.t2.name || _context18.t2.code || _context18.t2, _context18.t2.message);\n\n                  if (!(c.code === n.PERMISSION_DENIED)) {\n                    _context18.next = 32;\n                    break;\n                  }\n\n                  throw c;\n\n                case 32:\n                  k.warning(\"getUserMedia failed in getDevices\", c);\n\n                case 33:\n                  this.isAccessMicrophonePermission = this.isAccessCameraPermission = !0;\n                  _context18.next = 66;\n                  break;\n\n                case 36:\n                  if (!f) {\n                    _context18.next = 52;\n                    break;\n                  }\n\n                  _context18.prev = 37;\n                  _context18.next = 40;\n                  return navigator.mediaDevices.getUserMedia({\n                    audio: a\n                  });\n\n                case 40:\n                  e = _context18.sent;\n                  _context18.next = 49;\n                  break;\n\n                case 43:\n                  _context18.prev = 43;\n                  _context18.t3 = _context18[\"catch\"](37);\n                  c = Oe(_context18.t3.name || _context18.t3.code || _context18.t3, _context18.t3.message);\n\n                  if (!(c.code === n.PERMISSION_DENIED)) {\n                    _context18.next = 48;\n                    break;\n                  }\n\n                  throw c;\n\n                case 48:\n                  k.warning(\"getUserMedia failed in getDevices\", c);\n\n                case 49:\n                  this.isAccessMicrophonePermission = !0;\n                  _context18.next = 66;\n                  break;\n\n                case 52:\n                  if (!h) {\n                    _context18.next = 66;\n                    break;\n                  }\n\n                  _context18.prev = 53;\n                  _context18.next = 56;\n                  return navigator.mediaDevices.getUserMedia({\n                    video: b\n                  });\n\n                case 56:\n                  l = _context18.sent;\n                  _context18.next = 65;\n                  break;\n\n                case 59:\n                  _context18.prev = 59;\n                  _context18.t4 = _context18[\"catch\"](53);\n                  c = Oe(_context18.t4.name || _context18.t4.code || _context18.t4, _context18.t4.message);\n\n                  if (!(c.code === n.PERMISSION_DENIED)) {\n                    _context18.next = 64;\n                    break;\n                  }\n\n                  throw c;\n\n                case 64:\n                  k.warning(\"getUserMedia failed in getDevices\", c);\n\n                case 65:\n                  this.isAccessCameraPermission = !0;\n\n                case 66:\n                  k.debug(\"[device manager] mic permission\", a, \"cam permission\", b);\n\n                case 67:\n                  _context18.prev = 67;\n                  _context18.next = 70;\n                  return navigator.mediaDevices.enumerateDevices();\n\n                case 70:\n                  _a20 = _context18.sent;\n                  return _context18.abrupt(\"return\", (e && t(p = e.getTracks()).call(p, function (a) {\n                    return a.stop();\n                  }), l && t(w = l.getTracks()).call(w, function (a) {\n                    return a.stop();\n                  }), r && t(m = r.getTracks()).call(m, function (a) {\n                    return a.stop();\n                  }), e = null, l = null, r = null, _a20));\n\n                case 74:\n                  _context18.prev = 74;\n                  _context18.t5 = _context18[\"catch\"](67);\n                  e && t(K = e.getTracks()).call(K, function (a) {\n                    return a.stop();\n                  });\n                  l && t(Ca = l.getTracks()).call(Ca, function (a) {\n                    return a.stop();\n                  });\n                  r && t(B = r.getTracks()).call(B, function (a) {\n                    return a.stop();\n                  });\n                  r = l = e = null;\n                  return _context18.abrupt(\"return\", new q(n.ENUMERATE_DEVICES_FAILED, _context18.t5.toString()).throw());\n\n                case 81:\n                case \"end\":\n                  return _context18.stop();\n              }\n            }\n          }, _callee18, this, [[21, 27], [37, 43], [53, 59], [67, 74]]);\n        }));\n\n        function enumerateDevices(_x53, _x54) {\n          return _enumerateDevices.apply(this, arguments);\n        }\n\n        return enumerateDevices;\n      }()\n    }, {\n      key: \"getRecordingDevices\",\n      value: function () {\n        var _getRecordingDevices = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee19() {\n          var a,\n              _args19 = arguments;\n          return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n            while (1) {\n              switch (_context19.prev = _context19.next) {\n                case 0:\n                  a = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : !1;\n                  _context19.next = 3;\n                  return this.enumerateDevices(!0, !1, a);\n\n                case 3:\n                  a = _context19.sent;\n                  return _context19.abrupt(\"return\", I(a).call(a, function (a) {\n                    return \"audioinput\" === a.kind;\n                  }));\n\n                case 5:\n                case \"end\":\n                  return _context19.stop();\n              }\n            }\n          }, _callee19, this);\n        }));\n\n        function getRecordingDevices() {\n          return _getRecordingDevices.apply(this, arguments);\n        }\n\n        return getRecordingDevices;\n      }()\n    }, {\n      key: \"getCamerasDevices\",\n      value: function () {\n        var _getCamerasDevices = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee20() {\n          var a,\n              _args20 = arguments;\n          return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n            while (1) {\n              switch (_context20.prev = _context20.next) {\n                case 0:\n                  a = _args20.length > 0 && _args20[0] !== undefined ? _args20[0] : !1;\n                  _context20.next = 3;\n                  return this.enumerateDevices(!1, !0, a);\n\n                case 3:\n                  a = _context20.sent;\n                  return _context20.abrupt(\"return\", I(a).call(a, function (a) {\n                    return \"videoinput\" === a.kind;\n                  }));\n\n                case 5:\n                case \"end\":\n                  return _context20.stop();\n              }\n            }\n          }, _callee20, this);\n        }));\n\n        function getCamerasDevices() {\n          return _getCamerasDevices.apply(this, arguments);\n        }\n\n        return getCamerasDevices;\n      }()\n    }, {\n      key: \"getSpeakers\",\n      value: function () {\n        var _getSpeakers = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee21() {\n          var a,\n              _args21 = arguments;\n          return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n            while (1) {\n              switch (_context21.prev = _context21.next) {\n                case 0:\n                  a = _args21.length > 0 && _args21[0] !== undefined ? _args21[0] : !1;\n                  _context21.next = 3;\n                  return this.enumerateDevices(!0, !1, a);\n\n                case 3:\n                  a = _context21.sent;\n                  return _context21.abrupt(\"return\", I(a).call(a, function (a) {\n                    return \"audiooutput\" === a.kind;\n                  }));\n\n                case 5:\n                case \"end\":\n                  return _context21.stop();\n              }\n            }\n          }, _callee21, this);\n        }));\n\n        function getSpeakers() {\n          return _getSpeakers.apply(this, arguments);\n        }\n\n        return getSpeakers;\n      }()\n    }, {\n      key: \"searchDeviceNameById\",\n      value: function searchDeviceNameById(a) {\n        return (a = this.deviceInfoMap.get(a)) ? a.device.label || a.device.deviceId : null;\n      }\n    }, {\n      key: \"searchDeviceIdByName\",\n      value: function searchDeviceIdByName(a) {\n        var b;\n        var c = null;\n        return t(b = this.deviceInfoMap).call(b, function (b) {\n          b.device.label === a && (c = b.device.deviceId);\n        }), c;\n      }\n    }, {\n      key: \"getDeviceById\",\n      value: function () {\n        var _getDeviceById = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee22(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n            while (1) {\n              switch (_context22.prev = _context22.next) {\n                case 0:\n                  _context22.next = 2;\n                  return this.enumerateDevices(!0, !0, !0);\n\n                case 2:\n                  b = _context22.sent;\n                  b = U(b).call(b, function (b) {\n                    return b.deviceId === a;\n                  });\n\n                  if (b) {\n                    _context22.next = 6;\n                    break;\n                  }\n\n                  throw new q(n.DEVICE_NOT_FOUND, \"deviceId: \".concat(a));\n\n                case 6:\n                  return _context22.abrupt(\"return\", b);\n\n                case 7:\n                case \"end\":\n                  return _context22.stop();\n              }\n            }\n          }, _callee22, this);\n        }));\n\n        function getDeviceById(_x55) {\n          return _getDeviceById.apply(this, arguments);\n        }\n\n        return getDeviceById;\n      }()\n    }, {\n      key: \"init\",\n      value: function () {\n        var _init = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee23() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n            while (1) {\n              switch (_context23.prev = _context23.next) {\n                case 0:\n                  this.state = Sc.INITING;\n                  _context23.prev = 1;\n                  _context23.next = 4;\n                  return this.updateDevicesInfo();\n\n                case 4:\n                  this.state = Sc.INITEND;\n                  _context23.next = 14;\n                  break;\n\n                case 7:\n                  _context23.prev = 7;\n                  _context23.t0 = _context23[\"catch\"](1);\n                  k.warning(\"Device Detection functionality cannot start properly.\", _context23.t0.toString());\n                  this.state = Sc.IDLE;\n                  a = \"boolean\" == typeof isSecureContext ? isSecureContext : \"https:\" === location.protocol || \"file:\" === location.protocol || \"localhost\" === location.hostname || \"127.0.0.1\" === location.hostname || \"::1\" === location.hostname;\n                  a || new q(n.WEB_SECURITY_RESTRICT, \"Your context is limited by web security, please try using https protocol or localhost.\").throw();\n                  throw _context23.t0;\n\n                case 14:\n                case \"end\":\n                  return _context23.stop();\n              }\n            }\n          }, _callee23, this, [[1, 7]]);\n        }));\n\n        function init() {\n          return _init.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"updateDevicesInfo\",\n      value: function () {\n        var _updateDevicesInfo = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee24() {\n          var _this40 = this;\n\n          var a, b, c, e, f;\n          return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n            while (1) {\n              switch (_context24.prev = _context24.next) {\n                case 0:\n                  _context24.next = 2;\n                  return this.enumerateDevices(!0, !0, !0);\n\n                case 2:\n                  b = _context24.sent;\n                  c = x();\n                  e = [];\n                  f = this.checkMediaDeviceInfoIsOk(b);\n\n                  if (!(t(b).call(b, function (a) {\n                    if (a.deviceId) {\n                      var b = _this40.deviceInfoMap.get(a.deviceId);\n\n                      if (\"ACTIVE\" !== (b ? b.state : \"INACTIVE\")) {\n                        var _b17 = {\n                          initAt: c,\n                          updateAt: c,\n                          device: a,\n                          state: \"ACTIVE\"\n                        };\n\n                        _this40.deviceInfoMap.set(a.deviceId, _b17);\n\n                        e.push(_b17);\n                      }\n\n                      b && (b.updateAt = c);\n                    }\n                  }), t(a = this.deviceInfoMap).call(a, function (a, b) {\n                    \"ACTIVE\" === a.state && a.updateAt !== c && (a.state = \"INACTIVE\", e.push(a));\n                  }), this.state !== Sc.INITEND)) {\n                    _context24.next = 8;\n                    break;\n                  }\n\n                  return _context24.abrupt(\"return\", (f.audio && (this.lastAccessMicrophonePermission = !0, this.isAccessMicrophonePermission = !0), void (f.video && (this.lastAccessCameraPermission = !0, this.isAccessCameraPermission = !0))));\n\n                case 8:\n                  t(e).call(e, function (a) {\n                    switch (a.device.kind) {\n                      case \"audioinput\":\n                        _this40.lastAccessMicrophonePermission && _this40.isAccessMicrophonePermission && _this40.emit(qc.RECORDING_DEVICE_CHANGED, a);\n                        break;\n\n                      case \"videoinput\":\n                        _this40.lastAccessCameraPermission && _this40.isAccessCameraPermission && _this40.emit(qc.CAMERA_DEVICE_CHANGED, a);\n                        break;\n\n                      case \"audiooutput\":\n                        _this40.lastAccessMicrophonePermission && _this40.isAccessMicrophonePermission && _this40.emit(qc.PLAYOUT_DEVICE_CHANGED, a);\n                    }\n                  });\n                  f.audio && (this.lastAccessMicrophonePermission = !0, this.isAccessMicrophonePermission = !0);\n                  f.video && (this.lastAccessCameraPermission = !0, this.isAccessCameraPermission = !0);\n\n                case 11:\n                case \"end\":\n                  return _context24.stop();\n              }\n            }\n          }, _callee24, this);\n        }));\n\n        function updateDevicesInfo() {\n          return _updateDevicesInfo.apply(this, arguments);\n        }\n\n        return updateDevicesInfo;\n      }()\n    }, {\n      key: \"checkMediaDeviceInfoIsOk\",\n      value: function checkMediaDeviceInfoIsOk(a) {\n        var b = I(a).call(a, function (a) {\n          return \"audioinput\" === a.kind;\n        });\n        a = I(a).call(a, function (a) {\n          return \"videoinput\" === a.kind;\n        });\n        var c = {\n          audio: !1,\n          video: !1\n        };\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = b[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _a21 = _step2.value;\n\n            if (_a21.label && _a21.deviceId) {\n              c.audio = !0;\n              break;\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = a[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var _b18 = _step3.value;\n\n            if (_b18.label && _b18.deviceId) {\n              c.video = !0;\n              break;\n            }\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        return c;\n      }\n    }, {\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(a) {\n        a !== this._state && (this.emit(qc.STATE_CHANGE, a), this._state = a);\n      }\n    }]);\n\n    return _class5;\n  }(Wa))();\n\n  var ir = Aa(\"Array\").entries,\n      Am = Array.prototype,\n      jr = {\n    DOMTokenList: !0,\n    NodeList: !0\n  },\n      Bm = function Bm(a) {\n    var b = a.entries;\n    return a === Am || a instanceof Array && b === Am.entries || jr.hasOwnProperty(qd(a)) ? ir : b;\n  };\n\n  var fg = !1,\n      kj = new Wa(),\n      Cm = \"play playing loadeddata canplay pause stalled suspend waiting abort emptied ended\".split(\" \"),\n      Bb = new (\n  /*#__PURE__*/\n  function () {\n    function _class6() {\n      var _this41 = this;\n\n      _classCallCheck(this, _class6);\n\n      this.elementMap = new ba();\n      this.elementStateMap = new ba();\n      this.elementsNeedToResume = [];\n      this.sinkIdMap = new ba();\n\n      this.autoResumeAfterInterruption = function () {\n        var a, b;\n        t(a = Ub(Bm(b = _this41.elementMap).call(b))).call(a, function (_ref25) {\n          var _ref26 = _slicedToArray(_ref25, 2),\n              a = _ref26[0],\n              b = _ref26[1];\n\n          a = _this41.elementStateMap.get(a);\n          var c = b.srcObject.getAudioTracks()[0];\n          ad() ? c && \"live\" === c.readyState && \"running\" === da.curState && (k.debug(\"auto resume after interruption for iOS 15\"), b.pause(), b.play()) : a && \"pause\" === a && c && \"live\" === c.readyState && \"running\" === da.curState && (k.debug(\"auto resume after interruption for iOS\"), b.play());\n        });\n      };\n\n      this.autoResumeAfterInterruptionOnIOS15 = function () {\n        var a, b;\n        t(a = Ub(Bm(b = _this41.elementMap).call(b))).call(a, function (_ref27) {\n          var _ref28 = _slicedToArray(_ref27, 2),\n              a = _ref28[1];\n\n          var b = a.srcObject.getAudioTracks()[0];\n          b && \"live\" === b.readyState && (k.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"), a.pause(), a.play());\n        });\n      };\n\n      this.autoResumeAudioElement();\n      da.on(Ha.IOS_INTERRUPTION_END, this.autoResumeAfterInterruption);\n      da.on(Ha.IOS_15_INTERRUPTION_END, this.autoResumeAfterInterruptionOnIOS15);\n    }\n\n    _createClass(_class6, [{\n      key: \"setSinkID\",\n      value: function () {\n        var _setSinkID = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee25(a, b) {\n          var c;\n          return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n            while (1) {\n              switch (_context25.prev = _context25.next) {\n                case 0:\n                  c = this.elementMap.get(a);\n\n                  if (!(this.sinkIdMap.set(a, b), c)) {\n                    _context25.next = 10;\n                    break;\n                  }\n\n                  _context25.prev = 2;\n                  _context25.next = 5;\n                  return c.setSinkId(b);\n\n                case 5:\n                  _context25.next = 10;\n                  break;\n\n                case 7:\n                  _context25.prev = 7;\n                  _context25.t0 = _context25[\"catch\"](2);\n                  throw new q(n.PERMISSION_DENIED, \"can not set sink id: \" + _context25.t0.toString());\n\n                case 10:\n                case \"end\":\n                  return _context25.stop();\n              }\n            }\n          }, _callee25, this, [[2, 7]]);\n        }));\n\n        function setSinkID(_x56, _x57) {\n          return _setSinkID.apply(this, arguments);\n        }\n\n        return setSinkID;\n      }()\n    }, {\n      key: \"play\",\n      value: function play(a, b, c) {\n        var _this42 = this;\n\n        if (!this.elementMap.has(b)) {\n          var e = document.createElement(\"audio\");\n          e.autoplay = !0;\n          e.srcObject = new MediaStream([a]);\n          this.bindAudioElementEvents(b, e);\n          this.elementMap.set(b, e);\n          this.elementStateMap.set(b, Qa.INIT);\n          this.setVolume(b, c);\n          (a = this.sinkIdMap.get(b)) && e.setSinkId(a).catch(function (a) {\n            k.warning(\"[\".concat(b, \"] set sink id failed\"), a.toString());\n          });\n          (a = e.play()) && a.then && a.catch(function (a) {\n            k.warning(\"audio element play warning\", a.toString());\n            _this42.elementMap.has(b) && \"NotAllowedError\" === a.name && (k.warning(\"detected audio element autoplay failed\"), _this42.elementsNeedToResume.push(e), xb(function () {\n              _this42.onAutoplayFailed && _this42.onAutoplayFailed();\n              jj();\n            }));\n          });\n        }\n      }\n    }, {\n      key: \"updateTrack\",\n      value: function updateTrack(a, b) {\n        (a = this.elementMap.get(a)) && (a.srcObject = new MediaStream([b]));\n      }\n    }, {\n      key: \"isPlaying\",\n      value: function isPlaying(a) {\n        return this.elementMap.has(a);\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(a, b) {\n        (a = this.elementMap.get(a)) && (b = Math.max(0, Math.min(100, b)), a.volume = b / 100);\n      }\n    }, {\n      key: \"stop\",\n      value: function stop(a) {\n        var b, c;\n        var e = this.elementMap.get(a);\n\n        if (this.sinkIdMap.delete(a), e) {\n          var f = J(b = this.elementsNeedToResume).call(b, e);\n          Ra(c = this.elementsNeedToResume).call(c, f, 1);\n          e.srcObject = null;\n          e.remove();\n          this.elementMap.delete(a);\n          this.elementStateMap.delete(a);\n        }\n      }\n    }, {\n      key: \"bindAudioElementEvents\",\n      value: function bindAudioElementEvents(a, b) {\n        var _this43 = this;\n\n        t(Cm).call(Cm, function (c) {\n          b.addEventListener(c, function (b) {\n            var c, e;\n\n            var l = _this43.elementStateMap.get(a);\n\n            b = b.type;\n            k.debug(m(c = m(e = \"[\".concat(a, \"] audio-element-status change \")).call(e, l, \" => \")).call(c, b));\n\n            _this43.elementStateMap.set(a, b);\n          });\n        });\n      }\n    }, {\n      key: \"autoResumeAudioElement\",\n      value: function autoResumeAudioElement() {\n        var _this44 = this;\n\n        var a = function a() {\n          var a;\n          t(a = _this44.elementsNeedToResume).call(a, function (a) {\n            a.play().then(function (a) {\n              k.debug(\"Auto resume audio element success\");\n            }).catch(function (a) {\n              k.warning(\"Auto resume audio element failed!\", a);\n            });\n          });\n          _this44.elementsNeedToResume = [];\n        };\n\n        new y(function (a) {\n          document.body ? a() : window.addEventListener(\"load\", function () {\n            return a();\n          });\n        }).then(function () {\n          document.body.addEventListener(\"touchstart\", a, !0);\n          document.body.addEventListener(\"mousedown\", a, !0);\n        });\n      }\n    }]);\n\n    return _class6;\n  }())();\n\n  var tb = function tb(a, b, c, e) {\n    var f,\n        h = arguments.length,\n        l = 3 > h ? b : null === e ? e = ca(b, c) : e;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) l = Reflect.decorate(a, b, c, e);else for (var r = a.length - 1; 0 <= r; r--) {\n      (f = a[r]) && (l = (3 > h ? f(l) : 3 < h ? f(b, c, l) : f(b, c)) || l);\n    }\n    return 3 < h && l && Q(b, c, l), l;\n  },\n      Y = function Y(a, b) {\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(a, b);\n  };\n\n  var La =\n  /*#__PURE__*/\n  function (_yf) {\n    _inherits(La, _yf);\n\n    function La(a, b, c) {\n      var _this45;\n\n      _classCallCheck(this, La);\n\n      _this45 = _possibleConstructorReturn(this, _getPrototypeOf(La).call(this, a, c));\n      _this45.trackMediaType = \"audio\";\n      _this45._enabled = !0;\n      _this45._volume = 100;\n      _this45._bypassWebAudio = _this45._useAudioElement = !1;\n      _this45._encoderConfig = b;\n      _this45._source = new zm(a);\n      return _this45;\n    }\n\n    _createClass(La, [{\n      key: \"setVolume\",\n      value: function setVolume(a) {\n        var _this46 = this;\n\n        ha(a, \"volume\", 0, 1E3);\n        var b = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.LOCAL_AUDIO_TRACK_SET_VOLUME,\n          options: [this.getTrackId(), a]\n        }, 300);\n        this._volume = a;\n\n        this._source.setVolume(a / 100);\n\n        this._useAudioElement && Bb.setVolume(this.getTrackId(), a);\n\n        try {\n          if (this._bypassWebAudio) return void k.debug(\"[\".concat(this.getTrackId(), \"] setVolume returned because no pass through WebAudio.\"));\n\n          var _a22 = this._source.createOutputTrack();\n\n          this._mediaStreamTrack !== _a22 && (this._mediaStreamTrack = _a22, Za(this, G.NEED_REPLACE_TRACK, this._mediaStreamTrack).then(function () {\n            k.debug(\"[\".concat(_this46.getTrackId(), \"] replace web audio track success\"));\n          }).catch(function (a) {\n            k.warning(\"[\".concat(_this46.getTrackId(), \"] replace web audio track failed\"), a);\n          }));\n        } catch (c) {}\n\n        b.onSuccess();\n      }\n    }, {\n      key: \"getVolumeLevel\",\n      value: function getVolumeLevel() {\n        return this._source.getAccurateVolumeLevel();\n      }\n    }, {\n      key: \"setPlaybackDevice\",\n      value: function () {\n        var _setPlaybackDevice = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee26(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee26$(_context26) {\n            while (1) {\n              switch (_context26.prev = _context26.next) {\n                case 0:\n                  b = u.reportApiInvoke(null, {\n                    tag: C.TRACER,\n                    name: D.REMOTE_AUDIO_SET_OUTPUT_DEVICE,\n                    options: [this.getTrackId(), a]\n                  });\n\n                  if (this._useAudioElement) {\n                    _context26.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.NOT_SUPPORTED, \"your browser does not support setting the audio output device\");\n\n                case 3:\n                  _context26.prev = 3;\n                  _context26.next = 6;\n                  return Bb.setSinkID(this.getTrackId(), a);\n\n                case 6:\n                  _context26.next = 11;\n                  break;\n\n                case 8:\n                  _context26.prev = 8;\n                  _context26.t0 = _context26[\"catch\"](3);\n                  throw b.onError(_context26.t0), _context26.t0;\n\n                case 11:\n                  b.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context26.stop();\n              }\n            }\n          }, _callee26, this, [[3, 8]]);\n        }));\n\n        function setPlaybackDevice(_x58) {\n          return _setPlaybackDevice.apply(this, arguments);\n        }\n\n        return setPlaybackDevice;\n      }()\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee27(a, b, c) {\n          var e;\n          return _regeneratorRuntime.wrap(function _callee27$(_context27) {\n            while (1) {\n              switch (_context27.prev = _context27.next) {\n                case 0:\n                  if (c) {\n                    _context27.next = 4;\n                    break;\n                  }\n\n                  if (!(a === this._enabled)) {\n                    _context27.next = 3;\n                    break;\n                  }\n\n                  return _context27.abrupt(\"return\");\n\n                case 3:\n                  this.stateCheck(\"enabled\", a);\n\n                case 4:\n                  k.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), a);\n                  _context27.next = 7;\n                  return this._enabledMutex.lock();\n\n                case 7:\n                  b = _context27.sent;\n\n                  if (a) {\n                    _context27.next = 19;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.enabled = !1;\n                  _context27.prev = 10;\n                  _context27.next = 13;\n                  return Za(this, G.NEED_REMOVE_TRACK, this);\n\n                case 13:\n                  _context27.next = 18;\n                  break;\n\n                case 15:\n                  _context27.prev = 15;\n                  _context27.t0 = _context27[\"catch\"](10);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled to false error\"), _context27.t0.toString()), b(), _context27.t0;\n\n                case 18:\n                  return _context27.abrupt(\"return\", (c || (this._enabled = !1), b()));\n\n                case 19:\n                  this._originMediaStreamTrack.enabled = !0;\n                  _context27.prev = 20;\n                  _context27.next = 23;\n                  return Za(this, G.NEED_ADD_TRACK, this);\n\n                case 23:\n                  _context27.next = 28;\n                  break;\n\n                case 25:\n                  _context27.prev = 25;\n                  _context27.t1 = _context27[\"catch\"](20);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled to true error\"), _context27.t1.toString()), b(), _context27.t1;\n\n                case 28:\n                  k.info(m(e = \"[\".concat(this.getTrackId(), \"] setEnabled to \")).call(e, a, \" success\"));\n                  c || (this._enabled = !0);\n                  b();\n\n                case 31:\n                case \"end\":\n                  return _context27.stop();\n              }\n            }\n          }, _callee27, this, [[10, 15], [20, 25]]);\n        }));\n\n        function setEnabled(_x59, _x60, _x61) {\n          return _setEnabled.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"setMuted\",\n      value: function () {\n        var _setMuted = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee28(a) {\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee28$(_context28) {\n            while (1) {\n              switch (_context28.prev = _context28.next) {\n                case 0:\n                  if (!this._bypassWebAudio) {\n                    _context28.next = 5;\n                    break;\n                  }\n\n                  k.debug(m(c = \"[\".concat(this.getTrackId(), \"] setMuted:\")).call(c, a, \" fallback to setEnabled because no pass through.\"));\n                  _context28.next = 4;\n                  return this.setEnabled(!a);\n\n                case 4:\n                  return _context28.abrupt(\"return\", void _context28.sent);\n\n                case 5:\n                  if (!(a !== this._muted)) {\n                    _context28.next = 15;\n                    break;\n                  }\n\n                  if (!(this.stateCheck(\"muted\", a), this._muted = a, V().name === S.FIREFOX)) {\n                    _context28.next = 11;\n                    break;\n                  }\n\n                  k.debug(\"[\".concat(this.getTrackId(), \"] firefox set mute fallback to set enabled\"));\n                  _context28.next = 10;\n                  return this.setEnabled(!a, void 0, !0);\n\n                case 10:\n                  return _context28.abrupt(\"return\", void _context28.sent);\n\n                case 11:\n                  this._mediaStreamTrack.enabled = !a;\n                  k.debug(m(b = \"[\".concat(this.getTrackId(), \"] start set muted: \")).call(b, a));\n                  _context28.next = 15;\n                  return Za(this, G.SET_AUDIO_TRACK_MUTED, {\n                    track: this,\n                    muted: a\n                  });\n\n                case 15:\n                case \"end\":\n                  return _context28.stop();\n              }\n            }\n          }, _callee28, this);\n        }));\n\n        function setMuted(_x62) {\n          return _setMuted.apply(this, arguments);\n        }\n\n        return setMuted;\n      }()\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        Qd(function () {\n          k.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\");\n        }, \"localAudioTrackGetStatsWarning\");\n        return Hc(this, G.GET_STATS) || Pe({}, vf);\n      }\n    }, {\n      key: \"setAudioFrameCallback\",\n      value: function setAudioFrameCallback(a) {\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4096;\n        if (!a) return this._source.removeAllListeners(Mb.ON_AUDIO_BUFFER), void this._source.stopGetAudioBuffer();\n\n        this._source.startGetAudioBuffer(b);\n\n        this._source.removeAllListeners(Mb.ON_AUDIO_BUFFER);\n\n        this._source.on(Mb.ON_AUDIO_BUFFER, function (b) {\n          return a(b);\n        });\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.LOCAL_AUDIO_TRACK_PLAY,\n          options: [this.getTrackId()]\n        });\n        k.debug(\"[\".concat(this.getTrackId(), \"] start audio playback\"));\n        this._useAudioElement ? (k.debug(\"[\".concat(this.getTrackId(), \"] start audio playback in element\")), Bb.play(this._mediaStreamTrack, this.getTrackId(), this._volume)) : this._source.play();\n        a.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.LOCAL_AUDIO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        k.debug(\"[\".concat(this.getTrackId(), \"] stop audio playback\"));\n        this._useAudioElement ? Bb.stop(this.getTrackId()) : this._source.stop();\n        a.onSuccess();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(La.prototype), \"close\", this).call(this);\n\n        this._source.destroy();\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        k.debug(\"[\".concat(this.getTrackId(), \"] update player source track\"));\n\n        this._source.updateTrack(this._mediaStreamTrack);\n\n        this._useAudioElement && Bb.updateTrack(this.getTrackId(), this._mediaStreamTrack);\n      }\n    }, {\n      key: \"_updateOriginMediaStreamTrack\",\n      value: function () {\n        var _updateOriginMediaStreamTrack3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee29(a, b) {\n          return _regeneratorRuntime.wrap(function _callee29$(_context29) {\n            while (1) {\n              switch (_context29.prev = _context29.next) {\n                case 0:\n                  _context29.t0 = this._originMediaStreamTrack !== a;\n\n                  if (!_context29.t0) {\n                    _context29.next = 13;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.removeEventListener(\"ended\", this._handleTrackEnded);\n\n                  a.addEventListener(\"ended\", this._handleTrackEnded);\n                  b && this._originMediaStreamTrack.stop();\n                  this._originMediaStreamTrack = a;\n\n                  this._source.updateTrack(this._originMediaStreamTrack);\n\n                  _context29.t1 = this._mediaStreamTrack !== this._source.outputTrack;\n\n                  if (!_context29.t1) {\n                    _context29.next = 13;\n                    break;\n                  }\n\n                  this._mediaStreamTrack = this._originMediaStreamTrack;\n\n                  this._updatePlayerSource();\n\n                  _context29.next = 13;\n                  return Za(this, G.NEED_REPLACE_TRACK, this._mediaStreamTrack);\n\n                case 13:\n                case \"end\":\n                  return _context29.stop();\n              }\n            }\n          }, _callee29, this);\n        }));\n\n        function _updateOriginMediaStreamTrack(_x63, _x64) {\n          return _updateOriginMediaStreamTrack3.apply(this, arguments);\n        }\n\n        return _updateOriginMediaStreamTrack;\n      }()\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function renewMediaStreamTrack() {\n        return y.resolve(void 0);\n      }\n    }, {\n      key: \"isPlaying\",\n      get: function get() {\n        return this._useAudioElement ? Bb.isPlaying(this.getTrackId()) : this._source.isPlayed;\n      }\n    }]);\n\n    return La;\n  }(yf);\n\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [String]), Y(\"design:returntype\", y)], La.prototype, \"setPlaybackDevice\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [Boolean, Object, Boolean]), Y(\"design:returntype\", y)], La.prototype, \"setEnabled\", null);\n  tb([pa(), bg({\n    report: u\n  }), Y(\"design:type\", Function), Y(\"design:paramtypes\", [Boolean]), Y(\"design:returntype\", y)], La.prototype, \"setMuted\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", []), Y(\"design:returntype\", Object)], La.prototype, \"getStats\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [Object, Number]), Y(\"design:returntype\", void 0)], La.prototype, \"setAudioFrameCallback\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", []), Y(\"design:returntype\", void 0)], La.prototype, \"play\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", []), Y(\"design:returntype\", void 0)], La.prototype, \"stop\", null);\n\n  var ne =\n  /*#__PURE__*/\n  function (_La) {\n    _inherits(ne, _La);\n\n    function ne(a, b, c, e) {\n      var _this47;\n\n      _classCallCheck(this, ne);\n\n      _this47 = _possibleConstructorReturn(this, _getPrototypeOf(ne).call(this, a, b.encoderConfig ? Ge(b.encoderConfig) : {}, e));\n      _this47._deviceName = \"default\";\n      _this47._enabled = !0;\n      _this47._config = b;\n      _this47._constraints = c;\n      _this47._deviceName = a.label;\n      \"boolean\" == typeof b.bypassWebAudio && (_this47._bypassWebAudio = b.bypassWebAudio);\n      ad() && da.bindInterruptDetectorTrack(_assertThisInitialized(_assertThisInitialized(_this47)));\n      return _this47;\n    }\n\n    _createClass(ne, [{\n      key: \"setDevice\",\n      value: function () {\n        var _setDevice = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee30(a) {\n          var b, c, e, _c10, _e2;\n\n          return _regeneratorRuntime.wrap(function _callee30$(_context30) {\n            while (1) {\n              switch (_context30.prev = _context30.next) {\n                case 0:\n                  e = u.reportApiInvoke(null, {\n                    tag: C.TRACER,\n                    name: D.MIC_AUDIO_TRACK_SET_DEVICE,\n                    options: [this.getTrackId(), a]\n                  });\n\n                  if (!(k.info(m(b = \"[\".concat(this.getTrackId(), \"] start set device to \")).call(b, a)), this._enabled)) {\n                    _context30.next = 38;\n                    break;\n                  }\n\n                  _context30.prev = 2;\n                  _context30.next = 5;\n                  return lb.getDeviceById(a);\n\n                case 5:\n                  _c10 = _context30.sent;\n                  b = {};\n                  b.audio = Pe({}, this._constraints);\n                  b.audio.deviceId = {\n                    exact: a\n                  };\n\n                  this._originMediaStreamTrack.stop();\n\n                  _e2 = null;\n                  _context30.prev = 11;\n                  _context30.next = 14;\n                  return Fb(b, this.getTrackId());\n\n                case 14:\n                  _e2 = _context30.sent;\n                  _context30.next = 26;\n                  break;\n\n                case 17:\n                  _context30.prev = 17;\n                  _context30.t0 = _context30[\"catch\"](11);\n                  k.error(\"[\".concat(this.getTrackId(), \"] setDevice failed\"), _context30.t0.toString());\n                  _context30.next = 22;\n                  return Fb({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 22:\n                  _e2 = _context30.sent;\n                  _context30.next = 25;\n                  return this._updateOriginMediaStreamTrack(_e2.getAudioTracks()[0], !1);\n\n                case 25:\n                  throw _context30.t0;\n\n                case 26:\n                  _context30.next = 28;\n                  return this._updateOriginMediaStreamTrack(_e2.getAudioTracks()[0], !1);\n\n                case 28:\n                  this._deviceName = _c10.label;\n                  this._config.microphoneId = a;\n                  this._constraints.deviceId = {\n                    exact: a\n                  };\n                  _context30.next = 36;\n                  break;\n\n                case 33:\n                  _context30.prev = 33;\n                  _context30.t1 = _context30[\"catch\"](2);\n                  throw e.onError(_context30.t1), k.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context30.t1.toString()), _context30.t1;\n\n                case 36:\n                  _context30.next = 49;\n                  break;\n\n                case 38:\n                  _context30.prev = 38;\n                  _context30.next = 41;\n                  return lb.getDeviceById(a);\n\n                case 41:\n                  this._deviceName = _context30.sent.label;\n                  this._config.microphoneId = a;\n                  this._constraints.deviceId = {\n                    exact: a\n                  };\n                  _context30.next = 49;\n                  break;\n\n                case 46:\n                  _context30.prev = 46;\n                  _context30.t2 = _context30[\"catch\"](38);\n                  throw e.onError(_context30.t2), k.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context30.t2.toString()), _context30.t2;\n\n                case 49:\n                  e.onSuccess();\n                  k.info(m(c = \"[\".concat(this.getTrackId(), \"] set device to \")).call(c, a, \" success\"));\n\n                case 51:\n                case \"end\":\n                  return _context30.stop();\n              }\n            }\n          }, _callee30, this, [[2, 33], [11, 17], [38, 46]]);\n        }));\n\n        function setDevice(_x65) {\n          return _setDevice.apply(this, arguments);\n        }\n\n        return setDevice;\n      }()\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee31(a, b, c) {\n          var e, _a23;\n\n          return _regeneratorRuntime.wrap(function _callee31$(_context31) {\n            while (1) {\n              switch (_context31.prev = _context31.next) {\n                case 0:\n                  if (!b) {\n                    _context31.next = 5;\n                    break;\n                  }\n\n                  k.debug(\"[\".concat(this.getTrackId, \"] setEnabled false (do not close microphone)\"));\n                  _context31.next = 4;\n                  return _get(_getPrototypeOf(ne.prototype), \"setEnabled\", this).call(this, a);\n\n                case 4:\n                  return _context31.abrupt(\"return\", _context31.sent);\n\n                case 5:\n                  if (c) {\n                    _context31.next = 9;\n                    break;\n                  }\n\n                  if (!(a === this._enabled)) {\n                    _context31.next = 8;\n                    break;\n                  }\n\n                  return _context31.abrupt(\"return\");\n\n                case 8:\n                  this.stateCheck(\"enabled\", a);\n\n                case 9:\n                  k.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), a);\n                  _context31.next = 12;\n                  return this._enabledMutex.lock();\n\n                case 12:\n                  b = _context31.sent;\n\n                  if (a) {\n                    _context31.next = 26;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.onended = null;\n\n                  this._originMediaStreamTrack.stop();\n\n                  c || (this._enabled = !1);\n                  _context31.prev = 17;\n                  _context31.next = 20;\n                  return Za(this, G.NEED_REMOVE_TRACK, this);\n\n                case 20:\n                  _context31.next = 25;\n                  break;\n\n                case 22:\n                  _context31.prev = 22;\n                  _context31.t0 = _context31[\"catch\"](17);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled false failed\"), _context31.t0.toString()), b(), _context31.t0;\n\n                case 25:\n                  return _context31.abrupt(\"return\", void b());\n\n                case 26:\n                  a = Pe({}, this._constraints);\n                  e = lb.searchDeviceIdByName(this._deviceName);\n                  e && !a.deviceId && (a.deviceId = e);\n                  _context31.prev = 29;\n                  _context31.next = 32;\n                  return Fb({\n                    audio: this._constraints\n                  }, this.getTrackId());\n\n                case 32:\n                  _a23 = _context31.sent;\n                  _context31.next = 35;\n                  return this._updateOriginMediaStreamTrack(_a23.getAudioTracks()[0], !1);\n\n                case 35:\n                  _context31.next = 37;\n                  return Za(this, G.NEED_ADD_TRACK, this);\n\n                case 37:\n                  _context31.next = 42;\n                  break;\n\n                case 39:\n                  _context31.prev = 39;\n                  _context31.t1 = _context31[\"catch\"](29);\n                  throw b(), k.error(\"[\".concat(this.getTrackId(), \"] setEnabled true failed\"), _context31.t1.toString()), _context31.t1;\n\n                case 42:\n                  c || (this._enabled = !0);\n                  k.info(\"[\".concat(this.getTrackId(), \"] setEnabled success\"));\n                  b();\n\n                case 45:\n                case \"end\":\n                  return _context31.stop();\n              }\n            }\n          }, _callee31, this, [[17, 22], [29, 39]]);\n        }));\n\n        function setEnabled(_x66, _x67, _x68) {\n          return _setEnabled2.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(ne.prototype), \"close\", this).call(this);\n\n        ad() && da.unbindInterruptDetectorTrack(this);\n      }\n    }, {\n      key: \"onTrackEnded\",\n      value: function onTrackEnded() {\n        var _this48 = this;\n\n        if ((vb() || jc()) && this._enabled && !this._isClosed && da.duringInterruption) {\n          var a =\n          /*#__PURE__*/\n          function () {\n            var _ref29 = _asyncToGenerator(\n            /*#__PURE__*/\n            _regeneratorRuntime.mark(function _callee32() {\n              return _regeneratorRuntime.wrap(function _callee32$(_context32) {\n                while (1) {\n                  switch (_context32.prev = _context32.next) {\n                    case 0:\n                      da.off(Ha.IOS_INTERRUPTION_END, a);\n                      _context32.t0 = _this48._enabled && !_this48._isClosed;\n\n                      if (!_context32.t0) {\n                        _context32.next = 8;\n                        break;\n                      }\n\n                      k.debug(\"[\".concat(_this48.getTrackId(), \"] try capture microphone media device for interrupted iOS device.\"));\n                      _context32.next = 6;\n                      return _this48.setEnabled(!1);\n\n                    case 6:\n                      _context32.next = 8;\n                      return _this48.setEnabled(!0);\n\n                    case 8:\n                    case \"end\":\n                      return _context32.stop();\n                  }\n                }\n              }, _callee32, this);\n            }));\n\n            return function a() {\n              return _ref29.apply(this, arguments);\n            };\n          }();\n\n          da.on(Ha.IOS_INTERRUPTION_END, a);\n        } else k.debug(\"[\".concat(this.getTrackId(), \"] track ended\")), this.emit(Tc.TRACK_ENDED);\n      }\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function () {\n        var _renewMediaStreamTrack = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee33() {\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee33$(_context33) {\n            while (1) {\n              switch (_context33.prev = _context33.next) {\n                case 0:\n                  a = Pe({}, this._constraints);\n                  b = lb.searchDeviceIdByName(this._deviceName);\n                  b && !a.deviceId && (a.deviceId = b);\n                  _context33.next = 5;\n                  return Fb({\n                    audio: this._constraints\n                  }, this.getTrackId());\n\n                case 5:\n                  a = _context33.sent;\n                  _context33.next = 8;\n                  return this._updateOriginMediaStreamTrack(a.getAudioTracks()[0], !0);\n\n                case 8:\n                case \"end\":\n                  return _context33.stop();\n              }\n            }\n          }, _callee33, this);\n        }));\n\n        function renewMediaStreamTrack() {\n          return _renewMediaStreamTrack.apply(this, arguments);\n        }\n\n        return renewMediaStreamTrack;\n      }()\n    }]);\n\n    return ne;\n  }(La);\n\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [String]), Y(\"design:returntype\", y)], ne.prototype, \"setDevice\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [Boolean, Boolean, Boolean]), Y(\"design:returntype\", y)], ne.prototype, \"setEnabled\", null);\n\n  var Cd =\n  /*#__PURE__*/\n  function (_La2) {\n    _inherits(Cd, _La2);\n\n    function Cd(a, b, c, e) {\n      var _this49;\n\n      _classCallCheck(this, Cd);\n\n      _this49 = _possibleConstructorReturn(this, _getPrototypeOf(Cd).call(this, b.createOutputTrack(), c, e));\n      _this49.source = a;\n      _this49._bufferSource = b;\n\n      _this49._bufferSource.on(Mb.AUDIO_SOURCE_STATE_CHANGE, function (a) {\n        _this49.emit(Tc.SOURCE_STATE_CHANGE, a);\n      });\n\n      try {\n        _this49._mediaStreamTrack = _this49._source.createOutputTrack();\n      } catch (f) {}\n\n      return _this49;\n    }\n\n    _createClass(Cd, [{\n      key: \"getCurrentTime\",\n      value: function getCurrentTime() {\n        return this._bufferSource.currentTime;\n      }\n    }, {\n      key: \"startProcessAudioBuffer\",\n      value: function startProcessAudioBuffer(a) {\n        var b = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.BUFFER_AUDIO_TRACK_START,\n          options: [this.getTrackId(), a, this.duration]\n        });\n        a && this._bufferSource.updateOptions(a);\n\n        this._bufferSource.startProcessAudioBuffer();\n\n        b.onSuccess();\n      }\n    }, {\n      key: \"pauseProcessAudioBuffer\",\n      value: function pauseProcessAudioBuffer() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.BUFFER_AUDIO_TRACK_PAUSE,\n          options: [this.getTrackId()]\n        });\n\n        this._bufferSource.pauseProcessAudioBuffer();\n\n        a.onSuccess();\n      }\n    }, {\n      key: \"seekAudioBuffer\",\n      value: function seekAudioBuffer(a) {\n        var b = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.BUFFER_AUDIO_TRACK_SEEK,\n          options: [this.getTrackId()]\n        });\n\n        this._bufferSource.seekAudioBuffer(a);\n\n        b.onSuccess();\n      }\n    }, {\n      key: \"resumeProcessAudioBuffer\",\n      value: function resumeProcessAudioBuffer() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.BUFFER_AUDIO_TRACK_RESUME,\n          options: [this.getTrackId()]\n        });\n\n        this._bufferSource.resumeProcessAudioBuffer();\n\n        a.onSuccess();\n      }\n    }, {\n      key: \"stopProcessAudioBuffer\",\n      value: function stopProcessAudioBuffer() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.BUFFER_AUDIO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n\n        this._bufferSource.stopProcessAudioBuffer();\n\n        a.onSuccess();\n      }\n    }, {\n      key: \"currentState\",\n      get: function get() {\n        return this._bufferSource.currentState;\n      }\n    }, {\n      key: \"duration\",\n      get: function get() {\n        return this._bufferSource.duration;\n      }\n    }]);\n\n    return Cd;\n  }(La);\n\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [Object]), Y(\"design:returntype\", void 0)], Cd.prototype, \"startProcessAudioBuffer\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", []), Y(\"design:returntype\", void 0)], Cd.prototype, \"pauseProcessAudioBuffer\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", [Number]), Y(\"design:returntype\", void 0)], Cd.prototype, \"seekAudioBuffer\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", []), Y(\"design:returntype\", void 0)], Cd.prototype, \"resumeProcessAudioBuffer\", null);\n  tb([pa(), Y(\"design:type\", Function), Y(\"design:paramtypes\", []), Y(\"design:returntype\", void 0)], Cd.prototype, \"stopProcessAudioBuffer\", null);\n\n  var ab =\n  /*#__PURE__*/\n  function (_La3) {\n    _inherits(ab, _La3);\n\n    function ab() {\n      var _this50;\n\n      _classCallCheck(this, ab);\n\n      var a = Nd().createMediaStreamDestination();\n      _this50 = _possibleConstructorReturn(this, _getPrototypeOf(ab).call(this, a.stream.getAudioTracks()[0], void 0, va(8, \"track-mix-\")));\n\n      try {\n        _this50._mediaStreamTrack = _this50._source.createOutputTrack();\n      } catch (b) {}\n\n      _this50.destNode = a;\n      _this50.trackList = [];\n      return _this50;\n    }\n\n    _createClass(ab, [{\n      key: \"getSubTrackLabels\",\n      value: function getSubTrackLabels() {\n        var a;\n        return z(a = this.trackList).call(a, function (a) {\n          return a.getTrackLabel();\n        });\n      }\n    }, {\n      key: \"hasAudioTrack\",\n      value: function hasAudioTrack(a) {\n        var b;\n        return -1 !== J(b = this.trackList).call(b, a);\n      }\n    }, {\n      key: \"addAudioTrack\",\n      value: function addAudioTrack(a) {\n        var b;\n        -1 === J(b = this.trackList).call(b, a) ? (k.debug(\"add \".concat(a.getTrackId(), \" to mixing track\")), a._source.outputNode.connect(this.destNode), this.trackList.push(a), this.updateEncoderConfig()) : k.debug(\"track \".concat(a.getTrackId(), \" is already added\"));\n      }\n    }, {\n      key: \"removeAudioTrack\",\n      value: function removeAudioTrack(a) {\n        var b;\n\n        if (-1 !== J(b = this.trackList).call(b, a)) {\n          k.debug(\"remove \".concat(a.getTrackId(), \" from mixing track\"));\n\n          try {\n            a._source.outputNode.disconnect(this.destNode);\n          } catch (c) {}\n\n          Gc(this.trackList, a);\n          this.updateEncoderConfig();\n        }\n      }\n    }, {\n      key: \"updateEncoderConfig\",\n      value: function updateEncoderConfig() {\n        var a;\n        var b = {};\n        t(a = this.trackList).call(a, function (a) {\n          a._encoderConfig && ((a._encoderConfig.bitrate || 0) > (b.bitrate || 0) && (b.bitrate = a._encoderConfig.bitrate), (a._encoderConfig.sampleRate || 0) > (b.sampleRate || 0) && (b.sampleRate = a._encoderConfig.sampleRate), (a._encoderConfig.sampleSize || 0) > (b.sampleSize || 0) && (b.sampleSize = a._encoderConfig.sampleSize), a._encoderConfig.stereo && (b.stereo = !0));\n        });\n        this._encoderConfig = b;\n      }\n    }, {\n      key: \"isActive\",\n      get: function get() {\n        var a;\n        return !(!this.trackList.length || !U(a = this.trackList).call(a, function (a) {\n          return !a.muted;\n        }));\n      }\n    }]);\n\n    return ab;\n  }(La);\n\n  var kr =\n  /*#__PURE__*/\n  function (_Wa6) {\n    _inherits(kr, _Wa6);\n\n    function kr() {\n      var _this51;\n\n      _classCallCheck(this, kr);\n\n      _this51 = _possibleConstructorReturn(this, _getPrototypeOf(kr).apply(this, arguments));\n      _this51.resultStorage = new ba();\n      return _this51;\n    }\n\n    _createClass(kr, [{\n      key: \"setLocalAudioStats\",\n      value: function setLocalAudioStats(a, b, c) {\n        this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\", a, this.checkAudioInputLevel(c, b));\n        this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\", a, this.checkSendAudioBitrate(c, b));\n      }\n    }, {\n      key: \"setLocalVideoStats\",\n      value: function setLocalVideoStats(a, b, c) {\n        this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\", a, this.checkSendVideoBitrate(c, b));\n        this.record(\"FRAMERATE_INPUT_TOO_LOW\", a, this.checkFramerateInput(c, b));\n        this.record(\"FRAMERATE_SENT_TOO_LOW\", a, this.checkFramerateSent(c));\n      }\n    }, {\n      key: \"setRemoteAudioStats\",\n      value: function setRemoteAudioStats(a, b) {\n        a = a.getUserId();\n        this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\", a, this.checkAudioOutputLevel(b));\n      }\n    }, {\n      key: \"setRemoteVideoStats\",\n      value: function setRemoteVideoStats(a, b) {\n        a = a.getUserId();\n        this.record(\"RECV_VIDEO_DECODE_FAILED\", a, this.checkVideoDecode(b));\n      }\n    }, {\n      key: \"record\",\n      value: function record(a, b, c) {\n        this.resultStorage.has(a) || this.resultStorage.set(a, {\n          result: [],\n          isPrevNormal: !0\n        });\n        var e = this.resultStorage.get(a);\n\n        if (e && (e.result.push(c), 5 <= e.result.length)) {\n          var f;\n          c = Z(f = e.result).call(f, !0);\n          e.isPrevNormal && !c && this.emit(\"exception\", Dm[a], a, b);\n          !e.isPrevNormal && c && this.emit(\"exception\", Dm[a] + 2E3, a + \"_RECOVER\", b);\n          e.isPrevNormal = c;\n          e.result = [];\n        }\n      }\n    }, {\n      key: \"checkAudioOutputLevel\",\n      value: function checkAudioOutputLevel(a) {\n        return !(0 < a.receiveBitrate && 0 === a.receiveLevel);\n      }\n    }, {\n      key: \"checkAudioInputLevel\",\n      value: function checkAudioInputLevel(a, b) {\n        return b instanceof ab && !b.isActive || !!b.muted || 0 !== a.sendVolumeLevel;\n      }\n    }, {\n      key: \"checkFramerateInput\",\n      value: function checkFramerateInput(a, b) {\n        var c = null;\n        b._encoderConfig && b._encoderConfig.frameRate && (c = wc(b._encoderConfig.frameRate));\n        a = a.captureFrameRate;\n        return !c || !a || !(10 < c && 5 > a || 10 > c && 5 <= c && 1 >= a);\n      }\n    }, {\n      key: \"checkFramerateSent\",\n      value: function checkFramerateSent(a) {\n        return !(a.captureFrameRate && a.sendFrameRate && 5 < a.captureFrameRate && 1 >= a.sendFrameRate);\n      }\n    }, {\n      key: \"checkSendVideoBitrate\",\n      value: function checkSendVideoBitrate(a, b) {\n        return !!b.muted || 0 !== a.sendBitrate;\n      }\n    }, {\n      key: \"checkSendAudioBitrate\",\n      value: function checkSendAudioBitrate(a, b) {\n        return b instanceof ab && !b.isActive || !!b.muted || 0 !== a.sendBitrate;\n      }\n    }, {\n      key: \"checkVideoDecode\",\n      value: function checkVideoDecode(a) {\n        return 0 === a.receiveBitrate || 0 !== a.decodeFrameRate;\n      }\n    }]);\n\n    return kr;\n  }(Wa);\n\n  var Dm = {\n    FRAMERATE_INPUT_TOO_LOW: 1001,\n    FRAMERATE_SENT_TOO_LOW: 1002,\n    SEND_VIDEO_BITRATE_TOO_LOW: 1003,\n    RECV_VIDEO_DECODE_FAILED: 1005,\n    AUDIO_INPUT_LEVEL_TOO_LOW: 2001,\n    AUDIO_OUTPUT_LEVEL_TOO_LOW: 2002,\n    SEND_AUDIO_BITRATE_TOO_LOW: 2003\n  };\n\n  var oe =\n  /*#__PURE__*/\n  function () {\n    function oe(a) {\n      var _this52 = this;\n\n      _classCallCheck(this, oe);\n\n      this.localConnectionsMap = new ba();\n      this.remoteConnectionsMap = new ba();\n      this.trafficStatsPeerList = [];\n\n      this.updateStats = function () {\n        var a, c;\n        t(a = _this52.remoteConnectionsMap).call(a, function (a) {\n          var b;\n          var c = a.audioStats;\n          var e = a.videoStats,\n              r = a.pcStats;\n          var k = bc({}, kh),\n              w = bc({}, lh),\n              m = bc({}, fm),\n              n = a.connection.pc.getStats(),\n              q = n.audioRecv[0],\n              B = n.videoRecv[0];\n          r = r ? r.videoRecv[0] : void 0;\n          var t = !0 === a.connection.pc._statsFilter.videoIsReady,\n              u = _this52.trafficStats && U(b = _this52.trafficStats.peer_delay).call(b, function (b) {\n            return b.peer_uid === a.connection.getUserId();\n          });\n          q && (\"opus\" !== q.codec && \"aac\" !== q.codec || (k.codecType = q.codec), q.outputLevel ? k.receiveLevel = Math.round(32767 * q.outputLevel) : a.connection.user.audioTrack && (k.receiveLevel = Math.round(32767 * a.connection.user.audioTrack.getVolumeLevel())), k.receiveBytes = q.bytes, k.receivePackets = q.packets, k.receivePacketsLost = q.packetsLost, k.packetLossRate = k.receivePacketsLost / (k.receivePackets + k.receivePacketsLost), k.receiveBitrate = c ? 8 * Math.max(0, k.receiveBytes - c.receiveBytes) : 0, k.totalDuration = c ? c.totalDuration + 1 : 1, k.totalFreezeTime = c ? c.totalFreezeTime : 0, k.freezeRate = k.totalFreezeTime / k.totalDuration, k.receiveDelay = q.jitterBufferMs, b = a.connection.user.audioTrack, 10 < k.totalDuration && oe.isRemoteAudioFreeze(b) && (k.totalFreezeTime += 1));\n          B && (\"H264\" !== B.codec && \"VP8\" !== B.codec && \"VP9\" !== B.codec && \"AV1X\" !== B.codec || (w.codecType = B.codec), w.receiveBytes = B.bytes, w.receiveBitrate = e ? 8 * Math.max(0, w.receiveBytes - e.receiveBytes) : 0, w.decodeFrameRate = B.decodeFrameRate, w.renderFrameRate = B.decodeFrameRate, B.outputFrame && (w.renderFrameRate = B.outputFrame.frameRate), B.receivedFrame ? (w.receiveFrameRate = B.receivedFrame.frameRate, w.receiveResolutionHeight = B.receivedFrame.height, w.receiveResolutionWidth = B.receivedFrame.width) : a.connection.user.videoTrack && (w.receiveResolutionHeight = a.connection.user.videoTrack._videoHeight || 0, w.receiveResolutionWidth = a.connection.user.videoTrack._videoWidth || 0), void 0 !== B.framesRateFirefox && (w.receiveFrameRate = Math.round(B.framesRateFirefox)), w.receivePackets = B.packets, w.receivePacketsLost = B.packetsLost, w.packetLossRate = w.receivePacketsLost / (w.receivePackets + w.receivePacketsLost), w.totalDuration = e ? e.totalDuration + 1 : 1, w.totalFreezeTime = e ? e.totalFreezeTime : 0, w.receiveDelay = B.jitterBufferMs || 0, e = a.connection.user.videoTrack, a.connection.subscribeOptions.video && t && oe.isRemoteVideoFreeze(e, B, r) && (w.totalFreezeTime += 1), w.freezeRate = w.totalFreezeTime / w.totalDuration);\n          u && (k.end2EndDelay = u.B_ad, w.end2EndDelay = u.B_vd, k.transportDelay = u.B_ed, w.transportDelay = u.B_ed, k.currentPacketLossRate = u.B_ealr4 / 100, w.currentPacketLossRate = u.B_evlr4 / 100, m.uplinkNetworkQuality = u.B_punq ? u.B_punq : 0, m.downlinkNetworkQuality = u.B_pdnq ? u.B_punq : 0);\n          a.audioStats = k;\n          a.videoStats = w;\n          a.pcStats = n;\n          a.networkStats = m;\n          a.connection.user.audioTrack && _this52.exceptionMonitor.setRemoteAudioStats(a.connection.user.audioTrack, k);\n          a.connection.user.videoTrack && _this52.exceptionMonitor.setRemoteVideoStats(a.connection.user.videoTrack, w);\n        });\n        t(c = _this52.localConnectionsMap).call(c, function (a) {\n          var b = a.audioStats,\n              c = a.videoStats,\n              e = bc({}, vf),\n              k = bc({}, wf);\n          var p = a.connection.pc.getStats();\n          var w = p.audioSend[0];\n          p = p.videoSend[0];\n          var m = a.connection.getUserId();\n          w && (\"opus\" !== w.codec && \"aac\" !== w.codec || (e.codecType = w.codec), w.inputLevel ? e.sendVolumeLevel = Math.round(32767 * w.inputLevel) : a.connection.audioTrack && (e.sendVolumeLevel = Math.round(32767 * a.connection.audioTrack.getVolumeLevel())), e.sendBytes = w.bytes, e.sendPackets = w.packets, e.sendPacketsLost = w.packetsLost, e.sendBitrate = b ? 8 * Math.max(0, e.sendBytes - b.sendBytes) : 0);\n          p && (\"H264\" !== p.codec && \"VP8\" !== p.codec && \"VP9\" !== p.codec && \"AV1X\" !== p.codec || (k.codecType = p.codec), k.sendBytes = p.bytes, k.sendBitrate = c ? 8 * Math.max(0, k.sendBytes - c.sendBytes) : 0, p.inputFrame ? (k.captureFrameRate = p.inputFrame.frameRate, k.captureResolutionHeight = p.inputFrame.height, k.captureResolutionWidth = p.inputFrame.width) : a.connection.videoTrack && (k.captureResolutionWidth = a.connection.videoTrack._videoWidth || 0, k.captureResolutionHeight = a.connection.videoTrack._videoHeight || 0), p.sentFrame ? (k.sendFrameRate = p.sentFrame.frameRate, k.sendResolutionHeight = p.sentFrame.height, k.sendResolutionWidth = p.sentFrame.width) : a.connection.videoTrack && (k.sendResolutionWidth = a.connection.videoTrack._videoWidth || 0, k.sendResolutionHeight = a.connection.videoTrack._videoHeight || 0), p.avgEncodeMs && (k.encodeDelay = p.avgEncodeMs), a.connection.videoTrack && a.connection.videoTrack._encoderConfig && a.connection.videoTrack._encoderConfig.bitrateMax && (k.targetSendBitrate = 1E3 * a.connection.videoTrack._encoderConfig.bitrateMax), k.sendPackets = p.packets, k.sendPacketsLost = p.packetsLost, k.totalDuration = c ? c.totalDuration + 1 : 1, k.totalFreezeTime = c ? c.totalFreezeTime : 0, _this52.isLocalVideoFreeze(p) && (k.totalFreezeTime += 1));\n          _this52.trafficStats && (e.sendPacketsLost = _this52.trafficStats.B_palr4 / 100, k.sendPacketsLost = _this52.trafficStats.B_pvlr4 / 100);\n          a.audioStats = e;\n          a.videoStats = k;\n          a.audioStats && a.connection.audioTrack && _this52.exceptionMonitor.setLocalAudioStats(m, a.connection.audioTrack, a.audioStats);\n          a.videoStats && a.connection.videoTrack && _this52.exceptionMonitor.setLocalVideoStats(m, a.connection.videoTrack, a.videoStats);\n        });\n      };\n\n      this.clientId = a;\n      this.updateStatsInterval = window.setInterval(this.updateStats, 1E3);\n      this.exceptionMonitor = new kr();\n      this.exceptionMonitor.on(\"exception\", function (a, c, e) {\n        _this52.onStatsException && _this52.onStatsException(a, c, e);\n      });\n    }\n\n    _createClass(oe, [{\n      key: \"reset\",\n      value: function reset() {\n        this.localConnectionsMap = new ba();\n        this.remoteConnectionsMap = new ba();\n        this.trafficStats = void 0;\n        this.trafficStatsPeerList = [];\n        this.uplinkStats = void 0;\n      }\n    }, {\n      key: \"getLocalAudioTrackStats\",\n      value: function getLocalAudioTrackStats(a) {\n        return (a = this.localConnectionsMap.get(a)) && a.audioStats ? a.audioStats : bc({}, vf);\n      }\n    }, {\n      key: \"getLocalVideoTrackStats\",\n      value: function getLocalVideoTrackStats(a) {\n        return (a = this.localConnectionsMap.get(a)) && a.videoStats ? a.videoStats : bc({}, wf);\n      }\n    }, {\n      key: \"getRemoteAudioTrackStats\",\n      value: function getRemoteAudioTrackStats(a) {\n        var b;\n        var c = this.remoteConnectionsMap.get(a);\n        if (!c || !c.audioStats) return bc({}, kh);\n        if (!this.trafficStats) return c.audioStats;\n        a = U(b = this.trafficStats.peer_delay).call(b, function (a) {\n          return a.peer_uid === c.connection.user.uid;\n        });\n        return a && (c.audioStats.publishDuration = a.B_ppad + (x() - this.trafficStats.timestamp)), c.audioStats;\n      }\n    }, {\n      key: \"getRemoteNetworkQualityStats\",\n      value: function getRemoteNetworkQualityStats(a) {\n        return (a = this.remoteConnectionsMap.get(a)) && a.networkStats ? a.networkStats : bc({}, fm);\n      }\n    }, {\n      key: \"getRemoteVideoTrackStats\",\n      value: function getRemoteVideoTrackStats(a) {\n        var b;\n        var c = this.remoteConnectionsMap.get(a);\n        if (!c || !c.videoStats) return bc({}, lh);\n        if (!this.trafficStats) return c.videoStats;\n        a = U(b = this.trafficStats.peer_delay).call(b, function (a) {\n          return a.peer_uid === c.connection.user.uid;\n        });\n        return a && (c.videoStats.publishDuration = a.B_ppvd + (x() - this.trafficStats.timestamp)), c.videoStats;\n      }\n    }, {\n      key: \"getRTCStats\",\n      value: function getRTCStats() {\n        var a, b;\n        var c = 0,\n            e = 0,\n            f = 0,\n            h = 0;\n        t(a = this.localConnectionsMap).call(a, function (a) {\n          a.audioStats && (c += a.audioStats.sendBytes, e += a.audioStats.sendBitrate);\n          a.videoStats && (c += a.videoStats.sendBytes, e += a.videoStats.sendBitrate);\n        });\n        t(b = this.remoteConnectionsMap).call(b, function (a) {\n          a.audioStats && (f += a.audioStats.receiveBytes, h += a.audioStats.receiveBitrate);\n          a.videoStats && (f += a.videoStats.receiveBytes, h += a.videoStats.receiveBitrate);\n        });\n        a = 1;\n        return this.trafficStats && (a += this.trafficStats.peer_delay.length), {\n          Duration: 0,\n          UserCount: a,\n          SendBitrate: e,\n          SendBytes: c,\n          RecvBytes: f,\n          RecvBitrate: h,\n          OutgoingAvailableBandwidth: this.uplinkStats ? this.uplinkStats.B_uab / 1E3 : 0,\n          RTT: this.trafficStats ? 2 * this.trafficStats.B_acd : 0\n        };\n      }\n    }, {\n      key: \"removeConnection\",\n      value: function removeConnection(a) {\n        this.localConnectionsMap.delete(a);\n        this.remoteConnectionsMap.delete(a);\n      }\n    }, {\n      key: \"addLocalConnection\",\n      value: function addLocalConnection(a) {\n        var b = a.connectionId;\n        this.localConnectionsMap.has(b) || this.localConnectionsMap.set(b, {\n          connection: a\n        });\n      }\n    }, {\n      key: \"addRemoteConnection\",\n      value: function addRemoteConnection(a) {\n        var b = a.connectionId;\n        this.remoteConnectionsMap.has(b) || this.remoteConnectionsMap.set(b, {\n          connection: a\n        });\n      }\n    }, {\n      key: \"updateTrafficStats\",\n      value: function updateTrafficStats(a) {\n        var _this53 = this;\n\n        var b;\n        var c = I(b = a.peer_delay).call(b, function (a) {\n          var b;\n          return -1 === J(b = _this53.trafficStatsPeerList).call(b, a.peer_uid);\n        });\n        t(c).call(c, function (a) {\n          var b, c;\n          var e = U(b = Ub(Uc(c = _this53.remoteConnectionsMap).call(c))).call(b, function (b) {\n            return b.connection._userId === a.peer_uid;\n          });\n          void 0 !== a.B_ppad && void 0 !== a.B_ppvd && (_this53.onUploadPublishDuration && _this53.onUploadPublishDuration(a.peer_uid, a.B_ppad, a.B_ppvd, e ? x() - e.connection.startTime : 0), _this53.trafficStatsPeerList.push(a.peer_uid));\n        });\n        this.trafficStats = a;\n      }\n    }, {\n      key: \"updateUplinkStats\",\n      value: function updateUplinkStats(a) {\n        var b;\n        this.uplinkStats && this.uplinkStats.B_fir !== a.B_fir && k.debug(m(b = \"[\".concat(this.clientId, \"]: Period fir changes to \")).call(b, a.B_fir));\n        this.uplinkStats = a;\n      }\n    }, {\n      key: \"isLocalVideoFreeze\",\n      value: function isLocalVideoFreeze(a) {\n        return !(!a.inputFrame || !a.sentFrame) && 5 < a.inputFrame.frameRate && 3 > a.sentFrame.frameRate;\n      }\n    }], [{\n      key: \"isRemoteVideoFreeze\",\n      value: function isRemoteVideoFreeze(a, b, c) {\n        if (!a) return !1;\n        a = !c || b.framesDecodeCount > c.framesDecodeCount;\n        return !!c && b.framesDecodeFreezeTime > c.framesDecodeFreezeTime || !a;\n      }\n    }, {\n      key: \"isRemoteAudioFreeze\",\n      value: function isRemoteAudioFreeze(a) {\n        return !!a && a._isFreeze();\n      }\n    }]);\n\n    return oe;\n  }();\n\n  var Em;\n\n  var Qe = function Qe() {},\n      vj = {},\n      Fm = new (\n  /*#__PURE__*/\n  function () {\n    function _class7() {\n      _classCallCheck(this, _class7);\n\n      this.fnMap = new ba();\n    }\n\n    _createClass(_class7, [{\n      key: \"throttleByKey\",\n      value: function throttleByKey(a, b, c, e) {\n        var _this54 = this;\n\n        for (var _len15 = arguments.length, f = new Array(_len15 > 4 ? _len15 - 4 : 0), _key15 = 4; _key15 < _len15; _key15++) {\n          f[_key15 - 4] = arguments[_key15];\n        }\n\n        if (this.fnMap.has(b)) {\n          var _h, _h2;\n\n          var h = this.fnMap.get(b);\n          h.threshold !== c ? ((_h = h).fn.apply(_h, _toConsumableArray(h.args)), clearTimeout(h.timer), h = window.setTimeout(function () {\n            var a = _this54.fnMap.get(b);\n\n            a && a.fn.apply(a, _toConsumableArray(a.args));\n\n            _this54.fnMap.delete(b);\n          }, c), this.fnMap.set(b, {\n            fn: a,\n            threshold: c,\n            timer: h,\n            args: f,\n            skipFn: e\n          })) : (h.skipFn && (_h2 = h).skipFn.apply(_h2, _toConsumableArray(h.args)), this.fnMap.set(b, hg({}, h, {\n            fn: a,\n            args: f,\n            skipFn: e\n          })));\n        } else h = window.setTimeout(function () {\n          var a = _this54.fnMap.get(b);\n\n          a && a.fn.apply(a, _toConsumableArray(a.args));\n\n          _this54.fnMap.delete(b);\n        }, c), this.fnMap.set(b, {\n          fn: a,\n          threshold: c,\n          timer: h,\n          args: f,\n          skipFn: e\n        });\n      }\n    }]);\n\n    return _class7;\n  }())(),\n      wm = xa(Em = Fm.throttleByKey).call(Em, Fm),\n      id =\n  /*#__PURE__*/\n  function () {\n    var _ref31 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee35(_ref30) {\n      var a, b, c, e, f, h, l, k, p;\n      return _regeneratorRuntime.wrap(function _callee35$(_context35) {\n        while (1) {\n          switch (_context35.prev = _context35.next) {\n            case 0:\n              a = _ref30.fragementLength, b = _ref30.referenceList, c = _ref30.asyncMapHandler, e = _ref30.allFailedhandler, f = _ref30.promisesCollector;\n              h = 0, k = 0;\n\n              p =\n              /*#__PURE__*/\n              function () {\n                var _ref32 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee34() {\n                  var r;\n                  return _regeneratorRuntime.wrap(function _callee34$(_context34) {\n                    while (1) {\n                      switch (_context34.prev = _context34.next) {\n                        case 0:\n                          r = function () {\n                            var e = h * a;\n                            var f = e + a;\n                            e = Ma(b).call(b, e, f);\n                            return z(e).call(e, c);\n                          }();\n\n                          f && f.push.apply(f, _toConsumableArray(r));\n                          _context34.prev = 2;\n                          _context34.next = 5;\n                          return gd(r);\n\n                        case 5:\n                          l = _context34.sent;\n                          _context34.next = 15;\n                          break;\n\n                        case 8:\n                          _context34.prev = 8;\n                          _context34.t0 = _context34[\"catch\"](2);\n\n                          if (!(k += a, h++, !(k >= b.length))) {\n                            _context34.next = 14;\n                            break;\n                          }\n\n                          _context34.next = 13;\n                          return p();\n\n                        case 13:\n                          return _context34.abrupt(\"return\", void _context34.sent);\n\n                        case 14:\n                          e(_context34.t0);\n\n                        case 15:\n                          t(r).call(r, function (a) {\n                            return a.cancel();\n                          });\n\n                        case 16:\n                        case \"end\":\n                          return _context34.stop();\n                      }\n                    }\n                  }, _callee34, this, [[2, 8]]);\n                }));\n\n                return function p() {\n                  return _ref32.apply(this, arguments);\n                };\n              }();\n\n              _context35.next = 5;\n              return p();\n\n            case 5:\n              return _context35.abrupt(\"return\", l);\n\n            case 6:\n            case \"end\":\n              return _context35.stop();\n          }\n        }\n      }, _callee35, this);\n    }));\n\n    return function id(_x69) {\n      return _ref31.apply(this, arguments);\n    };\n  }(),\n      no = (_no = {}, _defineProperty(_no, hd.ACCESS_POINT, (_hd$ACCESS_POINT = {}, _defineProperty(_hd$ACCESS_POINT, Ua.NO_FLAG_SET, {\n    desc: \"flag is zero\",\n    retry: !1\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.FLAG_SET_BUT_EMPTY, {\n    desc: \"flag is empty\",\n    retry: !1\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.INVALID_FALG_SET, {\n    desc: \"invalid flag\",\n    retry: !1\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE, {\n    desc: \"no service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_P2P, {\n    desc: \"no unilbs p2p service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_VOET, {\n    desc: \"no unilbs voice service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_WEBRTC, {\n    desc: \"no unilbs webrtc service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_CDS, {\n    desc: \"no cds service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_CDN, {\n    desc: \"no cdn dispatcher service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_TDS, {\n    desc: \"no tds service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_REPORT, {\n    desc: \"no unilbs report service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_APP_CENTER, {\n    desc: \"no app center service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_ENV0, {\n    desc: \"no unilbs sig env0 service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_VOET, {\n    desc: \"no unilbs voet service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_STRING_UID, {\n    desc: \"no string uid service available\",\n    retry: !0\n  }), _defineProperty(_hd$ACCESS_POINT, Ua.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS, {\n    desc: \"no webrtc unilbs service available\",\n    retry: !0\n  }), _hd$ACCESS_POINT)), _defineProperty(_no, hd.UNILBS, (_hd$UNILBS = {}, _defineProperty(_hd$UNILBS, rb.INVALID_VENDOR_KEY, {\n    desc: \"invalid vendor key, can not find appid\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.INVALID_CHANNEL_NAME, {\n    desc: \"invalid channel name\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.INTERNAL_ERROR, {\n    desc: \"unilbs internal error\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.NO_AUTHORIZED, {\n    desc: \"invalid token, authorized failed\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.DYNAMIC_KEY_TIMEOUT, {\n    desc: \"dynamic key or token timeout\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.NO_ACTIVE_STATUS, {\n    desc: \"no active status\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.DYNAMIC_KEY_EXPIRED, {\n    desc: \"dynamic key expired\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.STATIC_USE_DYNAMIC_KEY, {\n    desc: \"static use dynamic key\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.DYNAMIC_USE_STATIC_KEY, {\n    desc: \"dynamic use static key\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.USER_OVERLOAD, {\n    desc: \"amount of users over load\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.FORBIDDEN_REGION, {\n    desc: \"the request is forbidden in this area\",\n    retry: !1\n  }), _defineProperty(_hd$UNILBS, rb.CANNOT_MEET_AREA_DEMAND, {\n    desc: \"unable to allocate services in this area\",\n    retry: !1\n  }), _hd$UNILBS)), _defineProperty(_no, hd.STRING_UID_ALLOCATOR, (_hd$STRING_UID_ALLOCA = {}, _defineProperty(_hd$STRING_UID_ALLOCA, ie.IIIEGAL_APPID, {\n    desc: \"invalid appid\",\n    retry: !1\n  }), _defineProperty(_hd$STRING_UID_ALLOCA, ie.IIIEGAL_UID, {\n    desc: \"invalid string uid\",\n    retry: !1\n  }), _defineProperty(_hd$STRING_UID_ALLOCA, ie.INTERNAL_ERROR, {\n    desc: \"string uid allocator internal error\",\n    retry: !0\n  }), _hd$STRING_UID_ALLOCA)), _no),\n      oo = (_oo = {}, _defineProperty(_oo, F.K_TIMESTAMP_EXPIRED, {\n    desc: \"K_TIMESTAMP_EXPIRED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_CHANNEL_PERMISSION_INVALID, {\n    desc: \"K_CHANNEL_PERMISSION_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_CERTIFICATE_INVALID, {\n    desc: \"K_CERTIFICATE_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_CHANNEL_NAME_EMPTY, {\n    desc: \"K_CHANNEL_NAME_EMPTY\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_CHANNEL_NOT_FOUND, {\n    desc: \"K_CHANNEL_NOT_FOUND\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_TICKET_INVALID, {\n    desc: \"K_TICKET_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_CHANNEL_CONFLICTED, {\n    desc: \"K_CHANNEL_CONFLICTED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_SERVICE_NOT_READY, {\n    desc: \"K_SERVICE_NOT_READY\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.K_SERVICE_TOO_HEAVY, {\n    desc: \"K_SERVICE_TOO_HEAVY\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.K_UID_BANNED, {\n    desc: \"K_UID_BANNED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.K_IP_BANNED, {\n    desc: \"K_IP_BANNED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_INVALID_VENDOR_KEY, {\n    desc: \"ERR_INVALID_VENDOR_KEY\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_INVALID_CHANNEL_NAME, {\n    desc: \"ERR_INVALID_CHANNEL_NAME\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.WARN_NO_AVAILABLE_CHANNEL, {\n    desc: \"WARN_NO_AVAILABLE_CHANNEL\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.WARN_LOOKUP_CHANNEL_TIMEOUT, {\n    desc: \"WARN_LOOKUP_CHANNEL_TIMEOUT\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.WARN_LOOKUP_CHANNEL_REJECTED, {\n    desc: \"WARN_LOOKUP_CHANNEL_REJECTED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.WARN_OPEN_CHANNEL_TIMEOUT, {\n    desc: \"WARN_OPEN_CHANNEL_TIMEOUT\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.WARN_OPEN_CHANNEL_REJECTED, {\n    desc: \"WARN_OPEN_CHANNEL_REJECTED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.WARN_REQUEST_DEFERRED, {\n    desc: \"WARN_REQUEST_DEFERRED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_DYNAMIC_KEY_TIMEOUT, {\n    desc: \"ERR_DYNAMIC_KEY_TIMEOUT\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_NO_AUTHORIZED, {\n    desc: \"ERR_NO_AUTHORIZED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_VOM_SERVICE_UNAVAILABLE, {\n    desc: \"ERR_VOM_SERVICE_UNAVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_NO_CHANNEL_AVAILABLE_CODE, {\n    desc: \"ERR_NO_CHANNEL_AVAILABLE_CODE\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_MASTER_VOCS_UNAVAILABLE, {\n    desc: \"ERR_MASTER_VOCS_UNAVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_INTERNAL_ERROR, {\n    desc: \"ERR_INTERNAL_ERROR\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_NO_ACTIVE_STATUS, {\n    desc: \"ERR_NO_ACTIVE_STATUS\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_INVALID_UID, {\n    desc: \"ERR_INVALID_UID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_DYNAMIC_KEY_EXPIRED, {\n    desc: \"ERR_DYNAMIC_KEY_EXPIRED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_STATIC_USE_DYANMIC_KE, {\n    desc: \"ERR_STATIC_USE_DYANMIC_KE\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_DYNAMIC_USE_STATIC_KE, {\n    desc: \"ERR_DYNAMIC_USE_STATIC_KE\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_NO_VOCS_AVAILABLE, {\n    desc: \"ERR_NO_VOCS_AVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_NO_VOS_AVAILABLE, {\n    desc: \"ERR_NO_VOS_AVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_JOIN_CHANNEL_TIMEOUT, {\n    desc: \"ERR_JOIN_CHANNEL_TIMEOUT\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_JOIN_BY_MULTI_IP, {\n    desc: \"ERR_JOIN_BY_MULTI_IP\",\n    action: \"recover\"\n  }), _defineProperty(_oo, F.ERR_NOT_JOINED, {\n    desc: \"ERR_NOT_JOINED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_REPEAT_JOIN_REQUEST, {\n    desc: \"ERR_REPEAT_JOIN_REQUEST\",\n    action: \"quit\"\n  }), _defineProperty(_oo, F.ERR_REPEAT_JOIN_CHANNEL, {\n    desc: \"ERR_REPEAT_JOIN_CHANNEL\",\n    action: \"quit\"\n  }), _defineProperty(_oo, F.ERR_INVALID_VENDOR_KEY, {\n    desc: \"ERR_INVALID_VENDOR_KEY\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_INVALID_CHANNEL_NAME, {\n    desc: \"ERR_INVALID_CHANNEL_NAME\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_INVALID_STRINGUID, {\n    desc: \"ERR_INVALID_STRINGUID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_TOO_MANY_USERS, {\n    desc: \"ERR_TOO_MANY_USERS\",\n    action: \"tryNext\"\n  }), _defineProperty(_oo, F.ERR_SET_CLIENT_ROLE_TIMEOUT, {\n    desc: \"ERR_SET_CLIENT_ROLE_TIMEOUT\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_SET_CLIENT_ROLE_NO_PERMISSION, {\n    desc: \"ERR_SET_CLIENT_ROLE_TIMEOUT\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE, {\n    desc: \"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",\n    action: \"success\"\n  }), _defineProperty(_oo, F.ERR_PUBLISH_REQUEST_INVALID, {\n    desc: \"ERR_PUBLISH_REQUEST_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_SUBSCRIBE_REQUEST_INVALID, {\n    desc: \"ERR_SUBSCRIBE_REQUEST_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_NOT_SUPPORTED_MESSAGE, {\n    desc: \"ERR_NOT_SUPPORTED_MESSAGE\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_ILLEAGAL_PLUGIN, {\n    desc: \"ERR_ILLEAGAL_PLUGIN\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ILLEGAL_CLIENT_ROLE_LEVEL, {\n    desc: \"ILLEGAL_CLIENT_ROLE_LEVEL\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_REJOIN_TOKEN_INVALID, {\n    desc: \"ERR_REJOIN_TOKEN_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_REJOIN_USER_NOT_JOINED, {\n    desc: \"ERR_REJOIN_NOT_JOINED\",\n    action: \"failed\"\n  }), _defineProperty(_oo, F.ERR_INVALID_OPTIONAL_INFO, {\n    desc: \"ERR_INVALID_OPTIONAL_INFO\",\n    action: \"quit\"\n  }), _defineProperty(_oo, F.ERR_TEST_RECOVER, {\n    desc: \"ERR_TEST_RECOVER\",\n    action: \"recover\"\n  }), _defineProperty(_oo, F.ERR_TEST_TRYNEXT, {\n    desc: \"ERR_TEST_TRYNEXT\",\n    action: \"recover\"\n  }), _defineProperty(_oo, F.ERR_TEST_RETRY, {\n    desc: \"ERR_TEST_RETRY\",\n    action: \"recover\"\n  }), _defineProperty(_oo, F.ILLEGAL_AES_PASSWORD, {\n    desc: \"ERR_TEST_RETRY\",\n    action: \"failed\"\n  }), _oo);\n\n  var nr = ub(function (a, b) {\n    a.exports = function () {\n      function a(a) {\n        for (var b = a.length, c = 0, e = 0; e < b;) {\n          var f = a.charCodeAt(e++);\n          if (0 != (4294967168 & f)) {\n            if (0 == (4294965248 & f)) c += 2;else {\n              if (55296 <= f && 56319 >= f && e < b) {\n                var h = a.charCodeAt(e);\n                56320 == (64512 & h) && (++e, f = ((1023 & f) << 10) + (1023 & h) + 65536);\n              }\n\n              c += 0 == (4294901760 & f) ? 3 : 4;\n            }\n          } else c++;\n        }\n\n        return c;\n      }\n\n      function b(a, b, c) {\n        c = b + c;\n\n        for (var e = [], f = \"\"; b < c;) {\n          var h = a[b++];\n          if (0 == (128 & h)) e.push(h);else if (192 == (224 & h)) {\n            var l = 63 & a[b++];\n            e.push((31 & h) << 6 | l);\n          } else if (224 == (240 & h)) {\n            l = 63 & a[b++];\n            var k = 63 & a[b++];\n            e.push((31 & h) << 12 | l << 6 | k);\n          } else 240 == (248 & h) ? (h = (7 & h) << 18 | (63 & a[b++]) << 12 | (63 & a[b++]) << 6 | 63 & a[b++], 65535 < h && (h -= 65536, e.push(h >>> 10 & 1023 | 55296), h = 56320 | 1023 & h), e.push(h)) : e.push(h);\n          4096 <= e.length && (f += String.fromCharCode.apply(String, E([], F(e))), e.length = 0);\n        }\n\n        return 0 < e.length && (f += String.fromCharCode.apply(String, E([], F(e)))), f;\n      }\n\n      function f(a, b) {\n        return 4294967296 * a.getInt32(b) + a.getUint32(b + 4);\n      }\n\n      function h(a) {\n        var b,\n            c = a.sec;\n        a = a.nsec;\n\n        if (0 <= c && 0 <= a && 17179869183 >= c) {\n          if (0 === a && 4294967295 >= c) {\n            var e = new Uint8Array(4);\n            return new DataView(e.buffer).setUint32(0, c), e;\n          }\n\n          var f = c / 4294967296;\n          c &= 4294967295;\n          return e = new Uint8Array(8), (b = new DataView(e.buffer)).setUint32(0, a << 2 | 3 & f), b.setUint32(4, c), e;\n        }\n\n        e = new Uint8Array(12);\n        (b = new DataView(e.buffer)).setUint32(0, a);\n        b.setUint32(4, Math.floor(c / 4294967296));\n        b.setUint32(8, c);\n        return e;\n      }\n\n      function l(a) {\n        var b = a.getTime();\n        a = Math.floor(b / 1E3);\n        b = 1E6 * (b - 1E3 * a);\n        var c = Math.floor(b / 1E9);\n        return {\n          sec: a + c,\n          nsec: b - 1E9 * c\n        };\n      }\n\n      function k(a) {\n        return a instanceof Date ? h(l(a)) : null;\n      }\n\n      function p(a) {\n        var b = new DataView(a.buffer, a.byteOffset, a.byteLength);\n\n        switch (a.byteLength) {\n          case 4:\n            return {\n              sec: b.getUint32(0),\n              nsec: 0\n            };\n\n          case 8:\n            return a = b.getUint32(0), {\n              sec: 4294967296 * (3 & a) + b.getUint32(4),\n              nsec: a >>> 2\n            };\n\n          case 12:\n            return {\n              sec: f(b, 4),\n              nsec: b.getUint32(0)\n            };\n\n          default:\n            throw Error(\"Unrecognized data size for timestamp: \" + a.length);\n        }\n      }\n\n      function m(a) {\n        a = p(a);\n        return new Date(1E3 * a.sec + a.nsec / 1E6);\n      }\n\n      function n(a) {\n        return a instanceof Uint8Array ? a : ArrayBuffer.isView(a) ? new Uint8Array(a.buffer, a.byteOffset, a.byteLength) : a instanceof ArrayBuffer ? new Uint8Array(a) : Uint8Array.from(a);\n      }\n\n      function q(a, b) {\n        return void 0 === b && (b = O), new M(b.extensionCodec, b.context, b.maxDepth, b.initialBufferSize, b.sortKeys, b.forceFloat32, b.ignoreUndefined, b.forceIntegerToFloat).encode(a);\n      }\n\n      function t(a) {\n        return (0 > a ? \"-\" : \"\") + \"0x\" + Math.abs(a).toString(16).padStart(2, \"0\");\n      }\n\n      function B(a, b) {\n        return void 0 === b && (b = Z), new W(b.extensionCodec, b.context, b.maxStrLength, b.maxBinLength, b.maxArrayLength, b.maxMapLength, b.maxExtLength).decode(a);\n      }\n\n      function u(a, b) {\n        return void 0 === b && (b = Z), new W(b.extensionCodec, b.context, b.maxStrLength, b.maxBinLength, b.maxArrayLength, b.maxMapLength, b.maxExtLength).decodeMulti(a);\n      }\n\n      function v(a) {\n        return null != a[Symbol.asyncIterator] ? a : function (a) {\n          return ha(this, arguments, function () {\n            var b, c, e, f;\n            return fa(this, function (h) {\n              switch (h.label) {\n                case 0:\n                  b = a.getReader(), h.label = 1;\n\n                case 1:\n                  h.trys.push([1,, 9, 10]), h.label = 2;\n\n                case 2:\n                  return [4, ba(b.read())];\n\n                case 3:\n                  return c = h.sent(), e = c.done, f = c.value, e ? [4, ba(void 0)] : [3, 5];\n\n                case 4:\n                  return [2, h.sent()];\n\n                case 5:\n                  if (null == f) throw Error(\"Assertion Failure: value must not be null nor undefined\");\n                  return [4, ba(f)];\n\n                case 6:\n                  return [4, h.sent()];\n\n                case 7:\n                  return h.sent(), [3, 2];\n\n                case 8:\n                  return [3, 10];\n\n                case 9:\n                  return b.releaseLock(), [7];\n\n                case 10:\n                  return [2];\n              }\n            });\n          });\n        }(a);\n      }\n\n      function x(a, b) {\n        return void 0 === b && (b = Z), c = this, e = void 0, h = function h() {\n          var c;\n          return function (a, b) {\n            function c(c) {\n              return function (l) {\n                return function (c) {\n                  if (e) throw new TypeError(\"Generator is already executing.\");\n\n                  for (; k;) {\n                    try {\n                      if (e = 1, f && (h = 2 & c[0] ? f.return : c[0] ? f.throw || ((h = f.return) && h.call(f), 0) : f.next) && !(h = h.call(f, c[1])).done) return h;\n\n                      switch (f = 0, h && (c = [2 & c[0], h.value]), c[0]) {\n                        case 0:\n                        case 1:\n                          h = c;\n                          break;\n\n                        case 4:\n                          return k.label++, {\n                            value: c[1],\n                            done: !1\n                          };\n\n                        case 5:\n                          k.label++;\n                          f = c[1];\n                          c = [0];\n                          continue;\n\n                        case 7:\n                          c = k.ops.pop();\n                          k.trys.pop();\n                          continue;\n\n                        default:\n                          if (!((h = 0 < (h = k.trys).length && h[h.length - 1]) || 6 !== c[0] && 2 !== c[0])) {\n                            k = 0;\n                            continue;\n                          }\n\n                          if (3 === c[0] && (!h || c[1] > h[0] && c[1] < h[3])) k.label = c[1];else if (6 === c[0] && k.label < h[1]) k.label = h[1], h = c;else if (h && k.label < h[2]) k.label = h[2], k.ops.push(c);else {\n                            h[2] && k.ops.pop();\n                            k.trys.pop();\n                            continue;\n                          }\n                      }\n\n                      c = b.call(a, k);\n                    } catch (zf) {\n                      c = [6, zf], f = 0;\n                    } finally {\n                      e = h = 0;\n                    }\n                  }\n\n                  if (5 & c[0]) throw c[1];\n                  return {\n                    value: c[0] ? c[1] : void 0,\n                    done: !0\n                  };\n                }([c, l]);\n              };\n            }\n\n            var e,\n                f,\n                h,\n                l,\n                k = {\n              label: 0,\n              sent: function sent() {\n                if (1 & h[0]) throw h[1];\n                return h[1];\n              },\n              trys: [],\n              ops: []\n            };\n            return l = {\n              next: c(0),\n              throw: c(1),\n              return: c(2)\n            }, \"function\" == typeof Symbol && (l[Symbol.iterator] = function () {\n              return this;\n            }), l;\n          }(this, function (e) {\n            return c = v(a), [2, new W(b.extensionCodec, b.context, b.maxStrLength, b.maxBinLength, b.maxArrayLength, b.maxMapLength, b.maxExtLength).decodeAsync(c)];\n          });\n        }, new (f = void 0, f = Promise)(function (a, b) {\n          function l(a) {\n            try {\n              r(h.next(a));\n            } catch (zh) {\n              b(zh);\n            }\n          }\n\n          function k(a) {\n            try {\n              r(h.throw(a));\n            } catch (zh) {\n              b(zh);\n            }\n          }\n\n          function r(b) {\n            var c;\n            b.done ? a(b.value) : (c = b.value, c instanceof f ? c : new f(function (a) {\n              a(c);\n            })).then(l, k);\n          }\n\n          r((h = h.apply(c, e || [])).next());\n        });\n        var c, e, f, h;\n      }\n\n      function y(a, b) {\n        void 0 === b && (b = Z);\n        a = v(a);\n        return new W(b.extensionCodec, b.context, b.maxStrLength, b.maxBinLength, b.maxArrayLength, b.maxMapLength, b.maxExtLength).decodeArrayStream(a);\n      }\n\n      function z(a, b) {\n        void 0 === b && (b = Z);\n        a = v(a);\n        return new W(b.extensionCodec, b.context, b.maxStrLength, b.maxBinLength, b.maxArrayLength, b.maxMapLength, b.maxExtLength).decodeStream(a);\n      }\n\n      function A(a, b) {\n        return void 0 === b && (b = Z), z(a, b);\n      }\n\n      var C = {\n        d: function d(a, b) {\n          for (var c in b) {\n            C.o(b, c) && !C.o(a, c) && Object.defineProperty(a, c, {\n              enumerable: !0,\n              get: b[c]\n            });\n          }\n        },\n        o: function o(a, b) {\n          return Object.prototype.hasOwnProperty.call(a, b);\n        },\n        r: function r(a) {\n          \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(a, Symbol.toStringTag, {\n            value: \"Module\"\n          });\n          Object.defineProperty(a, \"__esModule\", {\n            value: !0\n          });\n        }\n      },\n          D = {};\n      C.r(D);\n      C.d(D, {\n        DecodeError: function DecodeError() {\n          return Q;\n        },\n        Decoder: function Decoder() {\n          return W;\n        },\n        EXT_TIMESTAMP: function EXT_TIMESTAMP() {\n          return kc;\n        },\n        Encoder: function Encoder() {\n          return M;\n        },\n        ExtData: function ExtData() {\n          return Pa;\n        },\n        ExtensionCodec: function ExtensionCodec() {\n          return Ic;\n        },\n        decode: function decode() {\n          return B;\n        },\n        decodeArrayStream: function decodeArrayStream() {\n          return y;\n        },\n        decodeAsync: function decodeAsync() {\n          return x;\n        },\n        decodeMulti: function decodeMulti() {\n          return u;\n        },\n        decodeMultiStream: function decodeMultiStream() {\n          return z;\n        },\n        decodeStream: function decodeStream() {\n          return A;\n        },\n        decodeTimestampExtension: function decodeTimestampExtension() {\n          return m;\n        },\n        decodeTimestampToTimeSpec: function decodeTimestampToTimeSpec() {\n          return p;\n        },\n        encode: function encode() {\n          return q;\n        },\n        encodeDateToTimeSpec: function encodeDateToTimeSpec() {\n          return l;\n        },\n        encodeTimeSpecToTimestamp: function encodeTimeSpecToTimestamp() {\n          return h;\n        },\n        encodeTimestampExtension: function encodeTimestampExtension() {\n          return k;\n        }\n      });\n\n      var F = function F(a, b) {\n        var c = \"function\" == typeof Symbol && a[Symbol.iterator];\n        if (!c) return a;\n        var e;\n        a = c.call(a);\n        var f = [];\n\n        try {\n          for (; (void 0 === b || 0 < b--) && !(e = a.next()).done;) {\n            f.push(e.value);\n          }\n        } catch (mr) {\n          var h = {\n            error: mr\n          };\n        } finally {\n          try {\n            e && !e.done && (c = a.return) && c.call(a);\n          } finally {\n            if (h) throw h.error;\n          }\n        }\n\n        return f;\n      },\n          E = function E(a, b) {\n        for (var c = 0, e = b.length, f = a.length; c < e; c++, f++) {\n          a[f] = b[c];\n        }\n\n        return a;\n      },\n          G = \"undefined\" != typeof TextEncoder && \"undefined\" != typeof TextDecoder,\n          I = G ? new TextEncoder() : void 0,\n          H = G ? \"undefined\" != typeof process ? 200 : 0 : 4294967295,\n          L = (null == I ? 0 : I.encodeInto) ? function (a, b, c) {\n        I.encodeInto(a, b.subarray(c));\n      } : function (a, b, c) {\n        b.set(I.encode(a), c);\n      },\n          J = G ? new TextDecoder() : null,\n          N = G ? \"undefined\" != typeof process ? 200 : 0 : 4294967295,\n          Pa = function Pa(a, b) {\n        this.type = a;\n        this.data = b;\n      },\n          kc = -1,\n          Rd = {\n        type: kc,\n        encode: k,\n        decode: m\n      },\n          Ic = function () {\n        function a() {\n          this.builtInEncoders = [];\n          this.builtInDecoders = [];\n          this.encoders = [];\n          this.decoders = [];\n          this.register(Rd);\n        }\n\n        return a.prototype.register = function (a) {\n          var b = a.type,\n              c = a.encode;\n          a = a.decode;\n          0 <= b ? (this.encoders[b] = c, this.decoders[b] = a) : (b = 1 + b, this.builtInEncoders[b] = c, this.builtInDecoders[b] = a);\n        }, a.prototype.tryToEncode = function (a, b) {\n          for (var c = 0; c < this.builtInEncoders.length; c++) {\n            if (null != (e = this.builtInEncoders[c]) && null != (f = e(a, b))) return new Pa(-1 - c, f);\n          }\n\n          for (c = 0; c < this.encoders.length; c++) {\n            var e, f;\n            if (null != (e = this.encoders[c]) && null != (f = e(a, b))) return new Pa(c, f);\n          }\n\n          return a instanceof Pa ? a : null;\n        }, a.prototype.decode = function (a, b, c) {\n          var e = 0 > b ? this.builtInDecoders[-1 - b] : this.decoders[b];\n          return e ? e(a, b, c) : new Pa(b, a);\n        }, a.defaultCodec = new a(), a;\n      }(),\n          Sd = function Sd(a) {\n        var b = \"function\" == typeof Symbol && Symbol.iterator,\n            c = b && a[b],\n            e = 0;\n        if (c) return c.call(a);\n        if (a && \"number\" == typeof a.length) return {\n          next: function next() {\n            return a && e >= a.length && (a = void 0), {\n              value: a && a[e++],\n              done: !a\n            };\n          }\n        };\n        throw new TypeError(b ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n      },\n          M = function () {\n        function b(a, b, c, e, f, h, l, k) {\n          void 0 === a && (a = Ic.defaultCodec);\n          void 0 === b && (b = void 0);\n          void 0 === c && (c = 100);\n          void 0 === e && (e = 2048);\n          void 0 === f && (f = !1);\n          void 0 === h && (h = !1);\n          void 0 === l && (l = !1);\n          void 0 === k && (k = !1);\n          this.extensionCodec = a;\n          this.context = b;\n          this.maxDepth = c;\n          this.initialBufferSize = e;\n          this.sortKeys = f;\n          this.forceFloat32 = h;\n          this.ignoreUndefined = l;\n          this.forceIntegerToFloat = k;\n          this.pos = 0;\n          this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n          this.bytes = new Uint8Array(this.view.buffer);\n        }\n\n        return b.prototype.getUint8Array = function () {\n          return this.bytes.subarray(0, this.pos);\n        }, b.prototype.reinitializeState = function () {\n          this.pos = 0;\n        }, b.prototype.encode = function (a) {\n          return this.reinitializeState(), this.doEncode(a, 1), this.getUint8Array();\n        }, b.prototype.doEncode = function (a, b) {\n          if (b > this.maxDepth) throw Error(\"Too deep objects in depth \" + b);\n          null == a ? this.encodeNil() : \"boolean\" == typeof a ? this.encodeBoolean(a) : \"number\" == typeof a ? this.encodeNumber(a) : \"string\" == typeof a ? this.encodeString(a) : this.encodeObject(a, b);\n        }, b.prototype.ensureBufferSizeToWrite = function (a) {\n          a = this.pos + a;\n          this.view.byteLength < a && this.resizeBuffer(2 * a);\n        }, b.prototype.resizeBuffer = function (a) {\n          var b = new ArrayBuffer(a);\n          a = new Uint8Array(b);\n          b = new DataView(b);\n          a.set(this.bytes);\n          this.view = b;\n          this.bytes = a;\n        }, b.prototype.encodeNil = function () {\n          this.writeU8(192);\n        }, b.prototype.encodeBoolean = function (a) {\n          !1 === a ? this.writeU8(194) : this.writeU8(195);\n        }, b.prototype.encodeNumber = function (a) {\n          Number.isSafeInteger(a) && !this.forceIntegerToFloat ? 0 <= a ? 128 > a ? this.writeU8(a) : 256 > a ? (this.writeU8(204), this.writeU8(a)) : 65536 > a ? (this.writeU8(205), this.writeU16(a)) : 4294967296 > a ? (this.writeU8(206), this.writeU32(a)) : (this.writeU8(207), this.writeU64(a)) : -32 <= a ? this.writeU8(224 | a + 32) : -128 <= a ? (this.writeU8(208), this.writeI8(a)) : -32768 <= a ? (this.writeU8(209), this.writeI16(a)) : -2147483648 <= a ? (this.writeU8(210), this.writeI32(a)) : (this.writeU8(211), this.writeI64(a)) : this.forceFloat32 ? (this.writeU8(202), this.writeF32(a)) : (this.writeU8(203), this.writeF64(a));\n        }, b.prototype.writeStringHeader = function (a) {\n          if (32 > a) this.writeU8(160 + a);else if (256 > a) this.writeU8(217), this.writeU8(a);else if (65536 > a) this.writeU8(218), this.writeU16(a);else {\n            if (!(4294967296 > a)) throw Error(\"Too long string: \" + a + \" bytes in UTF-8\");\n            this.writeU8(219);\n            this.writeU32(a);\n          }\n        }, b.prototype.encodeString = function (b) {\n          if (b.length > H) {\n            var c = a(b);\n            this.ensureBufferSizeToWrite(5 + c);\n            this.writeStringHeader(c);\n            L(b, this.bytes, this.pos);\n          } else {\n            c = a(b);\n            this.ensureBufferSizeToWrite(5 + c);\n            this.writeStringHeader(c);\n\n            for (var e = this.bytes, f = b.length, h = this.pos, l = 0; l < f;) {\n              var k = b.charCodeAt(l++);\n\n              if (0 != (4294967168 & k)) {\n                if (0 == (4294965248 & k)) e[h++] = k >> 6 & 31 | 192;else {\n                  if (55296 <= k && 56319 >= k && l < f) {\n                    var r = b.charCodeAt(l);\n                    56320 == (64512 & r) && (++l, k = ((1023 & k) << 10) + (1023 & r) + 65536);\n                  }\n\n                  0 == (4294901760 & k) ? (e[h++] = k >> 12 & 15 | 224, e[h++] = k >> 6 & 63 | 128) : (e[h++] = k >> 18 & 7 | 240, e[h++] = k >> 12 & 63 | 128, e[h++] = k >> 6 & 63 | 128);\n                }\n                e[h++] = 63 & k | 128;\n              } else e[h++] = k;\n            }\n          }\n\n          this.pos += c;\n        }, b.prototype.encodeObject = function (a, b) {\n          var c = this.extensionCodec.tryToEncode(a, this.context);\n          if (null != c) this.encodeExtension(c);else if (Array.isArray(a)) this.encodeArray(a, b);else if (ArrayBuffer.isView(a)) this.encodeBinary(a);else {\n            if (\"object\" != typeof a) throw Error(\"Unrecognized object: \" + Object.prototype.toString.apply(a));\n            this.encodeMap(a, b);\n          }\n        }, b.prototype.encodeBinary = function (a) {\n          var b = a.byteLength;\n          if (256 > b) this.writeU8(196), this.writeU8(b);else if (65536 > b) this.writeU8(197), this.writeU16(b);else {\n            if (!(4294967296 > b)) throw Error(\"Too large binary: \" + b);\n            this.writeU8(198);\n            this.writeU32(b);\n          }\n          a = n(a);\n          this.writeU8a(a);\n        }, b.prototype.encodeArray = function (a, b) {\n          var c,\n              e = a.length;\n          if (16 > e) this.writeU8(144 + e);else if (65536 > e) this.writeU8(220), this.writeU16(e);else {\n            if (!(4294967296 > e)) throw Error(\"Too large array: \" + e);\n            this.writeU8(221);\n            this.writeU32(e);\n          }\n\n          try {\n            for (var f = Sd(a), h = f.next(); !h.done; h = f.next()) {\n              this.doEncode(h.value, b + 1);\n            }\n          } catch (wh) {\n            var l = {\n              error: wh\n            };\n          } finally {\n            try {\n              h && !h.done && (c = f.return) && c.call(f);\n            } finally {\n              if (l) throw l.error;\n            }\n          }\n        }, b.prototype.countWithoutUndefined = function (a, b) {\n          var c,\n              e = 0;\n\n          try {\n            for (var f = Sd(b), h = f.next(); !h.done; h = f.next()) {\n              void 0 !== a[h.value] && e++;\n            }\n          } catch (wh) {\n            var l = {\n              error: wh\n            };\n          } finally {\n            try {\n              h && !h.done && (c = f.return) && c.call(f);\n            } finally {\n              if (l) throw l.error;\n            }\n          }\n\n          return e;\n        }, b.prototype.encodeMap = function (a, b) {\n          var c,\n              e = Object.keys(a);\n          this.sortKeys && e.sort();\n          var f = this.ignoreUndefined ? this.countWithoutUndefined(a, e) : e.length;\n          if (16 > f) this.writeU8(128 + f);else if (65536 > f) this.writeU8(222), this.writeU16(f);else {\n            if (!(4294967296 > f)) throw Error(\"Too large map object: \" + f);\n            this.writeU8(223);\n            this.writeU32(f);\n          }\n\n          try {\n            for (var h = Sd(e), l = h.next(); !l.done; l = h.next()) {\n              var k = l.value,\n                  r = a[k];\n              this.ignoreUndefined && void 0 === r || (this.encodeString(k), this.doEncode(r, b + 1));\n            }\n          } catch (Wc) {\n            var p = {\n              error: Wc\n            };\n          } finally {\n            try {\n              l && !l.done && (c = h.return) && c.call(h);\n            } finally {\n              if (p) throw p.error;\n            }\n          }\n        }, b.prototype.encodeExtension = function (a) {\n          var b = a.data.length;\n          if (1 === b) this.writeU8(212);else if (2 === b) this.writeU8(213);else if (4 === b) this.writeU8(214);else if (8 === b) this.writeU8(215);else if (16 === b) this.writeU8(216);else if (256 > b) this.writeU8(199), this.writeU8(b);else if (65536 > b) this.writeU8(200), this.writeU16(b);else {\n            if (!(4294967296 > b)) throw Error(\"Too large extension object: \" + b);\n            this.writeU8(201);\n            this.writeU32(b);\n          }\n          this.writeI8(a.type);\n          this.writeU8a(a.data);\n        }, b.prototype.writeU8 = function (a) {\n          this.ensureBufferSizeToWrite(1);\n          this.view.setUint8(this.pos, a);\n          this.pos++;\n        }, b.prototype.writeU8a = function (a) {\n          var b = a.length;\n          this.ensureBufferSizeToWrite(b);\n          this.bytes.set(a, this.pos);\n          this.pos += b;\n        }, b.prototype.writeI8 = function (a) {\n          this.ensureBufferSizeToWrite(1);\n          this.view.setInt8(this.pos, a);\n          this.pos++;\n        }, b.prototype.writeU16 = function (a) {\n          this.ensureBufferSizeToWrite(2);\n          this.view.setUint16(this.pos, a);\n          this.pos += 2;\n        }, b.prototype.writeI16 = function (a) {\n          this.ensureBufferSizeToWrite(2);\n          this.view.setInt16(this.pos, a);\n          this.pos += 2;\n        }, b.prototype.writeU32 = function (a) {\n          this.ensureBufferSizeToWrite(4);\n          this.view.setUint32(this.pos, a);\n          this.pos += 4;\n        }, b.prototype.writeI32 = function (a) {\n          this.ensureBufferSizeToWrite(4);\n          this.view.setInt32(this.pos, a);\n          this.pos += 4;\n        }, b.prototype.writeF32 = function (a) {\n          this.ensureBufferSizeToWrite(4);\n          this.view.setFloat32(this.pos, a);\n          this.pos += 4;\n        }, b.prototype.writeF64 = function (a) {\n          this.ensureBufferSizeToWrite(8);\n          this.view.setFloat64(this.pos, a);\n          this.pos += 8;\n        }, b.prototype.writeU64 = function (a) {\n          this.ensureBufferSizeToWrite(8);\n          var b = this.view,\n              c = this.pos;\n          b.setUint32(c, a / 4294967296);\n          b.setUint32(c + 4, a);\n          this.pos += 8;\n        }, b.prototype.writeI64 = function (a) {\n          this.ensureBufferSizeToWrite(8);\n          var b = this.view,\n              c = this.pos;\n          b.setUint32(c, Math.floor(a / 4294967296));\n          b.setUint32(c + 4, a);\n          this.pos += 8;\n        }, b;\n      }(),\n          O = {},\n          _R;\n\n      G = function () {\n        function a(a, b) {\n          void 0 === a && (a = 16);\n          void 0 === b && (b = 16);\n          this.maxKeyLength = a;\n          this.maxLengthPerKey = b;\n          this.miss = this.hit = 0;\n          this.caches = [];\n\n          for (a = 0; a < this.maxKeyLength; a++) {\n            this.caches.push([]);\n          }\n        }\n\n        return a.prototype.canBeCached = function (a) {\n          return 0 < a && a <= this.maxKeyLength;\n        }, a.prototype.find = function (a, b, c) {\n          var e,\n              f = this.caches[c - 1];\n\n          try {\n            var h = function (a) {\n              var b = \"function\" == typeof Symbol && Symbol.iterator,\n                  c = b && a[b],\n                  e = 0;\n              if (c) return c.call(a);\n              if (a && \"number\" == typeof a.length) return {\n                next: function next() {\n                  return a && e >= a.length && (a = void 0), {\n                    value: a && a[e++],\n                    done: !a\n                  };\n                }\n              };\n              throw new TypeError(b ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n            }(f),\n                l = h.next();\n\n            a: for (; !l.done; l = h.next()) {\n              var k = l.value,\n                  r = k.bytes;\n\n              for (f = 0; f < c; f++) {\n                if (r[f] !== a[b + f]) continue a;\n              }\n\n              return k.str;\n            }\n          } catch (Wc) {\n            var p = {\n              error: Wc\n            };\n          } finally {\n            try {\n              l && !l.done && (e = h.return) && e.call(h);\n            } finally {\n              if (p) throw p.error;\n            }\n          }\n\n          return null;\n        }, a.prototype.store = function (a, b) {\n          var c = this.caches[a.length - 1];\n          a = {\n            bytes: a,\n            str: b\n          };\n          c.length >= this.maxLengthPerKey ? c[Math.random() * c.length | 0] = a : c.push(a);\n        }, a.prototype.decode = function (a, c, e) {\n          var f = this.find(a, c, e);\n          if (null != f) return this.hit++, f;\n          this.miss++;\n          f = b(a, c, e);\n          a = Uint8Array.prototype.slice.call(a, c, c + e);\n          return this.store(a, f), f;\n        }, a;\n      }();\n\n      var U = (_R = function R(a, b) {\n        return (_R = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (a, b) {\n          a.__proto__ = b;\n        } || function (a, b) {\n          for (var c in b) {\n            Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);\n          }\n        })(a, b);\n      }, function (a, b) {\n        function c() {\n          this.constructor = a;\n        }\n\n        if (\"function\" != typeof b && null !== b) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n        _R(a, b);\n\n        a.prototype = null === b ? Object.create(b) : (c.prototype = b.prototype, new c());\n      }),\n          S = function S(a, b) {\n        function c(c) {\n          return function (l) {\n            return function (c) {\n              if (e) throw new TypeError(\"Generator is already executing.\");\n\n              for (; k;) {\n                try {\n                  if (e = 1, f && (h = 2 & c[0] ? f.return : c[0] ? f.throw || ((h = f.return) && h.call(f), 0) : f.next) && !(h = h.call(f, c[1])).done) return h;\n\n                  switch (f = 0, h && (c = [2 & c[0], h.value]), c[0]) {\n                    case 0:\n                    case 1:\n                      h = c;\n                      break;\n\n                    case 4:\n                      return k.label++, {\n                        value: c[1],\n                        done: !1\n                      };\n\n                    case 5:\n                      k.label++;\n                      f = c[1];\n                      c = [0];\n                      continue;\n\n                    case 7:\n                      c = k.ops.pop();\n                      k.trys.pop();\n                      continue;\n\n                    default:\n                      if (!((h = 0 < (h = k.trys).length && h[h.length - 1]) || 6 !== c[0] && 2 !== c[0])) {\n                        k = 0;\n                        continue;\n                      }\n\n                      if (3 === c[0] && (!h || c[1] > h[0] && c[1] < h[3])) k.label = c[1];else if (6 === c[0] && k.label < h[1]) k.label = h[1], h = c;else if (h && k.label < h[2]) k.label = h[2], k.ops.push(c);else {\n                        h[2] && k.ops.pop();\n                        k.trys.pop();\n                        continue;\n                      }\n                  }\n\n                  c = b.call(a, k);\n                } catch (Wc) {\n                  c = [6, Wc], f = 0;\n                } finally {\n                  e = h = 0;\n                }\n              }\n\n              if (5 & c[0]) throw c[1];\n              return {\n                value: c[0] ? c[1] : void 0,\n                done: !0\n              };\n            }([c, l]);\n          };\n        }\n\n        var e,\n            f,\n            h,\n            l,\n            k = {\n          label: 0,\n          sent: function sent() {\n            if (1 & h[0]) throw h[1];\n            return h[1];\n          },\n          trys: [],\n          ops: []\n        };\n        return l = {\n          next: c(0),\n          throw: c(1),\n          return: c(2)\n        }, \"function\" == typeof Symbol && (l[Symbol.iterator] = function () {\n          return this;\n        }), l;\n      },\n          T = function T(a) {\n        function b(b) {\n          c[b] = a[b] && function (c) {\n            return new Promise(function (e, f) {\n              !function (a, b, c, e) {\n                Promise.resolve(e).then(function (b) {\n                  a({\n                    value: b,\n                    done: c\n                  });\n                }, b);\n              }(e, f, (c = a[b](c)).done, c.value);\n            });\n          };\n        }\n\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var c,\n            e = a[Symbol.asyncIterator];\n        return e ? e.call(a) : (a = \"function\" == typeof __values ? __values(a) : a[Symbol.iterator](), c = {}, b(\"next\"), b(\"throw\"), b(\"return\"), c[Symbol.asyncIterator] = function () {\n          return this;\n        }, c);\n      },\n          P = function P(a) {\n        return this instanceof P ? (this.v = a, this) : new P(a);\n      },\n          Y = function Y(a, b, c) {\n        function e(a) {\n          p[a] && (r[a] = function (b) {\n            return new Promise(function (c, e) {\n              1 < m.push([a, b, c, e]) || f(a, b);\n            });\n          });\n        }\n\n        function f(a, b) {\n          try {\n            (c = p[a](b)).value instanceof P ? Promise.resolve(c.value.v).then(h, l) : k(m[0][2], c);\n          } catch (yh) {\n            k(m[0][3], yh);\n          }\n\n          var c;\n        }\n\n        function h(a) {\n          f(\"next\", a);\n        }\n\n        function l(a) {\n          f(\"throw\", a);\n        }\n\n        function k(a, b) {\n          a(b);\n          m.shift();\n          m.length && f(m[0][0], m[0][1]);\n        }\n\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var r,\n            p = c.apply(a, b || []),\n            m = [];\n        return r = {}, e(\"next\"), e(\"throw\"), e(\"return\"), r[Symbol.asyncIterator] = function () {\n          return this;\n        }, r;\n      },\n          V = new DataView(new ArrayBuffer(0)),\n          da = new Uint8Array(V.buffer);\n\n      a: {\n        try {\n          V.getInt8(0);\n        } catch (lr) {\n          var aa = lr.constructor;\n          break a;\n        }\n\n        throw Error(\"never reached\");\n      }\n\n      var ca = new aa(\"Insufficient data\"),\n          ea = new G(),\n          Q = function (a) {\n        function b(c) {\n          c = a.call(this, c) || this;\n          var e = Object.create(b.prototype);\n          return Object.setPrototypeOf(c, e), Object.defineProperty(c, \"name\", {\n            configurable: !0,\n            enumerable: !1,\n            value: b.name\n          }), c;\n        }\n\n        return U(b, a), b;\n      }(Error),\n          W = function () {\n        function a(a, b, c, e, f, h, l, k) {\n          void 0 === a && (a = Ic.defaultCodec);\n          void 0 === b && (b = void 0);\n          void 0 === c && (c = 4294967295);\n          void 0 === e && (e = 4294967295);\n          void 0 === f && (f = 4294967295);\n          void 0 === h && (h = 4294967295);\n          void 0 === l && (l = 4294967295);\n          void 0 === k && (k = ea);\n          this.extensionCodec = a;\n          this.context = b;\n          this.maxStrLength = c;\n          this.maxBinLength = e;\n          this.maxArrayLength = f;\n          this.maxMapLength = h;\n          this.maxExtLength = l;\n          this.keyDecoder = k;\n          this.pos = this.totalPos = 0;\n          this.view = V;\n          this.bytes = da;\n          this.headByte = -1;\n          this.stack = [];\n        }\n\n        return a.prototype.reinitializeState = function () {\n          this.totalPos = 0;\n          this.headByte = -1;\n          this.stack.length = 0;\n        }, a.prototype.setBuffer = function (a) {\n          this.bytes = n(a);\n          a = this.bytes;\n          a instanceof ArrayBuffer ? a = new DataView(a) : (a = n(a), a = new DataView(a.buffer, a.byteOffset, a.byteLength));\n          this.view = a;\n          this.pos = 0;\n        }, a.prototype.appendBuffer = function (a) {\n          if (-1 !== this.headByte || this.hasRemaining()) {\n            var b = this.bytes.subarray(this.pos);\n            a = n(a);\n            var c = new Uint8Array(b.length + a.length);\n            c.set(b);\n            c.set(a, b.length);\n            this.setBuffer(c);\n          } else this.setBuffer(a);\n        }, a.prototype.hasRemaining = function (a) {\n          return void 0 === a && (a = 1), this.view.byteLength - this.pos >= a;\n        }, a.prototype.createExtraByteError = function (a) {\n          var b = this.view;\n          return new RangeError(\"Extra \" + (b.byteLength - this.pos) + \" of \" + b.byteLength + \" byte(s) found at buffer[\" + a + \"]\");\n        }, a.prototype.decode = function (a) {\n          this.reinitializeState();\n          this.setBuffer(a);\n          a = this.doDecodeSync();\n          if (this.hasRemaining()) throw this.createExtraByteError(this.pos);\n          return a;\n        }, a.prototype.decodeMulti = function (a) {\n          return S(this, function (b) {\n            switch (b.label) {\n              case 0:\n                this.reinitializeState(), this.setBuffer(a), b.label = 1;\n\n              case 1:\n                return this.hasRemaining() ? [4, this.doDecodeSync()] : [3, 3];\n\n              case 2:\n                return b.sent(), [3, 1];\n\n              case 3:\n                return [2];\n            }\n          });\n        }, a.prototype.decodeAsync = function (a) {\n          var b, c, e, f, h, l, k;\n          return h = this, k = function k() {\n            var h, l, k, r, p, m, w, n;\n            return S(this, function (q) {\n              switch (q.label) {\n                case 0:\n                  h = !1, q.label = 1;\n\n                case 1:\n                  q.trys.push([1, 6, 7, 12]), b = T(a), q.label = 2;\n\n                case 2:\n                  return [4, b.next()];\n\n                case 3:\n                  if ((c = q.sent()).done) return [3, 5];\n                  if (k = c.value, h) throw this.createExtraByteError(this.totalPos);\n                  this.appendBuffer(k);\n\n                  try {\n                    l = this.doDecodeSync(), h = !0;\n                  } catch (zf) {\n                    if (!(zf instanceof aa)) throw zf;\n                  }\n\n                  this.totalPos += this.pos;\n                  q.label = 4;\n\n                case 4:\n                  return [3, 2];\n\n                case 5:\n                  return [3, 12];\n\n                case 6:\n                  return r = q.sent(), e = {\n                    error: r\n                  }, [3, 12];\n\n                case 7:\n                  return q.trys.push([7,, 10, 11]), c && !c.done && (f = b.return) ? [4, f.call(b)] : [3, 9];\n\n                case 8:\n                  q.sent(), q.label = 9;\n\n                case 9:\n                  return [3, 11];\n\n                case 10:\n                  if (e) throw e.error;\n                  return [7];\n\n                case 11:\n                  return [7];\n\n                case 12:\n                  if (h) {\n                    if (this.hasRemaining()) throw this.createExtraByteError(this.totalPos);\n                    return [2, l];\n                  }\n\n                  throw m = (p = this).headByte, w = p.pos, n = p.totalPos, new RangeError(\"Insufficient data in parsing \" + t(m) + \" at \" + n + \" (\" + w + \" in the current buffer)\");\n              }\n            });\n          }, new (l = void 0, l = Promise)(function (a, b) {\n            function c(a) {\n              try {\n                f(k.next(a));\n              } catch (xh) {\n                b(xh);\n              }\n            }\n\n            function e(a) {\n              try {\n                f(k.throw(a));\n              } catch (xh) {\n                b(xh);\n              }\n            }\n\n            function f(b) {\n              var f;\n              b.done ? a(b.value) : (f = b.value, f instanceof l ? f : new l(function (a) {\n                a(f);\n              })).then(c, e);\n            }\n\n            f((k = k.apply(h, [])).next());\n          });\n        }, a.prototype.decodeArrayStream = function (a) {\n          return this.decodeMultiAsync(a, !0);\n        }, a.prototype.decodeStream = function (a) {\n          return this.decodeMultiAsync(a, !1);\n        }, a.prototype.decodeMultiAsync = function (a, b) {\n          return Y(this, arguments, function () {\n            var c, e, f, h, l, k, r, p, m;\n            return S(this, function (w) {\n              switch (w.label) {\n                case 0:\n                  c = b, e = -1, w.label = 1;\n\n                case 1:\n                  w.trys.push([1, 13, 14, 19]), f = T(a), w.label = 2;\n\n                case 2:\n                  return [4, P(f.next())];\n\n                case 3:\n                  if ((h = w.sent()).done) return [3, 12];\n                  if (l = h.value, b && 0 === e) throw this.createExtraByteError(this.totalPos);\n                  this.appendBuffer(l);\n                  c && (e = this.readArraySize(), c = !1, this.complete());\n                  w.label = 4;\n\n                case 4:\n                  w.trys.push([4, 9,, 10]), w.label = 5;\n\n                case 5:\n                  return [4, P(this.doDecodeSync())];\n\n                case 6:\n                  return [4, w.sent()];\n\n                case 7:\n                  return w.sent(), 0 == --e ? [3, 8] : [3, 5];\n\n                case 8:\n                  return [3, 10];\n\n                case 9:\n                  if (!((k = w.sent()) instanceof aa)) throw k;\n                  return [3, 10];\n\n                case 10:\n                  this.totalPos += this.pos, w.label = 11;\n\n                case 11:\n                  return [3, 2];\n\n                case 12:\n                  return [3, 19];\n\n                case 13:\n                  return r = w.sent(), p = {\n                    error: r\n                  }, [3, 19];\n\n                case 14:\n                  return w.trys.push([14,, 17, 18]), h && !h.done && (m = f.return) ? [4, P(m.call(f))] : [3, 16];\n\n                case 15:\n                  w.sent(), w.label = 16;\n\n                case 16:\n                  return [3, 18];\n\n                case 17:\n                  if (p) throw p.error;\n                  return [7];\n\n                case 18:\n                  return [7];\n\n                case 19:\n                  return [2];\n              }\n            });\n          });\n        }, a.prototype.doDecodeSync = function () {\n          a: for (;;) {\n            var a = this.readHeadByte();\n            if (224 <= a) a -= 256;else if (192 > a) {\n              if (!(128 > a)) if (144 > a) {\n                if (0 != (a -= 128)) {\n                  this.pushMapState(a);\n                  this.complete();\n                  continue a;\n                }\n\n                a = {};\n              } else if (160 > a) {\n                if (0 != (a -= 144)) {\n                  this.pushArrayState(a);\n                  this.complete();\n                  continue a;\n                }\n\n                a = [];\n              } else a -= 160, a = this.decodeUtf8String(a, 0);\n            } else if (192 === a) a = null;else if (194 === a) a = !1;else if (195 === a) a = !0;else if (202 === a) a = this.readF32();else if (203 === a) a = this.readF64();else if (204 === a) a = this.readU8();else if (205 === a) a = this.readU16();else if (206 === a) a = this.readU32();else if (207 === a) a = this.readU64();else if (208 === a) a = this.readI8();else if (209 === a) a = this.readI16();else if (210 === a) a = this.readI32();else if (211 === a) a = this.readI64();else if (217 === a) a = this.lookU8(), a = this.decodeUtf8String(a, 1);else if (218 === a) a = this.lookU16(), a = this.decodeUtf8String(a, 2);else if (219 === a) a = this.lookU32(), a = this.decodeUtf8String(a, 4);else if (220 === a) {\n              if (0 !== (a = this.readU16())) {\n                this.pushArrayState(a);\n                this.complete();\n                continue a;\n              }\n\n              a = [];\n            } else if (221 === a) {\n              if (0 !== (a = this.readU32())) {\n                this.pushArrayState(a);\n                this.complete();\n                continue a;\n              }\n\n              a = [];\n            } else if (222 === a) {\n              if (0 !== (a = this.readU16())) {\n                this.pushMapState(a);\n                this.complete();\n                continue a;\n              }\n\n              a = {};\n            } else if (223 === a) {\n              if (0 !== (a = this.readU32())) {\n                this.pushMapState(a);\n                this.complete();\n                continue a;\n              }\n\n              a = {};\n            } else if (196 === a) a = this.lookU8(), a = this.decodeBinary(a, 1);else if (197 === a) a = this.lookU16(), a = this.decodeBinary(a, 2);else if (198 === a) a = this.lookU32(), a = this.decodeBinary(a, 4);else if (212 === a) a = this.decodeExtension(1, 0);else if (213 === a) a = this.decodeExtension(2, 0);else if (214 === a) a = this.decodeExtension(4, 0);else if (215 === a) a = this.decodeExtension(8, 0);else if (216 === a) a = this.decodeExtension(16, 0);else if (199 === a) a = this.lookU8(), a = this.decodeExtension(a, 1);else if (200 === a) a = this.lookU16(), a = this.decodeExtension(a, 2);else {\n              if (201 !== a) throw new Q(\"Unrecognized type byte: \" + t(a));\n              a = this.lookU32();\n              a = this.decodeExtension(a, 4);\n            }\n            this.complete();\n\n            for (var b = this.stack; 0 < b.length;) {\n              var c = b[b.length - 1];\n\n              if (0 === c.type) {\n                if (c.array[c.position] = a, c.position++, c.position !== c.size) continue a;\n                b.pop();\n                a = c.array;\n              } else {\n                if (1 === c.type) {\n                  if (\"string\" != (e = typeof a) && \"number\" !== e) throw new Q(\"The type of key must be string or number but \" + typeof a);\n                  if (\"__proto__\" === a) throw new Q(\"The key __proto__ is not allowed\");\n                  c.key = a;\n                  c.type = 2;\n                  continue a;\n                }\n\n                if (c.map[c.key] = a, c.readCount++, c.readCount !== c.size) {\n                  c.key = null;\n                  c.type = 1;\n                  continue a;\n                }\n\n                b.pop();\n                a = c.map;\n              }\n            }\n\n            return a;\n          }\n\n          var e;\n        }, a.prototype.readHeadByte = function () {\n          return -1 === this.headByte && (this.headByte = this.readU8()), this.headByte;\n        }, a.prototype.complete = function () {\n          this.headByte = -1;\n        }, a.prototype.readArraySize = function () {\n          var a = this.readHeadByte();\n\n          switch (a) {\n            case 220:\n              return this.readU16();\n\n            case 221:\n              return this.readU32();\n\n            default:\n              if (160 > a) return a - 144;\n              throw new Q(\"Unrecognized array type byte: \" + t(a));\n          }\n        }, a.prototype.pushMapState = function (a) {\n          if (a > this.maxMapLength) throw new Q(\"Max length exceeded: map length (\" + a + \") > maxMapLengthLength (\" + this.maxMapLength + \")\");\n          this.stack.push({\n            type: 1,\n            size: a,\n            key: null,\n            readCount: 0,\n            map: {}\n          });\n        }, a.prototype.pushArrayState = function (a) {\n          if (a > this.maxArrayLength) throw new Q(\"Max length exceeded: array length (\" + a + \") > maxArrayLength (\" + this.maxArrayLength + \")\");\n          this.stack.push({\n            type: 0,\n            size: a,\n            array: Array(a),\n            position: 0\n          });\n        }, a.prototype.decodeUtf8String = function (a, c) {\n          var e;\n          if (a > this.maxStrLength) throw new Q(\"Max length exceeded: UTF-8 byte length (\" + a + \") > maxStrLength (\" + this.maxStrLength + \")\");\n          if (this.bytes.byteLength < this.pos + c + a) throw ca;\n          var f,\n              h = this.pos + c;\n          this.stateIsMapKey() && (null === (e = this.keyDecoder) || void 0 === e ? 0 : e.canBeCached(a)) ? e = this.keyDecoder.decode(this.bytes, h, a) : a > N ? (e = this.bytes.subarray(h, h + a), e = J.decode(e)) : e = b(this.bytes, h, a);\n          return f = e, this.pos += c + a, f;\n        }, a.prototype.stateIsMapKey = function () {\n          return 0 < this.stack.length && 1 === this.stack[this.stack.length - 1].type;\n        }, a.prototype.decodeBinary = function (a, b) {\n          if (a > this.maxBinLength) throw new Q(\"Max length exceeded: bin length (\" + a + \") > maxBinLength (\" + this.maxBinLength + \")\");\n          if (!this.hasRemaining(a + b)) throw ca;\n          var c = this.pos + b;\n          c = this.bytes.subarray(c, c + a);\n          return this.pos += b + a, c;\n        }, a.prototype.decodeExtension = function (a, b) {\n          if (a > this.maxExtLength) throw new Q(\"Max length exceeded: ext length (\" + a + \") > maxExtLength (\" + this.maxExtLength + \")\");\n          var c = this.view.getInt8(this.pos + b);\n          a = this.decodeBinary(a, b + 1);\n          return this.extensionCodec.decode(a, c, this.context);\n        }, a.prototype.lookU8 = function () {\n          return this.view.getUint8(this.pos);\n        }, a.prototype.lookU16 = function () {\n          return this.view.getUint16(this.pos);\n        }, a.prototype.lookU32 = function () {\n          return this.view.getUint32(this.pos);\n        }, a.prototype.readU8 = function () {\n          var a = this.view.getUint8(this.pos);\n          return this.pos++, a;\n        }, a.prototype.readI8 = function () {\n          var a = this.view.getInt8(this.pos);\n          return this.pos++, a;\n        }, a.prototype.readU16 = function () {\n          var a = this.view.getUint16(this.pos);\n          return this.pos += 2, a;\n        }, a.prototype.readI16 = function () {\n          var a = this.view.getInt16(this.pos);\n          return this.pos += 2, a;\n        }, a.prototype.readU32 = function () {\n          var a = this.view.getUint32(this.pos);\n          return this.pos += 4, a;\n        }, a.prototype.readI32 = function () {\n          var a = this.view.getInt32(this.pos);\n          return this.pos += 4, a;\n        }, a.prototype.readU64 = function () {\n          var a,\n              b,\n              c = (a = this.view, b = this.pos, 4294967296 * a.getUint32(b) + a.getUint32(b + 4));\n          return this.pos += 8, c;\n        }, a.prototype.readI64 = function () {\n          var a = f(this.view, this.pos);\n          return this.pos += 8, a;\n        }, a.prototype.readF32 = function () {\n          var a = this.view.getFloat32(this.pos);\n          return this.pos += 4, a;\n        }, a.prototype.readF64 = function () {\n          var a = this.view.getFloat64(this.pos);\n          return this.pos += 8, a;\n        }, a;\n      }(),\n          Z = {},\n          fa = function fa(a, b) {\n        function c(c) {\n          return function (l) {\n            return function (c) {\n              if (e) throw new TypeError(\"Generator is already executing.\");\n\n              for (; k;) {\n                try {\n                  if (e = 1, f && (h = 2 & c[0] ? f.return : c[0] ? f.throw || ((h = f.return) && h.call(f), 0) : f.next) && !(h = h.call(f, c[1])).done) return h;\n\n                  switch (f = 0, h && (c = [2 & c[0], h.value]), c[0]) {\n                    case 0:\n                    case 1:\n                      h = c;\n                      break;\n\n                    case 4:\n                      return k.label++, {\n                        value: c[1],\n                        done: !1\n                      };\n\n                    case 5:\n                      k.label++;\n                      f = c[1];\n                      c = [0];\n                      continue;\n\n                    case 7:\n                      c = k.ops.pop();\n                      k.trys.pop();\n                      continue;\n\n                    default:\n                      if (!((h = 0 < (h = k.trys).length && h[h.length - 1]) || 6 !== c[0] && 2 !== c[0])) {\n                        k = 0;\n                        continue;\n                      }\n\n                      if (3 === c[0] && (!h || c[1] > h[0] && c[1] < h[3])) k.label = c[1];else if (6 === c[0] && k.label < h[1]) k.label = h[1], h = c;else if (h && k.label < h[2]) k.label = h[2], k.ops.push(c);else {\n                        h[2] && k.ops.pop();\n                        k.trys.pop();\n                        continue;\n                      }\n                  }\n\n                  c = b.call(a, k);\n                } catch (Wc) {\n                  c = [6, Wc], f = 0;\n                } finally {\n                  e = h = 0;\n                }\n              }\n\n              if (5 & c[0]) throw c[1];\n              return {\n                value: c[0] ? c[1] : void 0,\n                done: !0\n              };\n            }([c, l]);\n          };\n        }\n\n        var e,\n            f,\n            h,\n            l,\n            k = {\n          label: 0,\n          sent: function sent() {\n            if (1 & h[0]) throw h[1];\n            return h[1];\n          },\n          trys: [],\n          ops: []\n        };\n        return l = {\n          next: c(0),\n          throw: c(1),\n          return: c(2)\n        }, \"function\" == typeof Symbol && (l[Symbol.iterator] = function () {\n          return this;\n        }), l;\n      },\n          ba = function ba(a) {\n        return this instanceof ba ? (this.v = a, this) : new ba(a);\n      },\n          ha = function ha(a, b, c) {\n        function e(a) {\n          p[a] && (r[a] = function (b) {\n            return new Promise(function (c, e) {\n              1 < m.push([a, b, c, e]) || f(a, b);\n            });\n          });\n        }\n\n        function f(a, b) {\n          try {\n            (c = p[a](b)).value instanceof ba ? Promise.resolve(c.value.v).then(h, l) : k(m[0][2], c);\n          } catch (yh) {\n            k(m[0][3], yh);\n          }\n\n          var c;\n        }\n\n        function h(a) {\n          f(\"next\", a);\n        }\n\n        function l(a) {\n          f(\"throw\", a);\n        }\n\n        function k(a, b) {\n          a(b);\n          m.shift();\n          m.length && f(m[0][0], m[0][1]);\n        }\n\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var r,\n            p = c.apply(a, b || []),\n            m = [];\n        return r = {}, e(\"next\"), e(\"throw\"), e(\"return\"), r[Symbol.asyncIterator] = function () {\n          return this;\n        }, r;\n      };\n\n      return D;\n    }();\n  }),\n      or = Math.min;\n  L({\n    target: \"Array\",\n    proto: !0\n  }, {\n    copyWithin: [].copyWithin || function (a, b) {\n      var c = Jb(this),\n          e = zb(c.length),\n          f = Oc(a, e),\n          h = Oc(b, e),\n          l = 2 < arguments.length ? arguments[2] : void 0;\n      e = or((void 0 === l ? e : Oc(l, e)) - h, e - f);\n      l = 1;\n\n      for (h < f && f < h + e && (l = -1, h += e - 1, f += e - 1); 0 < e--;) {\n        h in c ? c[f] = c[h] : delete c[f], f += l, h += l;\n      }\n\n      return c;\n    }\n  });\n  var ro = Aa(\"Array\").copyWithin,\n      yj = Array.prototype;\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Qc(\"every\")\n  }, {\n    every: function every(a) {\n      return lp(this, a, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var pr = Aa(\"Array\").every,\n      Gm = Array.prototype,\n      to = function to(a) {\n    var b = a.every;\n    return a === Gm || a instanceof Array && b === Gm.every ? pr : b;\n  },\n      Af = df.getWeakData,\n      qr = Fa.set,\n      rr = Fa.getterFor,\n      sr = 0,\n      Bf = function Bf(a) {\n    return a.frozen || (a.frozen = new Hm());\n  },\n      Hm = function Hm() {\n    this.entries = [];\n  },\n      Ah = function Ah(a, b) {\n    return vk(a.entries, function (a) {\n      return a[0] === b;\n    });\n  };\n\n  Hm.prototype = {\n    get: function get(a) {\n      if (a = Ah(this, a)) return a[1];\n    },\n    has: function has(a) {\n      return !!Ah(this, a);\n    },\n    set: function set(a, b) {\n      var c = Ah(this, a);\n      c ? c[1] = b : this.entries.push([a, b]);\n    },\n    delete: function _delete(a) {\n      var b = wk(this.entries, function (b) {\n        return b[0] === a;\n      });\n      return ~b && this.entries.splice(b, 1), !!~b;\n    }\n  };\n  var Im = {\n    getConstructor: function getConstructor(a, b, c, e) {\n      var f = a(function (a, h) {\n        sd(a, f, b);\n        qr(a, {\n          type: b,\n          id: sr++,\n          frozen: void 0\n        });\n        null != h && rd(h, a[e], a, c);\n      }),\n          h = rr(b),\n          l = function l(a, b, c) {\n        var e = h(a),\n            f = Af($a(b), !0);\n        return !0 === f ? Bf(e).set(b, c) : f[e.id] = c, a;\n      };\n\n      return Pc(f.prototype, {\n        delete: function _delete(a) {\n          var b = h(this);\n          if (!qa(a)) return !1;\n          var c = Af(a);\n          return !0 === c ? Bf(b).delete(a) : c && P(c, b.id) && delete c[b.id];\n        },\n        has: function has(a) {\n          var b = h(this);\n          if (!qa(a)) return !1;\n          var c = Af(a);\n          return !0 === c ? Bf(b).has(a) : c && P(c, b.id);\n        }\n      }), Pc(f.prototype, c ? {\n        get: function get(a) {\n          var b = h(this);\n\n          if (qa(a)) {\n            var c = Af(a);\n            return !0 === c ? Bf(b).get(a) : c ? c[b.id] : void 0;\n          }\n        },\n        set: function set(a, b) {\n          return l(this, a, b);\n        }\n      } : {\n        add: function add(a) {\n          return l(this, a, !0);\n        }\n      }), f;\n    }\n  },\n      tr = (ub(function (a) {\n    var b = Fa.enforce,\n        c = !N.ActiveXObject && \"ActiveXObject\" in N,\n        e = Object.isExtensible,\n        f = function f(a) {\n      return function () {\n        return a(this, arguments.length ? arguments[0] : void 0);\n      };\n    };\n\n    a = a.exports = Ak(\"WeakMap\", f, Im);\n\n    if (yk && c) {\n      var h = Im.getConstructor(f, \"WeakMap\", !0);\n      df.REQUIRED = !0;\n      c = a.prototype;\n      var l = c.delete,\n          k = c.has,\n          p = c.get,\n          m = c.set;\n      Pc(c, {\n        delete: function _delete(a) {\n          if (qa(a) && !e(a)) {\n            var c = b(this);\n            return c.frozen || (c.frozen = new h()), l.call(this, a) || c.frozen.delete(a);\n          }\n\n          return l.call(this, a);\n        },\n        has: function has(a) {\n          if (qa(a) && !e(a)) {\n            var c = b(this);\n            return c.frozen || (c.frozen = new h()), k.call(this, a) || c.frozen.has(a);\n          }\n\n          return k.call(this, a);\n        },\n        get: function get(a) {\n          if (qa(a) && !e(a)) {\n            var c = b(this);\n            return c.frozen || (c.frozen = new h()), k.call(this, a) ? p.call(this, a) : c.frozen.get(a);\n          }\n\n          return p.call(this, a);\n        },\n        set: function set(a, c) {\n          if (qa(a) && !e(a)) {\n            var f = b(this);\n            f.frozen || (f.frozen = new h());\n            k.call(this, a) ? m.call(this, a, c) : f.frozen.set(a, c);\n          } else m.call(this, a, c);\n\n          return this;\n        }\n      });\n    }\n  }), Math.min),\n      Bh = [].lastIndexOf,\n      Jm = !!Bh && 0 > 1 / [1].lastIndexOf(1, -0),\n      ur = Qc(\"lastIndexOf\"),\n      Km = Jm || ur ? function (a) {\n    if (Jm) return Bh.apply(this, arguments) || 0;\n    var b = yb(this),\n        c = zb(b.length),\n        e = c - 1;\n    1 < arguments.length && (e = tr(e, Yd(arguments[1])));\n\n    for (0 > e && (e = c + e); 0 <= e; e--) {\n      if (e in b && b[e] === a) return e || 0;\n    }\n\n    return -1;\n  } : Bh;\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Km !== [].lastIndexOf\n  }, {\n    lastIndexOf: Km\n  });\n\n  var vr = Aa(\"Array\").lastIndexOf,\n      Lm = Array.prototype,\n      qo = function qo(a) {\n    var b = a.lastIndexOf;\n    return a === Lm || a instanceof Array && b === Lm.lastIndexOf ? vr : b;\n  };\n\n  var so = function so() {\n    return function (a) {\n      var b;\n      a = z(b = window.atob(a).split(\"\")).call(b, function (a) {\n        return a.charCodeAt(0);\n      });\n      return new Uint8Array(a, 0, a.length / Uint8Array.BYTES_PER_ELEMENT);\n    }(\"AGFzbQEAAAABMAlgA39/fwF/YAF/AGACf38AYAF/AX9gAn9/AX9gA39/fwBgBH9/f38AYAABf2AAAAI6AgNlbnYWZW1zY3JpcHRlbl9yZXNpemVfaGVhcAADA2VudhVlbXNjcmlwdGVuX21lbWNweV9iaWcAAAMjIggAAAAAAQEDAQEEBAQEAQEGAQYCBQUAAgAHAwEDAAIHAQMEBQFwAQYGBQYBAYACgAIGCQF/AUHQ48ACCweUAQoGbWVtb3J5AgARX193YXNtX2NhbGxfY3RvcnMAAhlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQAGbWFsbG9jABwEZnJlZQAdEF9fZXJybm9fbG9jYXRpb24AGwx6bGliQ29tcHJlc3MAGglzdGFja1NhdmUAIQxzdGFja1Jlc3RvcmUAIgpzdGFja0FsbG9jACMJCwEAQQELBRgZDA0PCq6FAiIDAAELpQcBBH8gAEH//wNxIQMgAEEQdiEEQQEhACACQQFGBEAgAyABLQAAaiIAQfH/A2sgACAAQfD/A0sbIgAgBGoiA0EQdCIEQYCAPGogBCADQfD/A0sbIAByDwsgAQR/IAJBEE8EQAJAAkACQCACQa8rSwRAA0AgAkGwK2shAkHbAiEFIAEhAANAIAMgAC0AAGoiAyAEaiADIAAtAAFqIgNqIAMgAC0AAmoiA2ogAyAALQADaiIDaiADIAAtAARqIgNqIAMgAC0ABWoiA2ogAyAALQAGaiIDaiADIAAtAAdqIgNqIAMgAC0ACGoiA2ogAyAALQAJaiIDaiADIAAtAApqIgNqIAMgAC0AC2oiA2ogAyAALQAMaiIDaiADIAAtAA1qIgNqIAMgAC0ADmoiA2ogAyAALQAPaiIDaiEEIABBEGohACAFQQFrIgUNAAsgBEHx/wNwIQQgA0Hx/wNwIQMgAUGwK2ohASACQa8rSw0ACyACRQ0DIAJBEEkNAQsDQCADIAEtAABqIgAgBGogACABLQABaiIAaiAAIAEtAAJqIgBqIAAgAS0AA2oiAGogACABLQAEaiIAaiAAIAEtAAVqIgBqIAAgAS0ABmoiAGogACABLQAHaiIAaiAAIAEtAAhqIgBqIAAgAS0ACWoiAGogACABLQAKaiIAaiAAIAEtAAtqIgBqIAAgAS0ADGoiAGogACABLQANaiIAaiAAIAEtAA5qIgBqIAAgAS0AD2oiA2ohBCABQRBqIQEgAkEQayICQQ9LDQALIAJFDQELIAJBAWshBiACQQNxIgUEQCABIQADQCACQQFrIQIgAyAALQAAaiIDIARqIQQgAEEBaiIBIQAgBUEBayIFDQALCyAGQQNJDQADQCADIAEtAABqIgAgAS0AAWoiBSABLQACaiIGIAEtAANqIgMgBiAFIAAgBGpqamohBCABQQRqIQEgAkEEayICDQALCyAEQfH/A3AhBCADQfH/A3AhAwsgBEEQdCADcg8LAkAgAkUNACACQQFrIQYgAkEDcSIFBEAgASEAA0AgAkEBayECIAMgAC0AAGoiAyAEaiEEIABBAWoiASEAIAVBAWsiBQ0ACwsgBkEDSQ0AA0AgAyABLQAAaiIAIAEtAAFqIgUgAS0AAmoiBiABLQADaiIDIAYgBSAAIARqampqIQQgAUEEaiEBIAJBBGsiAg0ACwsgBEHx/wNwQRB0IANB8f8DayADIANB8P8DSxtyBSAACwsKACAAIAEgAhADC4UJAQJ/IAFFBEBBAA8LIABBf3MhAAJAIAJFDQAgAUEDcUUNACABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACACQQFrIgRBACABQQFqIgNBA3EbRQRAIAMhASAEIQIMAQsgAS0AASAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEDAkAgAkECayIERQ0AIANBA3FFDQAgAS0AAiAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUEDaiEDAkAgAkEDayIERQ0AIANBA3FFDQAgAS0AAyAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAkEEayECIAFBBGohAQwCCyADIQEgBCECDAELIAMhASAEIQILIAJBH0sEQANAIAEoAhwgASgCGCABKAIUIAEoAhAgASgCDCABKAIIIAEoAgQgASgCACAAcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAcyEAIAFBIGohASACQSBrIgJBH0sNAAsLIAJBA0sEQANAIAEoAgAgAHMiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzIQAgAUEEaiEBIAJBBGsiAkEDSw0ACwsCQCACRQ0AIAJBAXEEfyABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACABQQFqIQEgAkEBawUgAgshAyACQQFGDQADQCABLQABIAEtAAAgAEH/AXFzQQJ0QYAIaigCACAAQQh2cyIAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEBIANBAmsiAw0ACwsgAEF/cwsKACAAIAEgAhAFC9wEAQN/AkBByN8ALQAAQTFHDQAgAEUNACAAQQA2AhggACgCICIBRQRAIABBADYCKCAAQQE2AiBBASEBCyAAKAIkRQRAIABBAjYCJAsgACgCKEEBQcQtIAERAAAiAUUNACAAIAE2AhwgAUEPNgIwIAFBADYCHCABQQA2AhggAUEqNgIEIAEgADYCACABQQs2AlAgAUGAgAI2AiwgAUH//wE2AjQgAUGAEDYCTCABQQQ2AlggAUH/DzYCVCABIAAoAihBgIACQQIgACgCIBEAADYCOCABIAAoAiggASgCLEECIAAoAiARAAA2AkAgACgCKCABKAJMQQIgACgCIBEAACECIAFBADYCwC0gASACNgJEIAFBgAg2ApwtIAEgACgCKEGACEEEIAAoAiARAAAiAjYCCCABIAEoApwtIgNBAnQ2AgwCQAJAIAEoAjhFDQAgASgCQEUNACACRQ0AIAEoAkQNAQsgAUGaBTYCBCAAQbjfACgCADYCGCAAEAgPCyABQQA2AogBIAFBCTYChAEgAUEIOgAkIAEgAiADQQNsajYCmC0gASACIANBfnFqNgKkLSAAEAkNACAAKAIcIgAgACgCLEEBdDYCPCAAKAJEIgEgACgCTEEBdEECayIDakEAOwEAIAEgAxAgIABBADYCtC0gAEKAgICAIDcCdCAAQgA3AmggAEKAgICAIDcCXCAAQQA2AkggACAAKAKEAUEMbCIBQYTIAGovAQA2ApABIAAgAUGAyABqLwEANgKMASAAIAFBgsgAai8BADYCgAEgACABQYbIAGovAQA2AnwLC6kCAQN/AkAgAEUNACAAKAIgRQ0AIAAoAiQiA0UNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgJBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIAJBmgVGDQAgAkEqRw0BCwJ/An8CfyABKAIIIgIEQCAAKAIoIAIgAxECACAAKAIcIQELIAEoAkQiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAkAiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAjgiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAAoAiggASAAKAIkEQIAIABBADYCHAsLlgIBA39BfiECAkAgAEUNACAAKAIgRQ0AIAAoAiRFDQAgACgCHCIBRQ0AIAEoAgAgAEcNAAJAAkAgASgCBCIDQTlrDjkBAgICAgICAgICAgIBAgICAQICAgICAgICAgICAgICAgICAQICAgICAgICAgICAQICAgICAgICAgEACyADQZoFRg0AIANBKkcNAQsgAEECNgIsIABBADYCCCAAQgA3AhQgAUEANgIUIAEgASgCCDYCECABKAIYIgJBf0wEQCABQQAgAmsiAjYCGAsgAUE5QSpB8QAgAhsgAkECRhs2AgQgAAJ/IAJBAkYEQEEAQQBBABAGDAELQQBBAEEAEAQLNgIwQQAhAiABQQA2AiggARAQCyACC9wIAQt/IAAoAiwiB0GGAmshCyAAKAJ0IQUgByEBA0AgACgCPCAFayAAKAJsIghrIQYgASALaiAITQRAIAAoAjgiASABIAdqIAcgBmsQHxogACAAKAJwIAdrNgJwIAAgACgCbCAHayIINgJsIAAgACgCXCAHazYCXCAAKAJMIgRBAWshCiAAKAJEIARBAXRqIQMgACgCLCEBIARBA3EiAgRAA0AgA0ECayIDQQAgAy8BACIFIAFrIgkgBSAJSRs7AQAgBEEBayEEIAJBAWsiAg0ACwsgCkEDTwRAA0AgA0ECayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EEayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EGayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EIayIDQQAgAy8BACICIAFrIgUgAiAFSRs7AQAgBEEEayIEDQALCyABQQFrIQogACgCQCABQQF0aiEDIAEhBCABQQNxIgIEQANAIANBAmsiA0EAIAMvAQAiBSABayIJIAUgCUkbOwEAIARBAWshBCACQQFrIgINAAsLIApBA08EQANAIANBAmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBGsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBCGsiA0EAIAMvAQAiAiABayIFIAIgBUkbOwEAIARBBGsiBA0ACwsgBiAHaiEGCwJAIAAoAgAiASgCBCIERQ0AIAAoAnQhAiAGIAQgBCAGSxsiAwRAIAAoAjghBSABIAQgA2s2AgQgBSAIaiACaiABKAIAIAMQHyEEAkACQAJAIAEoAhwoAhhBAWsOAgABAgsgASABKAIwIAQgAxAENgIwDAELIAEgASgCMCAEIAMQBjYCMAsgASABKAIAIANqNgIAIAEgASgCCCADajYCCCAAKAJ0IQILIAAgAiADaiIFNgJ0AkAgACgCtC0iAyAFakEDSQ0AIAAgACgCOCIJIAAoAmwgA2siAWoiBC0AACICNgJIIAAgACgCVCIIIAQtAAEgAiAAKAJYIgZ0c3EiBDYCSANAIANFDQEgACABIAlqLQACIAQgBnRzIAhxIgQ2AkggACgCQCAAKAI0IAFxQQF0aiAAKAJEIARBAXRqIgIvAQA7AQAgAiABOwEAIAAgA0EBayIDNgK0LSABQQFqIQEgAyAFakECSw0ACwsgBUGFAksNACAAKAIAKAIERQ0AIAAoAiwhAQwBCwsCQCAAKAI8IgQgACgCwC0iAU0NACAAKAJ0IAAoAmxqIgMgAUsEQCAAKAI4IANqIAQgA2siAUGCAiABQYICSRsiARAgIAAgASADajYCwC0PCyADQYICaiIDIAFNDQAgACgCOCABaiAEIAFrIgQgAyABayIBIAEgBEsbIgEQICAAIAAoAsAtIAFqNgLALQsLsSwBCn8CQCAARQ0AIAAoAiBFDQAgACgCJEUNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgNBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIANBmgVGDQAgA0EqRw0BCwJAAkAgACgCDEUNACAAKAIEIgIEQCAAKAIARQ0BCyADQZoFRw0BCyAAQbDfACgCADYCGA8LIAAoAhBFBEAgAEG83wAoAgA2AhgPCyABKAIoIQUgAUEDNgIoAkAgASgCFARAIAEQEwJAIAAoAhAiAyABKAIUIgQgAyAESRsiAkUNACAAKAIMIAEoAhAgAhAfGiAAIAAoAgwgAmo2AgwgASABKAIQIAJqNgIQIAAgACgCFCACajYCFCAAIAAoAhAgAmsiAzYCECABIAEoAhQgAmsiBDYCFCAEDQAgASABKAIINgIQQQAhBAsgAwRAIAEoAgQhAwwCCyABQX82AigPCyACDQAgBUEBdEF3QQAgBUEEShtqQQZIDQAgAEG83wAoAgA2AhgPCwJAAkACQAJAAn8CQAJAAkACQAJAAkAgA0EqRwRAIANBmgVHDQEgACgCBEUNAiAAQbzfACgCADYCGA8LIAEoAjBBDHRBgPABayEDQQAhAgJAIAEoAogBQQFKDQAgASgChAEiBUECSA0AQcAAIQIgBUEGSA0AQYABQcABIAVBBkYbIQILIAEgBEEBajYCFCABKAIIIARqIAIgA3IiAkEgciACIAEoAmwbIgJBCHY6AAAgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQR9wIAJyQR9zOgAAIAEoAmwEQCAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQRh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEQdjoAACAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQQh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAAAsgAEEAQQBBABAENgIwIAFB8QA2AgQgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBCABKAIEIQMLAkACQAJAAkACQAJAAkAgA0E5RgR/IABBAEEAQQAQBjYCMCABIAEoAhQiAkEBajYCFCACIAEoAghqQR86AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakGLAToAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQg6AAAgASgCHCICDQIgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQA6AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAAEECIQIgASgChAEiA0EJRwRAQQQgASgCiAFBAUpBAnQgA0ECSBshAgsgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBAzoAACABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIUDQEgASgCBAUgAwtBxQBrDiMCBgYGAwYGBgYGBgYGBgYGBgYGBgYGBAYGBgYGBgYGBgYGBQYLIAFBfzYCKA8LIAIoAiQhAyACKAIcIQQgAigCECEFIAIoAiwhBiACKAIAIQggASABKAIUIgdBAWo2AhRBAiECIAcgASgCCGogBkEAR0EBdCAIQQBHciAFQQBHQQJ0ciAEQQBHQQN0ciADQQBHQQR0cjoAACABKAIcKAIEIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAhwoAgQhAyABIAEoAhQiBEEBajYCFCAEIAEoAghqIANBCHY6AAAgASgCHC8BBiEDIAEgASgCFCIEQQFqNgIUIAQgASgCCGogAzoAACABKAIcLQAHIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAoQBIgNBCUcEQEEEIAEoAogBQQFKQQJ0IANBAkgbIQILIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAACABKAIcKAIMIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEoAhwiAigCEAR/IAIoAhQhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAI6AAAgASgCHCgCFCECIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEIdjoAACABKAIcBSACCygCLARAIAAgACgCMCABKAIIIAEoAhQQBjYCMAsgAUHFADYCBCABQQA2AiALIAEoAhwiBCgCECIDBEAgASgCFCICIAQvARQgASgCICIGayIFaiABKAIMIgRLBEADQCABKAIIIAJqIAMgBmogBCACayIEEB8aIAEgASgCDCIDNgIUAkAgAiADTw0AIAEoAhwoAixFDQAgACAAKAIwIAEoAgggAmogAyACaxAGNgIwCyABIAEoAiAgBGo2AiAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIGIAMgBkkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQEQCABQX82AigPCyABKAIgIQYgASgCHCgCECEDQQAhAiAFIARrIgUgASgCDCIESw0ACwsgASgCCCACaiADIAZqIAUQHxogASABKAIUIAVqIgM2AhQCQCACIANPDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCACaiADIAJrEAY2AjALIAFBADYCIAsgAUHJADYCBAsgASgCHCgCHARAIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCHCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLAkAgASgCHCgCLEUNACABKAIUIgIgBU0NACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAFBADYCIAsgAUHbADYCBAsCQCABKAIcKAIkRQ0AIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCJCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLIAEoAhwoAixFDQAgASgCFCICIAVNDQAgACAAKAIwIAEoAgggBWogAiAFaxAGNgIwCyABQecANgIECyABKAIcKAIsBEAgASgCDCABKAIUIgJBAmpJBEAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBUEAIQILIAAoAjAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAAoAjAhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAJBCHY6AAAgAEEAQQBBABAGNgIwCyABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIURQ0AIAFBfzYCKA8LIAAoAgQNAQsgASgCdA0AIAEoAgRBmgVGDQgLIAEoAoQBIgJFBEAgAUEDEAwMBAsCQAJAIAEoAogBQQJrDgIAAQQLA0ACQAJAIAEoAnQNACABEAogASgCdA0AIAFBADYCtC0MAQsgAUEANgJgIAEoAjggASgCbGotAAAhAiABKAKkLSABKAKgLSIDQQF0akEAOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAjoAACABIAJBAnRqQZQBaiICIAIvAQBBAWo7AQAgASABKAJ0QQFrNgJ0IAEgASgCbEEBaiICNgJsIAEoAqAtIAEoApwtQQFrRw0BIAEgASgCXCIEQQBOBH8gASgCOCAEagVBAAsgAiAEa0EAEBQgASABKAJsNgJcIAEoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAEoAgAoAhANAQwHCwsgASgCoC1FDQcgASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNBQwHCwNAAkACQAJAIAEoAnQiAkGDAk8EQCABQQA2AmAMAQsgARAKIAEoAnQiAgRAIAFBADYCYCACQQJLDQEgASgCbCEDDAILIAFBADYCtC0gASgCoC1FDQogASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNCAwKCyABKAJsIgNFBEBBACEDDAELIAEoAjggA2oiBkEBayIFLQAAIgQgBi0AAEcNACAEIAUtAAJHDQAgBCAFLQADRw0AIAZBggJqIQlBfyEIAkACQAJAAkACQAJAA0AgBiAIaiIFLQAEIARGBEAgBCAFLQAFRw0CIAQgBS0ABkcNAyAEIAUtAAdHDQQgBCAGIAhBCGoiCmoiBy0AAEcNByAEIAUtAAlHDQUgBCAFLQAKRw0GIAVBC2ohByAIQfYBSg0HIAohCCAEIActAABGDQEMBwsLIAVBBGohBwwFCyAFQQVqIQcMBAsgBUEGaiEHDAMLIAVBB2ohBwwCCyAFQQlqIQcMAQsgBUEKaiEHCyABIAIgByAJa0GCAmoiBCACIARJGyICNgJgIAJBA0kNACABKAKkLSABKAKgLSIDQQF0akEBOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAWpBmAlqIgIgAi8BAEEBajsBACABQYDJAC0AAEECdGpBiBNqIgIgAi8BAEEBajsBACABKAJgIQIgAUEANgJgIAEgASgCdCACazYCdCABIAIgASgCbGoiAjYCbCABKAKgLSABKAKcLUEBa0cNAgwBCyABKAI4IANqLQAAIQIgASgCpC0gASgCoC0iA0EBdGpBADsBACABIANBAWo2AqAtIAMgASgCmC1qIAI6AAAgASACQQJ0akGUAWoiAiACLwEAQQFqOwEAIAEgASgCdEEBazYCdCABIAEoAmxBAWoiAjYCbCABKAKgLSABKAKcLUEBa0cNAQsgASABKAJcIgRBAE4EfyABKAI4IARqBUEACyACIARrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEA0ACwwECyABQX82AigPCyABQX82AigPCyABQQMgAkEMbEGIyABqKAIAEQQACyICQX5xQQJGBEAgAUGaBTYCBAsgAkF9cQ0BCyAAKAIQDQMgAUF/NgIoDwsgAkEBRw0BCyABQQBBAEEAEBIgASgCRCICIAEoAkxBAXRBAmsiA2pBADsBACACIAMQICABKAJ0RQRAIAFBADYCtC0gAUEANgJcIAFBADYCbAsgACgCHCICEBMCQCAAKAIQIgQgAigCFCIDIAMgBEsbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrIgQ2AhAgAiACKAIUIANrIgM2AhQgAw0AIAIgAigCCDYCEAsgBA0AIAFBfzYCKAsLC7YNAQt/IAAoAgAiBCgCBCEJQQEhCAJAIAQoAhAiAyAAKAK8LUEqakEDdSICSQ0AIAAoAiwiBSAAKAIMQQVrIgYgBSAGSRshCiABQQRHIQsDQCAKIAMgAmsiAyAAKAJsIAAoAlxrIgYgBCgCBGoiAkH//wMgAkH//wNJGyIFIAMgBUkbIgNLBEAgAiADRw0CIAFFDQIgCyADRXENAgsgAEEAQQAgAUEERiACIANGcSIHEBIgACgCFCAAKAIIakEEayADOgAAIAAoAhQgACgCCGpBA2sgA0EIdjoAACAAKAIUIAAoAghqQQJrIANBf3MiAjoAACAAKAIUIAAoAghqQQFrIAJBCHY6AAAgACgCACICKAIcIgQQEwJAIAIoAhAiBSAEKAIUIgwgBSAMSRsiBUUNACACKAIMIAQoAhAgBRAfGiACIAIoAgwgBWo2AgwgBCAEKAIQIAVqNgIQIAIgAigCFCAFajYCFCACIAIoAhAgBWs2AhAgBCAEKAIUIAVrIgI2AhQgAg0AIAQgBCgCCDYCEAsCfyAGBEAgACgCACgCDCAAKAI4IAAoAlxqIAMgBiADIAZJGyICEB8aIAAoAgAiBCAEKAIMIAJqNgIMIAQgBCgCECACazYCECAEIAQoAhQgAmo2AhQgACAAKAJcIAJqNgJcIAMgAmshAwsgAwsEQCAAKAIAIgIoAgwhBSADIAIoAgQiBiADIAZJGyIEBEAgAiAGIARrNgIEIAUgAigCACAEEB8hBQJAAkACQCACKAIcKAIYQQFrDgIAAQILIAIgAigCMCAFIAQQBDYCMAwBCyACIAIoAjAgBSAEEAY2AjALIAIgAigCACAEajYCACACIAIoAgggBGo2AgggACgCACICKAIMIQULIAIgAyAFajYCDCACIAIoAhAgA2s2AhAgAiACKAIUIANqNgIUCyAAKAIAIQQgBwRAQQAhCAwCCyAEKAIQIgMgACgCvC1BKmpBA3UiAk8NAAsLAkAgCSAEKAIEayIDRQRAIAAoAmwhAgwBCwJAIAAoAiwiAiADTQRAIABBAjYCsC0gACgCOCAEKAIAIAJrIAIQHxogACAAKAIsIgQ2AmwgBCECDAELAkAgACgCPCAAKAJsIgRrIANLDQAgACAEIAJrIgQ2AmwgACgCOCIFIAIgBWogBBAfGiAAKAKwLSICQQFLDQAgACACQQFqNgKwLQsgACgCOCAAKAJsaiAAKAIAKAIAIANrIAMQHxogACAAKAJsIANqIgI2AmwgACgCLCEECyAAIAI2AlwgACAEIAAoArQtIgVrIgQgAyADIARLGyAFajYCtC0LIAIgACgCwC1LBEAgACACNgLALQtBAyEDAkAgCEUNACAAKAIAIgQoAgQhAwJAAkAgAUF7cUUNACADDQBBASEDIAIgACgCXEYNAiAAKAI8IAJBf3NqIQVBACEDDAELIAMgACgCPCACQX9zaiIFTQ0AIAAoAlwiByAAKAIsIgZIDQAgACACIAZrIgM2AmwgACAHIAZrNgJcIAAoAjgiAiACIAZqIAMQHxogACgCsC0iA0EBTQRAIAAgA0EBajYCsC0LIAAoAiwgBWohBSAAKAIAIgQoAgQhAwsCQCADIAUgAyAFSRsiAkUEQCAAKAJsIQMMAQsgACgCbCEFIAAoAjghBiAEIAMgAms2AgQgBSAGaiAEKAIAIAIQHyEDAkACQAJAIAQoAhwoAhhBAWsOAgABAgsgBCAEKAIwIAMgAhAENgIwDAELIAQgBCgCMCADIAIQBjYCMAsgBCAEKAIAIAJqNgIAIAQgBCgCCCACajYCCCAAIAAoAmwgAmoiAzYCbAsgAyAAKALALUsEQCAAIAM2AsAtCyADIAAoAlwiBmsiBCAAKAIsIgMgACgCDCAAKAK8LUEqakEDdWsiAkH//wMgAkH//wNJGyICIAIgA0sbSQRAQQAhAyABRQ0BIAFBBEYgBEEAR3JFDQEgAiAESQ0BIAAoAgAoAgQNAQtBACEFIAAgACgCOCAGaiACIAQgAiAESRsiAwJ/IAFBBEYEQCAAKAIAKAIERSACIARPcSEFCyAFCxASIAAgACgCXCADajYCXCAAKAIAIgAoAhwiAxATAkAgACgCECICIAMoAhQiBCACIARJGyICRQ0AIAAoAgwgAygCECACEB8aIAAgACgCDCACajYCDCADIAMoAhAgAmo2AhAgACAAKAIUIAJqNgIUIAAgACgCECACazYCECADIAMoAhQgAmsiADYCFCAADQAgAyADKAIINgIQC0ECQQAgBRshAwsgAwu5CwENfwJAA0ACQAJAIAAoAnRBhQJNBEAgABAKIAAoAnQhAgJAIAENACACQYYCTw0AQQAPCyACRQ0EIAJBA0kNAQsgACAAKAJUIAAoAmwiAiAAKAI4ai0AAiAAKAJIIAAoAlh0c3EiAzYCSCAAKAJAIAIgACgCNHFBAXRqIAAoAkQgA0EBdGoiBC8BACIDOwEAIAQgAjsBACADRQ0AIAAoAixBhgJrIAIgA2tJDQAgACAAIAMQDiICNgJgDAELIAAoAmAhAgsCQCACQQNPBEAgACgCpC0gACgCoC0iA0EBdGogACgCbCAAKAJwayIEOwEAIAAgA0EBajYCoC0gAyAAKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAGpBmAlqIgIgAi8BAEEBajsBACAAIARBAWtB//8DcSICIAJBB3ZBgAJqIAJBgAJJG0GAyQBqLQAAQQJ0akGIE2oiAiACLwEAQQFqOwEAIAAgACgCdCAAKAJgIgJrIgM2AnQgACgCnC1BAWshBiAAKAKgLSEHAkAgA0EDSQ0AIAIgACgCgAFLDQAgACACQQFrIgM2AmAgACgCSCEEIAAoAmwhAiAAKAI0IQggACgCQCEJIAAoAkQhCiAAKAJUIQsgACgCOCEMIAAoAlghDQNAIAAgAiIFQQFqIgI2AmwgACAFIAxqLQADIAQgDXRzIAtxIgQ2AkggCSACIAhxQQF0aiAKIARBAXRqIg4vAQA7AQAgDiACOwEAIAAgA0EBayIDNgJgIAMNAAsgACAFQQJqIgI2AmwgBiAHRw0DDAILIABBADYCYCAAIAAoAmwgAmoiAjYCbCAAIAAoAjggAmoiAy0AACIENgJIIAAgACgCVCADLQABIAQgACgCWHRzcTYCSCAGIAdHDQIMAQsgACgCOCAAKAJsai0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBACAAIAAoAnRBAWs2AnQgACAAKAJsQQFqIgI2AmwgACgCoC0gACgCnC1BAWtHDQELQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQALQQAPCyAAIAAoAmwiAkECIAJBAkkbNgK0LSABQQRGBEBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EBEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALQQNBAiAAKAIAKAIQGw8LAkAgACgCoC1FDQBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EAEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAAoAgAoAhANAEEADwtBAQukBAEQfyAAKAJ8IgMgA0ECdiAAKAJ4IgQgACgCjAFJGyEJQQAgACgCbCIDIAAoAixrQYYCaiICIAIgA0sbIQwgACgCdCIHIAAoApABIgIgAiAHSxshDSAAKAI4Ig4gA2oiBUGCAmohDyAEIAVqIgMtAAAhCiADQQFrLQAAIQsgACgCNCEQIAAoAkAhEQNAAkACQCABIA5qIgMgBGoiAi0AACAKRw0AIAJBAWstAAAgC0cNACADLQAAIAUtAABHDQBBAiEGIAMtAAEgBS0AAUcNAAJAAkACQAJAAkACQAJAA0AgBSAGaiICLQABIAMtAANHDQYgAi0AAiADLQAERw0FIAItAAMgAy0ABUcNBCACLQAEIAMtAAZHDQMgAi0ABSADLQAHRw0CIAItAAYgAy0ACEcNASACLQAHIAMtAAlGBEAgBkH5AUshCCAFIAZBCGoiBmohAiAIDQggAy0ACiEIIANBCGohAyACLQAAIAhGDQEMCAsLIAJBB2ohAgwGCyACQQZqIQIMBQsgAkEFaiECDAQLIAJBBGohAgwDCyACQQNqIQIMAgsgAkECaiECDAELIAJBAWohAgsgAiAPayICQYICaiIDIARMDQAgACABNgJwIAMgDU4EQCADIQQMAgsgAyAFai0AACEKIAIgBWotAIECIQsgAyEECyAJQQFrIglFDQAgDCARIAEgEHFBAXRqLwEAIgFJDQELCyAHIAQgBCAHSxsL3Q4BB38DQAJAAkACQCAAKAJ0QYUCSw0AIAAQCiAAKAJ0IQICQCABDQAgAkGGAk8NAEEADwsgAkUNAiACQQJLDQAgACAAKAJgIgI2AnggACAAKAJwNgJkQQIhAyAAQQI2AmAMAQtBAiEDIAAgACgCVCAAKAJsIgIgACgCOGotAAIgACgCSCAAKAJYdHNxIgQ2AkggACgCQCACIAAoAjRxQQF0aiAAKAJEIARBAXRqIgUvAQAiBDsBACAFIAI7AQAgACAAKAJgIgI2AnggACAAKAJwNgJkIABBAjYCYCAERQ0AAkAgAiAAKAKAAU8NACAAKAIsQYYCayAAKAJsIARrSQ0AIAAgACAEEA4iAzYCYCADQQVLDQAgACgCiAFBAUcEQCADQQNHDQFBAyEDIAAoAmwgACgCcGtBgSBJDQELQQIhAyAAQQI2AmALIAAoAnghAgsCQCACQQNJDQAgAiADSQ0AIAAoAnQhBCAAKAKkLSAAKAKgLSIDQQF0aiAAKAJsIgUgACgCZEF/c2oiBjsBACAAIANBAWo2AqAtIAMgACgCmC1qIAJBA2siAjoAACACQf8BcUGAzQBqLQAAQQJ0IABqQZgJaiICIAIvAQBBAWo7AQAgACAGQQFrQf//A3EiAiACQQd2QYACaiACQYACSRtBgMkAai0AAEECdGpBiBNqIgIgAi8BAEEBajsBACAAIAAoAngiAkECayIDNgJ4IAAgACgCdCACa0EBajYCdCAEIAVqQQNrIQUgACgCnC1BAWshByAAKAJsIQIgACgCoC0hCANAIAAgAiIEQQFqIgI2AmwgAiAFTQRAIAAgACgCVCAEIAAoAjhqLQADIAAoAkggACgCWHRzcSIGNgJIIAAoAkAgACgCNCACcUEBdGogACgCRCAGQQF0aiIGLwEAOwEAIAYgAjsBAAsgACADQQFrIgM2AnggAw0ACyAAQQI2AmAgAEEANgJoIAAgBEECaiICNgJsIAcgCEcNAkEAIQMgACAAKAJcIgRBAE4EfyAAKAI4IARqBSADCyACIARrQQAQFCAAIAAoAmw2AlwgACgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACgCACgCEA0CQQAPCyAAKAJoBEAgACgCbCAAKAI4akEBay0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBAAJAIAAoAqAtIAAoApwtQQFrRw0AQQAhAyAAIAAoAlwiAkEATgR/IAAoAjggAmoFIAMLIAAoAmwgAmtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACAAKAJsQQFqNgJsIAAgACgCdEEBazYCdCAAKAIAKAIQDQJBAA8FIABBATYCaCAAIAAoAmxBAWo2AmwgACAAKAJ0QQFrNgJ0DAILAAsLIAAoAmgEQCAAKAJsIAAoAjhqQQFrLQAAIQIgACgCpC0gACgCoC0iA0EBdGpBADsBACAAIANBAWo2AqAtIAMgACgCmC1qIAI6AAAgACACQQJ0akGUAWoiAiACLwEAQQFqOwEAIABBADYCaAsgACAAKAJsIgJBAiACQQJJGzYCtC0gAUEERgRAQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBARAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQC0EDQQIgACgCACgCEBsPCwJAIAAoAqAtRQ0AQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQBBAA8LQQELYQAgAEEANgK8LSAAQQA7AbgtIABBuBZqQajPADYCACAAIABB/BRqNgKwFiAAQawWakGUzwA2AgAgACAAQYgTajYCpBYgAEGgFmpBgM8ANgIAIAAgAEGUAWo2ApgWIAAQEQvwBAEDfyAAQZQBaiECA0AgAiABQQJ0IgNqQQA7AQAgAiADQQRyakEAOwEAIAFBAmoiAUGeAkcNAAsgAEEAOwH8FCAAQQA7AYgTIABBxBVqQQA7AQAgAEHAFWpBADsBACAAQbwVakEAOwEAIABBuBVqQQA7AQAgAEG0FWpBADsBACAAQbAVakEAOwEAIABBrBVqQQA7AQAgAEGoFWpBADsBACAAQaQVakEAOwEAIABBoBVqQQA7AQAgAEGcFWpBADsBACAAQZgVakEAOwEAIABBlBVqQQA7AQAgAEGQFWpBADsBACAAQYwVakEAOwEAIABBiBVqQQA7AQAgAEGEFWpBADsBACAAQYAVakEAOwEAIABB/BNqQQA7AQAgAEH4E2pBADsBACAAQfQTakEAOwEAIABB8BNqQQA7AQAgAEHsE2pBADsBACAAQegTakEAOwEAIABB5BNqQQA7AQAgAEHgE2pBADsBACAAQdwTakEAOwEAIABB2BNqQQA7AQAgAEHUE2pBADsBACAAQdATakEAOwEAIABBzBNqQQA7AQAgAEHIE2pBADsBACAAQcQTakEAOwEAIABBwBNqQQA7AQAgAEG8E2pBADsBACAAQbgTakEAOwEAIABBtBNqQQA7AQAgAEGwE2pBADsBACAAQawTakEAOwEAIABBqBNqQQA7AQAgAEGkE2pBADsBACAAQaATakEAOwEAIABBnBNqQQA7AQAgAEGYE2pBADsBACAAQZQTakEAOwEAIABBkBNqQQA7AQAgAEGME2pBADsBACAAQgA3AqwtIABBlAlqQQE7AQAgAEEANgKoLSAAQQA2AqAtC7IDAQJ/IAAgAC8BuC0gA0H//wNxIgUgACgCvC0iBHRyIgM7AbgtAkACQAJ/IARBDk4EQCAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAM6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAAQbktai0AADoAACAAIAVBECAAKAK8LSIEa3YiAzsBuC0gBEENawwBCyAEQQNqCyIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGohBCAAQbktai0AACEDDAELIARBAUgNASAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQLIAQgAzoAAAsgAEEANgK8LSAAQQA7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAjoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAJBCHY6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiACQX9zIgM6AAAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADQQh2OgAAIAAoAgggACgCFGogASACEB8aIAAgACgCFCACajYCFAusAQEBfwJAIAACfyAAKAK8LSIBQRBGBEAgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIAAoAhQiAUEBajYCFCABIAAoAghqIABBuS1qLQAAOgAAIABBADsBuC1BAAwBCyABQQhIDQEgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIABBuS1qLQAAOwG4LSAAKAK8LUEIaws2ArwtCwuhEwENfwJ/AkACQAJAIAAoAoQBQQFOBEAgACgCACIGKAIsQQJHDQNB/4D/n38hBANAAkAgBEEBcUUNACAAIAVBAnRqLwGUAUUNAEEAIQQMBAsCQCAEQQJxRQ0AIAAgBUECdEEEcmovAZQBRQ0AQQAhBAwECyAEQQJ2IQQgBUECaiIFQSBHDQALDAELIAJBBWoiBQwDCwJAIAAvAbgBDQAgAC8BvAENACAALwHIAQ0AQSAhBQNAIAAgBUECdCIEai8BlAENASAAIARBBHJqLwGUAQ0BIAAgBEEIcmovAZQBDQEgACAEQQxyai8BlAENAUEAIQQgBUEEaiIFQYACRw0ACwwBC0EBIQQLIAYgBDYCLAsgACAAQZgWahAVIAAgAEGkFmoQFSAALwGWASEEIAAgAEGcFmooAgAiCkECdGpB//8DOwGaASAKQQBOBEBBB0GKASAEGyEJQQRBAyAEGyELIABBwBVqIQ4gAEHEFWohDyAAQbwVaiEQQX8hDANAIAQhBSAAIAgiDUEBaiIIQQJ0ai8BlgEhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgAEGKE2ovAQAhBCAAIABBqBZqKAIAIgpBAnRqQY4TakH//wM7AQBBACEHIApBAE4EQEEHQYoBIAQbIQlBBEEDIAQbIQsgAEHAFWohDiAAQcQVaiEPIABBvBVqIRBBfyEMQQAhCANAIAQhBSAAIAgiDUEBaiIIQQJ0akGKE2ovAQAhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgACAAQbAWahAVIAAgACgCqC0Cf0ESIABBuhVqLwEADQAaQREgAEGCFWovAQANABpBECAAQbYVai8BAA0AGkEPIABBhhVqLwEADQAaQQ4gAEGyFWovAQANABpBDSAAQYoVai8BAA0AGkEMIABBrhVqLwEADQAaQQsgAEGOFWovAQANABpBCiAAQaoVai8BAA0AGkEJIABBkhVqLwEADQAaQQggAEGmFWovAQANABpBByAAQZYVai8BAA0AGkEGIABBohVqLwEADQAaQQUgAEGaFWovAQANABpBBCAAQZ4Vai8BAA0AGkEDQQIgAEH+FGovAQAbCyIIQQNsaiIEQRFqNgKoLSAEQRtqQQN2IgQgACgCrC1BCmpBA3YiBSAEIAVJGwshBAJAAkAgAUUNACACQQRqIARLDQAgACABIAIgAxASDAELIAAoArwtIQYCQCAEIAVHBEAgACgCiAFBBEcNAQsgACAALwG4LSADQQJqQf//A3EiBCAGdHIiBTsBuC0gAAJ/IAZBDk4EQCAAIAAoAhQiBkEBajYCFCAGIAAoAghqIAU6AAAgACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAAQbktai0AADoAACAAIARBECAAKAK8LSIFa3Y7AbgtIAVBDWsMAQsgBkEDags2ArwtIABBwM8AQcDYABAWDAELIAAvAbgtIANBBGpB//8DcSIHIAZ0ciEFAkAgBkEOTgRAIAAgBTsBuC0gACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAFOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUENayEEIAdBECAFa3YhBQwBCyAGQQNqIQQLIAAgBDYCvC0gAEGcFmooAgAiCkGA/gNqQf//A3EiByAEdCEGIABBqBZqKAIAIQkCfyAEQQxOBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBC2shBCAHQRAgBWt2DAELIARBBWohBCAFIAZyCyEFIAAgBDYCvC0gCUH//wNxIgcgBHQhBgJ/IARBDE4EQCAAIAUgBnIiBDsBuC0gACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAEOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUELayEEIAdBECAFa3YMAQsgBEEFaiEEIAUgBnILIQUgACAENgK8LSAIQf3/A2pB//8DcSIHIAR0IQYCfyAEQQ1OBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBDGshBCAHQRAgBWt2DAELIARBBGohBCAFIAZyCyEGIAAgBDYCvC1BACEFIABBuS1qIQ0DQCAAIAYgACAFQZDcAGotAABBAnRqQf4Uai8BACIHIAR0ciIGOwG4LSAAAn8gBEEOTgRAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogBjoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIA0tAAA6AAAgACAHQRAgACgCvC0iBGt2IgY7AbgtIARBDWsMAQsgBEEDagsiBDYCvC0gBSAIRyEHIAVBAWohBSAHDQALIAAgAEGUAWoiBCAKEBcgACAAQYgTaiIFIAkQFyAAIAQgBRAWCyAAEBEgAwRAAkACfyAAKAK8LSIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAALQC4LToAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQgAEG5LWotAAAMAQsgBEEBSA0BIAAgACgCFCIEQQFqNgIUIAQgACgCCGohBCAALQC4LQshBSAEIAU6AAALIABBADYCvC0gAEEAOwG4LQsLsRUBFX8jAEEgayEKIAEoAgAhCSABKAIIIgIoAgAhBSACKAIMIQ0gAEKAgICA0McANwLQKEF/IRACQCANQQBKBEBBACECA0ACQCAJIAJBAnRqIgMvAQAEQCAAIAAoAtAoQQFqIgM2AtAoIAAgA0ECdGpB3BZqIAI2AgAgACACakHYKGpBADoAACACIRAMAQsgA0EAOwECCyACQQFqIgIgDUcNAAsgACgC0CgiBEEBSg0BCwNAIAAgBEEBaiICNgLQKCAAIAJBAnRqQdwWaiAQQQFqIgNBACAQQQJIIgQbIgI2AgAgCSACQQJ0IgdqQQE7AQAgACACakHYKGpBADoAACAAIAAoAqgtQQFrNgKoLSAFBEAgACAAKAKsLSAFIAdqLwECazYCrC0LIAMgECAEGyEQIAAoAtAoIgRBAkgNAAsLIAEgEDYCBCAEQQF2IQgDQCAAIAhBAnRqQdwWaigCACELAkAgCCICQQF0IgMgBEoNACAAIAtqQdgoaiEPIAkgC0ECdGohBiAIIQUDQAJAIAMgBE4EQCADIQIMAQsgCSAAQdwWaiICIANBAXIiBEECdGooAgAiDkECdGovAQAiByAJIAIgA0ECdGooAgAiDEECdGovAQAiAk8EQCACIAdHBEAgAyECDAILIAMhAiAAQdgoaiIDIA5qLQAAIAMgDGotAABLDQELIAQhAgsgBi8BACIEIAkgACACQQJ0akHcFmooAgAiA0ECdGovAQAiB0kEQCAFIQIMAgsCQCAEIAdHDQAgDy0AACAAIANqQdgoai0AAEsNACAFIQIMAgsgACAFQQJ0akHcFmogAzYCACACIQUgAkEBdCIDIAAoAtAoIgRMDQALCyAAIAJBAnRqQdwWaiALNgIAIAhBAk4EQCAIQQFrIQggACgC0CghBAwBCwsgACgC0CghAwNAIA0hCCAAIANBAWsiBDYC0CggACgC4BYhCyAAIAAgA0ECdGpB3BZqKAIAIg02AuAWQQEhAgJAIANBA0gNACAAIA1qQdgoaiEPQQIhAyAJIA1BAnRqIQZBASEFA0ACQCADIAROBEAgAyECDAELIAkgAEHcFmoiAiADQQFyIgRBAnRqKAIAIg5BAnRqLwEAIgcgCSACIANBAnRqKAIAIgxBAnRqLwEAIgJPBEAgAiAHRwRAIAMhAgwCCyADIQIgAEHYKGoiAyAOai0AACADIAxqLQAASw0BCyAEIQILIAYvAQAiBCAJIAAgAkECdGpB3BZqKAIAIgNBAnRqLwEAIgdJBEAgBSECDAILAkAgBCAHRw0AIA8tAAAgACADakHYKGotAABLDQAgBSECDAILIAAgBUECdGpB3BZqIAM2AgAgAiEFIAJBAXQiAyAAKALQKCIETA0ACwtBAiEDIABB3BZqIgYgAkECdGogDTYCACAAIAAoAtQoQQFrIgQ2AtQoIAAoAuAWIQIgBiAEQQJ0aiALNgIAIAAgACgC1ChBAWsiBDYC1CggBiAEQQJ0aiACNgIAIAkgCEECdGoiDiAJIAJBAnRqIgQvAQAgCSALQQJ0aiIFLwEAajsBACAAQdgoaiIMIAhqIg8gAiAMai0AACICIAsgDGotAAAiByACIAdLG0EBajoAACAEIAg7AQIgBSAIOwECIAAgCDYC4BZBASEFQQEhAgJAIAAoAtAoIgRBAkgNAANAAn8gAyADIARODQAaIAkgBiADQQFyIgRBAnRqKAIAIgtBAnRqLwEAIgIgCSAGIANBAnRqKAIAIg1BAnRqLwEAIgdPBEAgAyACIAdHDQEaIAMgCyAMai0AACAMIA1qLQAASw0BGgsgBAshAiAOLwEAIgQgCSAAIAJBAnRqQdwWaigCACIDQQJ0ai8BACIHSQRAIAUhAgwCCwJAIAQgB0cNACAPLQAAIAAgA2pB2ChqLQAASw0AIAUhAgwCCyAAIAVBAnRqQdwWaiADNgIAIAIhBSACQQF0IgMgACgC0CgiBEwNAAsLIAhBAWohDSAAIAJBAnRqQdwWaiAINgIAIAAoAtAoIgNBAUoNAAsgACAAKALUKEEBayICNgLUKCAAQdwWaiIDIAJBAnRqIAAoAuAWNgIAIAEoAgQhByABKAIIIgIoAhAhBiACKAIIIREgAigCBCETIAIoAgAhEiABKAIAIQwgAEHUFmoiAUIANwEAIABBzBZqIhRCADcBACAAQcQWaiIVQgA3AQAgAEG8FmoiFkIANwEAQQAhCCAMIAMgACgC1ChBAnRqKAIAQQJ0akEAOwECAkAgACgC1CgiAkG7BEoNACACQQFqIQJBACEOA0AgDCAAIAJBAnRqQdwWaigCACIEQQJ0Ig1qIgUgDCAFLwECQQJ0ai8BAiIDQQFqIAYgAyAGSBsiDzsBAiADIAZOIQMCQCAEIAdKDQAgACAPQQF0akG8FmoiCyALLwEAQQFqOwEAQQAhCyAEIBFOBEAgEyAEIBFrQQJ0aigCACELCyAAIAAoAqgtIAUvAQAiBCALIA9qbGo2AqgtIBJFDQAgACAAKAKsLSALIA0gEmovAQJqIARsajYCrC0LIAMgDmohDiACQQFqIgJBvQRHDQALIA5FDQAgACAGQQF0akG8FmohDwNAIAYhAgNAIAAgAiIDQQFrIgJBAXRqQbwWaiIELwEAIgVFDQALIAQgBUEBazsBACAAIANBAXRqQbwWaiICIAIvAQBBAmo7AQAgDyAPLwEAQQFrIgI7AQAgDkECSiEDIA5BAmshDiADDQALIAZFDQBBvQQhBQNAIAJB//8DcSEDIAUhAgNAIAMEQCAAIAJBAWsiAkECdGpB3BZqKAIAIgQgB0oNASAMIARBAnRqIgQvAQIiBSAGRwRAIAAgACgCqC0gBC8BACAGIAVrbGo2AqgtIAQgBjsBAgsgA0EBayEDIAIhBQwBCwsgBkEBayIGRQ0BIAAgBkEBdGpBvBZqLwEAIQIMAAsACyAKIBYvAQBBAXQiAjsBAiAKIAIgAEG+FmovAQBqQQF0IgI7AQQgCiACIABBwBZqLwEAakEBdCICOwEGIAogAiAAQcIWai8BAGpBAXQiAjsBCCAKIAIgFS8BAGpBAXQiAjsBCiAKIAIgAEHGFmovAQBqQQF0IgI7AQwgCiACIABByBZqLwEAakEBdCICOwEOIAogAiAAQcoWai8BAGpBAXQiAjsBECAKIAIgFC8BAGpBAXQiAjsBEiAKIAIgAEHOFmovAQBqQQF0IgI7ARQgCiACIABB0BZqLwEAakEBdCICOwEWIAogAiAAQdIWai8BAGpBAXQiAjsBGCAKIAEvAQAgAmpBAXQiAjsBGiAKIABB1hZqLwEAIAJqQQF0IgI7ARwgCiACIABB2BZqLwEAakEBdDsBHiAQQQBOBEADQCAJIAhBAnRqIgcvAQIiBARAIAogBEEBdGoiACAALwEAIgBBAWo7AQAgBEEDcSEDQQAhAiAEQQFrQQNPBEAgBEH8/wNxIQUDQCAAQQN2QQFxIABBAnZBAXEgAEECcSACIABBAXFyQQJ0cnJBAXRyIgRBAXQhAiAAQQR2IQAgBUEEayIFDQALCyADBEADQCACIABBAXFyIgRBAXQhAiAAQQF2IQAgA0EBayIDDQALCyAHIAQ7AQALIAggEEchACAIQQFqIQggAA0ACwsL2QgBCn8CQCAAKAKgLUUEQCAAKAK8LSEDDAELIABBuS1qIQgDQCAEQQFqIQogACgCmC0gBGotAAAhBQJAIAACfyAAKAKkLSAEQQF0ai8BACIHRQRAIAEgBUECdGoiAy8BAiEEIAAgAC8BuC0gAy8BACIFIAAoArwtIgN0ciIHOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAgsgAyAEagwBCyAFQYDNAGotAAAiC0ECdCIJQYAIciABaiIDLwEGIQQgACAALwG4LSADLwEEIgwgACgCvC0iBnRyIgM7AbgtIAACf0EQIARrIAZIBEAgACAAKAIUIgZBAWo2AhQgBiAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIGa3YiAzsBuC0gBCAGakEQawwBCyAEIAZqCyIENgK8LSALQQhrQRNNBEAgACADIAUgCUGw3ABqKAIAa0H//wNxIgYgBHRyIgM7AbgtIAACf0EQIAlBwNkAaigCACIFayAESARAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAzoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBGt2IgM7AbgtIAQgBWpBEGsMAQsgBCAFagsiBDYCvC0LIAIgB0EBayIFIAVBB3ZBgAJqIAVBgAJJG0GAyQBqLQAAIgtBAnQiCWoiBi8BAiEHIAAgAyAGLwEAIgwgBHRyIgY7AbgtIAACf0EQIAdrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAGOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIEa3YiBjsBuC0gBCAHakEQawwBCyAEIAdqCyIDNgK8LSALQQRJDQEgACAGIAUgCUGw3QBqKAIAa0H//wNxIgUgA3RyIgc7AbgtQRAgCUHA2gBqKAIAIgRrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAoiBCAAKAKgLUkNAAsLIAFBgghqLwEAIQQgACAALwG4LSABLwGACCIKIAN0ciIFOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAFOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAEG5LWotAAA6AAAgACAKQRAgACgCvC0iA2t2OwG4LSAAIAMgBGpBEGs2ArwtDwsgACADIARqNgK8LQuXCwEMfyACQQBOBEBBBEEDIAEvAQIiChshBkEHQYoBIAobIQMgAEG5LWohCEF/IQcDQCAKIQkgASALIgxBAWoiC0ECdGovAQIhCgJAAkAgBUEBaiIEIANODQAgCSAKRw0AIAQhBQwBCwJAIAQgBkgEQCAAIAlBAnRqIgVB/BRqIQ0gBUH+FGohDiAAKAK8LSEFA0AgDi8BACEDIAAgAC8BuC0gDS8BACIGIAV0ciIHOwG4LSAAAn9BECADayAFSARAIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBzoAACAAIAAoAhQiBUEBajYCFCAFIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBWt2OwG4LSADIAVqQRBrDAELIAMgBWoLIgU2ArwtIARBAWsiBA0ACwwBCyAAAn8gCQRAAkAgByAJRgRAIAAoArwtIQMgBCEFDAELIAAgCUECdGoiBEH+FGovAQAhAyAAIAAvAbgtIARB/BRqLwEAIgYgACgCvC0iBHRyIgc7AbgtIAACf0EQIANrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAHOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAZBECAAKAK8LSIEa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAAvAbgtIAAvAbwVIgcgA3RyIQQCQEEQIAAvAb4VIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQf3/A2pB//8DcSIFIAN0ciIEOwG4LSADQQ9OBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBDmsMAgsgA0ECagwBCyAFQQlMBEAgAC8BuC0gAC8BwBUiByAAKAK8LSIDdHIhBAJAQRAgAC8BwhUiBmsgA0gEQCAAIAQ7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogBDoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAgtAAA6AAAgBiAAKAK8LSIEakEQayEDIAdBECAEa3YhBAwBCyADIAZqIQMLIAAgAzYCvC0gACAEIAVB/v8DakH//wNxIgUgA3RyIgQ7AbgtIANBDk4EQCAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAAgBUEQIAAoArwtIgNrdjsBuC0gA0ENawwCCyADQQNqDAELIAAvAbgtIAAvAcQVIgcgACgCvC0iA3RyIQQCQEEQIAAvAcYVIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQfb/A2pB//8DcSIFIAN0ciIEOwG4LSADQQpOBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBCWsMAQsgA0EHags2ArwtC0EAIQUCfyAKRQRAQYoBIQNBAwwBC0EGQQcgCSAKRiIEGyEDQQNBBCAEGwshBiAJIQcLIAIgDEcNAAsLCwkAIAEgAmwQHAsGACABEB0LXwEBfyMAQUBqIgMkACADQQA2AjAgA0IANwMoIAMgADYCCCADIAI2AhQgAyABNgIMIAMgAUEDbDYCGCADQQhqEAcgA0EIahALIANBCGoQCCADKAIcIQEgA0FAayQAIAELBgBB1N8AC6QuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB2N8AKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiAkEDdCIDQYjgAGooAgAiAUEIaiEAAkAgASgCCCIEIANBgOAAaiIDRgRAQdjfACAGQX4gAndxNgIADAELIAQgAzYCDCADIAQ2AggLIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDA0LIARB4N8AKAIAIghNDQEgAARAAkAgACABdEECIAF0IgBBACAAa3JxIgBBACAAa3FBAWsiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiICQQN0IgNBiOAAaigCACIBKAIIIgAgA0GA4ABqIgNGBEBB2N8AIAZBfiACd3EiBjYCAAwBCyAAIAM2AgwgAyAANgIICyABQQhqIQAgASAEQQNyNgIEIAEgBGoiAyACQQN0IgUgBGsiAkEBcjYCBCABIAVqIAI2AgAgCARAIAhBA3YiBUEDdEGA4ABqIQRB7N8AKAIAIQECfyAGQQEgBXQiBXFFBEBB2N8AIAUgBnI2AgAgBAwBCyAEKAIICyEFIAQgATYCCCAFIAE2AgwgASAENgIMIAEgBTYCCAtB7N8AIAM2AgBB4N8AIAI2AgAMDQtB3N8AKAIAIglFDQEgCUEAIAlrcUEBayIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QYjiAGooAgAiAygCBEF4cSAEayEBIAMhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAEayICIAEgASACSyICGyEBIAAgAyACGyEDIAAhAgwBCwsgAyAEaiILIANNDQIgAygCGCEKIAMgAygCDCIFRwRAIAMoAggiAEHo3wAoAgBJGiAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEHc3wAoAgAiCEUNAEEfIQcgBEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcaiEHC0EAIARrIQECQAJAAkAgB0ECdEGI4gBqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QYjiAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFB4N8AKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCSAFIAUoAgwiA0cEQCAFKAIIIgBB6N8AKAIASRogACADNgIMIAMgADYCCAwKCyAFQRRqIgIoAgAiAEUEQCAFKAIQIgBFDQQgBUEQaiECCwNAIAIhBiAAIgNBFGoiAigCACIADQAgA0EQaiECIAMoAhAiAA0ACyAGQQA2AgAMCQsgBEHg3wAoAgAiAE0EQEHs3wAoAgAhAQJAIAAgBGsiAkEQTwRAQeDfACACNgIAQezfACABIARqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACABIARBA3I2AgQMAQtB7N8AQQA2AgBB4N8AQQA2AgAgASAAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIECyABQQhqIQAMCwsgBEHk3wAoAgAiA0kEQEHk3wAgAyAEayIBNgIAQfDfAEHw3wAoAgAiACAEaiICNgIAIAIgAUEBcjYCBCAAIARBA3I2AgQgAEEIaiEADAsLQQAhACAEQS9qIggCf0Gw4wAoAgAEQEG44wAoAgAMAQtBvOMAQn83AgBBtOMAQoCggICAgAQ3AgBBsOMAIAxBDGpBcHFB2KrVqgVzNgIAQcTjAEEANgIAQZTjAEEANgIAQYAgCyIBaiIGQQAgAWsiB3EiBSAETQ0KQZDjACgCACIBBEBBiOMAKAIAIgIgBWoiCSACTQ0LIAEgCUkNCwtBlOMALQAAQQRxDQUCQAJAQfDfACgCACIBBEBBmOMAIQADQCABIAAoAgAiAk8EQCACIAAoAgRqIAFLDQMLIAAoAggiAA0ACwtBABAeIgNBf0YNBiAFIQZBtOMAKAIAIgBBAWsiASADcQRAIAUgA2sgASADakEAIABrcWohBgsgBCAGTw0GIAZB/v///wdLDQZBkOMAKAIAIgAEQEGI4wAoAgAiASAGaiICIAFNDQcgACACSQ0HCyAGEB4iACADRw0BDAgLIAYgA2sgB3EiBkH+////B0sNBSAGEB4iAyAAKAIAIAAoAgRqRg0EIAMhAAsCQCAEQTBqIAZNDQAgAEF/Rg0AQbjjACgCACIBIAggBmtqQQAgAWtxIgFB/v///wdLBEAgACEDDAgLIAEQHkF/RwRAIAEgBmohBiAAIQMMCAtBACAGaxAeGgwFCyAAIQMgAEF/Rw0GDAQLAAtBACEFDAcLQQAhAwwFCyADQX9HDQILQZTjAEGU4wAoAgBBBHI2AgALIAVB/v///wdLDQEgBRAeIgNBABAeIgBPDQEgA0F/Rg0BIABBf0YNASAAIANrIgYgBEEoak0NAQtBiOMAQYjjACgCACAGaiIANgIAQYzjACgCACAASQRAQYzjACAANgIACwJAAkACQEHw3wAoAgAiAQRAQZjjACEAA0AgAyAAKAIAIgIgACgCBCIFakYNAiAAKAIIIgANAAsMAgtB6N8AKAIAIgBBACAAIANNG0UEQEHo3wAgAzYCAAtBACEAQZzjACAGNgIAQZjjACADNgIAQfjfAEF/NgIAQfzfAEGw4wAoAgA2AgBBpOMAQQA2AgADQCAAQQN0IgFBiOAAaiABQYDgAGoiAjYCACABQYzgAGogAjYCACAAQQFqIgBBIEcNAAtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiAWsiAjYCAEHw3wAgASADaiIBNgIAIAEgAkEBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCAAwCCyABIANPDQAgASACSQ0AIAAoAgxBCHENACAAIAUgBmo2AgRB8N8AIAFBeCABa0EHcUEAIAFBCGpBB3EbIgBqIgI2AgBB5N8AQeTfACgCACAGaiIDIABrIgA2AgAgAiAAQQFyNgIEIAEgA2pBKDYCBEH03wBBwOMAKAIANgIADAELQejfACgCACADSwRAQejfACADNgIACyADIAZqIQJBmOMAIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQZjjACEAA0AgASAAKAIAIgJPBEAgAiAAKAIEaiICIAFLDQMLIAAoAgghAAwACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiBiAHayAEayECIAQgB2ohBCABIAZGBEBB8N8AIAQ2AgBB5N8AQeTfACgCACACaiIANgIAIAQgAEEBcjYCBAwDCyAGQezfACgCAEYEQEHs3wAgBDYCAEHg3wBB4N8AKAIAIAJqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwDCyAGKAIEIgBBA3FBAUYEQCAAQXhxIQgCQCAAQf8BTQRAIAYoAggiASAAQQN2IgVBA3RBgOAAakYaIAEgBigCDCIARgRAQdjfAEHY3wAoAgBBfiAFd3E2AgAMAgsgASAANgIMIAAgATYCCAwBCyAGKAIYIQkCQCAGIAYoAgwiA0cEQCAGKAIIIgAgAzYCDCADIAA2AggMAQsCQCAGQRRqIgAoAgAiAQ0AIAZBEGoiACgCACIBDQBBACEDDAELA0AgACEFIAEiA0EUaiIAKAIAIgENACADQRBqIQAgAygCECIBDQALIAVBADYCAAsgCUUNAAJAIAYgBigCHCIBQQJ0QYjiAGoiACgCAEYEQCAAIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAGRhtqIAM2AgAgA0UNAQsgAyAJNgIYIAYoAhAiAARAIAMgADYCECAAIAM2AhgLIAYoAhQiAEUNACADIAA2AhQgACADNgIYCyAGIAhqIQYgAiAIaiECCyAGIAYoAgRBfnE2AgQgBCACQQFyNgIEIAIgBGogAjYCACACQf8BTQRAIAJBA3YiAUEDdEGA4ABqIQACf0HY3wAoAgAiAkEBIAF0IgFxRQRAQdjfACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMAwtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QYjiAGohAQJAQdzfACgCACIDQQEgAHQiBXFFBEBB3N8AIAMgBXI2AgAgASAENgIAIAQgATYCGAwBCyACQQBBGSAAQQF2ayAAQR9GG3QhACABKAIAIQMDQCADIgEoAgRBeHEgAkYNAyAAQR12IQMgAEEBdCEAIAEgA0EEcWpBEGoiBSgCACIDDQALIAUgBDYCACAEIAE2AhgLIAQgBDYCDCAEIAQ2AggMAgtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHw3wAgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCACABIAJBJyACa0EHcUEAIAJBJ2tBB3EbakEvayIAIAAgAUEQakkbIgVBGzYCBCAFQaDjACkCADcCECAFQZjjACkCADcCCEGg4wAgBUEIajYCAEGc4wAgBjYCAEGY4wAgAzYCAEGk4wBBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QYDgAGohAAJ/QdjfACgCACIDQQEgAnQiAnFFBEBB2N8AIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwEC0EfIQAgAUIANwIQIAZB////B00EQCAGQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgIgAkGA4B9qQRB2QQRxIgJ0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAnIgA3JrIgBBAXQgBiAAQRVqdkEBcXJBHGohAAsgASAANgIcIABBAnRBiOIAaiECAkBB3N8AKAIAIgNBASAAdCIFcUUEQEHc3wAgAyAFcjYCACACIAE2AgAgASACNgIYDAELIAZBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhAwNAIAMiAigCBEF4cSAGRg0EIABBHXYhAyAAQQF0IQAgAiADQQRxakEQaiIFKAIAIgMNAAsgBSABNgIAIAEgAjYCGAsgASABNgIMIAEgATYCCAwDCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLIAdBCGohAAwFCyACKAIIIgAgATYCDCACIAE2AgggAUEANgIYIAEgAjYCDCABIAA2AggLQeTfACgCACIAIARNDQBB5N8AIAAgBGsiATYCAEHw3wBB8N8AKAIAIgAgBGoiAjYCACACIAFBAXI2AgQgACAEQQNyNgIEIABBCGohAAwDC0HU3wBBMDYCAEEAIQAMAgsCQCAJRQ0AAkAgBSgCHCICQQJ0QYjiAGoiACgCACAFRgRAIAAgAzYCACADDQFB3N8AIAhBfiACd3EiCDYCAAwCCyAJQRBBFCAJKAIQIAVGG2ogAzYCACADRQ0BCyADIAk2AhggBSgCECIABEAgAyAANgIQIAAgAzYCGAsgBSgCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgAUEPTQRAIAUgASAEaiIAQQNyNgIEIAAgBWoiACAAKAIEQQFyNgIEDAELIAUgBEEDcjYCBCAHIAFBAXI2AgQgASAHaiABNgIAIAFB/wFNBEAgAUEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACICQQEgAXQiAXFFBEBB2N8AIAEgAnI2AgAgAAwBCyAAKAIICyEBIAAgBzYCCCABIAc2AgwgByAANgIMIAcgATYCCAwBC0EfIQAgAUH///8HTQRAIAFBCHYiACAAQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcaiEACyAHIAA2AhwgB0IANwIQIABBAnRBiOIAaiECAkACQCAIQQEgAHQiBHFFBEBB3N8AIAQgCHI2AgAgAiAHNgIAIAcgAjYCGAwBCyABQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQQDQCAEIgIoAgRBeHEgAUYNAiAAQR12IQQgAEEBdCEAIAIgBEEEcWpBEGoiAygCACIEDQALIAMgBzYCACAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIICyAFQQhqIQAMAQsCQCAKRQ0AAkAgAygCHCICQQJ0QYjiAGoiACgCACADRgRAIAAgBTYCACAFDQFB3N8AIAlBfiACd3E2AgAMAgsgCkEQQRQgCigCECADRhtqIAU2AgAgBUUNAQsgBSAKNgIYIAMoAhAiAARAIAUgADYCECAAIAU2AhgLIAMoAhQiAEUNACAFIAA2AhQgACAFNgIYCwJAIAFBD00EQCADIAEgBGoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARBA3I2AgQgCyABQQFyNgIEIAEgC2ogATYCACAIBEAgCEEDdiIEQQN0QYDgAGohAkHs3wAoAgAhAAJ/QQEgBHQiBCAGcUUEQEHY3wAgBCAGcjYCACACDAELIAIoAggLIQQgAiAANgIIIAQgADYCDCAAIAI2AgwgACAENgIIC0Hs3wAgCzYCAEHg3wAgATYCAAsgA0EIaiEACyAMQRBqJAAgAAvMDAEHfwJAIABFDQAgAEEIayICIABBBGsoAgAiAUF4cSIAaiEFAkAgAUEBcQ0AIAFBA3FFDQEgAiACKAIAIgFrIgJB6N8AKAIASQ0BIAAgAWohACACQezfACgCAEcEQCABQf8BTQRAIAIoAggiBCABQQN2IgdBA3RBgOAAakYaIAQgAigCDCIBRgRAQdjfAEHY3wAoAgBBfiAHd3E2AgAMAwsgBCABNgIMIAEgBDYCCAwCCyACKAIYIQYCQCACIAIoAgwiA0cEQCACKAIIIgEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQeDfACAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgAiAFTw0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHw3wAoAgBGBEBB8N8AIAI2AgBB5N8AQeTfACgCACAAaiIANgIAIAIgAEEBcjYCBCACQezfACgCAEcNA0Hg3wBBADYCAEHs3wBBADYCAA8LIAVB7N8AKAIARgRAQezfACACNgIAQeDfAEHg3wAoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgQgAUEDdiIHQQN0QYDgAGpGGiAEIAUoAgwiAUYEQEHY3wBB2N8AKAIAQX4gB3dxNgIADAILIAQgATYCDCABIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEAgBSgCCCIBQejfACgCAEkaIAEgAzYCDCADIAE2AggMAQsCQCAFQRRqIgEoAgAiBA0AIAVBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAAJAIAUgBSgCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAM2AgAgA0UNAQsgAyAGNgIYIAUoAhAiAQRAIAMgATYCECABIAM2AhgLIAUoAhQiAUUNACADIAE2AhQgASADNgIYCyACIABBAXI2AgQgACACaiAANgIAIAJB7N8AKAIARw0BQeDfACAANgIADwsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACIEQQEgAXQiAXFFBEBB2N8AIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCA8LQR8hASACQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiBCAEQYDgH2pBEHZBBHEiBHQiAyADQYCAD2pBEHZBAnEiA3RBD3YgASAEciADcmsiAUEBdCAAIAFBFWp2QQFxckEcaiEBCyACIAE2AhwgAUECdEGI4gBqIQQCQAJAAkBB3N8AKAIAIgNBASABdCIFcUUEQEHc3wAgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQfjfAEH43wAoAgBBAWsiAkF/IAIbNgIACwtVAQJ/QdDfACgCACIBIABBA2pBfHEiAmohAAJAIAJBAU5BACAAIAFNGw0APwBBEHQgAEkEQCAAEABFDQELQdDfACAANgIAIAEPC0HU3wBBMDYCAEF/C4IEAQN/IAJBgARPBEAgACABIAIQARogAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCACQQFIBEAgACECDAELIABBA3FFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANPDQEgAkEDcQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC9YCAQJ/AkAgAUUNACAAIAFqIgJBAWtBADoAACAAQQA6AAAgAUEDSQ0AIAJBAmtBADoAACAAQQA6AAEgAkEDa0EAOgAAIABBADoAAiABQQdJDQAgAkEEa0EAOgAAIABBADoAAyABQQlJDQAgAEEAIABrQQNxIgNqIgJBADYCACACIAEgA2tBfHEiA2oiAUEEa0EANgIAIANBCUkNACACQQA2AgggAkEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgA0EZSQ0AIAJBADYCGCACQQA2AhQgAkEANgIQIAJBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAyACQQRxQRhyIgNrIgFBIEkNACACIANqIQIDQCACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwAgAkEgaiECIAFBIGsiAUEfSw0ACwsLBAAjAAsGACAAJAALEAAjACAAa0FwcSIAJAAgAAsLvVYIAEGECAvxQJYwB3csYQ7uulEJmRnEbQeP9GpwNaVj6aOVZJ4yiNsOpLjceR7p1eCI2dKXK0y2Cb18sX4HLbjnkR2/kGQQtx3yILBqSHG5895BvoR91Noa6+TdbVG11PTHhdODVphsE8Coa2R6+WL97Mllik9cARTZbAZjYz0P+vUNCI3IIG47XhBpTORBYNVycWei0eQDPEfUBEv9hQ3Sa7UKpfqotTVsmLJC1sm720D5vKzjbNgydVzfRc8N1txZPdGrrDDZJjoA3lGAUdfIFmHQv7X0tCEjxLNWmZW6zw+lvbieuAIoCIgFX7LZDMYk6Quxh3xvLxFMaFirHWHBPS1mtpBB3HYGcdsBvCDSmCoQ1e+JhbFxH7W2BqXkv58z1LjooskHeDT5AA+OqAmWGJgO4bsNan8tPW0Il2xkkQFcY+b0UWtrYmFsHNgwZYVOAGLy7ZUGbHulARvB9AiCV8QP9cbZsGVQ6bcS6ri+i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTp0ALyj4jC71EGl30rXldg9bcTRpPv01tNq6WlD/NluNEaIZ63QuGDacy0EROUdAzNfTAqqyXwN3TxxBVCqQQInEBALvoYgDMkltWhXs4VvIAnUZrmf5GHODvneXpjJ2SkimNCwtKjXxxc9s1mBDbQuO1y9t61susAgg7jttrO/mgzitgOa0rF0OUfV6q930p0VJtsEgxbccxILY+OEO2SUPmptDahaanoLzw7knf8JkyeuAAqxngd9RJMP8NKjCIdo8gEe/sIGaV1XYvfLZ2WAcTZsGecGa252G9T+4CvTiVp62hDMSt1nb9+5+fnvvo5DvrcX1Y6wYOij1tZ+k9GhxMLYOFLy30/xZ7vRZ1e8pt0GtT9LNrJI2isN2EwbCq/2SgM2YHoEQcPvYN9V32eo745uMXm+aUaMs2HLGoNmvKDSbyU24mhSlXcMzANHC7u5FgIiLyYFVb47usUoC72yklq0KwRqs1yn/9fCMc/QtYue2Swdrt5bsMJkmybyY+yco2p1CpNtAqkGCZw/Ng7rhWcHchNXAAWCSr+VFHq44q4rsXs4G7YMm47Skg2+1eW379x8Id/bC9TS04ZC4tTx+LPdaG6D2h/NFr6BWya59uF3sG93R7cY5loIiHBqD//KOwZmXAsBEf+eZY9prmL40/9rYUXPbBZ44gqg7tIN11SDBE7CswM5YSZnp/cWYNBNR2lJ23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Pskfp/7UwHPK9vYrCusowk7NTpqO0JAU20LqTBtfNKVfeVL9n2SMuemazuEphxAIbaF2UK28qN74LtKGODMMb3wVaje8CLQAAAABBMRsZgmI2MsNTLSsExWxkRfR3fYanWlbHlkFPCIrZyEm7wtGK6O/6y9n04wxPtaxNfq61ji2Dns8cmIdREsJKECPZU9Nw9HiSQe9hVdeuLhTmtTfXtZgcloSDBVmYG4IYqQCb2/otsJrLNqldXXfmHGxs/98/QdSeDlrNoiSEleMVn4wgRrKnYXepvqbh6PHn0PPoJIPew2Wyxdqqrl1d659GRCjMa29p/XB2rmsxOe9aKiAsCQcLbTgcEvM2Rt+yB13GcVRw7TBla/T38yq7tsIxonWRHIk0oAeQ+7yfF7qNhA553qklOO+yPP9583O+SOhqfRvFQTwq3lgFT3nwRH5i6YctT8LGHFTbAYoVlEC7Do2D6COmwtk4vw3FoDhM9Lshj6eWCs6WjRMJAMxcSDHXRYti+m7KU+F3VF27uhVsoKPWP42Ilw6WkVCY194RqczH0vrh7JPL+vVc12JyHeZ5a961VECfhE9ZWBIOFhkjFQ/acDgkm0EjPadr/WXmWuZ8JQnLV2Q40E6jrpEB4p+KGCHMpzNg/bwqr+Ekre7QP7QtgxKfbLIJhqskSMnqFVPQKUZ++2h3ZeL2eT8vt0gkNnQbCR01KhIE8rxTS7ONSFJw3mV5Me9+YP7z5ue/wv3+fJHQ1T2gy8z6NoqDuweRmnhUvLE5ZaeoS5iDOwqpmCLJ+rUJiMuuEE9d718ObPRGzT/ZbYwOwnRDElrzAiNB6sFwbMGAQXfYR9c2lwbmLY7FtQClhIQbvBqKQXFbu1pomOh3Q9nZbFoeTy0VX342DJwtGyfdHAA+EgCYuVMxg6CQYq6L0VO1khbF9N1X9O/ElKfC79WW2fbpvAeuqI0ct2veMZwq7yqF7XlryqxIcNNvG134LipG4eE23magB8V/Y1ToVCJl803l87ICpMKpG2eRhDAmoJ8puK7F5Pmf3v06zPPWe/3oz7xrqYD9WrKZPgmfsn84hKuwJBws8RUHNTJGKh5zdzEHtOFwSPXQa1E2g0Z6d7JdY07X+ssP5uHSzLXM+Y2E1+BKEpavCyONtshwoJ2JQbuERl0jAwdsOBrEPxUxhQ4OKEKYT2cDqVR+wPp5VYHLYkwfxTiBXvQjmJ2nDrPclhWqGwBU5VoxT/yZYmLX2FN5zhdP4UlWfvpQlS3Xe9QczGITio0tUruWNJHoux/Q2aAG7PN+Xq3CZUdukUhsL6BTdeg2EjqpBwkjalQkCCtlPxHkeaeWpUi8j2YbkaQnKoq94LzL8qGN0Oti3v3AI+/m2b3hvBT80KcNP4OKJn6ykT+5JNBw+BXLaTtG5kJ6d/1btWtl3PRafsU3CVPudjhI97GuCbjwnxKhM8w/inL9JJMAAAAAN2rCAW7UhANZvkYC3KgJB+vCywayfI0EhRZPBbhREw6PO9EP1oWXDeHvVQxk+RoJU5PYCAotngo9R1wLcKMmHEfJ5B0ed6IfKR1gHqwLLxubYe0awt+rGPW1aRnI8jUS/5j3E6YmsRGRTHMQFFo8FSMw/hR6jrgWTeR6F+BGTTjXLI85jpLJO7n4Czo87kQ/C4SGPlI6wDxlUAI9WBdeNm99nDc2w9o1AakYNIS/VzGz1ZUw6mvTMt0BETOQ5Wskp4+pJf4x7yfJWy0mTE1iI3snoCIimeYgFfMkISi0eCof3rorRmD8KXEKPij0HHEtw3azLJrI9S6tojcvwI2acPfnWHGuWR5zmTPcchwlk3crT1F2cvEXdEWb1XV43Il+T7ZLfxYIDX0hYs98pHSAeZMeQnjKoAR6/crGe7AuvGyHRH5t3vo4b+mQ+m5shrVrW+x3agJSMWg1OPNpCH+vYj8VbWNmqythUcHpYNTXpmXjvWRkugMiZo1p4Gcgy9dIF6EVSU4fU0t5dZFK/GPeT8sJHE6St1pMpd2YTZiaxEav8AZH9k5ARcEkgkREMs1Bc1gPQCrmSUIdjItDUGjxVGcCM1U+vHVXCda3VozA+FO7qjpS4hR8UNV+vlHoOeJa31MgW4btZlmxh6RYNJHrXQP7KVxaRW9ebS+tX4AbNeG3cffg7s+x4tmlc+Ncszzma9n+5zJnuOUFDXrkOEom7w8g5O5WnqLsYfRg7eTiL+jTiO3pijar671caerwuBP9x9LR/J5sl/6pBlX/LBAa+ht62PtCxJ75da5c+EjpAPN/g8LyJj2E8BFXRvGUQQn0oyvL9fqVjffN/0/2YF142Vc3utgOifzaOeM+27z1cd6Ln7Pf0iH13eVLN9zYDGvX72ap1rbY79SBsi3VBKRi0DPOoNFqcObTXRok0hD+XsUnlJzEfiraxklAGMfMVlfC+zyVw6KC08GV6BHAqK9Ny5/Fj8rGe8nI8RELyXQHRMxDbYbNGtPAzy25As5Alq+Rd/xtkC5CK5IZKOmTnD6mlqtUZJfy6iKVxYDglPjHvJ/PrX6elhM4nKF5+p0kb7WYEwV3mUq7MZt90fOaMDWJjQdfS4xe4Q2OaYvPj+ydgIrb90KLgkkEibUjxoiIZJqDvw5YguawHoDR2tyBVMyThGOmUYU6GBeHDXLVhqDQ4qmXuiCozgRmqvlupKt8eOuuSxIprxKsb60lxq2sGIHxpy/rM6Z2VXWkQT+3pcQp+KDzQzqhqv18o52XvqLQc8S15xkGtL6nQLaJzYK3DNvNsjuxD7NiD0mxVWWLsGgi17tfSBW6BvZTuDGckbm0it68g+AcvdpeWr/tNJi+AAAAAGVnvLiLyAmq7q+1EleXYo8y8N433F9rJbk4153vKLTFik8IfWTgvW8BhwHXuL/WSt3YavIzd9/gVhBjWJ9XGVD6MKXoFJ8Q+nH4rELIwHvfrafHZ0MIcnUmb87NcH+tlRUYES37t6Q/ntAYhyfozxpCj3OirCDGsMlHegg+rzKgW8iOGLVnOwrQAIeyaThQLwxf7Jfi8FmFh5flPdGHhmW04DrdWk+Pzz8oM3eGEOTq43dYUg3Y7UBov1H4ofgr8MSfl0gqMCJaT1ee4vZvSX+TCPXHfadA1RjA/G1O0J81K7cjjcUYlp+gfyonGUf9unwgQQKSj/QQ9+hIqD1YFJtYP6gjtpAdMdP3oYlqz3YUD6jKrOEHf76EYMMG0nCgXrcXHOZZuKn0PN8VTIXnwtHggH5pDi/Le2tId8OiDw3Lx2ixcynHBGFMoLjZ9ZhvRJD/0/x+UGbuGzfaVk0nuQ4oQAW2xu+wpKOIDBwasNuBf9dnOZF40iv0H26TA/cmO2aQmoOIPy+R7ViTKVRgRLQxB/gM36hNHrrP8abs35L+ibguRmcXm1QCcCfsu0jwcd4vTMkwgPnbVedFY5ygP2v5x4PTF2g2wXIPinnLN13krlDhXED/VE4lmOj2c4iLrhbvNxb4QIIEnSc+vCQf6SFBeFWZr9fgi8qwXDM7tlntXtHlVbB+UEfVGez/bCE7YglGh9rn6TLIgo6OcNSe7Six+VGQX1bkgjoxWDqDCY+n5m4zHwjBhg1tpjq1pOFAvcGG/AUvKUkXSk71r/N2IjKWEZ6KeL4rmB3ZlyBLyfR4Lq5IwMAB/dKlZkFqHF6W93k5Kk+Xlp9d8vEj5QUZa01gftf1jtFi5+u23l9SjgnCN+m1etlGAGi8IbzQ6jHfiI9WYzBh+dYiBJ5qmr2mvQfYwQG/Nm60rVMJCBWaTnId/ynOpRGGe7d04ccPzdkQkqi+rCpGERk4I3algHVmxtgQAXpg/q7PcpvJc8oi8aRXR5YY76k5rf3MXhFFBu5NdmOJ8c6NJkTc6EH4ZFF5L/k0HpNB2rEmU7/WmuvpxvmzjKFFC2IO8BkHaUyhvlGbPNs2J4Q1mZKWUP4uLpm5VCb83uieEnFdjHcW4TTOLjapq0mKEUXmPwMggYO7dpHg4xP2XFv9WelJmD5V8SEGgmxEYT7Uqs6Lxs+pN344QX/WXSbDbrOJdnzW7srEb9YdWQqxoeHkHhTzgXmoS9dpyxOyDnerXKHCuTnGfgGA/qmc5ZkVJAs2oDZuURyOpxZmhsJx2j4s3m8sSbnTlPCBBAmV5rixe0kNox4usRtIPtJDLVlu+8P22+mmkWdRH6mwzHrODHSUYblm8QYF3gAAAAB3BzCW7g5hLJkJUboHbcQZcGr0j+ljpTWeZJWjDtuIMnncuKTg1ekel9LZiAm2TCt+sXy957gtB5C/HZEdtxBkarAg8vO5cUiEvkHeGtrUfW3d5Ov01LVRg9OFxxNsmFZka6jA/WL5eoplyewUAVxPYwZs2foPPWONCA31O24gyExpEF7VYEHkomdxcjwD5NFLBNRH0g2F/aUKtWs1taj6QrKYbNu7ydasvPlAMths40XfXHXc1g3Pq9E9WSbZMKxR3gA6yNdRgL/QYRYhtPS1VrPEI8+6lZm4vaUPKAK4nl8FiAjGDNmysQvpJC9vfIdYaEwRwWEdq7ZmLT123EGQAdtxBpjSILzv1RAqcbGFiQa2tR+fv+Sl6LjUM3gHyaIPAPk0lgmojuEOmBh/ag27CG09LZFkbJfmY1wBa2tR9BxsYWKFZTDY8mIATmwGle0bAaV7ggj0wfUPxFdlsNnGErfpUIu+uOr8uYh8Yt0d3xXaLUmM03zz+9RMZU2yYVg6tVHOo7wAdNS7MOJK36VBPdiV16TRxG3T1vT7Q2npajRu2fytZ4hG2mC40EQELXMzAx3lqgpMX90NfMlQBXE8JwJBqr4LEBDJDCCGV2i1JSBvhbO5ZtQJzmHkn17e+Q4p2cmYsNCYIsfXqLRZsz0XLrQNgbe9XDvAumyt7biDIJq/s7YDtuIMdLHSmurVRzmd0nevBNsmFXPcFoPjYwsSlGQ7hA1taj56alqo5A7PC5MJ/50KAK4nfQeesfAPk0SHCKPSHgHyaGkGwv73YlddgGVnyxlsNnFuawbn/tQbdonTK+AQ2npaZ91KzPm532+Ovu/5F7e+Q2CwjtXW1qPoodGTfjjYwsRP3/JS0btn8aa8V2c/tQbdSLI2S9gNK9qvChtMNgNK9kEEemDfYO/DqGffVTFuju9Gab55y2GzjLxmgxolb9KgUmjiNswMd5W7C0cDIgIWuVUFJi/Fuju+sr0LKCu0WpJcs2oEwtf/p7XQzzEs2Z6LW96uHZtkwrDsY/ImdWqjnAJtkwqcCQap6w42P3IHZ4UFAFcTlb9KguK4ehR7sSuuDLYbOJLSjpvl1b4NfNzvtwvb3yGG09LU8dTiQmjds/gf2oNugb4Wzfa5JltvsHfhGLdHd4gIWub/D2pwZgY7yhEBC1yPZZ7/+GKuaWFr/9MWbM9FoArieNcN0u5OBINUOQOzwqdnJmHQYBb3SWlHTT5ud9uu0WpK2dZa3EDfC2Y32DvwqbyuU967nsVHss9/MLX/6b298hzKusKKU7OTMCS0o6a60DYFzdcGk1TeVykj2We/s2Z6LsRhSrhdaBsCKm8rlLQLvjfDDI6hWgXfGy0C740AAAAAGRsxQTI2YoIrLVPDZGzFBH139EVWWqeGT0GWx8jZigjRwrtJ+u/oiuP02custU8Mta5+TZ6DLY6HmBzPSsISUVPZIxB49HDTYe9Bki6u11U3teYUHJi11wWDhJaCG5hZmwCpGLAt+tupNsua5nddXf9sbBzUQT/fzVoOnpWEJKKMnxXjp7JGIL6pd2Hx6OGm6PPQ58PegyTaxbJlXV2uqkRGn+tva8wodnD9aTkxa64gKlrvCwcJLBIcOG3fRjbzxl0Hsu1wVHH0a2Uwuyrz96IxwraJHJF1kAegNBefvPsOhI26JaneeTyy7zhz83n/auhIvkHFG31Y3io88HlPBelifkTCTy2H21QcxpQVigGNDrtApiPog7842cI4oMUNIbv0TAqWp48TjZbOXMwACUXXMUhu+mKLd+FTyrq7XVSjoGwViI0/1pGWDpfe15hQx8ypEezh+tL1+suTcmLXXGt55h1AVLXeWU+EnxYOElgPFSMZJDhw2j0jQZtl/WunfOZa5lfLCSVO0DhkAZGuoxiKn+Izp8whKrz9YK0k4a+0P9DunxKDLYYJsmzJSCSr0FMV6vt+RiniZXdoLz959jYkSLcdCRt0BBIqNUtTvPJSSI2zeWXecGB+7zHn5vP+/v3Cv9XQkXzMy6A9g4o2+pqRB7uxvFR4qKdlOTuDmEsimKkKCbX6yRCuy4hf711PRvRsDm3ZP810wg6M81oSQ+pBIwLBbHDB2HdBgJc210eOLeYGpQC1xbwbhIRxQYoaaFq7W0N36JhabNnZFS1PHgw2fl8nGy2cPgAc3bmYABKggzFTi65ikJK1U9Hd9MUWxO/0V+/Cp5T22ZbVrge86bccjaicMd5rhSrvKspree3TcEis+F0bb+FGKi5m3jbhf8UHoFToVGNN82UiArLz5RupwqQwhJFnKZ+gJuTFrrj93p/51vPMOs/o/XuAqWu8mbJa/bKfCT6rhDh/LBwksDUHFfEeKkYyBzF3c0hw4bRRa9D1ekaDNmNdsnfL+tdO0uHmD/nMtczg14SNr5YSSraNIwudoHDIhLtBiQMjXUYaOGwHMRU/xCgODoVnT5hCflSpA1V5+sBMYsuBgTjFH5gj9F6zDqedqhWW3OVUABv8TzFa12Jimc55U9hJ4U8XUPp+VnvXLZVizBzULY2KEzSWu1Ifu+iRBqDZ0F5+8+xHZcKtbEiRbnVToC86EjboIwkHqQgkVGoRP2Urlqd55I+8SKWkkRtmvYoqJ/LLvODr0I2hwP3eYtnm7yMUvOG9DafQ/CaKgz8/kbJ+cNAkuWnLFfhC5kY7W/13etxla7XFflr07lMJN/dIOHa4Ca6xoRKf8Io/zDOTJP1yAAAAAAHCajcDhNRuAka+WQcJqNwGy8LrBI18sgVPFoUOE1G4D9E7jw2XhdYMVe/hCRr5ZAjYk1MKni0KC1xHPRwmo3Ad5MlHH6J3Hh5gHSkbLwusGu1hmxir38IZabX1EjXyyBP3mP8RsSamEHNMkRU8WhQU/jAjFriOehd65E04TUbgOY8s1zvJko46C/i5P0TuPD6GhAs8wDpSPQJQZTZeF1g3nH1vNdrDNjQYqQExV7+EMJXVszLTa+ozEQHdJGvlkCWpj6cn7zH+Ji1bySNiTUwioCd7IOaZIiEk8xUqeLQoK7reHyn8YEYoPgpxLXEc9CyzdsMu9ciaLzeirXCajcBxWOf3cx5ZrnLcM5l3kyUcdlFPK3QX8XJ11ZtFfonceH9Ltk99DQgWfM9iIXmAdKR4Qh6TegSgynvGyv1svC6wbX5Eh284+t5u+pDpa7WGbGp37FtoMVICafM4NWKvfwhjbRU/YSurZmDpwVFlptfUZGS942YiA7pn4GmNSNfLIEkVoRdLUx9OSpF1eU/eY/xOHAnLTFq3kk2Y3aVGxJqYRwbwr0VATvZEgiTBQc0yREAPWHNCSeYqQ4uMHVTxaFBVMwJnV3W8Pla31glT+MCMUjqqu1B8FOJRvn7VWuI56FsgU99ZZu2GWKSHsV3rkTRcKfsDXm9FWl+tL23hNRuA4Pdxt+Kxz+7jc6XZ5jyzXOf+2WvluGcy5HoNBe8mSjju5CAP7KKeVu1g9GHoL+Lk6e2I0+urNorqaVy9/RO48PzR0sf+l2ye/1UGqfoaECz72Hob+Z7EQvhcrnXzAOlI8sKDf/CEPSbxRlcR9AlBlPXLK6P3jZX69k//zdl4XWDYujdX2vyJDts+4znecfW837Ofi931IdLcN0vl12sM2NapZu/U79i21S2ygdBipATRoM4z0+ZwatIkGl3FXv4QxJyUJ8baKn7HGEBJwldWzMOVPPvB04KiwBHolctNr6jKj8WfyMl7xskLEfHMRAd0zYZtQ8/A0xrOArktka+WQJBt/HeSK0Iuk+koGZamPpyXZFSrlSLq8pTggMWfvMf4nn6tz5w4E5ad+nmhmLVvJJl3BRObMbtKmvPRfY2JNTCMS18Hjg3hXo/Pi2mKgJ3si0L324kESYKIxiO1g5pkiIJYDr+AHrDmgdza0YSTzFSFUaZjhxcYOobVcg2p4tCgqCC6l6pmBM6rpG75rut4fK8pEkutb6wSrK3GJafxgRimM+svpHVVdqW3P0Gg+CnEoTpD86N8/aqivpedtcRz0LQGGee2QKe+t4LNibLN2wyzD7E7sUkPYrCLZVW71yJouhVIX7hT9ga5kZwxvN6KtL0c4IO/Wl7avpg07QAAAAC4vGdlqgnIixK1r+6PYpdXN97wMiVrX9yd1zi5xbQo730IT4pvveBk1wGHAUrWv7jyatjd4N93M1hjEFZQGVef6KUw+voQnxRCrPhx33vAyGfHp611cghDzc5vJpWtf3AtERgVP6S3+4cY0J4az+gnonOPQrDGIKwIekfJoDKvPhiOyFsKO2e1socA0C9QOGmX7F8MhVnw4j3ll4dlhofR3TrgtM+PT1p3Myg/6uQQhlJYd+NA7dgN+FG/aPAr+KFIl5/EWiIwKuKeV09/SW/2x/UIk9VAp31t/MAYNZ/QTo0jtyuflhjFJyp/oLr9RxkCQSB8EPSPkqhI6PebFFg9I6g/WDEdkLaJoffTFHbPaqzKqA++fwfhBsNghF6gcNLmHBe39Km4WUwV3zzRwueFaX6A4HvLLw7Dd0hryw0PonOxaMdhBMcp2bigTERvmPX80/+Q7mZQflbaNxsOuSdNtgVAKKSw78YcDIijgduwGjln138r0niRk24f9Dsm9wODmpBmkS8/iCmTWO20RGBUDPgHMR5NqN+m8c+6/pLf7EYuuIlUmxdn7CdwAnHwSLvJTC/e2/mAMGNF51VrP6Cc04PH+cE2aBd5ig9y5F03y1zhUK5OVP9A9uiYJa6LiHMWN+8WBIJA+Lw+J50h6R8kmVV4QYvg168zXLDK7Vm2O1Xl0V5HUH6w/+wZ1WI7IWzah0YJyDLp53COjoIo7Z7UkFH5sYLkVl86WDE6p48Jgx8zbuYNhsEItTqmbb1A4aQF/IbBF0kpL6/1TkoyInbzip4Rlpgrvnggl9kdePTJS8BIri7S/QHAakFmpfeWXhxPKjl5XZ+Wl+Uj8fJNaxkF9dd+YOdi0Y5f3rbrwgmOUnq16TdoAEbZ0LwhvIjfMeowY1aPItb5YZpqngQHvaa9vwHB2K20bjYVCAlTHXJOmqXOKf+3e4YRD8fhdJIQ2c0qrL6oOBkRRoCldiPYxmZ1YHoBEHLPrv7Kc8mbV6TxIu8Ylkf9rTmpRRFezHZN7gbO8Ylj3EQmjWT4Qej5L3lRQZMeNFMmsdrrmta/s/nG6QtFoYwZ8A5ioUxpBzybUb6EJzbblpKZNS4u/lAmVLmZnuje/IxdcRI04RZ3qTYuzhGKSasDP+ZFu4OBIOPgkXZbXPYTSelZ/fFVPphsggYh1D5hRMaLzqp+N6nP1n9BOG7DJl18domzxMru1lkd1m/hobEK8xQe5EuoeYETy2nXq3cOsrnCoVwBfsY5nKn+gCQVmeU2oDYLjhxRboZmFqc+2nHCLG/eLJTTuUkJBIHwsbjmlaMNSXsbsS4eQ9I+SPtuWS3p2/bDUWeRpsywqR90DM56ZrlhlN4FBvEAAAAAAAAAAAMAAAAEAAQACAAEAAQAAAAEAAUAEAAIAAQAAAAEAAYAIAAgAAQAAAAEAAQAEAAQAAUAAAAIABAAIAAgAAUAAAAIABAAgACAAAUAAAAIACAAgAAAAQUAAAAgAIAAAgEABAUAAAAgAAIBAgEAEAUAQYHJAAu2EAECAwQEBQUGBgYGBwcHBwgICAgICAgICQkJCQkJCQkKCgoKCgoKCgoKCgoKCgoKCwsLCwsLCwsLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwAAEBESEhMTFBQUFBUVFRUWFhYWFhYWFhcXFxcXFxcXGBgYGBgYGBgYGBgYGBgYGBkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0AAQIDBAUGBwgICQkKCgsLDAwMDA0NDQ0ODg4ODw8PDxAQEBAQEBAQERERERERERESEhISEhISEhMTExMTExMTFBQUFBQUFBQUFBQUFBQUFBUVFRUVFRUVFRUVFRUVFRUWFhYWFhYWFhYWFhYWFhYWFxcXFxcXFxcXFxcXFxcXFxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxscwCcAAMAsAAABAQAAHgEAAA8AAABALAAAQC0AAAAAAAAeAAAADwAAAAAAAADALQAAAAAAABMAAAAHAAAAAAAAAAwACACMAAgATAAIAMwACAAsAAgArAAIAGwACADsAAgAHAAIAJwACABcAAgA3AAIADwACAC8AAgAfAAIAPwACAACAAgAggAIAEIACADCAAgAIgAIAKIACABiAAgA4gAIABIACACSAAgAUgAIANIACAAyAAgAsgAIAHIACADyAAgACgAIAIoACABKAAgAygAIACoACACqAAgAagAIAOoACAAaAAgAmgAIAFoACADaAAgAOgAIALoACAB6AAgA+gAIAAYACACGAAgARgAIAMYACAAmAAgApgAIAGYACADmAAgAFgAIAJYACABWAAgA1gAIADYACAC2AAgAdgAIAPYACAAOAAgAjgAIAE4ACADOAAgALgAIAK4ACABuAAgA7gAIAB4ACACeAAgAXgAIAN4ACAA+AAgAvgAIAH4ACAD+AAgAAQAIAIEACABBAAgAwQAIACEACAChAAgAYQAIAOEACAARAAgAkQAIAFEACADRAAgAMQAIALEACABxAAgA8QAIAAkACACJAAgASQAIAMkACAApAAgAqQAIAGkACADpAAgAGQAIAJkACABZAAgA2QAIADkACAC5AAgAeQAIAPkACAAFAAgAhQAIAEUACADFAAgAJQAIAKUACABlAAgA5QAIABUACACVAAgAVQAIANUACAA1AAgAtQAIAHUACAD1AAgADQAIAI0ACABNAAgAzQAIAC0ACACtAAgAbQAIAO0ACAAdAAgAnQAIAF0ACADdAAgAPQAIAL0ACAB9AAgA/QAIABMACQATAQkAkwAJAJMBCQBTAAkAUwEJANMACQDTAQkAMwAJADMBCQCzAAkAswEJAHMACQBzAQkA8wAJAPMBCQALAAkACwEJAIsACQCLAQkASwAJAEsBCQDLAAkAywEJACsACQArAQkAqwAJAKsBCQBrAAkAawEJAOsACQDrAQkAGwAJABsBCQCbAAkAmwEJAFsACQBbAQkA2wAJANsBCQA7AAkAOwEJALsACQC7AQkAewAJAHsBCQD7AAkA+wEJAAcACQAHAQkAhwAJAIcBCQBHAAkARwEJAMcACQDHAQkAJwAJACcBCQCnAAkApwEJAGcACQBnAQkA5wAJAOcBCQAXAAkAFwEJAJcACQCXAQkAVwAJAFcBCQDXAAkA1wEJADcACQA3AQkAtwAJALcBCQB3AAkAdwEJAPcACQD3AQkADwAJAA8BCQCPAAkAjwEJAE8ACQBPAQkAzwAJAM8BCQAvAAkALwEJAK8ACQCvAQkAbwAJAG8BCQDvAAkA7wEJAB8ACQAfAQkAnwAJAJ8BCQBfAAkAXwEJAN8ACQDfAQkAPwAJAD8BCQC/AAkAvwEJAH8ACQB/AQkA/wAJAP8BCQAAAAcAQAAHACAABwBgAAcAEAAHAFAABwAwAAcAcAAHAAgABwBIAAcAKAAHAGgABwAYAAcAWAAHADgABwB4AAcABAAHAEQABwAkAAcAZAAHABQABwBUAAcANAAHAHQABwADAAgAgwAIAEMACADDAAgAIwAIAKMACABjAAgA4wAIAAAABQAQAAUACAAFABgABQAEAAUAFAAFAAwABQAcAAUAAgAFABIABQAKAAUAGgAFAAYABQAWAAUADgAFAB4ABQABAAUAEQAFAAkABQAZAAUABQAFABUABQANAAUAHQAFAAMABQATAAUACwAFABsABQAHAAUAFwAFAEHg2QALTQEAAAABAAAAAQAAAAEAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAFAAAABQAAAAUAAAAFAEHQ2gALZQEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAEGA3AALIwIAAAADAAAABwAAAAAAAAAQERIACAcJBgoFCwQMAw0CDgEPAEG03AALaQEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACgAAAAwAAAAOAAAAEAAAABQAAAAYAAAAHAAAACAAAAAoAAAAMAAAADgAAABAAAAAUAAAAGAAAABwAAAAgAAAAKAAAADAAAAA4ABBtN0AC5oCAQAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAAAAAEAAIABAAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAABuZWVkIGRpY3Rpb25hcnkAc3RyZWFtIGVuZAAAZmlsZSBlcnJvcgBzdHJlYW0gZXJyb3IAZGF0YSBlcnJvcgBpbnN1ZmZpY2llbnQgbWVtb3J5AGJ1ZmZlciBlcnJvcgBpbmNvbXBhdGlibGUgdmVyc2lvbgAAAAAoLwAAOC8AAEMvAABELwAATy8AAFwvAABnLwAAey8AAIgvAABDLwAAMS4yLjExAEHQ3wALA9AxUA==\");\n  },\n      kg,\n      tc,\n      Mm = Uint8Array.BYTES_PER_ELEMENT,\n      wr = {\n    bytesReceived: \"br\",\n    frameDropped: \"fd\",\n    frameReceived: \"fr\",\n    googJitterReceived: \"jr\",\n    isAudioMute: \"am\",\n    isFreeze: \"fz\",\n    mediaType: \"mt\",\n    packetsLost: \"pl\",\n    packetsReceived: \"pr\",\n    peerId: \"pid\",\n    id: \"id\",\n    ssrc: \"ssrc\",\n    timestamp: \"ts\",\n    type: \"tp\",\n    frameRateInput: \"fi\",\n    frameRateSent: \"fs\",\n    googRtt: \"rt\",\n    isVideoMute: \"vm\"\n  },\n      xr = {\n    stats: \"sts\",\n    state: \"st\",\n    stream_id: \"stid\",\n    session_id: \"seid\",\n    stream_type: \"stt\",\n    app_id: \"aid\",\n    channel_key: \"ck\",\n    channel_name: \"cn\",\n    sdk_version: \"sv\",\n    browser: \"b\",\n    process_id: \"pcid\",\n    mode: \"m\",\n    codec: \"c\",\n    role: \"r\",\n    has_changed_gateway: \"hcg\",\n    ap_response: \"ar\",\n    extends: \"es\",\n    details: \"d\",\n    features: \"ft\",\n    p2p_id: \"ppid\",\n    sdp: \"sdp\",\n    audio: \"a\",\n    video: \"v\",\n    attributes: \"at\",\n    hq: \"h\",\n    lq: \"l\",\n    stereo: \"str\",\n    speech: \"spe\",\n    extend: \"e\",\n    pingpongElapse: \"ppe\"\n  },\n      yr = {\n    _message: \"m\",\n    _type: \"t\",\n    _id: \"id\"\n  },\n      zr = {\n    join_v2: \"j2\",\n    publish: \"pub\",\n    publish_related_stats: \"prs\",\n    ping: \"pi\",\n    traffic_stats: \"ts\",\n    ping_back: \"pib\",\n    publish_stats: \"pubs\"\n  },\n      Ch;\n\n  var Ar =\n  /*#__PURE__*/\n  function () {\n    function Ar() {\n      _classCallCheck(this, Ar);\n    }\n\n    _createClass(Ar, [{\n      key: \"init\",\n      value: function () {\n        var _init2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee37() {\n          return _regeneratorRuntime.wrap(function _callee37$(_context37) {\n            while (1) {\n              switch (_context37.prev = _context37.next) {\n                case 0:\n                  _context37.t0 = Ch;\n\n                  if (_context37.t0) {\n                    _context37.next = 5;\n                    break;\n                  }\n\n                  _context37.next = 4;\n                  return _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee36() {\n                    return _regeneratorRuntime.wrap(function _callee36$(_context36) {\n                      while (1) {\n                        switch (_context36.prev = _context36.next) {\n                          case 0:\n                            _context36.t0 = tc;\n\n                            if (_context36.t0) {\n                              _context36.next = 5;\n                              break;\n                            }\n\n                            _context36.next = 4;\n                            return po();\n\n                          case 4:\n                            tc = _context36.sent;\n\n                          case 5:\n                            return _context36.abrupt(\"return\", {\n                              zlibCompress: function zlibCompress(a) {\n                                var b,\n                                    c = new Uint8Array(a);\n                                var e = Mm * c.byteLength;\n                                a = tc._malloc(e);\n\n                                var f = tc._malloc(3 * e);\n\n                                for (var _b19 = 0; _b19 < e; _b19++) {\n                                  tc.HEAP8[a / Mm + _b19] = c[_b19];\n                                }\n\n                                c = tc._zlibCompress(a, e, f);\n                                c = new Uint8Array(Ma(b = tc.HEAP8).call(b, f, f + c));\n                                return tc._free(a), tc._free(f), c;\n                              }\n                            });\n\n                          case 6:\n                          case \"end\":\n                            return _context36.stop();\n                        }\n                      }\n                    }, _callee36, this);\n                  }))();\n\n                case 4:\n                  Ch = _context37.sent.zlibCompress;\n\n                case 5:\n                  this.zlibCompress = Ch;\n\n                case 6:\n                case \"end\":\n                  return _context37.stop();\n              }\n            }\n          }, _callee37, this);\n        }));\n\n        function init() {\n          return _init2.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"msgPackCompress\",\n      value: function msgPackCompress(a) {\n        return nr.encode(a);\n      }\n    }, {\n      key: \"compress\",\n      value: function compress(a) {\n        var b = x(),\n            c = this.compressKeyAndValue(JSON.parse(A(a))),\n            e = this.msgPackCompress(c);\n        var f = this.zlibCompress(e);\n        f = new Uint8Array([49, 49, 49, 50].concat(_toConsumableArray(Ub(f))));\n        return {\n          origin: Ya({}, a),\n          originLength: A(a).length,\n          shortKeyAndValue: c,\n          msgpackSer: e,\n          compressed: f,\n          compressedLength: f.length,\n          time: x() - b\n        };\n      }\n    }, {\n      key: \"compressKeyAndValue\",\n      value: function compressKeyAndValue(a) {\n        return this._ObjectKeyCompress(this._typeCompress(a));\n      }\n    }, {\n      key: \"_typeCompress\",\n      value: function _typeCompress(a) {\n        var b = a._type;\n        return b ? (a._type = zr[b] || b, a) : a;\n      }\n    }, {\n      key: \"_ObjectKeyCompress\",\n      value: function _ObjectKeyCompress(a) {\n        var b = a._message;\n\n        if (b) {\n          var _c11 = b.stats;\n          _c11 && (b.stats = this._statsCompress(_c11));\n          a._message = this._messageCompress(b);\n        }\n\n        return this._reportCompress(a);\n      }\n    }, {\n      key: \"_statsCompress\",\n      value: function _statsCompress(a) {\n        return this._keyCompress(a, wr);\n      }\n    }, {\n      key: \"_messageCompress\",\n      value: function _messageCompress(a) {\n        return this._keyCompress(a, xr);\n      }\n    }, {\n      key: \"_reportCompress\",\n      value: function _reportCompress(a) {\n        return this._keyCompress(a, yr);\n      }\n    }, {\n      key: \"_keyCompress\",\n      value: function _keyCompress(a, b) {\n        var c = {},\n            e = W(a);\n        return Be(e).call(e, function (e, h) {\n          e = a[h];\n          return b[h] ? c[b[h]] = e : c[h] = e, c;\n        }, c), c;\n      }\n    }]);\n\n    return Ar;\n  }();\n\n  var Br =\n  /*#__PURE__*/\n  function (_Wa7) {\n    _inherits(Br, _Wa7);\n\n    function Br(a) {\n      var _this55;\n\n      _classCallCheck(this, Br);\n\n      _this55 = _possibleConstructorReturn(this, _getPrototypeOf(Br).call(this));\n      _this55.lowPriorityQueue = [];\n      _this55.highPriorityQueue = [];\n      _this55.AgoraWebSocketManager = a;\n      return _this55;\n    }\n\n    _createClass(Br, [{\n      key: \"reset\",\n      value: function reset() {\n        this.lowPriorityQueue = [];\n        this.highPriorityQueue = [];\n      }\n    }, {\n      key: \"pushMessage\",\n      value: function pushMessage(a) {\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n        b ? this.highPriorityQueue.push(a) : this.lowPriorityQueue.push(a);\n        this.sendMessage();\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage() {\n        var _this56 = this;\n\n        var a = this.queue.length;\n        wb(function () {\n          _this56._sendMessage();\n        }, 5 > a ? 15 * a : 60 + 3 * (a - 4));\n      }\n    }, {\n      key: \"_sendMessage\",\n      value: function _sendMessage() {\n        var a;\n\n        if (this.queue.length) {\n          var b = this.AgoraWebSocketManager.getConnection();\n\n          if (b && 1 === b.readyState) {\n            var c = this.queue.shift();\n            return Z(a = this.lowPriorityQueue).call(a, c) ? this.lowPriorityQueue.shift() : this.highPriorityQueue.shift(), b.send(c.compressed), c;\n          }\n        }\n      }\n    }, {\n      key: \"queue\",\n      get: function get() {\n        return [].concat(_toConsumableArray(this.highPriorityQueue), _toConsumableArray(this.lowPriorityQueue));\n      }\n    }]);\n\n    return Br;\n  }(Wa);\n\n  var Dh =\n  /*#__PURE__*/\n  function (_Wa8) {\n    _inherits(Dh, _Wa8);\n\n    function Dh(a, b) {\n      var _this57;\n\n      var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n\n      _classCallCheck(this, Dh);\n\n      _this57 = _possibleConstructorReturn(this, _getPrototypeOf(Dh).call(this));\n      _this57.currentURLIndex = _this57.connectionID = 0;\n      _this57.reconnectMode = \"tryNext\";\n      _this57._state = \"closed\";\n      _this57.reconnectCount = 0;\n      _this57.isCompressorInitSuccess = !1;\n      _this57.wsDeflateLength = _this57.wsInflateLength = 0;\n      _this57.name = a;\n      _this57.retryConfig = b;\n      _this57.useCompress = c;\n      return _this57;\n    }\n\n    _createClass(Dh, [{\n      key: \"getConnection\",\n      value: function getConnection() {\n        return this.websocket || void 0;\n      }\n    }, {\n      key: \"init\",\n      value: function init(a) {\n        var _this58 = this;\n\n        var b = function (_b20) {\n          function b(_x70, _x71) {\n            return _b20.apply(this, arguments);\n          }\n\n          b.toString = function () {\n            return _b20.toString();\n          };\n\n          return b;\n        }(function (b, e) {\n          _this58.urls = a;\n          var c = _this58.urls[_this58.currentURLIndex];\n          _this58.state = \"connecting\";\n          _this58.messageSender = new Br(_this58);\n\n          _this58.createWebSocketConnection(c).then(b).catch(e);\n\n          _this58.once(ea.CLOSED, function () {\n            return e(new q(n.WS_DISCONNECT));\n          });\n\n          _this58.once(ea.CONNECTED, function () {\n            return b();\n          });\n        });\n\n        return new y(function (a, e) {\n          _this58.compressor = new Ar();\n\n          _this58.compressor.init().then(function () {\n            var c;\n            k.debug(\"websocket compressor initialized successfully\");\n            _this58.isCompressorInitSuccess = !0;\n            _this58.compress = xa(c = _this58.compressor.compress).call(c, _this58.compressor);\n            b(a, e);\n          }).catch(function () {\n            k.debug(\"websocket compressor failed to initialize\");\n            b(a, e);\n          });\n        });\n      }\n    }, {\n      key: \"close\",\n      value: function close(a, b) {\n        if (this.currentURLIndex = 0, this.reconnectCount = 0, this.websocket) {\n          this.websocket.onclose = null;\n          this.websocket.onopen = null;\n          this.websocket.onmessage = null;\n          var _a24 = this.websocket;\n          b ? wb(function () {\n            return _a24.close();\n          }, 500) : _a24.close();\n          this.websocket = void 0;\n        }\n\n        this.state = a ? \"failed\" : \"closed\";\n      }\n    }, {\n      key: \"reconnect\",\n      value: function reconnect(a, b) {\n        if (!this.websocket) return void k.warning(\"[\".concat(this.name, \"] can not reconnect, no websocket\"));\n        void 0 !== a && (this.reconnectMode = a);\n        k.debug(\"[\".concat(this.name, \"] reconnect is triggered initiative\"));\n        a = this.websocket.onclose;\n        this.websocket.onclose = null;\n        this.websocket.close();\n        a && xa(a).call(a, this.websocket)({\n          code: 9999,\n          reason: b\n        });\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage(a) {\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n        if (!this.websocket || this.websocket.readyState !== WebSocket.OPEN) throw new q(n.WS_ABORT, \"websocket is not ready\");\n\n        try {\n          var _c12 = null;\n          if (this.isCompressorInitSuccess && this.useCompress && v.WEBSOCKET_COMPRESS) _c12 = this.compress(a), this.setWsInflateData(_c12);else {\n            if (this.isCompressorInitSuccess && this.useCompress) {\n              var _b22 = this.compress(a);\n\n              this.setWsInflateData(_b22);\n            }\n\n            var _b21 = A(a);\n\n            _c12 = {\n              compressed: _b21,\n              compressedLength: _b21.length,\n              origin: a\n            };\n          }\n          b ? this.websocket.send(_c12.compressed) : this.messageSender.pushMessage(_c12);\n        } catch (c) {\n          throw new q(n.WS_ERR, \"send websocket message error\" + c.toString());\n        }\n      }\n    }, {\n      key: \"setWsInflateData\",\n      value: function setWsInflateData(a) {\n        this.wsDeflateLength += a.originLength;\n        this.wsInflateLength += a.compressedLength;\n      }\n    }, {\n      key: \"getWsInflateData\",\n      value: function getWsInflateData() {\n        var a = this.wsInflateLength,\n            b = this.wsDeflateLength;\n        return this.clearWsInflateData(), {\n          wsInflateLength: a,\n          wsDeflateLength: b\n        };\n      }\n    }, {\n      key: \"clearWsInflateData\",\n      value: function clearWsInflateData() {\n        this.wsDeflateLength = this.wsInflateLength = 0;\n      }\n    }, {\n      key: \"createWebSocketConnection\",\n      value: function () {\n        var _createWebSocketConnection = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee39(a) {\n          var _this59 = this;\n\n          var b;\n          return _regeneratorRuntime.wrap(function _callee39$(_context39) {\n            while (1) {\n              switch (_context39.prev = _context39.next) {\n                case 0:\n                  b = this.connectionID += 1;\n                  return _context39.abrupt(\"return\", new y(function (c, e) {\n                    var f, h;\n                    _this59.websocket && (_this59.websocket.onclose = null, _this59.websocket.close());\n                    v.GATEWAY_WSS_ADDRESS && Hd(f = _this59.name).call(f, \"gateway\") && (a = v.GATEWAY_WSS_ADDRESS);\n                    k.debug(m(h = \"[\".concat(_this59.name, \"] start connect, url: \")).call(h, a));\n\n                    try {\n                      _this59.websocket = new WebSocket(a), _this59.websocket.binaryType = \"arraybuffer\";\n                    } catch (r) {\n                      var l;\n                      f = new q(n.WS_ERR, \"init websocket failed! Error: \".concat(r.toString()));\n                      return k.error(m(l = \"[\".concat(_this59.name, \"]\")).call(l, f)), void e(f);\n                    }\n\n                    jb(5E3).then(function () {\n                      b === _this59.connectionID && _this59.websocket && _this59.websocket.readyState !== WebSocket.OPEN && _this59.websocket && _this59.websocket.close();\n                    });\n\n                    _this59.websocket.onopen = function () {\n                      k.debug(\"[\".concat(_this59.name, \"] websocket opened:\"), a);\n                      _this59.reconnectMode = \"retry\";\n                      _this59.state = \"connected\";\n                      _this59.reconnectCount = 0;\n                      c();\n                    };\n\n                    _this59.websocket.onclose =\n                    /*#__PURE__*/\n                    function () {\n                      var _ref34 = _asyncToGenerator(\n                      /*#__PURE__*/\n                      _regeneratorRuntime.mark(function _callee38(a) {\n                        var b, f, h, l;\n                        return _regeneratorRuntime.wrap(function _callee38$(_context38) {\n                          while (1) {\n                            switch (_context38.prev = _context38.next) {\n                              case 0:\n                                if (!(k.debug(m(b = m(f = m(h = m(l = \"[\".concat(_this59.name, \"] websocket close \")).call(l, _this59.websocket && _this59.websocket.url, \", code: \")).call(h, a.code, \", reason: \")).call(f, a.reason, \", current mode: \")).call(b, _this59.reconnectMode)), _this59.reconnectCount < _this59.retryConfig.maxRetryCount)) {\n                                  _context38.next = 13;\n                                  break;\n                                }\n\n                                \"connected\" === _this59.state && (_this59.reconnectReason = a.reason, _this59.state = \"reconnecting\");\n                                b = Hc(_this59, ea.WILL_RECONNECT, _this59.reconnectMode) || _this59.reconnectMode;\n                                _context38.next = 5;\n                                return _this59.reconnectWithAction(b);\n\n                              case 5:\n                                b = _context38.sent;\n\n                                if (!(\"closed\" === _this59.state)) {\n                                  _context38.next = 8;\n                                  break;\n                                }\n\n                                return _context38.abrupt(\"return\", void k.debug(\"[\".concat(_this59.connectionID, \"] ws is closed, no need to reconnect\")));\n\n                              case 8:\n                                if (b) {\n                                  _context38.next = 10;\n                                  break;\n                                }\n\n                                return _context38.abrupt(\"return\", (e(new q(n.WS_DISCONNECT, \"websocket reconnect failed: \".concat(a.code))), void _this59.close(!0)));\n\n                              case 10:\n                                c();\n                                _context38.next = 14;\n                                break;\n\n                              case 13:\n                                e(new q(n.WS_DISCONNECT, \"websocket close: \".concat(a.code))), _this59.close();\n\n                              case 14:\n                              case \"end\":\n                                return _context38.stop();\n                            }\n                          }\n                        }, _callee38, this);\n                      }));\n\n                      return function (_x73) {\n                        return _ref34.apply(this, arguments);\n                      };\n                    }();\n\n                    _this59.websocket.onmessage = function (a) {\n                      _this59.emit(ea.ON_MESSAGE, a);\n                    };\n                  }));\n\n                case 2:\n                case \"end\":\n                  return _context39.stop();\n              }\n            }\n          }, _callee39, this);\n        }));\n\n        function createWebSocketConnection(_x72) {\n          return _createWebSocketConnection.apply(this, arguments);\n        }\n\n        return createWebSocketConnection;\n      }()\n    }, {\n      key: \"reconnectWithAction\",\n      value: function () {\n        var _reconnectWithAction = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee40(a, b) {\n          var _this60 = this;\n\n          var c, e, f, h;\n          return _regeneratorRuntime.wrap(function _callee40$(_context40) {\n            while (1) {\n              switch (_context40.prev = _context40.next) {\n                case 0:\n                  if (!(!b && this.reconnectCount >= this.retryConfig.maxRetryCount || !this.urls || \"closed\" === this.state)) {\n                    _context40.next = 2;\n                    break;\n                  }\n\n                  return _context40.abrupt(\"return\", !1);\n\n                case 2:\n                  this.onlineReconnectListener || pb.networkState !== Gb.OFFLINE || (this.onlineReconnectListener = pb.onlineWaiter && pb.onlineWaiter.then(function () {\n                    _this60.onlineReconnectListener = void 0;\n                  }));\n\n                  b = function (a, b) {\n                    return Math.min(b.maxRetryTimeout, b.timeout * Math.pow(b.timeoutFactor, a));\n                  }(this.reconnectCount, this.retryConfig);\n\n                  k.debug(m(c = m(e = \"[\".concat(this.name, \"] wait \")).call(e, b, \"ms to reconnect websocket, mode: \")).call(c, a));\n                  _context40.next = 7;\n                  return y.race([jb(b), this.onlineReconnectListener || new y(function () {})]);\n\n                case 7:\n                  if (!(\"closed\" === this.state)) {\n                    _context40.next = 9;\n                    break;\n                  }\n\n                  return _context40.abrupt(\"return\", !1);\n\n                case 9:\n                  this.reconnectCount += 1;\n                  _context40.prev = 10;\n\n                  if (!(\"retry\" === a)) {\n                    _context40.next = 16;\n                    break;\n                  }\n\n                  _context40.next = 14;\n                  return this.createWebSocketConnection(this.urls[this.currentURLIndex]);\n\n                case 14:\n                  _context40.next = 35;\n                  break;\n\n                case 16:\n                  if (!(\"tryNext\" === a)) {\n                    _context40.next = 26;\n                    break;\n                  }\n\n                  if (!(this.currentURLIndex += 1, this.currentURLIndex >= this.urls.length)) {\n                    _context40.next = 21;\n                    break;\n                  }\n\n                  _context40.next = 20;\n                  return this.reconnectWithAction(\"recover\");\n\n                case 20:\n                  return _context40.abrupt(\"return\", _context40.sent);\n\n                case 21:\n                  k.debug(m(f = m(h = \"[\".concat(this.name, \"] websocket url length: \")).call(h, this.urls.length, \" current index: \")).call(f, this.currentURLIndex));\n                  _context40.next = 24;\n                  return this.createWebSocketConnection(this.urls[this.currentURLIndex]);\n\n                case 24:\n                  _context40.next = 35;\n                  break;\n\n                case 26:\n                  _context40.t0 = \"recover\" === a;\n\n                  if (!_context40.t0) {\n                    _context40.next = 35;\n                    break;\n                  }\n\n                  k.debug(\"[\".concat(this.name, \"] request new urls\"));\n                  _context40.next = 31;\n                  return Ia(this, ea.REQUEST_NEW_URLS);\n\n                case 31:\n                  this.urls = _context40.sent;\n                  this.currentURLIndex = 0;\n                  _context40.next = 35;\n                  return this.createWebSocketConnection(this.urls[this.currentURLIndex]);\n\n                case 35:\n                  return _context40.abrupt(\"return\", !0);\n\n                case 38:\n                  _context40.prev = 38;\n                  _context40.t1 = _context40[\"catch\"](10);\n                  k.error(\"[\".concat(this.name, \"] reconnect failed\"), _context40.t1.toString());\n                  _context40.next = 43;\n                  return this.reconnectWithAction(a);\n\n                case 43:\n                  return _context40.abrupt(\"return\", _context40.sent);\n\n                case 44:\n                case \"end\":\n                  return _context40.stop();\n              }\n            }\n          }, _callee40, this, [[10, 38]]);\n        }));\n\n        function reconnectWithAction(_x74, _x75) {\n          return _reconnectWithAction.apply(this, arguments);\n        }\n\n        return reconnectWithAction;\n      }()\n    }, {\n      key: \"url\",\n      get: function get() {\n        return this.websocket ? this.websocket.url : null;\n      }\n    }, {\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(a) {\n        a !== this._state && (this._state = a, \"reconnecting\" === this._state ? this.emit(ea.RECONNECTING, this.reconnectReason) : \"connected\" === this._state ? this.emit(ea.CONNECTED) : \"closed\" === this._state ? this.emit(ea.CLOSED) : \"failed\" === this._state && this.emit(ea.FAILED));\n      }\n    }]);\n\n    return Dh;\n  }(Wa);\n\n  var Cr =\n  /*#__PURE__*/\n  function () {\n    function Cr(a) {\n      _classCallCheck(this, Cr);\n\n      this.input = [];\n      this.size = a;\n    }\n\n    _createClass(Cr, [{\n      key: \"add\",\n      value: function add(a) {\n        var b;\n        (this.input.push(a), this.input.length > this.size) && Ra(b = this.input).call(b, 0, 1);\n      }\n    }, {\n      key: \"mean\",\n      value: function mean() {\n        var a;\n        return 0 === this.input.length ? 0 : Be(a = this.input).call(a, function (a, c) {\n          return a + c;\n        }) / this.input.length;\n      }\n    }]);\n\n    return Cr;\n  }();\n\n  var Dr =\n  /*#__PURE__*/\n  function (_Wa9) {\n    _inherits(Dr, _Wa9);\n\n    function Dr(a) {\n      var _this61;\n\n      _classCallCheck(this, Dr);\n\n      _this61 = _possibleConstructorReturn(this, _getPrototypeOf(Dr).call(this));\n      _this61._connectionState = Da.CLOSED;\n      _this61.openConnectionTime = x();\n      _this61.lastMsgTime = x();\n      _this61.uploadCache = [];\n      _this61.rttRolling = new Cr(5);\n      _this61.pingpongTimeoutCount = 0;\n\n      _this61.onWebsocketMessage = function (a) {\n        if (a.data instanceof ArrayBuffer) return void _this61.emit(T.ON_BINARY_DATA, a.data);\n        a = JSON.parse(a.data);\n\n        if (_this61.lastMsgTime = x(), Object.prototype.hasOwnProperty.call(a, \"_id\")) {\n          var _b23 = \"res-@\".concat(a._id);\n\n          _this61.emit(_b23, a._result, a._message);\n        } else if (Object.prototype.hasOwnProperty.call(a, \"_type\") && (_this61.emit(a._type, a._message), a._type === fa.ON_NOTIFICATION && _this61.handleNotification(a._message), a._type === fa.ON_USER_BANNED)) switch (a._message.error_code) {\n          case 14:\n            _this61.close(\"UID_BANNED\");\n\n            break;\n\n          case 15:\n            _this61.close(\"IP_BANNED\");\n\n            break;\n\n          case 16:\n            _this61.close(\"CHANNEL_BANNED\");\n\n        }\n      };\n\n      _this61.clientId = a.clientId;\n      _this61.spec = a;\n      _this61.websocket = new Dh(\"gateway-\".concat(_this61.clientId), _this61.spec.retryConfig, !0);\n\n      _this61.handleWebsocketEvents();\n\n      window.addEventListener(\"offline\", function () {\n        _this61.connectionState === Da.CONNECTED && _this61.reconnect(\"retry\", kb.OFFLINE);\n      });\n      return _this61;\n    }\n\n    _createClass(Dr, [{\n      key: \"request\",\n      value: function () {\n        var _request = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee41(a, b, c, e) {\n          var _this62 = this;\n\n          var f, h, l, r, p, w, X, K, t;\n          return _regeneratorRuntime.wrap(function _callee41$(_context41) {\n            while (1) {\n              switch (_context41.prev = _context41.next) {\n                case 0:\n                  w = va(6, \"\");\n                  X = {\n                    _id: w,\n                    _type: a,\n                    _message: b\n                  };\n                  K = this.websocket.connectionID;\n\n                  t = function t() {\n                    return new y(function (a, b) {\n                      if (_this62.connectionState === Da.CONNECTED) return a();\n\n                      var c = function c() {\n                        _this62.off(T.WS_CLOSED, e);\n\n                        a();\n                      },\n                          e = function e() {\n                        _this62.off(T.WS_CONNECTED, c);\n\n                        b(new q(n.WS_ABORT));\n                      };\n\n                      _this62.once(T.WS_CONNECTED, c);\n\n                      _this62.once(T.WS_CLOSED, e);\n                    });\n                  };\n\n                  _context41.t0 = this.connectionState !== Da.CONNECTING && this.connectionState !== Da.RECONNECTING || a === ia.JOIN || a === ia.REJOIN;\n\n                  if (_context41.t0) {\n                    _context41.next = 8;\n                    break;\n                  }\n\n                  _context41.next = 8;\n                  return t();\n\n                case 8:\n                  this.websocket.sendMessage(X, !0);\n\n                  if (e) {\n                    _context41.next = 67;\n                    break;\n                  }\n\n                  X = new y(function (c, e) {\n                    var f = !1;\n\n                    var h = function (_h3) {\n                      function h(_x80, _x81) {\n                        return _h3.apply(this, arguments);\n                      }\n\n                      h.toString = function () {\n                        return _h3.toString();\n                      };\n\n                      return h;\n                    }(function (e, h) {\n                      f = !0;\n                      c({\n                        isSuccess: \"success\" === e,\n                        message: h || {}\n                      });\n\n                      _this62.off(T.WS_CLOSED, l);\n\n                      _this62.off(T.WS_RECONNECTING, l);\n\n                      _this62.emit(T.REQUEST_SUCCESS, a, b);\n                    });\n\n                    _this62.once(\"res-@\".concat(w), h);\n\n                    var l = function l() {\n                      e(new q(n.WS_ABORT, \"type: \".concat(a)));\n\n                      _this62.off(T.WS_CLOSED, l);\n\n                      _this62.off(T.WS_RECONNECTING, l);\n\n                      _this62.off(\"res-@\".concat(w), h);\n                    };\n\n                    _this62.once(T.WS_CLOSED, l);\n\n                    _this62.once(T.WS_RECONNECTING, l);\n\n                    jb(v.SIGNAL_REQUEST_TIMEOUT).then(function () {\n                      _this62.websocket.connectionID !== K || f || (k.warning(\"ws request timeout, type: \".concat(a)), _this62.emit(T.REQUEST_TIMEOUT, a, b));\n                    });\n                  });\n                  e = null;\n                  _context41.prev = 12;\n                  _context41.next = 15;\n                  return X;\n\n                case 15:\n                  e = _context41.sent;\n                  _context41.next = 37;\n                  break;\n\n                case 18:\n                  _context41.prev = 18;\n                  _context41.t1 = _context41[\"catch\"](12);\n\n                  if (!(this.connectionState === Da.CLOSED || a === ia.LEAVE)) {\n                    _context41.next = 22;\n                    break;\n                  }\n\n                  throw new q(n.WS_ABORT);\n\n                case 22:\n                  if (!(!this.spec.forceWaitGatewayResponse || c)) {\n                    _context41.next = 26;\n                    break;\n                  }\n\n                  _context41.t2 = _context41.t1.throw();\n                  _context41.next = 36;\n                  break;\n\n                case 26:\n                  if (!(a === ia.JOIN || a === ia.REJOIN)) {\n                    _context41.next = 30;\n                    break;\n                  }\n\n                  _context41.t3 = null;\n                  _context41.next = 35;\n                  break;\n\n                case 30:\n                  _context41.next = 32;\n                  return t();\n\n                case 32:\n                  _context41.next = 34;\n                  return this.request(a, b);\n\n                case 34:\n                  _context41.t3 = _context41.sent;\n\n                case 35:\n                  _context41.t2 = _context41.t3;\n\n                case 36:\n                  return _context41.abrupt(\"return\", _context41.t2);\n\n                case 37:\n                  if (!e.isSuccess) {\n                    _context41.next = 39;\n                    break;\n                  }\n\n                  return _context41.abrupt(\"return\", e.message);\n\n                case 39:\n                  c = Number(e.message.error_code || e.message.code);\n                  t = wj(c);\n                  X = new q(n.UNEXPECTED_RESPONSE, m(f = \"\".concat(t.desc, \": \")).call(f, e.message.error_str), {\n                    code: c,\n                    data: e.message\n                  });\n\n                  if (!(\"success\" === t.action)) {\n                    _context41.next = 46;\n                    break;\n                  }\n\n                  _context41.t4 = e.message;\n                  _context41.next = 66;\n                  break;\n\n                case 46:\n                  k.warning(m(h = m(l = m(r = m(p = \"[\".concat(this.websocket.connectionID, \"] unexpected response from type \")).call(p, a, \", error_code: \")).call(r, c, \", message: \")).call(l, t.desc, \", action: \")).call(h, t.action));\n\n                  if (!(\"failed\" === t.action)) {\n                    _context41.next = 51;\n                    break;\n                  }\n\n                  _context41.t5 = X.throw();\n                  _context41.next = 65;\n                  break;\n\n                case 51:\n                  if (!(\"quit\" === t.action)) {\n                    _context41.next = 55;\n                    break;\n                  }\n\n                  _context41.t6 = (this.initError = X, this.close(), X.throw());\n                  _context41.next = 64;\n                  break;\n\n                case 55:\n                  c === F.ERR_JOIN_BY_MULTI_IP ? (this.multiIpOption = e.message.option, k.warning(\"[\".concat(this.clientId, \"] detect multi ip, recover\")), this.reconnect(\"recover\", kb.MULTI_IP)) : this.reconnect(t.action, kb.SERVER_ERROR);\n\n                  if (!(a === ia.JOIN || a === ia.REJOIN)) {\n                    _context41.next = 60;\n                    break;\n                  }\n\n                  _context41.t7 = null;\n                  _context41.next = 63;\n                  break;\n\n                case 60:\n                  _context41.next = 62;\n                  return this.request(a, b);\n\n                case 62:\n                  _context41.t7 = _context41.sent;\n\n                case 63:\n                  _context41.t6 = _context41.t7;\n\n                case 64:\n                  _context41.t5 = _context41.t6;\n\n                case 65:\n                  _context41.t4 = _context41.t5;\n\n                case 66:\n                  return _context41.abrupt(\"return\", _context41.t4);\n\n                case 67:\n                case \"end\":\n                  return _context41.stop();\n              }\n            }\n          }, _callee41, this, [[12, 18]]);\n        }));\n\n        function request(_x76, _x77, _x78, _x79) {\n          return _request.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"waitMessage\",\n      value: function waitMessage(a, b) {\n        var _this63 = this;\n\n        return new y(function (c) {\n          var e = function e(f) {\n            b && !b(f) || (_this63.off(a, e), c(f));\n          };\n\n          _this63.on(a, e);\n        });\n      }\n    }, {\n      key: \"upload\",\n      value: function upload(a, b) {\n        var _this64 = this;\n\n        a = {\n          _type: a,\n          _message: b\n        };\n\n        try {\n          this.websocket.sendMessage(a);\n        } catch (e) {\n          b = v.MAX_UPLOAD_CACHE || 50;\n          var c;\n          (this.uploadCache.push(a), this.uploadCache.length > b) && Ra(c = this.uploadCache).call(c, 0, 1);\n          0 < this.uploadCache.length && !this.uploadCacheInterval && (this.uploadCacheInterval = window.setInterval(function () {\n            var a;\n\n            if (_this64.connectionState === Da.CONNECTED) {\n              var b = Ra(a = _this64.uploadCache).call(a, 0, 1)[0];\n              0 === _this64.uploadCache.length && (window.clearInterval(_this64.uploadCacheInterval), _this64.uploadCacheInterval = void 0);\n\n              _this64.upload(b._type, b._message);\n            }\n          }, v.UPLOAD_CACHE_INTERVAL || 2E3));\n        }\n      }\n    }, {\n      key: \"send\",\n      value: function send(a, b) {\n        this.websocket.sendMessage({\n          _type: a,\n          _message: b\n        });\n      }\n    }, {\n      key: \"init\",\n      value: function init(a) {\n        var _this65 = this;\n\n        return this.initError = void 0, this.multiIpOption = void 0, this.joinResponse = void 0, this.reconnectToken = void 0, new y(function (b, c) {\n          _this65.once(T.WS_CONNECTED, function () {\n            return b(_this65.joinResponse);\n          });\n\n          _this65.once(T.WS_CLOSED, function () {\n            return c(_this65.initError || new q(n.WS_ABORT));\n          });\n\n          _this65.connectionState = Da.CONNECTING;\n\n          _this65.websocket.init(a).catch(c);\n\n          _this65.wsInflateDataTimer && window.clearInterval(_this65.wsInflateDataTimer);\n          _this65.wsInflateDataTimer = window.setInterval(function () {\n            _this65.handleWsInflateData();\n          }, 2E4);\n        });\n      }\n    }, {\n      key: \"close\",\n      value: function close(a) {\n        this.pingpongTimer && (this.pingpongTimeoutCount = 0, window.clearInterval(this.pingpongTimer), this.pingpongTimer = void 0);\n        this.wsInflateDataTimer && (this.handleWsInflateData(), window.clearInterval(this.wsInflateDataTimer), this.wsInflateDataTimer = void 0);\n        this.joinResponse = this.reconnectToken = void 0;\n        this._disconnectedReason = a || \"LEAVE\";\n        this.connectionState = Da.CLOSED;\n        this.websocket.close();\n      }\n    }, {\n      key: \"join\",\n      value: function () {\n        var _join = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee42() {\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee42$(_context42) {\n            while (1) {\n              switch (_context42.prev = _context42.next) {\n                case 0:\n                  if (this.joinResponse) {\n                    _context42.next = 9;\n                    break;\n                  }\n\n                  b = Pd(this, T.REQUEST_JOIN_INFO);\n                  _context42.next = 4;\n                  return this.request(ia.JOIN, b);\n\n                case 4:\n                  b = _context42.sent;\n\n                  if (b) {\n                    _context42.next = 7;\n                    break;\n                  }\n\n                  return _context42.abrupt(\"return\", (this.emit(T.REPORT_JOIN_GATEWAY, n.TIMEOUT, this.url || \"\"), !1));\n\n                case 7:\n                  this.joinResponse = b;\n                  this.reconnectToken = this.joinResponse.rejoin_token;\n\n                case 9:\n                  return _context42.abrupt(\"return\", (this.connectionState = Da.CONNECTED, this.pingpongTimer && window.clearInterval(this.pingpongTimer), this.pingpongTimer = window.setInterval(xa(a = this.handlePingPong).call(a, this), 3E3), !0));\n\n                case 10:\n                case \"end\":\n                  return _context42.stop();\n              }\n            }\n          }, _callee42, this);\n        }));\n\n        function join() {\n          return _join.apply(this, arguments);\n        }\n\n        return join;\n      }()\n    }, {\n      key: \"rejoin\",\n      value: function () {\n        var _rejoin = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee43() {\n          var _this66 = this;\n\n          var a, b, c;\n          return _regeneratorRuntime.wrap(function _callee43$(_context43) {\n            while (1) {\n              switch (_context43.prev = _context43.next) {\n                case 0:\n                  if (this.reconnectToken) {\n                    _context43.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"can not rejoin, no rejoin token\");\n\n                case 2:\n                  c = Pd(this, T.REQUEST_REJOIN_INFO);\n                  c.token = this.reconnectToken;\n                  _context43.next = 6;\n                  return this.request(ia.REJOIN, c);\n\n                case 6:\n                  c = _context43.sent;\n                  return _context43.abrupt(\"return\", !!c && (this.connectionState = Da.CONNECTED, this.pingpongTimer && window.clearInterval(this.pingpongTimer), this.pingpongTimer = window.setInterval(xa(a = this.handlePingPong).call(a, this), 3E3), c.peers && t(b = c.peers).call(b, function (a) {\n                    _this66.emit(fa.ON_USER_ONLINE, {\n                      uid: a.uid\n                    });\n\n                    a.audio_mute ? _this66.emit(fa.MUTE_AUDIO, {\n                      uid: a.uid\n                    }) : _this66.emit(fa.UNMUTE_AUDIO, {\n                      uid: a.uid\n                    });\n                    a.video_mute ? _this66.emit(fa.MUTE_VIDEO, {\n                      uid: a.uid\n                    }) : _this66.emit(fa.UNMUTE_VIDEO, {\n                      uid: a.uid\n                    });\n                    a.audio_enable_local ? _this66.emit(fa.ENABLE_LOCAL_AUDIO, {\n                      uid: a.uid\n                    }) : _this66.emit(fa.DISABLE_LOCAL_AUDIO, {\n                      uid: a.uid\n                    });\n                    a.video_enable_local ? _this66.emit(fa.ENABLE_LOCAL_VIDEO, {\n                      uid: a.uid\n                    }) : _this66.emit(fa.DISABLE_LOCAL_VIDEO, {\n                      uid: a.uid\n                    });\n                    a.audio || a.video || _this66.emit(fa.ON_REMOVE_STREAM, {\n                      uid: a.uid,\n                      uint_id: a.uint_id\n                    });\n                    a.audio && _this66.emit(fa.ON_ADD_AUDIO_STREAM, {\n                      uid: a.uid,\n                      uint_id: a.uint_id,\n                      audio: !0\n                    });\n                    a.video && _this66.emit(fa.ON_ADD_VIDEO_STREAM, {\n                      uid: a.uid,\n                      uint_id: a.uint_id,\n                      video: !0\n                    });\n                  }), !0));\n\n                case 8:\n                case \"end\":\n                  return _context43.stop();\n              }\n            }\n          }, _callee43, this);\n        }));\n\n        function rejoin() {\n          return _rejoin.apply(this, arguments);\n        }\n\n        return rejoin;\n      }()\n    }, {\n      key: \"reconnect\",\n      value: function reconnect(a, b) {\n        this.pingpongTimer && (this.pingpongTimeoutCount = 0, window.clearInterval(this.pingpongTimer), this.pingpongTimer = void 0);\n        this.websocket.reconnect(a, b);\n      }\n    }, {\n      key: \"handleNotification\",\n      value: function handleNotification(a) {\n        k.debug(\"[\".concat(this.clientId, \"] receive notification: \"), a);\n        a = wj(a.code);\n\n        if (\"success\" !== a.action) {\n          if (\"failed\" !== a.action) return \"quit\" === a.action ? (\"ERR_REPEAT_JOIN_CHANNEL\" === a.desc && this.close(\"UID_BANNED\"), void this.close()) : void this.reconnect(a.action, kb.SERVER_ERROR);\n          k.error(\"[\".concat(this.clientId, \"] ignore error: \"), a.desc);\n        }\n      }\n    }, {\n      key: \"handlePingPong\",\n      value: function handlePingPong() {\n        var _this67 = this;\n\n        if (this.websocket && \"connected\" === this.websocket.state) {\n          0 < this.pingpongTimeoutCount && this.rttRolling.add(3E3);\n          this.pingpongTimeoutCount += 1;\n          var a = v.PING_PONG_TIME_OUT,\n              b = x();\n          this.pingpongTimeoutCount >= a && (k.warning(\"PINGPONG Timeout. Last Socket Message: \".concat(b - this.lastMsgTime, \"ms\")), b - this.lastMsgTime > v.WEBSOCKET_TIMEOUT_MIN) ? this.reconnect(\"retry\", kb.TIMEOUT) : this.request(ia.PING, void 0, !0).then(function () {\n            _this67.pingpongTimeoutCount = 0;\n            var a = x() - b;\n\n            _this67.rttRolling.add(a);\n\n            v.REPORT_STATS && _this67.send(ia.PING_BACK, {\n              pingpongElapse: a\n            });\n          }).catch(function (a) {});\n        }\n      }\n    }, {\n      key: \"handleWsInflateData\",\n      value: function handleWsInflateData() {\n        var _this$websocket$getWs = this.websocket.getWsInflateData(),\n            a = _this$websocket$getWs.wsInflateLength,\n            b = _this$websocket$getWs.wsDeflateLength;\n\n        0 !== a && 0 !== b && this.upload(Lb.WS_INFLATE_DATA_LENGTH, {\n          ws_deflate_length: b,\n          ws_inflate_length: a\n        });\n      }\n    }, {\n      key: \"handleWebsocketEvents\",\n      value: function handleWebsocketEvents() {\n        var _this68 = this;\n\n        this.websocket.on(ea.ON_MESSAGE, this.onWebsocketMessage);\n        this.websocket.on(ea.CLOSED, function () {\n          _this68.connectionState = Da.CLOSED;\n        });\n        this.websocket.on(ea.FAILED, function () {\n          _this68._disconnectedReason = \"NETWORK_ERROR\";\n          _this68.connectionState = Da.CLOSED;\n        });\n        this.websocket.on(ea.RECONNECTING, function (a) {\n          _this68._websocketReconnectReason = a;\n          _this68.joinResponse = void 0;\n          _this68.connectionState === Da.CONNECTED ? _this68.connectionState = Da.RECONNECTING : _this68.connectionState = Da.CONNECTING;\n        });\n        this.websocket.on(ea.WILL_RECONNECT, function (a, b) {\n          if (Pd(_this68, T.IS_P2P_DISCONNECTED) && \"retry\" === a) return _this68.reconnectToken = void 0, _this68.emit(T.NEED_RENEW_SESSION), _this68.emit(T.DISCONNECT_P2P), b(\"tryNext\");\n          \"retry\" !== a && (_this68.reconnectToken = void 0, _this68.emit(T.NEED_RENEW_SESSION), _this68.emit(T.DISCONNECT_P2P));\n          b(a);\n        });\n        this.websocket.on(ea.CONNECTED, function () {\n          _this68.openConnectionTime = x();\n          _this68.reconnectToken ? _this68.rejoin().catch(function (a) {\n            var b;\n            k.warning(m(b = \"[\".concat(_this68.clientId, \"] rejoin failed \")).call(b, a));\n\n            _this68.reconnect(\"tryNext\", kb.SERVER_ERROR);\n          }) : _this68.join().catch(function (a) {\n            if (_this68.emit(T.REPORT_JOIN_GATEWAY, a.message || a.code, _this68.url || \"\"), a instanceof q && a.code === n.UNEXPECTED_RESPONSE && a.data.code === F.ERR_NO_AUTHORIZED) return k.warning(\"[\".concat(_this68.clientId, \"] reconnect no authorized, recover\")), void _this68.reconnect(\"recover\", kb.SERVER_ERROR);\n            k.error(\"[\".concat(_this68.clientId, \"] join gateway request failed\"), a.toString());\n            _this68.spec.forceWaitGatewayResponse ? _this68.reconnect(\"tryNext\", kb.SERVER_ERROR) : (_this68.initError = a, _this68.close());\n          });\n        });\n        this.websocket.on(ea.REQUEST_NEW_URLS, function (a, b) {\n          Ia(_this68, T.REQUEST_RECOVER, _this68.multiIpOption).then(a).catch(b);\n        });\n      }\n    }, {\n      key: \"connectionState\",\n      get: function get() {\n        return this._connectionState;\n      },\n      set: function set(a) {\n        a !== this._connectionState && (this._connectionState = a, a === Da.CONNECTED ? this.emit(T.WS_CONNECTED) : a === Da.RECONNECTING ? this.emit(T.WS_RECONNECTING, this._websocketReconnectReason) : a === Da.CLOSED && this.emit(T.WS_CLOSED, this._disconnectedReason));\n      }\n    }, {\n      key: \"currentURLIndex\",\n      get: function get() {\n        return this.websocket.currentURLIndex;\n      }\n    }, {\n      key: \"url\",\n      get: function get() {\n        return this.websocket ? this.websocket.url : null;\n      }\n    }, {\n      key: \"rtt\",\n      get: function get() {\n        return this.rttRolling.mean();\n      }\n    }]);\n\n    return Dr;\n  }(Wa);\n\n  var Eh = new ba();\n\n  var Er =\n  /*#__PURE__*/\n  function (_Wa10) {\n    _inherits(Er, _Wa10);\n\n    function Er(a) {\n      var _this69;\n\n      _classCallCheck(this, Er);\n\n      _this69 = _possibleConstructorReturn(this, _getPrototypeOf(Er).call(this));\n      _this69.inChannelInfo = {\n        joinAt: null,\n        duration: 0\n      };\n      _this69._state = \"DISCONNECTED\";\n      _this69.needToSendUnpubUnsub = new ba();\n      _this69.hasChangeBGPAddress = _this69.isSignalRecover = !1;\n      _this69.joinGatewayStartTime = 0;\n      _this69._signalTimeout = !1;\n      _this69.clientId = a.clientId;\n      _this69.spec = a;\n      _this69.signal = new Dr(lg({}, a, {\n        retryConfig: a.websocketRetryConfig\n      }));\n      _this69._statsCollector = a.statsCollector;\n      _this69.role = a.role || \"audience\";\n      _this69._clientRoleOptions = a.clientRoleOptions;\n\n      _this69.handleSignalEvents();\n\n      return _this69;\n    }\n\n    _createClass(Er, [{\n      key: \"join\",\n      value: function () {\n        var _join2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee44(a, b) {\n          var _this70 = this;\n\n          var c, e, f, h;\n          return _regeneratorRuntime.wrap(function _callee44$(_context44) {\n            while (1) {\n              switch (_context44.prev = _context44.next) {\n                case 0:\n                  \"disabled\" !== a.cloudProxyServer && (this.hasChangeBGPAddress = !0);\n                  f = x();\n                  h = Eh.get(a.cname);\n\n                  if (!(h || (h = new ba(), Eh.set(a.cname, h)), h.has(a.uid))) {\n                    _context44.next = 5;\n                    break;\n                  }\n\n                  throw h = new q(n.UID_CONFLICT), u.joinGateway(a.sid, {\n                    lts: f,\n                    succ: !1,\n                    ec: h.message,\n                    addr: null,\n                    uid: a.uid,\n                    cid: a.cid\n                  }), h;\n\n                case 5:\n                  h.set(a.uid, !0);\n                  this.joinInfo = a;\n                  this.key = b;\n                  b = a.proxyServer ? z(c = a.gatewayAddrs).call(c, function (b) {\n                    var c, e;\n                    b = b.split(\":\");\n                    return m(c = m(e = \"wss://\".concat(a.proxyServer, \"/ws/?h=\")).call(e, b[0], \"&p=\")).call(c, b[1]);\n                  }) : z(e = a.gatewayAddrs).call(e, function (a) {\n                    return \"wss://\".concat(a);\n                  });\n                  c = 0;\n                  this.joinGatewayStartTime = f;\n                  _context44.prev = 11;\n                  _context44.next = 14;\n                  return this.signal.init(b);\n\n                case 14:\n                  c = _context44.sent.uid;\n                  _context44.next = 20;\n                  break;\n\n                case 17:\n                  _context44.prev = 17;\n                  _context44.t0 = _context44[\"catch\"](11);\n                  throw k.error(\"[\".concat(this.clientId, \"] User join failed\"), _context44.t0.toString()), u.joinGateway(a.sid, {\n                    lts: f,\n                    succ: !1,\n                    ec: _context44.t0.message,\n                    addr: this.signal.url,\n                    uid: a.uid,\n                    cid: a.cid\n                  }), h.delete(a.uid), this.signal.close(), _context44.t0;\n\n                case 20:\n                  return _context44.abrupt(\"return\", (this.state = \"CONNECTED\", this.inChannelInfo.joinAt = x(), k.debug(\"[\".concat(this.clientId, \"] Connected to gateway server\")), this.trafficStatsInterval = window.setInterval(function () {\n                    _this70.updateTrafficStats().catch(function (a) {\n                      k.warning(\"[\".concat(_this70.clientId, \"] get traffic stats error\"), a.toString());\n                    });\n                  }, 3E3), this.networkQualityInterval = window.setInterval(function () {\n                    navigator && void 0 !== navigator.onLine && !navigator.onLine ? _this70.emit(Ja.NETWORK_QUALITY, {\n                      downlinkNetworkQuality: 6,\n                      uplinkNetworkQuality: 6\n                    }) : _this70._signalTimeout ? _this70.emit(Ja.NETWORK_QUALITY, {\n                      downlinkNetworkQuality: 5,\n                      uplinkNetworkQuality: 5\n                    }) : \"CONNECTED\" === _this70.state && _this70._statsCollector.trafficStats ? _this70.emit(Ja.NETWORK_QUALITY, {\n                      uplinkNetworkQuality: rj(_this70._statsCollector.trafficStats.B_unq),\n                      downlinkNetworkQuality: rj(_this70._statsCollector.trafficStats.B_dnq)\n                    }) : _this70.emit(Ja.NETWORK_QUALITY, {\n                      uplinkNetworkQuality: 0,\n                      downlinkNetworkQuality: 0\n                    });\n                  }, 2E3), c));\n\n                case 21:\n                case \"end\":\n                  return _context44.stop();\n              }\n            }\n          }, _callee44, this, [[11, 17]]);\n        }));\n\n        function join(_x82, _x83) {\n          return _join2.apply(this, arguments);\n        }\n\n        return join;\n      }()\n    }, {\n      key: \"leave\",\n      value: function () {\n        var _leave = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee45() {\n          var a,\n              b,\n              _args45 = arguments;\n          return _regeneratorRuntime.wrap(function _callee45$(_context45) {\n            while (1) {\n              switch (_context45.prev = _context45.next) {\n                case 0:\n                  a = _args45.length > 0 && _args45[0] !== undefined ? _args45[0] : !1;\n\n                  if (!(\"DISCONNECTED\" !== this.state)) {\n                    _context45.next = 16;\n                    break;\n                  }\n\n                  this.state = \"DISCONNECTING\";\n                  _context45.prev = 3;\n\n                  if (!(!a && this.signal.connectionState === Da.CONNECTED)) {\n                    _context45.next = 8;\n                    break;\n                  }\n\n                  b = this.signal.request(ia.LEAVE, void 0, !0);\n                  _context45.next = 8;\n                  return 3E3 === 1 / 0 ? b : y.race([b, mo(3E3)]);\n\n                case 8:\n                  _context45.next = 13;\n                  break;\n\n                case 10:\n                  _context45.prev = 10;\n                  _context45.t0 = _context45[\"catch\"](3);\n                  k.warning(\"[\".concat(this.clientId, \"] leave request failed, ignore\"), _context45.t0);\n\n                case 13:\n                  this.signal.close();\n                  this.reset();\n                  this.state = \"DISCONNECTED\";\n\n                case 16:\n                case \"end\":\n                  return _context45.stop();\n              }\n            }\n          }, _callee45, this, [[3, 10]]);\n        }));\n\n        function leave() {\n          return _leave.apply(this, arguments);\n        }\n\n        return leave;\n      }()\n    }, {\n      key: \"publish\",\n      value: function () {\n        var _publish = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee46(a, b) {\n          var _this71 = this;\n\n          var c, e;\n          return _regeneratorRuntime.wrap(function _callee46$(_context46) {\n            while (1) {\n              switch (_context46.prev = _context46.next) {\n                case 0:\n                  if (this.joinInfo) {\n                    _context46.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"publish no joinInfo\");\n\n                case 2:\n                  c = a.getUserId(), e = a.videoTrack ? function (a) {\n                    var b;\n                    a = a._encoderConfig;\n                    if (!a) return {};\n                    var c = {\n                      resolution: a.width && a.height ? m(b = \"\".concat(wc(a.width), \"x\")).call(b, wc(a.height)) : void 0,\n                      maxVideoBW: a.bitrateMax,\n                      minVideoBW: a.bitrateMin\n                    };\n                    return \"number\" == typeof a.frameRate ? (c.maxFrameRate = a.frameRate, c.minFrameRate = a.frameRate) : a.frameRate && (c.maxFrameRate = a.frameRate.max || a.frameRate.ideal || a.frameRate.exact || a.frameRate.min, c.minFrameRate = a.frameRate.min || a.frameRate.ideal || a.frameRate.exact || a.frameRate.max), c;\n                  }(a.videoTrack) : {};\n\n                  if (!(a.on(E.NEED_ANSWER, function (f, h, l) {\n                    var r;\n                    var p = {\n                      state: \"offer\",\n                      stream_type: b,\n                      p2p_id: a.pc.ID,\n                      sdp: A(f),\n                      audio: !!a.audioTrack,\n                      video: !!a.videoTrack,\n                      screen: a.videoTrack && -1 !== J(r = a.videoTrack._hints).call(r, Yb.SCREEN_TRACK),\n                      attributes: e,\n                      dtx: a.audioTrack instanceof ne && a.audioTrack._config.DTX,\n                      hq: !1,\n                      lq: !1,\n                      stereo: !1,\n                      speech: !1,\n                      mode: _this71.spec.mode,\n                      codec: _this71.spec.codec,\n                      extend: v.PUB_EXTEND\n                    };\n                    a.audioTrack && a.audioTrack instanceof ab && (a.audioTrack && (r = {\n                      stream_id: _this71.joinInfo && (_this71.joinInfo.stringUid || _this71.joinInfo.uid),\n                      action: \"\"\n                    }, a.audioTrack.isActive ? r.action = \"unmute_local_audio\" : r.action = \"mute_local_audio\", _this71.sendControl(r)), a.videoTrack && (r = {\n                      stream_id: _this71.joinInfo && (_this71.joinInfo.stringUid || _this71.joinInfo.uid),\n                      action: \"\"\n                    }, a.videoTrack.muted ? r.action = \"mute_local_video\" : r.action = \"unmute_local_video\", _this71.sendControl(r)));\n\n                    _this71.signal.request(ia.PUBLISH, p, !0).then(function (a) {\n                      c && _this71.needToSendUnpubUnsub.set(c, !0);\n                      h(JSON.parse(a.sdp));\n                    }).catch(function (b) {\n                      if (f.retry && b.data && b.data.code === F.ERR_PUBLISH_REQUEST_INVALID) return k.warning(\"[\".concat(_this71.clientId, \"] receiver publish error code, retry\"), b.toString()), Ia(a, E.NEED_UNPUB).then(function () {\n                        f.retry = !1;\n                        Ia(a, E.NEED_ANSWER, f).then(h).catch(l);\n                      });\n                      b.code !== n.WS_ABORT && l(b);\n                    });\n                  }), a.on(E.NEED_RENEGOTIATE, function (c, e, l) {\n                    _this71.signal.request(ia.PUBLISH, {\n                      state: \"negotiation\",\n                      stream_type: b,\n                      p2p_id: a.pc.ID,\n                      sdp: c\n                    }, !0).then(function (a) {\n                      e(JSON.parse(a.sdp));\n                    }).catch(function (a) {\n                      a.code !== n.WS_ABORT && l(a);\n                    });\n                  }), a.on(E.NEED_UNPUB, function (e) {\n                    return c && !_this71.needToSendUnpubUnsub.has(c) ? e(!1) : \"RECONNECTING\" === _this71.state ? e(!0) : void _this71.signal.request(ia.UNPUBLISH, {\n                      stream_id: a.getUserId(),\n                      stream_type: b\n                    }, !0).then(function () {\n                      return e(!1);\n                    }).catch(function (a) {\n                      k.warning(\"unpublish warning: \", a);\n                      e(!0);\n                    });\n                  }), a.on(E.NEED_UPLOAD, function (a, c) {\n                    _this71.signal.upload(a, {\n                      stream_type: b,\n                      stats: c\n                    });\n                  }), a.on(E.NEED_SIGNAL_RTT, function (a) {\n                    a(_this71.signal.rtt);\n                  }), a.on(E.NEED_CONTROL, function (a, b, c) {\n                    if (\"video\" === a.type && a.muted) a = \"mute_local_video\";else if (\"video\" !== a.type || a.muted) {\n                      if (\"audio\" === a.type && a.muted) a = \"mute_local_audio\";else {\n                        if (\"audio\" !== a.type || a.muted) return;\n                        a = \"unmute_local_audio\";\n                      }\n                    } else a = \"unmute_local_video\";\n\n                    _this71.sendControl({\n                      stream_id: _this71.joinInfo && (_this71.joinInfo.stringUid || _this71.joinInfo.uid),\n                      action: a\n                    }).then(b).catch(c);\n                  }), \"RECONNECTING\" !== this.state)) {\n                    _context46.next = 10;\n                    break;\n                  }\n\n                  if (!(\"CONNECTED\" !== this.state)) {\n                    _context46.next = 6;\n                    break;\n                  }\n\n                  return _context46.abrupt(\"return\", new q(n.INVALID_OPERATION, \"can not publish when connection state is \".concat(this.state)).throw());\n\n                case 6:\n                  _context46.next = 8;\n                  return a.startP2PConnection();\n\n                case 8:\n                  _context46.next = 11;\n                  break;\n\n                case 10:\n                  a.readyToReconnectPC();\n\n                case 11:\n                case \"end\":\n                  return _context46.stop();\n              }\n            }\n          }, _callee46, this);\n        }));\n\n        function publish(_x84, _x85) {\n          return _publish.apply(this, arguments);\n        }\n\n        return publish;\n      }()\n    }, {\n      key: \"subscribe\",\n      value: function () {\n        var _subscribe = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee47(a) {\n          var _this72 = this;\n\n          var b;\n          return _regeneratorRuntime.wrap(function _callee47$(_context47) {\n            while (1) {\n              switch (_context47.prev = _context47.next) {\n                case 0:\n                  if (this.joinInfo) {\n                    _context47.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"subscribe no joinInfo\");\n\n                case 2:\n                  b = a.getUserId();\n\n                  if (!(a.on(E.NEED_ANSWER, function (c, e, f) {\n                    var h = a.subscribeOptions;\n                    h = {\n                      stream_id: a.getUserId(),\n                      audio: !!h.audio,\n                      video: !!h.video,\n                      mode: _this72.spec.mode,\n                      codec: _this72.spec.codec,\n                      p2p_id: a.pc.ID,\n                      sdp: A(c),\n                      tcc: !!v.SUBSCRIBE_TCC,\n                      extend: v.SUB_EXTEND\n                    };\n\n                    _this72.signal.request(ia.SUBSCRIBE, h, !0).then(function (a) {\n                      _this72.needToSendUnpubUnsub.set(b, !0);\n\n                      e(JSON.parse(a.sdp));\n                    }).catch(function (b) {\n                      if (c.retry && b.data && b.data.code === F.ERR_SUBSCRIBE_REQUEST_INVALID) return k.warning(\"[\".concat(_this72.clientId, \"] receiver subscribe error code, retry\"), b.toString()), Ia(a, E.NEED_UNSUB).then(function () {\n                        c.retry = !1;\n                        Ia(a, E.NEED_ANSWER, c).then(e).catch(f);\n                      });\n                      b.code !== n.WS_ABORT && f(b);\n                    });\n                  }), a.on(E.NEED_UNSUB, function (c) {\n                    return _this72.needToSendUnpubUnsub.has(b) ? \"RECONNECTING\" === _this72.state ? c(!0) : void _this72.signal.request(ia.UNSUBSCRIBE, {\n                      stream_id: a.getUserId()\n                    }, !0).then(function () {\n                      return c(!1);\n                    }).catch(function (a) {\n                      k.warning(\"unsubscribe warning\", a);\n                      c(!0);\n                    }) : c(!1);\n                  }), a.on(E.NEED_UPLOAD, function (b, e) {\n                    _this72.signal.upload(b, {\n                      stream_id: a.getUserId(),\n                      stats: e\n                    });\n                  }), a.on(E.NEED_SIGNAL_RTT, function (a) {\n                    a(_this72.signal.rtt);\n                  }), \"RECONNECTING\" !== this.state)) {\n                    _context47.next = 10;\n                    break;\n                  }\n\n                  if (!(\"CONNECTED\" !== this.state)) {\n                    _context47.next = 6;\n                    break;\n                  }\n\n                  return _context47.abrupt(\"return\", new q(n.INVALID_OPERATION, \"can not subscribe when connection state is \".concat(this.state)).throw());\n\n                case 6:\n                  _context47.next = 8;\n                  return a.startP2PConnection();\n\n                case 8:\n                  _context47.next = 11;\n                  break;\n\n                case 10:\n                  a.readyToReconnectPC();\n\n                case 11:\n                case \"end\":\n                  return _context47.stop();\n              }\n            }\n          }, _callee47, this);\n        }));\n\n        function subscribe(_x86) {\n          return _subscribe.apply(this, arguments);\n        }\n\n        return subscribe;\n      }()\n    }, {\n      key: \"subscribeChange\",\n      value: function () {\n        var _subscribeChange = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee48(a, b) {\n          var c, e;\n          return _regeneratorRuntime.wrap(function _callee48$(_context48) {\n            while (1) {\n              switch (_context48.prev = _context48.next) {\n                case 0:\n                  if (this.joinInfo) {\n                    _context48.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"subscribe no joinInfo\");\n\n                case 2:\n                  _context48.next = 4;\n                  return a.setSubscribeOptions(b);\n\n                case 4:\n                  if (!(\"RECONNECTING\" !== this.state)) {\n                    _context48.next = 10;\n                    break;\n                  }\n\n                  if (!(\"CONNECTED\" !== this.state)) {\n                    _context48.next = 7;\n                    break;\n                  }\n\n                  return _context48.abrupt(\"return\", new q(n.INVALID_OPERATION, \"can not subscribe change when connection state is \".concat(this.state)).throw());\n\n                case 7:\n                  k.debug(m(c = m(e = \"[\".concat(this.clientId, \"] send subscribe change, audio: \")).call(e, b.audio, \", video: \")).call(c, b.video));\n                  _context48.next = 10;\n                  return this.signal.request(ia.SUBSCRIBE_CHANGE, {\n                    stream_id: a.getUserId(),\n                    audio: !!b.audio,\n                    video: !!b.video\n                  }, !0);\n\n                case 10:\n                case \"end\":\n                  return _context48.stop();\n              }\n            }\n          }, _callee48, this);\n        }));\n\n        function subscribeChange(_x87, _x88) {\n          return _subscribeChange.apply(this, arguments);\n        }\n\n        return subscribeChange;\n      }()\n    }, {\n      key: \"sendControl\",\n      value: function () {\n        var _sendControl = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee49(a) {\n          return _regeneratorRuntime.wrap(function _callee49$(_context49) {\n            while (1) {\n              switch (_context49.prev = _context49.next) {\n                case 0:\n                  this.signal.request(ia.CONTROL, a, !0, !0);\n\n                case 1:\n                case \"end\":\n                  return _context49.stop();\n              }\n            }\n          }, _callee49, this);\n        }));\n\n        function sendControl(_x89) {\n          return _sendControl.apply(this, arguments);\n        }\n\n        return sendControl;\n      }()\n    }, {\n      key: \"unsubscribe\",\n      value: function () {\n        var _unsubscribe = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee50(a) {\n          return _regeneratorRuntime.wrap(function _callee50$(_context50) {\n            while (1) {\n              switch (_context50.prev = _context50.next) {\n                case 0:\n                  _context50.next = 2;\n                  return a.closeP2PConnection();\n\n                case 2:\n                case \"end\":\n                  return _context50.stop();\n              }\n            }\n          }, _callee50, this);\n        }));\n\n        function unsubscribe(_x90) {\n          return _unsubscribe.apply(this, arguments);\n        }\n\n        return unsubscribe;\n      }()\n    }, {\n      key: \"getGatewayInfo\",\n      value: function getGatewayInfo() {\n        return this.signal.request(ia.GATEWAY_INFO);\n      }\n    }, {\n      key: \"renewToken\",\n      value: function renewToken(a) {\n        return this.signal.request(ia.RENEW_TOKEN, {\n          token: a\n        });\n      }\n    }, {\n      key: \"setClientRole\",\n      value: function () {\n        var _setClientRole = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee51(a, b) {\n          return _regeneratorRuntime.wrap(function _callee51$(_context51) {\n            while (1) {\n              switch (_context51.prev = _context51.next) {\n                case 0:\n                  if (!(b && (this._clientRoleOptions = Ya({}, b)), \"CONNECTED\" !== this.state)) {\n                    _context51.next = 2;\n                    break;\n                  }\n\n                  return _context51.abrupt(\"return\", void (this.role = a));\n\n                case 2:\n                  _context51.next = 4;\n                  return this.signal.request(ia.SET_CLIENT_ROLE, {\n                    role: a,\n                    level: \"audience\" === a ? this._clientRoleOptions && this._clientRoleOptions.level ? this._clientRoleOptions.level : 2 : 0\n                  });\n\n                case 4:\n                  this.role = a;\n\n                case 5:\n                case \"end\":\n                  return _context51.stop();\n              }\n            }\n          }, _callee51, this);\n        }));\n\n        function setClientRole(_x91, _x92) {\n          return _setClientRole.apply(this, arguments);\n        }\n\n        return setClientRole;\n      }()\n    }, {\n      key: \"setRemoteVideoStreamType\",\n      value: function () {\n        var _setRemoteVideoStreamType = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee52(a, b) {\n          return _regeneratorRuntime.wrap(function _callee52$(_context52) {\n            while (1) {\n              switch (_context52.prev = _context52.next) {\n                case 0:\n                  _context52.next = 2;\n                  return this.signal.request(ia.SWITCH_VIDEO_STREAM, {\n                    stream_id: a,\n                    stream_type: b\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context52.stop();\n              }\n            }\n          }, _callee52, this);\n        }));\n\n        function setRemoteVideoStreamType(_x93, _x94) {\n          return _setRemoteVideoStreamType.apply(this, arguments);\n        }\n\n        return setRemoteVideoStreamType;\n      }()\n    }, {\n      key: \"setStreamFallbackOption\",\n      value: function () {\n        var _setStreamFallbackOption = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee53(a, b) {\n          return _regeneratorRuntime.wrap(function _callee53$(_context53) {\n            while (1) {\n              switch (_context53.prev = _context53.next) {\n                case 0:\n                  _context53.next = 2;\n                  return this.signal.request(ia.SET_FALLBACK_OPTION, {\n                    stream_id: a,\n                    fallback_type: b\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context53.stop();\n              }\n            }\n          }, _callee53, this);\n        }));\n\n        function setStreamFallbackOption(_x95, _x96) {\n          return _setStreamFallbackOption.apply(this, arguments);\n        }\n\n        return setStreamFallbackOption;\n      }()\n    }, {\n      key: \"pickSVCLayer\",\n      value: function () {\n        var _pickSVCLayer = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee54(a, b) {\n          return _regeneratorRuntime.wrap(function _callee54$(_context54) {\n            while (1) {\n              switch (_context54.prev = _context54.next) {\n                case 0:\n                  _context54.next = 2;\n                  return this.signal.request(ia.PICK_SVC_LAYER, {\n                    stream_id: a,\n                    spatial_layer: b.spatialLayer,\n                    temporal_layer: b.temporalLayer\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context54.stop();\n              }\n            }\n          }, _callee54, this);\n        }));\n\n        function pickSVCLayer(_x97, _x98) {\n          return _pickSVCLayer.apply(this, arguments);\n        }\n\n        return pickSVCLayer;\n      }()\n    }, {\n      key: \"getInChannelInfo\",\n      value: function getInChannelInfo() {\n        return this.inChannelInfo.joinAt && (this.inChannelInfo.duration = x() - this.inChannelInfo.joinAt), lg({}, this.inChannelInfo);\n      }\n    }, {\n      key: \"getGatewayVersion\",\n      value: function () {\n        var _getGatewayVersion = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee55() {\n          return _regeneratorRuntime.wrap(function _callee55$(_context55) {\n            while (1) {\n              switch (_context55.prev = _context55.next) {\n                case 0:\n                  _context55.next = 2;\n                  return this.signal.request(ia.GATEWAY_INFO);\n\n                case 2:\n                  return _context55.abrupt(\"return\", _context55.sent.version);\n\n                case 3:\n                case \"end\":\n                  return _context55.stop();\n              }\n            }\n          }, _callee55, this);\n        }));\n\n        function getGatewayVersion() {\n          return _getGatewayVersion.apply(this, arguments);\n        }\n\n        return getGatewayVersion;\n      }()\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        if (this.inChannelInfo.joinAt && (this.inChannelInfo.duration = x() - this.inChannelInfo.joinAt, this.inChannelInfo.joinAt = null), this.trafficStatsInterval && (window.clearInterval(this.trafficStatsInterval), this.trafficStatsInterval = void 0), this.joinInfo) {\n          var a = Eh.get(this.joinInfo.cname);\n          a && a.delete(this.joinInfo.uid);\n        }\n\n        this.needToSendUnpubUnsub = new ba();\n        this.key = this.joinInfo = void 0;\n        this.networkQualityInterval && (window.clearInterval(this.networkQualityInterval), this.networkQualityInterval = void 0);\n      }\n    }, {\n      key: \"updateTurnConfigFromSignal\",\n      value: function updateTurnConfigFromSignal() {\n        if (this.joinInfo) {\n          var a = (a = ((\"disabled\" === this.joinInfo.cloudProxyServer ? this.signal.url : this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]) || \"\").match(/(wss:\\/\\/)?([^:]+):(\\d+)/)) ? {\n            username: Oa.username,\n            password: Oa.password,\n            turnServerURL: a[2],\n            tcpport: wa(a[3]) + 30,\n            udpport: wa(a[3]) + 30,\n            forceturn: !1\n          } : null;\n          this.joinInfo.turnServer.serversFromGateway = [];\n          a && \"off\" !== this.joinInfo.turnServer.mode && \"disabled\" === this.joinInfo.cloudProxyServer && this.joinInfo.turnServer.serversFromGateway.push(lg({}, Oa, {\n            turnServerURL: a.turnServerURL,\n            tcpport: a.tcpport,\n            udpport: a.udpport,\n            username: this.joinInfo.uid.toString(),\n            password: this.joinInfo.token\n          }));\n        }\n      }\n    }, {\n      key: \"updateTrafficStats\",\n      value: function () {\n        var _updateTrafficStats = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee56() {\n          var _this73 = this;\n\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee56$(_context56) {\n            while (1) {\n              switch (_context56.prev = _context56.next) {\n                case 0:\n                  if (!(\"CONNECTED\" === this.state)) {\n                    _context56.next = 7;\n                    break;\n                  }\n\n                  _context56.next = 3;\n                  return this.signal.request(ia.TRAFFIC_STATS, void 0, !0);\n\n                case 3:\n                  b = _context56.sent;\n                  b.timestamp = x();\n                  t(a = b.peer_delay).call(a, function (a) {\n                    var b;\n                    var c = _this73._statsCollector.trafficStats && U(b = _this73._statsCollector.trafficStats.peer_delay).call(b, function (b) {\n                      return b.peer_uid === a.peer_uid;\n                    });\n                    c && c.B_st !== a.B_st && xb(function () {\n                      _this73.emit(Ja.STREAM_TYPE_CHANGE, a.peer_uid, a.B_st);\n                    });\n                  });\n\n                  this._statsCollector.updateTrafficStats(b);\n\n                case 7:\n                case \"end\":\n                  return _context56.stop();\n              }\n            }\n          }, _callee56, this);\n        }));\n\n        function updateTrafficStats() {\n          return _updateTrafficStats.apply(this, arguments);\n        }\n\n        return updateTrafficStats;\n      }()\n    }, {\n      key: \"getJoinMessage\",\n      value: function getJoinMessage() {\n        if (!this.joinInfo || !this.key) throw new q(n.UNEXPECTED_ERROR, \"can not generate join message, no join info\");\n        var a = Ya({}, this.joinInfo.apResponse);\n        var b = v.REPORT_APP_SCENARIO;\n        if (\"string\" != typeof b) try {\n          b = A(b);\n        } catch (c) {\n          b = void 0;\n        }\n        b && 128 < b.length && (b = void 0);\n        b = {\n          session_id: this.joinInfo.sid,\n          app_id: this.joinInfo.appId,\n          channel_key: this.key,\n          channel_name: this.joinInfo.cname,\n          sdk_version: ob,\n          browser: navigator.userAgent,\n          process_id: v.PROCESS_ID,\n          mode: this.spec.mode,\n          codec: this.spec.codec,\n          role: this.role,\n          has_changed_gateway: this.hasChangeBGPAddress,\n          ap_response: a,\n          extend: v.JOIN_EXTEND,\n          details: {\n            6: this.joinInfo.stringUid,\n            cservice_map: \"proxy3\" === this.joinInfo.cloudProxyServer ? \"1\" : void 0\n          },\n          features: {\n            rejoin: !0\n          },\n          optionalInfo: this.joinInfo.optionalInfo,\n          appScenario: b\n        };\n        return this.joinInfo.stringUid && (b.string_uid = this.joinInfo.stringUid), this.joinInfo.aesmode && this.joinInfo.aespassword && (b.aes_mode = this.joinInfo.aesmode, v.ENCRYPT_AES ? (b.aes_secret = this.joinInfo.aespassword, b.aes_encrypt = !0) : b.aes_secret = this.joinInfo.aespassword, this.joinInfo.aessalt && (b.aes_salt = this.joinInfo.aessalt)), a.addresses[this.signal.websocket.currentURLIndex] && (b.ap_response.ticket = a.addresses[this.signal.websocket.currentURLIndex].ticket, delete a.addresses), b;\n      }\n    }, {\n      key: \"getRejoinMessage\",\n      value: function getRejoinMessage() {\n        if (!this.joinInfo) throw new q(n.UNEXPECTED_ERROR, \"can not generate rejoin message, no join info\");\n        return {\n          session_id: this.joinInfo.sid,\n          channel_name: this.joinInfo.cname,\n          cid: this.joinInfo.cid,\n          uid: this.joinInfo.uid,\n          vid: Number(this.joinInfo.vid)\n        };\n      }\n    }, {\n      key: \"handleSignalEvents\",\n      value: function handleSignalEvents() {\n        var _this74 = this;\n\n        this.signal.on(T.WS_RECONNECTING, function (a) {\n          _this74.joinInfo && u.WebSocketQuit(_this74.joinInfo.sid, {\n            lts: x(),\n            succ: -1,\n            cname: _this74.joinInfo.cname,\n            uid: _this74.joinInfo.uid,\n            cid: _this74.joinInfo.cid,\n            errorCode: a || kb.NETWORK_ERROR\n          });\n          _this74.joinInfo && (_this74.state = \"RECONNECTING\", u.sessionInit(_this74.joinInfo.sid, {\n            lts: new Date().getTime(),\n            extend: _this74.isSignalRecover ? {\n              recover: !0\n            } : {\n              rejoin: !0\n            },\n            cname: _this74.joinInfo.cname,\n            appid: _this74.joinInfo.appId,\n            mode: _this74.spec.mode\n          }), _this74.isSignalRecover = !1, _this74.joinGatewayStartTime = x());\n        });\n        this.signal.on(T.WS_CLOSED, function (a) {\n          var b;\n\n          switch (a) {\n            case \"LEAVE\":\n              b = kb.LEAVE;\n              break;\n\n            case \"UID_BANNED\":\n            case \"IP_BANNED\":\n            case \"CHANNEL_BANNED\":\n            case \"SERVER_ERROR\":\n              b = kb.SERVER_ERROR;\n              break;\n\n            default:\n              b = kb.NETWORK_ERROR;\n          }\n\n          k.debug(\"[signal] websocket closed, reason: \".concat(b || \"undefined -> \" + kb.NETWORK_ERROR));\n          _this74.joinInfo && u.WebSocketQuit(_this74.joinInfo.sid, {\n            lts: x(),\n            succ: \"LEAVE\" === a ? 1 : -1,\n            cname: _this74.joinInfo.cname,\n            uid: _this74.joinInfo.uid,\n            cid: _this74.joinInfo.cid,\n            errorCode: b\n          });\n\n          _this74.reset();\n\n          _this74._disconnectedReason = a;\n          _this74.state = \"DISCONNECTED\";\n        });\n        this.signal.on(T.WS_CONNECTED, function () {\n          if (_this74.updateTurnConfigFromSignal(), _this74.state = \"CONNECTED\", _this74.joinInfo) {\n            var a, b, c;\n            \"audience\" === _this74.role && _this74._clientRoleOptions && _this74._clientRoleOptions.level && (k.debug(m(a = m(b = m(c = \"[\".concat(_this74.clientId, \"] patch to send set client role, role: \")).call(c, _this74.role, \", mode: \")).call(b, _this74.spec.mode, \", level: \")).call(a, _this74._clientRoleOptions && _this74._clientRoleOptions.level)), _this74.setClientRole(_this74.role, _this74._clientRoleOptions));\n\n            if (u.joinGateway(_this74.joinInfo.sid, {\n              lts: _this74.joinGatewayStartTime,\n              succ: !0,\n              ec: null,\n              vid: _this74.joinInfo.vid,\n              addr: _this74.signal.url,\n              uid: _this74.joinInfo.uid,\n              cid: _this74.joinInfo.cid\n            }), _this74.joinInfo.useLocalAccessPoint) {\n              a = _this74.signal.url && _this74.signal.url.match(/wss:\\/\\/([^:]+):(\\d+)/);\n              var e;\n              if (!a) return void k.error(m(e = \"[\".concat(_this74.clientId, \"] set local access point after joined failed: \")).call(e, a));\n              eb(\"EVENT_REPORT_DOMAIN\", a[1]);\n              eb(\"EVENT_REPORT_BACKUP_DOMAIN\", a[1]);\n              eb(\"LOG_UPLOAD_SERVER\", \"\".concat(a[1], \":6444\"));\n            }\n          }\n        });\n        this.signal.on(fa.ON_UPLINK_STATS, function (a) {\n          _this74._statsCollector.updateUplinkStats(a);\n        });\n        this.signal.on(T.REQUEST_RECOVER, function (a, b, c) {\n          if (!_this74.joinInfo) return c(new q(n.UNEXPECTED_ERROR, \"gateway: can not recover, no join info\"));\n          a && (_this74.joinInfo.multiIP = a, _this74.hasChangeBGPAddress = !0);\n          _this74.isSignalRecover = !0;\n          Ia(_this74, Ja.REQUEST_NEW_GATEWAY_LIST).then(b).catch(c);\n        });\n        this.signal.on(T.REQUEST_JOIN_INFO, function (a) {\n          a(_this74.getJoinMessage());\n        });\n        this.signal.on(T.REQUEST_REJOIN_INFO, function (a) {\n          a(_this74.getRejoinMessage());\n        });\n        this.signal.on(T.REPORT_JOIN_GATEWAY, function (a, b) {\n          _this74.joinInfo && u.joinGateway(_this74.joinInfo.sid, {\n            lts: _this74.joinGatewayStartTime,\n            succ: !1,\n            ec: a,\n            addr: b,\n            uid: _this74.joinInfo.uid,\n            cid: _this74.joinInfo.cid\n          });\n        });\n        this.signal.on(T.IS_P2P_DISCONNECTED, function (a) {\n          a(Pd(_this74, Ja.IS_P2P_DISCONNECTED));\n        });\n        this.signal.on(T.DISCONNECT_P2P, function () {\n          _this74.needToSendUnpubUnsub = new ba();\n\n          _this74.emit(Ja.DISCONNECT_P2P);\n        });\n        this.signal.on(T.NEED_RENEW_SESSION, function () {\n          _this74.emit(Ja.NEED_RENEW_SESSION);\n        });\n        this.signal.on(T.REQUEST_SUCCESS, function () {\n          _this74._signalTimeout = !1;\n        });\n        this.signal.on(T.REQUEST_TIMEOUT, function () {\n          _this74._signalTimeout = !0;\n        });\n      }\n    }, {\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(a) {\n        if (a !== this._state) {\n          var b = this._state;\n          this._state = a;\n          \"DISCONNECTED\" === a && this._disconnectedReason ? this.emit(Ja.CONNECTION_STATE_CHANGE, a, b, this._disconnectedReason) : this.emit(Ja.CONNECTION_STATE_CHANGE, a, b);\n        }\n      }\n    }]);\n\n    return Er;\n  }(Wa);\n\n  var Fr = za(\"iterator\"),\n      Fh = !ya(function () {\n    var a = new URL(\"b?a=1&b=2&c=3\", \"http://a\"),\n        b = a.searchParams,\n        c = \"\";\n    return a.pathname = \"c%20d\", b.forEach(function (a, f) {\n      b.delete(\"b\");\n      c += f + a;\n    }), !a.toJSON || !b.sort || \"http://a/c%20d?a=1&c=3\" !== a.href || \"3\" !== b.get(\"c\") || \"a=1\" !== String(new URLSearchParams(\"?a=1\")) || !b[Fr] || \"a\" !== new URL(\"https://a@b\").username || \"b\" !== new URLSearchParams(new URLSearchParams(\"a=b\")).get(\"a\") || \"xn--e1aybc\" !== new URL(\"http://\\u0442\\u0435\\u0441\\u0442\").host || \"#%D0%B1\" !== new URL(\"http://a#\\u0431\").hash || \"a1c3\" !== c || \"x\" !== new URL(\"http://x\", void 0).host;\n  }),\n      Gr = /[^\\0-\\u007E]/,\n      Hr = /[.\\u3002\\uFF0E\\uFF61]/g,\n      Dd = Math.floor,\n      Gh = String.fromCharCode,\n      Nm = function Nm(a) {\n    return a + 22 + 75 * (26 > a);\n  },\n      Ir = function Ir(a) {\n    var b,\n        c = [];\n    var e = [];\n\n    for (var f = 0, h = a.length; f < h;) {\n      var l = a.charCodeAt(f++);\n\n      if (55296 <= l && 56319 >= l && f < h) {\n        var k = a.charCodeAt(f++);\n        56320 == (64512 & k) ? e.push(((1023 & l) << 10) + (1023 & k) + 65536) : (e.push(l), f--);\n      } else e.push(l);\n    }\n\n    f = (a = e).length;\n    h = 128;\n    var p = 0,\n        m = 72;\n\n    for (e = 0; e < a.length; e++) {\n      128 > (b = a[e]) && c.push(Gh(b));\n    }\n\n    for ((k = l = c.length) && c.push(\"-\"); k < f;) {\n      var n = 2147483647;\n\n      for (e = 0; e < a.length; e++) {\n        (b = a[e]) >= h && b < n && (n = b);\n      }\n\n      var q = k + 1;\n      if (n - h > Dd((2147483647 - p) / q)) throw RangeError(\"Overflow: input needs wider integers to process\");\n      p += (n - h) * q;\n      h = n;\n\n      for (e = 0; e < a.length; e++) {\n        if ((b = a[e]) < h && 2147483647 < ++p) throw RangeError(\"Overflow: input needs wider integers to process\");\n\n        if (b == h) {\n          var t = p;\n\n          for (n = 36;; n += 36) {\n            var B = n <= m ? 1 : n >= m + 26 ? 26 : n - m;\n            if (t < B) break;\n            t -= B;\n            var u = 36 - B;\n            c.push(Gh(Nm(B + t % u)));\n            t = Dd(t / u);\n          }\n\n          c.push(Gh(Nm(t)));\n          m = q;\n          n = 0;\n          p = k == l ? Dd(p / 700) : p >> 1;\n\n          for (p += Dd(p / m); 455 < p; n += 36) {\n            p = Dd(p / 35);\n          }\n\n          m = Dd(n + 36 * p / (p + 38));\n          p = 0;\n          ++k;\n        }\n      }\n\n      ++p;\n      ++h;\n    }\n\n    return c.join(\"\");\n  },\n      Om = function Om(a) {\n    var b = ef(a);\n    if (\"function\" != typeof b) throw TypeError(String(a) + \" is not iterable\");\n    return $a(b.call(a));\n  },\n      Pm = Xb(\"fetch\"),\n      Hh = Xb(\"Headers\"),\n      Jr = za(\"iterator\"),\n      Qm = Fa.set,\n      Cb = Fa.getterFor(\"URLSearchParams\"),\n      Kr = Fa.getterFor(\"URLSearchParamsIterator\"),\n      Lr = /\\+/g,\n      Rm = Array(4),\n      Mr = function Mr(a) {\n    return Rm[a - 1] || (Rm[a - 1] = RegExp(\"((?:%[\\\\da-f]{2}){\" + a + \"})\", \"gi\"));\n  },\n      Nr = function Nr(a) {\n    try {\n      return decodeURIComponent(a);\n    } catch (b) {\n      return a;\n    }\n  },\n      Sm = function Sm(a) {\n    a = a.replace(Lr, \" \");\n    var b = 4;\n\n    try {\n      return decodeURIComponent(a);\n    } catch (c) {\n      for (; b;) {\n        a = a.replace(Mr(b--), Nr);\n      }\n\n      return a;\n    }\n  },\n      Tm = /[!'()~]|%20/g,\n      Or = {\n    \"!\": \"%21\",\n    \"'\": \"%27\",\n    \"(\": \"%28\",\n    \")\": \"%29\",\n    \"~\": \"%7E\",\n    \"%20\": \"+\"\n  },\n      Um = function Um(a) {\n    return Or[a];\n  },\n      Vm = function Vm(a, b) {\n    if (b) {\n      var c, e;\n      b = b.split(\"&\");\n\n      for (var f = 0; f < b.length;) {\n        (c = b[f++]).length && (e = c.split(\"=\"), a.push({\n          key: Sm(e.shift()),\n          value: Sm(e.join(\"=\"))\n        }));\n      }\n    }\n  },\n      Pr = function Pr(a) {\n    this.entries.length = 0;\n    Vm(this.entries, a);\n  },\n      Ed = function Ed(a, b) {\n    if (a < b) throw TypeError(\"Not enough arguments\");\n  },\n      Ih = Kk(function (a, b) {\n    Qm(this, {\n      type: \"URLSearchParamsIterator\",\n      iterator: Om(Cb(a).entries),\n      kind: b\n    });\n  }, \"Iterator\", function () {\n    var a = Kr(this),\n        b = a.kind;\n    a = a.iterator.next();\n    var c = a.value;\n    return a.done || (a.value = \"keys\" === b ? c.key : \"values\" === b ? c.value : [c.key, c.value]), a;\n  }),\n      pe = function pe() {\n    sd(this, pe, \"URLSearchParams\");\n    var a, b, c, e, f;\n    var h = 0 < arguments.length ? arguments[0] : void 0;\n    var l = [];\n    if (Qm(this, {\n      type: \"URLSearchParams\",\n      entries: l,\n      updateURL: function updateURL() {},\n      updateSearchParams: Pr\n    }), void 0 !== h) if (qa(h)) {\n      if (\"function\" == typeof (a = ef(h))) for (b = (a = a.call(h)).next; !(h = b.call(a)).done;) {\n        if ((h = (e = (c = Om($a(h.value))).next).call(c)).done || (f = e.call(c)).done || !e.call(c).done) throw TypeError(\"Expected sequence with length 2\");\n        l.push({\n          key: h.value + \"\",\n          value: f.value + \"\"\n        });\n      } else for (b in h) {\n        P(h, b) && l.push({\n          key: b,\n          value: h[b] + \"\"\n        });\n      }\n    } else Vm(l, \"string\" == typeof h ? \"?\" === h.charAt(0) ? h.slice(1) : h : h + \"\");\n  },\n      Cf = pe.prototype;\n\n  Pc(Cf, {\n    append: function append(a, b) {\n      Ed(arguments.length, 2);\n      var c = Cb(this);\n      c.entries.push({\n        key: a + \"\",\n        value: b + \"\"\n      });\n      c.updateURL();\n    },\n    delete: function _delete(a) {\n      Ed(arguments.length, 1);\n\n      for (var b = Cb(this), c = b.entries, e = a + \"\", f = 0; f < c.length;) {\n        c[f].key === e ? c.splice(f, 1) : f++;\n      }\n\n      b.updateURL();\n    },\n    get: function get(a) {\n      Ed(arguments.length, 1);\n\n      for (var b = Cb(this).entries, c = a + \"\", e = 0; e < b.length; e++) {\n        if (b[e].key === c) return b[e].value;\n      }\n\n      return null;\n    },\n    getAll: function getAll(a) {\n      Ed(arguments.length, 1);\n\n      for (var b = Cb(this).entries, c = a + \"\", e = [], f = 0; f < b.length; f++) {\n        b[f].key === c && e.push(b[f].value);\n      }\n\n      return e;\n    },\n    has: function has(a) {\n      Ed(arguments.length, 1);\n\n      for (var b = Cb(this).entries, c = a + \"\", e = 0; e < b.length;) {\n        if (b[e++].key === c) return !0;\n      }\n\n      return !1;\n    },\n    set: function set(a, b) {\n      Ed(arguments.length, 1);\n\n      for (var c, e = Cb(this), f = e.entries, h = !1, l = a + \"\", k = b + \"\", p = 0; p < f.length; p++) {\n        (c = f[p]).key === l && (h ? f.splice(p--, 1) : (h = !0, c.value = k));\n      }\n\n      h || f.push({\n        key: l,\n        value: k\n      });\n      e.updateURL();\n    },\n    sort: function sort() {\n      var a,\n          b,\n          c = Cb(this),\n          e = c.entries,\n          f = e.slice();\n\n      for (b = e.length = 0; b < f.length; b++) {\n        var h = f[b];\n\n        for (a = 0; a < b; a++) {\n          if (e[a].key > h.key) {\n            e.splice(a, 0, h);\n            break;\n          }\n        }\n\n        a === b && e.push(h);\n      }\n\n      c.updateURL();\n    },\n    forEach: function forEach(a) {\n      for (var b, c = Cb(this).entries, e = yc(a, 1 < arguments.length ? arguments[1] : void 0, 3), f = 0; f < c.length;) {\n        e((b = c[f++]).value, b.key, this);\n      }\n    },\n    keys: function keys() {\n      return new Ih(this, \"keys\");\n    },\n    values: function values() {\n      return new Ih(this, \"values\");\n    },\n    entries: function entries() {\n      return new Ih(this, \"entries\");\n    }\n  }, {\n    enumerable: !0\n  });\n  oc(Cf, Jr, Cf.entries);\n  oc(Cf, \"toString\", function () {\n    for (var a, b = Cb(this).entries, c = [], e = 0; e < b.length;) {\n      a = b[e++], c.push(encodeURIComponent(a.key).replace(Tm, Um) + \"=\" + encodeURIComponent(a.value).replace(Tm, Um));\n    }\n\n    return c.join(\"&\");\n  }, {\n    enumerable: !0\n  });\n  Mc(pe, \"URLSearchParams\");\n  L({\n    global: !0,\n    forced: !Fh\n  }, {\n    URLSearchParams: pe\n  });\n  Fh || \"function\" != typeof Pm || \"function\" != typeof Hh || L({\n    global: !0,\n    enumerable: !0,\n    forced: !0\n  }, {\n    fetch: function fetch(a) {\n      var b,\n          c,\n          e,\n          f = [a];\n      return 1 < arguments.length && (qa(b = arguments[1]) && (c = b.body, \"URLSearchParams\" === qd(c) && ((e = b.headers ? new Hh(b.headers) : new Hh()).has(\"content-type\") || e.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"), b = Ac(b, {\n        body: lc(0, String(c)),\n        headers: lc(0, e)\n      }))), f.push(b)), Pm.apply(this, f);\n    }\n  });\n\n  var qe = N.URL,\n      Qr = pe,\n      Rr = Fa.set,\n      Ba = Fa.getterFor(\"URL\"),\n      Sr = Math.floor,\n      Wm = Math.pow,\n      Xm = /[A-Za-z]/,\n      Tr = /[\\d+\\-.A-Za-z]/,\n      Jh = /\\d/,\n      Ur = /^(0x|0X)/,\n      Vr = /^[0-7]+$/,\n      Wr = /^\\d+$/,\n      Ym = /^[\\dA-Fa-f]+$/,\n      Xr = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/,\n      Yr = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/,\n      Zr = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g,\n      $r = /[\\u0009\\u000A\\u000D]/g,\n      Kh = function Kh(a, b) {\n    var c, e;\n\n    if (\"[\" == b.charAt(0)) {\n      if (\"]\" != b.charAt(b.length - 1) || !(c = as(b.slice(1, -1)))) return \"Invalid host\";\n    } else if (Xa(a)) {\n      var f = [],\n          h = b.toLowerCase().replace(Hr, \".\").split(\".\");\n\n      for (e = 0; e < h.length; e++) {\n        var l = h[e];\n        f.push(Gr.test(l) ? \"xn--\" + Ir(l) : l);\n      }\n\n      if ((b = f.join(\".\"), Xr.test(b)) || null === (c = bs(b))) return \"Invalid host\";\n    } else {\n      if (Yr.test(b)) return \"Invalid host\";\n      c = \"\";\n      b = Vc(b);\n\n      for (e = 0; e < b.length; e++) {\n        c += Dc(b[e], Df);\n      }\n    }\n\n    a.host = c;\n  },\n      bs = function bs(a) {\n    var b,\n        c,\n        e,\n        f,\n        h = a.split(\".\");\n    if (h.length && \"\" == h[h.length - 1] && h.pop(), 4 < (b = h.length)) return a;\n    var l = [];\n\n    for (c = 0; c < b; c++) {\n      if (\"\" == (e = h[c])) return a;\n      if (f = 10, 1 < e.length && \"0\" == e.charAt(0) && (f = Ur.test(e) ? 16 : 8, e = e.slice(8 == f ? 1 : 2)), \"\" === e) e = 0;else {\n        if (!(10 == f ? Wr : 8 == f ? Vr : Ym).test(e)) return a;\n        e = parseInt(e, f);\n      }\n      l.push(e);\n    }\n\n    for (c = 0; c < b; c++) {\n      if (e = l[c], c == b - 1) {\n        if (e >= Wm(256, 5 - b)) return null;\n      } else if (255 < e) return null;\n    }\n\n    a = l.pop();\n\n    for (c = 0; c < l.length; c++) {\n      a += l[c] * Wm(256, 3 - c);\n    }\n\n    return a;\n  },\n      as = function as(a) {\n    var b,\n        c,\n        e,\n        f = [0, 0, 0, 0, 0, 0, 0, 0],\n        h = 0,\n        l = null,\n        k = 0;\n\n    var p = function p() {\n      return a.charAt(k);\n    };\n\n    if (\":\" == p()) {\n      if (\":\" != a.charAt(1)) return;\n      k += 2;\n      l = ++h;\n    }\n\n    for (; p();) {\n      if (8 == h) return;\n\n      if (\":\" != p()) {\n        for (b = c = 0; 4 > c && Ym.test(p());) {\n          b = 16 * b + parseInt(p(), 16), k++, c++;\n        }\n\n        if (\".\" == p()) {\n          if (0 == c || (k -= c, 6 < h)) return;\n\n          for (b = 0; p();) {\n            if (c = null, 0 < b) {\n              if (!(\".\" == p() && 4 > b)) return;\n              k++;\n            }\n\n            if (!Jh.test(p())) return;\n\n            for (; Jh.test(p());) {\n              if (e = parseInt(p(), 10), null === c) c = e;else {\n                if (0 == c) return;\n                c = 10 * c + e;\n              }\n              if (255 < c) return;\n              k++;\n            }\n\n            f[h] = 256 * f[h] + c;\n            2 != ++b && 4 != b || h++;\n          }\n\n          if (4 != b) return;\n          break;\n        }\n\n        if (\":\" == p()) {\n          if (k++, !p()) return;\n        } else if (p()) return;\n\n        f[h++] = b;\n      } else {\n        if (null !== l) return;\n        k++;\n        l = ++h;\n      }\n    }\n\n    if (null !== l) for (p = h - l, h = 7; 0 != h && 0 < p;) {\n      b = f[h], f[h--] = f[l + p - 1], f[l + --p] = b;\n    } else if (8 != h) return;\n    return f;\n  },\n      re = function re(a) {\n    var b, c;\n\n    if (\"number\" == typeof a) {\n      var e = [];\n\n      for (b = 0; 4 > b; b++) {\n        e.unshift(a % 256), a = Sr(a / 256);\n      }\n\n      return e.join(\".\");\n    }\n\n    if (\"object\" == typeof a) {\n      e = \"\";\n      b = null;\n      var f = 1;\n\n      for (var h = null, l = 0, k = 0; 8 > k; k++) {\n        0 !== a[k] ? (l > f && (b = h, f = l), h = null, l = 0) : (null === h && (h = k), ++l);\n      }\n\n      f = (l > f && (b = h), b);\n\n      for (b = 0; 8 > b; b++) {\n        c && 0 === a[b] || (c && (c = !1), f === b ? (e += b ? \":\" : \"::\", c = !0) : (e += a[b].toString(16), 7 > b && (e += \":\")));\n      }\n\n      return \"[\" + e + \"]\";\n    }\n\n    return a;\n  },\n      Df = {},\n      Zm = ce({}, Df, {\n    \" \": 1,\n    '\"': 1,\n    \"<\": 1,\n    \">\": 1,\n    \"`\": 1\n  }),\n      $m = ce({}, Zm, {\n    \"#\": 1,\n    \"?\": 1,\n    \"{\": 1,\n    \"}\": 1\n  }),\n      Lh = ce({}, $m, {\n    \"/\": 1,\n    \":\": 1,\n    \";\": 1,\n    \"=\": 1,\n    \"@\": 1,\n    \"[\": 1,\n    \"\\\\\": 1,\n    \"]\": 1,\n    \"^\": 1,\n    \"|\": 1\n  }),\n      Dc = function Dc(a, b) {\n    var c = Dp(a, 0);\n    return 32 < c && 127 > c && !P(b, a) ? a : encodeURIComponent(a);\n  },\n      Ef = {\n    ftp: 21,\n    file: null,\n    http: 80,\n    https: 443,\n    ws: 80,\n    wss: 443\n  },\n      Xa = function Xa(a) {\n    return P(Ef, a.scheme);\n  },\n      Mh = function Mh(a) {\n    return !a.host || a.cannotBeABaseURL || \"file\" == a.scheme;\n  },\n      se = function se(a, b) {\n    var c;\n    return 2 == a.length && Xm.test(a.charAt(0)) && (\":\" == (c = a.charAt(1)) || !b && \"|\" == c);\n  },\n      an = function an(a) {\n    var b;\n    return 1 < a.length && se(a.slice(0, 2)) && (2 == a.length || \"/\" === (b = a.charAt(2)) || \"\\\\\" === b || \"?\" === b || \"#\" === b);\n  },\n      bn = function bn(a) {\n    var b = a.path,\n        c = b.length;\n    !c || \"file\" == a.scheme && 1 == c && se(b[0], !0) || b.pop();\n  },\n      Nh = {},\n      cn = {},\n      Oh = {},\n      dn = {},\n      en = {},\n      Ph = {},\n      fn = {},\n      gn = {},\n      Ff = {},\n      Gf = {},\n      Qh = {},\n      Rh = {},\n      Sh = {},\n      Th = {},\n      hn = {},\n      Uh = {},\n      te = {},\n      fc = {},\n      jn = {},\n      Xc = {},\n      uc = {},\n      gc = function gc(a, b, c, e) {\n    var f, h;\n    var l = c || Nh;\n    var k = 0;\n    var p = \"\";\n    var m = !1,\n        n = !1,\n        q = !1;\n    c || (a.scheme = \"\", a.username = \"\", a.password = \"\", a.host = null, a.port = null, a.path = [], a.query = null, a.fragment = null, a.cannotBeABaseURL = !1, b = b.replace(Zr, \"\"));\n    b = b.replace($r, \"\");\n\n    for (b = Vc(b); k <= b.length;) {\n      switch (f = b[k], l) {\n        case Nh:\n          if (!f || !Xm.test(f)) {\n            if (c) return \"Invalid scheme\";\n            l = Oh;\n            continue;\n          }\n\n          p += f.toLowerCase();\n          l = cn;\n          break;\n\n        case cn:\n          if (f && (Tr.test(f) || \"+\" == f || \"-\" == f || \".\" == f)) p += f.toLowerCase();else {\n            if (\":\" != f) {\n              if (c) return \"Invalid scheme\";\n              p = \"\";\n              l = Oh;\n              k = 0;\n              continue;\n            }\n\n            if (c && (Xa(a) != P(Ef, p) || \"file\" == p && (\"\" != a.username || \"\" != a.password || null !== a.port) || \"file\" == a.scheme && !a.host)) return;\n            if (a.scheme = p, c) return void (Xa(a) && Ef[a.scheme] == a.port && (a.port = null));\n            p = \"\";\n            \"file\" == a.scheme ? l = Th : Xa(a) && e && e.scheme == a.scheme ? l = dn : Xa(a) ? l = gn : \"/\" == b[k + 1] ? (l = en, k++) : (a.cannotBeABaseURL = !0, a.path.push(\"\"), l = jn);\n          }\n          break;\n\n        case Oh:\n          if (!e || e.cannotBeABaseURL && \"#\" != f) return \"Invalid scheme\";\n\n          if (e.cannotBeABaseURL && \"#\" == f) {\n            a.scheme = e.scheme;\n            a.path = e.path.slice();\n            a.query = e.query;\n            a.fragment = \"\";\n            a.cannotBeABaseURL = !0;\n            l = uc;\n            break;\n          }\n\n          l = \"file\" == e.scheme ? Th : Ph;\n          continue;\n\n        case dn:\n          if (\"/\" != f || \"/\" != b[k + 1]) {\n            l = Ph;\n            continue;\n          }\n\n          l = Ff;\n          k++;\n          break;\n\n        case en:\n          if (\"/\" == f) {\n            l = Gf;\n            break;\n          }\n\n          l = fc;\n          continue;\n\n        case Ph:\n          if (a.scheme = e.scheme, void 0 == f) a.username = e.username, a.password = e.password, a.host = e.host, a.port = e.port, a.path = e.path.slice(), a.query = e.query;else if (\"/\" == f || \"\\\\\" == f && Xa(a)) l = fn;else if (\"?\" == f) a.username = e.username, a.password = e.password, a.host = e.host, a.port = e.port, a.path = e.path.slice(), a.query = \"\", l = Xc;else {\n            if (\"#\" != f) {\n              a.username = e.username;\n              a.password = e.password;\n              a.host = e.host;\n              a.port = e.port;\n              a.path = e.path.slice();\n              a.path.pop();\n              l = fc;\n              continue;\n            }\n\n            a.username = e.username;\n            a.password = e.password;\n            a.host = e.host;\n            a.port = e.port;\n            a.path = e.path.slice();\n            a.query = e.query;\n            a.fragment = \"\";\n            l = uc;\n          }\n          break;\n\n        case fn:\n          if (!Xa(a) || \"/\" != f && \"\\\\\" != f) {\n            if (\"/\" != f) {\n              a.username = e.username;\n              a.password = e.password;\n              a.host = e.host;\n              a.port = e.port;\n              l = fc;\n              continue;\n            }\n\n            l = Gf;\n          } else l = Ff;\n\n          break;\n\n        case gn:\n          if (l = Ff, \"/\" != f || \"/\" != p.charAt(k + 1)) continue;\n          k++;\n          break;\n\n        case Ff:\n          if (\"/\" != f && \"\\\\\" != f) {\n            l = Gf;\n            continue;\n          }\n\n          break;\n\n        case Gf:\n          if (\"@\" == f) {\n            m && (p = \"%40\" + p);\n            m = !0;\n            p = Vc(p);\n\n            for (f = 0; f < p.length; f++) {\n              var t = p[f];\n              \":\" != t || q ? (t = Dc(t, Lh), q ? a.password += t : a.username += t) : q = !0;\n            }\n\n            p = \"\";\n          } else if (void 0 == f || \"/\" == f || \"?\" == f || \"#\" == f || \"\\\\\" == f && Xa(a)) {\n            if (m && \"\" == p) return \"Invalid authority\";\n            k -= Vc(p).length + 1;\n            p = \"\";\n            l = Qh;\n          } else p += f;\n\n          break;\n\n        case Qh:\n        case Rh:\n          if (c && \"file\" == a.scheme) {\n            l = Uh;\n            continue;\n          }\n\n          if (\":\" != f || n) {\n            if (void 0 == f || \"/\" == f || \"?\" == f || \"#\" == f || \"\\\\\" == f && Xa(a)) {\n              if (Xa(a) && \"\" == p) return \"Invalid host\";\n              if (c && \"\" == p && (\"\" != a.username || \"\" != a.password || null !== a.port)) return;\n              if (l = Kh(a, p)) return l;\n              if (p = \"\", l = te, c) return;\n              continue;\n            }\n\n            \"[\" == f ? n = !0 : \"]\" == f && (n = !1);\n            p += f;\n          } else {\n            if (\"\" == p) return \"Invalid host\";\n            if (l = Kh(a, p)) return l;\n            if (p = \"\", l = Sh, c == Rh) return;\n          }\n\n          break;\n\n        case Sh:\n          if (!Jh.test(f)) {\n            if (void 0 == f || \"/\" == f || \"?\" == f || \"#\" == f || \"\\\\\" == f && Xa(a) || c) {\n              if (\"\" != p) {\n                l = parseInt(p, 10);\n                if (65535 < l) return \"Invalid port\";\n                a.port = Xa(a) && l === Ef[a.scheme] ? null : l;\n                p = \"\";\n              }\n\n              if (c) return;\n              l = te;\n              continue;\n            }\n\n            return \"Invalid port\";\n          }\n\n          p += f;\n          break;\n\n        case Th:\n          if (a.scheme = \"file\", \"/\" == f || \"\\\\\" == f) l = hn;else {\n            if (!e || \"file\" != e.scheme) {\n              l = fc;\n              continue;\n            }\n\n            if (void 0 == f) a.host = e.host, a.path = e.path.slice(), a.query = e.query;else if (\"?\" == f) a.host = e.host, a.path = e.path.slice(), a.query = \"\", l = Xc;else {\n              if (\"#\" != f) {\n                an(b.slice(k).join(\"\")) || (a.host = e.host, a.path = e.path.slice(), bn(a));\n                l = fc;\n                continue;\n              }\n\n              a.host = e.host;\n              a.path = e.path.slice();\n              a.query = e.query;\n              a.fragment = \"\";\n              l = uc;\n            }\n          }\n          break;\n\n        case hn:\n          if (\"/\" == f || \"\\\\\" == f) {\n            l = Uh;\n            break;\n          }\n\n          e && \"file\" == e.scheme && !an(b.slice(k).join(\"\")) && (se(e.path[0], !0) ? a.path.push(e.path[0]) : a.host = e.host);\n          l = fc;\n          continue;\n\n        case Uh:\n          if (void 0 == f || \"/\" == f || \"\\\\\" == f || \"?\" == f || \"#\" == f) {\n            if (!c && se(p)) l = fc;else {\n              if (\"\" == p) {\n                if (a.host = \"\", c) return;\n              } else {\n                if (l = Kh(a, p)) return l;\n                if (\"localhost\" == a.host && (a.host = \"\"), c) return;\n                p = \"\";\n              }\n\n              l = te;\n            }\n            continue;\n          }\n\n          p += f;\n          break;\n\n        case te:\n          if (Xa(a)) {\n            if (l = fc, \"/\" != f && \"\\\\\" != f) continue;\n          } else if (c || \"?\" != f) {\n            if (c || \"#\" != f) {\n              if (void 0 != f && (l = fc, \"/\" != f)) continue;\n            } else a.fragment = \"\", l = uc;\n          } else a.query = \"\", l = Xc;\n\n          break;\n\n        case fc:\n          if (void 0 == f || \"/\" == f || \"\\\\\" == f && Xa(a) || !c && (\"?\" == f || \"#\" == f)) {\n            if (\"..\" === (h = (h = p).toLowerCase()) || \"%2e.\" === h || \".%2e\" === h || \"%2e%2e\" === h ? (bn(a), \"/\" == f || \"\\\\\" == f && Xa(a) || a.path.push(\"\")) : \".\" === p || \"%2e\" === p.toLowerCase() ? \"/\" == f || \"\\\\\" == f && Xa(a) || a.path.push(\"\") : (\"file\" == a.scheme && !a.path.length && se(p) && (a.host && (a.host = \"\"), p = p.charAt(0) + \":\"), a.path.push(p)), p = \"\", \"file\" == a.scheme && (void 0 == f || \"?\" == f || \"#\" == f)) for (; 1 < a.path.length && \"\" === a.path[0];) {\n              a.path.shift();\n            }\n            \"?\" == f ? (a.query = \"\", l = Xc) : \"#\" == f && (a.fragment = \"\", l = uc);\n          } else p += Dc(f, $m);\n\n          break;\n\n        case jn:\n          \"?\" == f ? (a.query = \"\", l = Xc) : \"#\" == f ? (a.fragment = \"\", l = uc) : void 0 != f && (a.path[0] += Dc(f, Df));\n          break;\n\n        case Xc:\n          c || \"#\" != f ? void 0 != f && (\"'\" == f && Xa(a) ? a.query += \"%27\" : a.query += \"#\" == f ? \"%23\" : Dc(f, Df)) : (a.fragment = \"\", l = uc);\n          break;\n\n        case uc:\n          void 0 != f && (a.fragment += Dc(f, Zm));\n      }\n\n      k++;\n    }\n  },\n      Yc = function Yc(a) {\n    var b = sd(this, Yc, \"URL\");\n    var c = 1 < arguments.length ? arguments[1] : void 0;\n    var e = String(a),\n        f = Rr(b, {\n      type: \"URL\"\n    });\n    if (void 0 !== c) if (c instanceof Yc) var h = Ba(c);else if (c = gc(h = {}, String(c))) throw TypeError(c);\n    if (c = gc(f, e, null, h)) throw TypeError(c);\n    var l = f.searchParams = new Qr();\n    h = Cb(l);\n    h.updateSearchParams(f.query);\n\n    h.updateURL = function () {\n      f.query = String(l) || null;\n    };\n\n    na || (b.href = Hf.call(b), b.origin = kn.call(b), b.protocol = ln.call(b), b.username = mn.call(b), b.password = nn.call(b), b.host = on.call(b), b.hostname = pn.call(b), b.port = qn.call(b), b.pathname = rn.call(b), b.search = sn.call(b), b.searchParams = tn.call(b), b.hash = un.call(b));\n  },\n      Vh = Yc.prototype,\n      Hf = function Hf() {\n    var a = Ba(this),\n        b = a.scheme,\n        c = a.username,\n        e = a.password,\n        f = a.host,\n        h = a.port,\n        l = a.path,\n        k = a.query,\n        p = a.fragment,\n        m = b + \":\";\n    return null !== f ? (m += \"//\", (\"\" != a.username || \"\" != a.password) && (m += c + (e ? \":\" + e : \"\") + \"@\"), m += re(f), null !== h && (m += \":\" + h)) : \"file\" == b && (m += \"//\"), m += a.cannotBeABaseURL ? l[0] : l.length ? \"/\" + l.join(\"/\") : \"\", null !== k && (m += \"?\" + k), null !== p && (m += \"#\" + p), m;\n  },\n      kn = function kn() {\n    var a = Ba(this),\n        b = a.scheme,\n        c = a.port;\n    if (\"blob\" == b) try {\n      return new URL(b.path[0]).origin;\n    } catch (e) {\n      return \"null\";\n    }\n    return \"file\" != b && Xa(a) ? b + \"://\" + re(a.host) + (null !== c ? \":\" + c : \"\") : \"null\";\n  },\n      ln = function ln() {\n    return Ba(this).scheme + \":\";\n  },\n      mn = function mn() {\n    return Ba(this).username;\n  },\n      nn = function nn() {\n    return Ba(this).password;\n  },\n      on = function on() {\n    var a = Ba(this),\n        b = a.host;\n    a = a.port;\n    return null === b ? \"\" : null === a ? re(b) : re(b) + \":\" + a;\n  },\n      pn = function pn() {\n    var a = Ba(this).host;\n    return null === a ? \"\" : re(a);\n  },\n      qn = function qn() {\n    var a = Ba(this).port;\n    return null === a ? \"\" : String(a);\n  },\n      rn = function rn() {\n    var a = Ba(this),\n        b = a.path;\n    return a.cannotBeABaseURL ? b[0] : b.length ? \"/\" + b.join(\"/\") : \"\";\n  },\n      sn = function sn() {\n    var a = Ba(this).query;\n    return a ? \"?\" + a : \"\";\n  },\n      tn = function tn() {\n    return Ba(this).searchParams;\n  },\n      un = function un() {\n    var a = Ba(this).fragment;\n    return a ? \"#\" + a : \"\";\n  },\n      Ob = function Ob(a, b) {\n    return {\n      get: a,\n      set: b,\n      configurable: !0,\n      enumerable: !0\n    };\n  };\n\n  if (na && Eg(Vh, {\n    href: Ob(Hf, function (a) {\n      var b = Ba(this);\n      if (a = gc(b, String(a))) throw TypeError(a);\n      Cb(b.searchParams).updateSearchParams(b.query);\n    }),\n    origin: Ob(kn),\n    protocol: Ob(ln, function (a) {\n      var b = Ba(this);\n      gc(b, String(a) + \":\", Nh);\n    }),\n    username: Ob(mn, function (a) {\n      var b = Ba(this);\n      a = Vc(String(a));\n\n      if (!Mh(b)) {\n        b.username = \"\";\n\n        for (var c = 0; c < a.length; c++) {\n          b.username += Dc(a[c], Lh);\n        }\n      }\n    }),\n    password: Ob(nn, function (a) {\n      var b = Ba(this);\n      a = Vc(String(a));\n\n      if (!Mh(b)) {\n        b.password = \"\";\n\n        for (var c = 0; c < a.length; c++) {\n          b.password += Dc(a[c], Lh);\n        }\n      }\n    }),\n    host: Ob(on, function (a) {\n      var b = Ba(this);\n      b.cannotBeABaseURL || gc(b, String(a), Qh);\n    }),\n    hostname: Ob(pn, function (a) {\n      var b = Ba(this);\n      b.cannotBeABaseURL || gc(b, String(a), Rh);\n    }),\n    port: Ob(qn, function (a) {\n      var b = Ba(this);\n      Mh(b) || (\"\" == (a = String(a)) ? b.port = null : gc(b, a, Sh));\n    }),\n    pathname: Ob(rn, function (a) {\n      var b = Ba(this);\n      b.cannotBeABaseURL || (b.path = [], gc(b, a + \"\", te));\n    }),\n    search: Ob(sn, function (a) {\n      var b = Ba(this);\n      \"\" == (a = String(a)) ? b.query = null : (\"?\" == a.charAt(0) && (a = a.slice(1)), b.query = \"\", gc(b, a, Xc));\n      Cb(b.searchParams).updateSearchParams(b.query);\n    }),\n    searchParams: Ob(tn),\n    hash: Ob(un, function (a) {\n      var b = Ba(this);\n      \"\" != (a = String(a)) ? (\"#\" == a.charAt(0) && (a = a.slice(1)), b.fragment = \"\", gc(b, a, uc)) : b.fragment = null;\n    })\n  }), oc(Vh, \"toJSON\", function () {\n    return Hf.call(this);\n  }, {\n    enumerable: !0\n  }), oc(Vh, \"toString\", function () {\n    return Hf.call(this);\n  }, {\n    enumerable: !0\n  }), qe) {\n    var vn = qe.createObjectURL,\n        wn = qe.revokeObjectURL;\n    vn && oc(Yc, \"createObjectURL\", function (a) {\n      return vn.apply(qe, arguments);\n    });\n    wn && oc(Yc, \"revokeObjectURL\", function (a) {\n      return wn.apply(qe, arguments);\n    });\n  }\n\n  Mc(Yc, \"URL\");\n  L({\n    global: !0,\n    forced: !Fh,\n    sham: !na\n  }, {\n    URL: Yc\n  });\n  var vo = ma.URL;\n  !function () {\n    function a(a) {\n      var b = 0;\n      return function () {\n        return b < a.length ? {\n          done: !1,\n          value: a[b++]\n        } : {\n          done: !0\n        };\n      };\n    }\n\n    function b(a, b) {\n      if (b) a: {\n        var c = u;\n        a = a.split(\".\");\n\n        for (var e = 0; e < a.length - 1; e++) {\n          var f = a[e];\n          if (!(f in c)) break a;\n          c = c[f];\n        }\n\n        (b = b(e = c[a = a[a.length - 1]])) != e && null != b && B(c, a, {\n          configurable: !0,\n          writable: !0,\n          value: b\n        });\n      }\n    }\n\n    function c(a) {\n      return (a = {\n        next: a\n      })[Symbol.iterator] = function () {\n        return this;\n      }, a;\n    }\n\n    function e(b) {\n      var c = \"undefined\" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];\n      return c ? c.call(b) : {\n        next: a(b)\n      };\n    }\n\n    function f() {\n      this.m = !1;\n      this.j = null;\n      this.v = void 0;\n      this.h = 1;\n      this.u = this.C = 0;\n      this.l = null;\n    }\n\n    function h(a) {\n      if (a.m) throw new TypeError(\"Generator is already running\");\n      a.m = !0;\n    }\n\n    function l(a, b) {\n      return a.h = 3, {\n        value: b\n      };\n    }\n\n    function k(a) {\n      this.g = new f();\n      this.G = a;\n    }\n\n    function p(a, b, c, e) {\n      try {\n        var f = b.call(a.g.j, c);\n        if (!(f instanceof Object)) throw new TypeError(\"Iterator result \" + f + \" is not an object\");\n        if (!f.done) return a.g.m = !1, f;\n        var h = f.value;\n      } catch (jg) {\n        return a.g.j = null, a.g.s(jg), m(a);\n      }\n\n      return a.g.j = null, e.call(a.g, h), m(a);\n    }\n\n    function m(a) {\n      for (; a.g.h;) {\n        try {\n          var b = a.G(a.g);\n          if (b) return a.g.m = !1, {\n            value: b.value,\n            done: !1\n          };\n        } catch (Rd) {\n          a.g.v = void 0, a.g.s(Rd);\n        }\n      }\n\n      if (a.g.m = !1, a.g.l) {\n        if (b = a.g.l, a.g.l = null, b.F) throw b.D;\n        return {\n          value: b.return,\n          done: !0\n        };\n      }\n\n      return {\n        value: void 0,\n        done: !0\n      };\n    }\n\n    function n(a) {\n      this.next = function (b) {\n        return a.o(b);\n      };\n\n      this.throw = function (b) {\n        return a.s(b);\n      };\n\n      this.return = function (b) {\n        return function (a, b) {\n          h(a.g);\n          var c = a.g.j;\n          return c ? p(a, \"return\" in c ? c.return : function (a) {\n            return {\n              value: a,\n              done: !0\n            };\n          }, b, a.g.return) : (a.g.return(b), m(a));\n        }(a, b);\n      };\n\n      this[Symbol.iterator] = function () {\n        return this;\n      };\n    }\n\n    function q(a, b) {\n      return b = new n(new k(b)), y && a.prototype && y(b, a.prototype), b;\n    }\n\n    var t,\n        B = \"function\" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, c) {\n      return a == Array.prototype || a == Object.prototype || (a[b] = c.value), a;\n    },\n        u = function (a) {\n      a = [\"object\" == typeof globalThis && globalThis, a, \"object\" == typeof window && window, \"object\" == typeof self && self, \"object\" == typeof Xd && Xd];\n\n      for (var b = 0; b < a.length; ++b) {\n        var c = a[b];\n        if (c && c.Math == Math) return c;\n      }\n\n      throw Error(\"Cannot find global object\");\n    }(this);\n\n    if (b(\"Symbol\", function (a) {\n      function b(a, b) {\n        this.A = a;\n        B(this, \"description\", {\n          configurable: !0,\n          writable: !0,\n          value: b\n        });\n      }\n\n      if (a) return a;\n\n      b.prototype.toString = function () {\n        return this.A;\n      };\n\n      var c = \"jscomp_symbol_\" + (1E9 * Math.random() >>> 0) + \"_\",\n          e = 0;\n      return function jg(a) {\n        if (this instanceof jg) throw new TypeError(\"Symbol is not a constructor\");\n        return new b(c + (a || \"\") + \"_\" + e++, a);\n      };\n    }), b(\"Symbol.iterator\", function (b) {\n      if (b) return b;\n      b = Symbol(\"Symbol.iterator\");\n\n      for (var e = \"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"), f = 0; f < e.length; f++) {\n        var h = u[e[f]];\n        \"function\" == typeof h && \"function\" != typeof h.prototype[b] && B(h.prototype, b, {\n          configurable: !0,\n          writable: !0,\n          value: function value() {\n            return c(a(this));\n          }\n        });\n      }\n\n      return b;\n    }), \"function\" == typeof Object.setPrototypeOf) var v = Object.setPrototypeOf;else {\n      a: {\n        var x = {};\n\n        try {\n          x.__proto__ = {\n            a: !0\n          };\n          v = x.a;\n          break a;\n        } catch (Pa) {}\n\n        v = !1;\n      }\n\n      v = v ? function (a, b) {\n        if (a.__proto__ = b, a.__proto__ !== b) throw new TypeError(a + \" is not extensible\");\n        return a;\n      } : null;\n    }\n    var y = v;\n\n    if (f.prototype.o = function (a) {\n      this.v = a;\n    }, f.prototype.s = function (a) {\n      this.l = {\n        D: a,\n        F: !0\n      };\n      this.h = this.C || this.u;\n    }, f.prototype.return = function (a) {\n      this.l = {\n        return: a\n      };\n      this.h = this.u;\n    }, k.prototype.o = function (a) {\n      return h(this.g), this.g.j ? p(this, this.g.j.next, a, this.g.o) : (this.g.o(a), m(this));\n    }, k.prototype.s = function (a) {\n      return h(this.g), this.g.j ? p(this, this.g.j.throw, a, this.g.o) : (this.g.s(a), m(this));\n    }, b(\"Array.prototype.entries\", function (a) {\n      return a || function () {\n        return function (a, b) {\n          a instanceof String && (a += \"\");\n          var c = 0,\n              e = !1,\n              f = {\n            next: function next() {\n              if (!e && c < a.length) {\n                var f = c++;\n                return {\n                  value: b(f, a[f]),\n                  done: !1\n                };\n              }\n\n              return e = !0, {\n                done: !0,\n                value: void 0\n              };\n            }\n          };\n          return f[Symbol.iterator] = function () {\n            return f;\n          }, f;\n        }(this, function (a, b) {\n          return [a, b];\n        });\n      };\n    }), \"undefined\" != typeof Blob && (\"undefined\" == typeof FormData || !FormData.prototype.keys)) {\n      var z = function z(a, b) {\n        for (var c = 0; c < a.length; c++) {\n          b(a[c]);\n        }\n      },\n          A = function A(a) {\n        return a.replace(/\\r?\\n|\\r/g, \"\\r\\n\");\n      },\n          C = function C(a, b, c) {\n        return b instanceof Blob ? (c = void 0 !== c ? String(c + \"\") : \"string\" == typeof b.name ? b.name : \"blob\", b.name === c && \"[object Blob]\" !== Object.prototype.toString.call(b) || (b = new File([b], c)), [String(a), b]) : [String(a), String(b)];\n      },\n          D = function D(a, b) {\n        if (a.length < b) throw new TypeError(b + \" argument required, but only \" + a.length + \" present.\");\n      };\n\n      v = \"object\" == typeof globalThis ? globalThis : \"object\" == typeof window ? window : \"object\" == typeof self ? self : this;\n      var F = v.FormData,\n          E = v.XMLHttpRequest && v.XMLHttpRequest.prototype.send,\n          G = v.Request && v.fetch,\n          I = v.navigator && v.navigator.sendBeacon;\n      x = v.Element && v.Element.prototype;\n      var H = v.Symbol && Symbol.toStringTag;\n      H && (Blob.prototype[H] || (Blob.prototype[H] = \"Blob\"), \"File\" in v && !File.prototype[H] && (File.prototype[H] = \"File\"));\n\n      try {\n        new File([], \"\");\n      } catch (Pa) {\n        v.File = function (a, b, c) {\n          return a = new Blob(a, c || {}), Object.defineProperties(a, {\n            name: {\n              value: b\n            },\n            lastModified: {\n              value: +(c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date())\n            },\n            toString: {\n              value: function value() {\n                return \"[object File]\";\n              }\n            }\n          }), H && Object.defineProperty(a, H, {\n            value: \"File\"\n          }), a;\n        };\n      }\n\n      var L = function L(a) {\n        return a.replace(/\\n/g, \"%0A\").replace(/\\r/g, \"%0D\").replace(/\"/g, \"%22\");\n      },\n          J = function J(a) {\n        this.i = [];\n        var b = this;\n        a && z(a.elements, function (a) {\n          if (a.name && !a.disabled && \"submit\" !== a.type && \"button\" !== a.type && !a.matches(\"form fieldset[disabled] *\")) if (\"file\" === a.type) {\n            var c = a.files && a.files.length ? a.files : [new File([], \"\", {\n              type: \"application/octet-stream\"\n            })];\n            z(c, function (c) {\n              b.append(a.name, c);\n            });\n          } else \"select-multiple\" === a.type || \"select-one\" === a.type ? z(a.options, function (c) {\n            !c.disabled && c.selected && b.append(a.name, c.value);\n          }) : \"checkbox\" === a.type || \"radio\" === a.type ? a.checked && b.append(a.name, a.value) : (c = \"textarea\" === a.type ? A(a.value) : a.value, b.append(a.name, c));\n        });\n      };\n\n      if ((t = J.prototype).append = function (a, b, c) {\n        D(arguments, 2);\n        this.i.push(C(a, b, c));\n      }, t.delete = function (a) {\n        D(arguments, 1);\n        var b = [];\n        a = String(a);\n        z(this.i, function (c) {\n          c[0] !== a && b.push(c);\n        });\n        this.i = b;\n      }, t.entries = function kc() {\n        var a,\n            b = this;\n        return q(kc, function (c) {\n          if (1 == c.h && (a = 0), 3 != c.h) return a < b.i.length ? c = l(c, b.i[a]) : (c.h = 0, c = void 0), c;\n          a++;\n          c.h = 2;\n        });\n      }, t.forEach = function (a, b) {\n        D(arguments, 1);\n\n        for (var c = e(this), f = c.next(); !f.done; f = c.next()) {\n          var h = e(f.value);\n          f = h.next().value;\n          h = h.next().value;\n          a.call(b, h, f, this);\n        }\n      }, t.get = function (a) {\n        D(arguments, 1);\n        var b = this.i;\n        a = String(a);\n\n        for (var c = 0; c < b.length; c++) {\n          if (b[c][0] === a) return b[c][1];\n        }\n\n        return null;\n      }, t.getAll = function (a) {\n        D(arguments, 1);\n        var b = [];\n        return a = String(a), z(this.i, function (c) {\n          c[0] === a && b.push(c[1]);\n        }), b;\n      }, t.has = function (a) {\n        D(arguments, 1);\n        a = String(a);\n\n        for (var b = 0; b < this.i.length; b++) {\n          if (this.i[b][0] === a) return !0;\n        }\n\n        return !1;\n      }, t.keys = function Rd() {\n        var a,\n            b,\n            c,\n            f,\n            h = this;\n        return q(Rd, function (k) {\n          if (1 == k.h && (a = e(h), b = a.next()), 3 != k.h) return b.done ? void (k.h = 0) : (c = b.value, f = e(c), l(k, f.next().value));\n          b = a.next();\n          k.h = 2;\n        });\n      }, t.set = function (a, b, c) {\n        D(arguments, 2);\n        a = String(a);\n        var e = [],\n            f = C(a, b, c),\n            h = !0;\n        z(this.i, function (b) {\n          b[0] === a ? h && (h = !e.push(f)) : e.push(b);\n        });\n        h && e.push(f);\n        this.i = e;\n      }, t.values = function Ic() {\n        var a,\n            b,\n            c,\n            f,\n            h = this;\n        return q(Ic, function (k) {\n          if (1 == k.h && (a = e(h), b = a.next()), 3 != k.h) return b.done ? void (k.h = 0) : (c = b.value, (f = e(c)).next(), l(k, f.next().value));\n          b = a.next();\n          k.h = 2;\n        });\n      }, J.prototype._asNative = function () {\n        for (var a = new F(), b = e(this), c = b.next(); !c.done; c = b.next()) {\n          var f = e(c.value);\n          c = f.next().value;\n          f = f.next().value;\n          a.append(c, f);\n        }\n\n        return a;\n      }, J.prototype._blob = function () {\n        var a = \"----formdata-polyfill-\" + Math.random(),\n            b = [],\n            c = \"--\" + a + '\\r\\nContent-Disposition: form-data; name=\"';\n        return this.forEach(function (a, e) {\n          return \"string\" == typeof a ? b.push(c + L(A(e)) + '\"\\r\\n\\r\\n' + A(a) + \"\\r\\n\") : b.push(c + L(A(e)) + '\"; filename=\"' + L(a.name) + '\"\\r\\nContent-Type: ' + (a.type || \"application/octet-stream\") + \"\\r\\n\\r\\n\", a, \"\\r\\n\");\n        }), b.push(\"--\" + a + \"--\"), new Blob(b, {\n          type: \"multipart/form-data; boundary=\" + a\n        });\n      }, J.prototype[Symbol.iterator] = function () {\n        return this.entries();\n      }, J.prototype.toString = function () {\n        return \"[object FormData]\";\n      }, x && !x.matches && (x.matches = x.matchesSelector || x.mozMatchesSelector || x.msMatchesSelector || x.oMatchesSelector || x.webkitMatchesSelector || function (a) {\n        for (var b = (a = (this.document || this.ownerDocument).querySelectorAll(a)).length; 0 <= --b && a.item(b) !== this;) {\n          ;\n        }\n\n        return -1 < b;\n      }), H && (J.prototype[H] = \"FormData\"), E) {\n        var M = v.XMLHttpRequest.prototype.setRequestHeader;\n\n        v.XMLHttpRequest.prototype.setRequestHeader = function (a, b) {\n          M.call(this, a, b);\n          \"content-type\" === a.toLowerCase() && (this.B = !0);\n        };\n\n        v.XMLHttpRequest.prototype.send = function (a) {\n          a instanceof J ? (a = a._blob(), this.B || this.setRequestHeader(\"Content-Type\", a.type), E.call(this, a)) : E.call(this, a);\n        };\n      }\n\n      G && (v.fetch = function (a, b) {\n        return b && b.body && b.body instanceof J && (b.body = b.body._blob()), G.call(this, a, b);\n      });\n      I && (v.navigator.sendBeacon = function (a, b) {\n        return b instanceof J && (b = b._asNative()), I.call(this, a, b);\n      });\n      v.FormData = J;\n    }\n  }();\n\n  var mg = 1,\n      og = 1,\n      Dj = function Dj(a, b, c, e, f) {\n    var h, l, r;\n    var p = [];\n    if (t(h = a.response_body).call(h, function (h) {\n      var l = h.buffer.code;\n      0 !== l && (l = Se(l), h = {\n        error: new q(n.CAN_NOT_GET_GATEWAY_SERVER, l.desc, {\n          retry: l.retry,\n          csIp: a.detail[502]\n        }),\n        flag: h.buffer.flag\n      }, p.push(h), 4096 === h.flag ? u.joinChooseServer(c.sid, {\n        lts: e,\n        succ: !1,\n        csAddr: b,\n        opid: a.opid,\n        serverList: null,\n        ec: h.error.message,\n        csIp: h.error.data && h.error.data.csIp,\n        unilbsServerIds: f.toString()\n      }) : 1048576 !== h.flag && 4194304 !== h.flag || u.joinWebProxyAP(c.sid, {\n        lts: e,\n        sucess: 0,\n        apServerAddr: b,\n        turnServerAddrList: null,\n        errorCode: h.error.code,\n        eventType: c.cloudProxyServer,\n        unilbsServerIds: f.toString()\n      }));\n    }), p.length) throw k.warning(m(l = m(r = \"[\".concat(c.clientId, \"] multi unilbs \")).call(r, b, \" failed, \")).call(l, z(p).call(p, function (a) {\n      var b, c;\n      return m(b = m(c = \"flag: \".concat(a.flag, \", message: \")).call(c, a.error.message, \", retry: \")).call(b, a.error.data.retry);\n    }).join(\" | \"))), new q(n.CAN_NOT_GET_GATEWAY_SERVER, z(p).call(p, function (a) {\n      var b;\n      return m(b = \"flag: \".concat(a.flag, \", message: \")).call(b, a.error.message);\n    }).join(\" | \"), {\n      retry: !!U(p).call(p, function (a) {\n        return a.error.data.retry;\n      }),\n      csIp: a.detail[502]\n    });\n  },\n      Ej = function Ej(a) {\n    if (a.addresses && 0 === a.addresses.length && 0 === a.code) throw new q(n.CAN_NOT_GET_GATEWAY_SERVER, \"void gateway address\", {\n      retry: !0,\n      csIp: a.detail && a.detail[502]\n    });\n\n    if (v.GATEWAY_ADDRESS && 0 < v.GATEWAY_ADDRESS.length) {\n      var b;\n      k.debug(\"assign gateway address to\", v.GATEWAY_ADDRESS);\n\n      var _c13 = z(b = v.GATEWAY_ADDRESS).call(b, function (b) {\n        return {\n          ip: b.ip,\n          port: b.port,\n          ticket: a.addresses[0] && a.addresses[0].ticket\n        };\n      });\n\n      a.addresses = _c13;\n    }\n  },\n      Cj = function Cj(a, b, c) {\n    var e;\n    var f = Math.floor(1E12 * Math.random());\n    b = {\n      appid: a.appId,\n      client_ts: x(),\n      opid: f,\n      sid: a.sid,\n      request_bodies: [{\n        uri: 22,\n        buffer: {\n          cname: a.cname,\n          detail: {\n            6: a.stringUid,\n            11: b\n          },\n          key: a.token,\n          service_ids: c,\n          uid: a.uid || 0\n        }\n      }]\n    };\n    t(e = b.request_bodies).call(e, function (b) {\n      a.multiIP && a.multiIP.gateway_ip && (b.buffer.detail[5] = A({\n        vocs_ip: [a.multiIP.uni_lbs_ip],\n        vos_ip: [a.multiIP.gateway_ip]\n      }));\n    });\n    e = new FormData();\n    return e.append(\"request\", A(b)), [e, f];\n  },\n      Vd = function Vd() {\n    var a = v.AREAS;\n    0 === a.length && a.push(\"GLOBAL\");\n    return Be(a).call(a, function (a, c, e) {\n      var b, h, l, k, p;\n      c = \"OVERSEA\" === c ? m(b = m(h = m(l = m(k = m(p = \"\".concat(Ka.ASIA, \",\")).call(p, Ka.EUROPE, \",\")).call(k, Ka.AFRICA, \",\")).call(l, Ka.NORTH_AMERICA, \",\")).call(h, Ka.SOUTH_AMERICA, \",\")).call(b, Ka.OCEANIA) : Ka[c];\n      var n;\n      return c ? 0 === e ? c : m(n = \"\".concat(a, \",\")).call(n, c) : a;\n    }, \"\");\n  };\n\n  var If = {\n    ASIA: [\"CHINA\", \"JAPAN\", \"INDIA\"],\n    EUROPE: [],\n    NORTH_AMERICA: [],\n    SOUTH_AMERICA: [],\n    OCEANIA: [],\n    AFRICA: []\n  };\n\n  var Fd = W(If),\n      Jf = \"CHINA NORTH_AMERICA EUROPE ASIA JAPAN INDIA OCEANIA SOUTH_AMERICA AFRICA\".split(\" \"),\n      cs = function cs(a, b) {\n    var c = [];\n\n    if (Z(a).call(a, \"GLOBAL\")) {\n      c = [\"GLOBAL\", \"OVERSEA\"];\n\n      var _f3 = W(nh);\n\n      if (\"GLOBAL\" === b) throw new q(n.INVALID_PARAMS, \"GLOBAL is an invalid excludedArea value\");\n      if (\"CHINA\" === b) c = [\"OVERSEA\"];else if (e = b, Z(Fd).call(Fd, e)) {\n        a = If[b] || [];\n\n        var _e3 = [].concat(_toConsumableArray(c), [b], _toConsumableArray(a));\n\n        c = I(_f3).call(_f3, function (a) {\n          return !Z(_e3).call(_e3, a);\n        });\n      } else if (function (a) {\n        var b = !1;\n        return t(Fd).call(Fd, function (c) {\n          var e;\n          Z(e = If[c]).call(e, a) && (b = !0);\n        }), b;\n      }(b)) {\n        a = function (a) {\n          var b;\n          return t(Fd).call(Fd, function (c) {\n            var e;\n            Z(e = If[c]).call(e, a) && (b = c);\n          }), b;\n        }(b);\n\n        var _e4 = [].concat(_toConsumableArray(c), [a, b]);\n\n        c = I(_f3).call(_f3, function (a) {\n          return !Z(_e4).call(_e4, a);\n        });\n      } else c = a;\n\n      c = function (a) {\n        var b = [];\n        return t(Jf).call(Jf, function (c) {\n          Z(a).call(a, c) && b.push(c);\n        }), m(b).call(b, I(a).call(a, function (a) {\n          return !Z(Jf).call(Jf, a);\n        }));\n      }(c);\n    } else c = a;\n\n    var e;\n    return c;\n  };\n\n  var ds =\n  /*#__PURE__*/\n  function (_Wa11) {\n    _inherits(ds, _Wa11);\n\n    function ds() {\n      var _this75;\n\n      _classCallCheck(this, ds);\n\n      _this75 = _possibleConstructorReturn(this, _getPrototypeOf(ds).call(this));\n      _this75.retryConfig = {\n        timeout: 3E3,\n        timeoutFactor: 1.5,\n        maxRetryCount: 1,\n        maxRetryTimeout: 1E4\n      };\n      _this75.mutex = new sc(\"config-distribute\");\n      return _this75;\n    }\n\n    _createClass(ds, [{\n      key: \"startGetConfigDistribute\",\n      value: function startGetConfigDistribute(a, b) {\n        var _this76 = this;\n\n        this.joinInfo = a;\n        this.cancelToken = b;\n        this.interval && this.stopGetConfigDistribute();\n        this.updateConfigDistribute();\n        this.interval = window.setInterval(function () {\n          _this76.updateConfigDistribute();\n        }, v.CONFIG_DISTRIBUTE_INTERVAL);\n      }\n    }, {\n      key: \"stopGetConfigDistribute\",\n      value: function stopGetConfigDistribute() {\n        this.interval && clearInterval(this.interval);\n        this.cancelToken = this.joinInfo = this.interval = void 0;\n      }\n    }, {\n      key: \"awaitConfigDistributeComplete\",\n      value: function () {\n        var _awaitConfigDistributeComplete = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee57() {\n          return _regeneratorRuntime.wrap(function _callee57$(_context57) {\n            while (1) {\n              switch (_context57.prev = _context57.next) {\n                case 0:\n                  _context57.t0 = this.mutex.isLocked;\n\n                  if (!_context57.t0) {\n                    _context57.next = 6;\n                    break;\n                  }\n\n                  _context57.next = 4;\n                  return this.mutex.lock();\n\n                case 4:\n                  _context57.t1 = _context57.sent;\n                  (0, _context57.t1)();\n\n                case 6:\n                case \"end\":\n                  return _context57.stop();\n              }\n            }\n          }, _callee57, this);\n        }));\n\n        function awaitConfigDistributeComplete() {\n          return _awaitConfigDistributeComplete.apply(this, arguments);\n        }\n\n        return awaitConfigDistributeComplete;\n      }()\n    }, {\n      key: \"updateConfigDistribute\",\n      value: function () {\n        var _updateConfigDistribute = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee58() {\n          var a, b, _a25;\n\n          return _regeneratorRuntime.wrap(function _callee58$(_context58) {\n            while (1) {\n              switch (_context58.prev = _context58.next) {\n                case 0:\n                  if (!(!this.joinInfo || !this.cancelToken || !this.retryConfig)) {\n                    _context58.next = 2;\n                    break;\n                  }\n\n                  return _context58.abrupt(\"return\", void k.debug(\"[config-distribute] get config distribute interrupted have no joininfo\"));\n\n                case 2:\n                  _context58.next = 4;\n                  return this.mutex.lock();\n\n                case 4:\n                  b = _context58.sent;\n                  _context58.prev = 5;\n                  _context58.next = 8;\n                  return wo(this.joinInfo, this.cancelToken, this.retryConfig);\n\n                case 8:\n                  a = _context58.sent;\n                  k.debug(\"[config-distribute] get config distribute\", A(a));\n                  a.limit_bitrate && this.handleBitrateLimit(a.limit_bitrate);\n                  this.configs = a;\n                  _context58.next = 18;\n                  break;\n\n                case 14:\n                  _context58.prev = 14;\n                  _context58.t0 = _context58[\"catch\"](5);\n                  _a25 = new q(n.NETWORK_RESPONSE_ERROR, _context58.t0);\n                  k.warning(\"[config-distribute] \".concat(_a25.toString()));\n\n                case 18:\n                  _context58.prev = 18;\n                  b();\n                  return _context58.finish(18);\n\n                case 21:\n                case \"end\":\n                  return _context58.stop();\n              }\n            }\n          }, _callee58, this, [[5, 14, 18, 21]]);\n        }));\n\n        function updateConfigDistribute() {\n          return _updateConfigDistribute.apply(this, arguments);\n        }\n\n        return updateConfigDistribute;\n      }()\n    }, {\n      key: \"getBitrateLimit\",\n      value: function getBitrateLimit() {\n        return this.configs ? this.configs.limit_bitrate : void 0;\n      }\n    }, {\n      key: \"handleBitrateLimit\",\n      value: function handleBitrateLimit(a) {\n        a && a.uplink && a.id && void 0 !== a.uplink.max_bitrate && void 0 !== a.uplink.min_bitrate && (this.configs && this.configs.limit_bitrate ? this.configs && this.configs.limit_bitrate && this.configs.limit_bitrate.id !== a.id && this.emit(ke.UPDATE_BITRATE_LIMIT, a) : this.emit(ke.UPDATE_BITRATE_LIMIT, a));\n      }\n    }, {\n      key: \"getLowStreamConfigDistribute\",\n      value: function getLowStreamConfigDistribute() {\n        return this.configs && this.configs.limit_bitrate && function (a) {\n          for (var b = 1; b < arguments.length; b++) {\n            var c,\n                e = null != arguments[b] ? arguments[b] : {};\n            if (b % 2) t(c = Ij(Object(e), !0)).call(c, function (b) {\n              gb(a, b, e[b]);\n            });else if (ka) hb(a, ka(e));else {\n              var f;\n              t(f = Ij(Object(e))).call(f, function (b) {\n                Q(a, b, ca(e, b));\n              });\n            }\n          }\n\n          return a;\n        }({}, this.configs.limit_bitrate.low_stream_uplink);\n      }\n    }]);\n\n    return ds;\n  }(Wa);\n\n  var Wh = function () {\n    function a(a) {\n      this.input = [];\n      this.size = a;\n    }\n\n    return a.prototype.add = function (a) {\n      this.input.push(a);\n      this.input.length > this.size && this.input.splice(0, 1);\n    }, a.prototype.diffMean = function () {\n      return 0 === this.input.length ? 0 : (this.input[this.input.length - 1] - this.input[0]) / this.input.length;\n    }, a;\n  }(),\n      _Kj = function Kj(a, b) {\n    return (_Kj = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (a, b) {\n      a.__proto__ = b;\n    } || function (a, b) {\n      for (var c in b) {\n        b.hasOwnProperty(c) && (a[c] = b[c]);\n      }\n    })(a, b);\n  },\n      _Xh = function Xh() {\n    return (_Xh = Object.assign || function (a) {\n      for (var b, c = 1, e = arguments.length; c < e; c++) {\n        for (var f in b = arguments[c]) {\n          Object.prototype.hasOwnProperty.call(b, f) && (a[f] = b[f]);\n        }\n      }\n\n      return a;\n    }).apply(this, arguments);\n  },\n      Ec,\n      ue = {\n    timestamp: 0,\n    bitrate: {\n      actualEncoded: 0,\n      transmit: 0\n    },\n    sendPacketLossRate: 0,\n    recvPacketLossRate: 0,\n    videoRecv: [],\n    videoSend: [],\n    audioRecv: [],\n    audioSend: []\n  },\n      xn = {\n    firsCount: 0,\n    nacksCount: 0,\n    plisCount: 0,\n    framesDecodeCount: 0,\n    framesDecodeInterval: 0,\n    framesDecodeFreezeTime: 0,\n    decodeFrameRate: 0,\n    bytes: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    packets: 0,\n    ssrc: 0\n  },\n      yn = {\n    firsCount: 0,\n    nacksCount: 0,\n    plisCount: 0,\n    frameCount: 0,\n    bytes: 0,\n    packets: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    ssrc: 0,\n    rttMs: 0\n  },\n      zn = {\n    bytes: 0,\n    packets: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    ssrc: 0,\n    rttMs: 0\n  },\n      An = {\n    jitterBufferMs: 0,\n    jitterMs: 0,\n    bytes: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    packets: 0,\n    ssrc: 0,\n    receivedFrames: 0,\n    droppedFrames: 0\n  },\n      Yh = function () {\n    function a(a, c) {\n      var b = this;\n      this.videoIsReady = !1;\n      this.stats = Hb(ue);\n      this.isFirstAudioDecoded = this.isFirstAudioReceived = this.isFirstVideoDecoded = this.isFirstVideoReceived = !1;\n      this.lossRateWindowStats = [];\n      this.pc = a;\n      this.options = c;\n      this.intervalTimer = window.setInterval(function () {\n        return qg(b, void 0, void 0, function () {\n          return rg(this, function (a) {\n            return this.updateStats(), [2];\n          });\n        });\n      }, this.options.updateInterval);\n    }\n\n    return a.prototype.getStats = function () {\n      return this.stats;\n    }, a.prototype.setVideoIsReady = function (a) {\n      this.videoIsReady = a;\n    }, a.prototype.setIsFirstAudioDecoded = function (a) {\n      this.isFirstAudioDecoded = a;\n    }, a.prototype.destroy = function () {\n      window.clearInterval(this.intervalTimer);\n      this.pc = void 0;\n    }, a.prototype.calcLossRate = function (a) {\n      var b = this;\n      this.lossRateWindowStats.push(a);\n      this.lossRateWindowStats.length > this.options.lossRateInterval && this.lossRateWindowStats.splice(0, 1);\n\n      for (var e = this.lossRateWindowStats.length, f = 0, h = 0, l = 0, k = 0, p = function p(c) {\n        a[c].forEach(function (a, p) {\n          if (b.lossRateWindowStats[e - 1][c][p] && b.lossRateWindowStats[0][c][p]) {\n            var r = b.lossRateWindowStats[e - 1][c][p].packets - b.lossRateWindowStats[0][c][p].packets;\n            p = b.lossRateWindowStats[e - 1][c][p].packetsLost - b.lossRateWindowStats[0][c][p].packetsLost;\n            \"videoSend\" === c || \"audioSend\" === c ? (f += r, l += p) : (h += r, k += p);\n            Number.isNaN(r) || Number.isNaN(r) ? a.packetLostRate = 0 : a.packetLostRate = 0 >= r || 0 >= p ? 0 : p / (r + p);\n          }\n        });\n      }, m = 0, n = [\"videoSend\", \"audioSend\", \"videoRecv\", \"audioRecv\"]; m < n.length; m++) {\n        p(n[m]);\n      }\n\n      a.sendPacketLossRate = 0 >= f || 0 >= l ? 0 : l / (f + l);\n      a.recvPacketLossRate = 0 >= h || 0 >= k ? 0 : k / (h + k);\n    }, a;\n  }(),\n      es = function (a) {\n    function b() {\n      var b = null !== a && a.apply(this, arguments) || this;\n      return b._stats = ue, b.lastDecodeVideoReceiverStats = new Map(), b;\n    }\n\n    return pg(b, a), b.prototype.updateStats = function () {\n      return qg(this, void 0, void 0, function () {\n        var a, b, f, h;\n        return rg(this, function (c) {\n          switch (c.label) {\n            case 0:\n              return [4, this._getStats()];\n\n            case 1:\n              return a = c.sent(), b = this.statsResponsesToObjects(a), this._stats = Hb(ue), f = b.filter(function (a) {\n                return \"ssrc\" === a.type;\n              }), this.processSSRCStats(f), (h = b.find(function (a) {\n                return \"VideoBwe\" === a.type;\n              })) && this.processBandwidthStats(h), this._stats.timestamp = Date.now(), this.calcLossRate(this._stats), this.stats = this._stats, [2];\n          }\n        });\n      });\n    }, b.prototype.processBandwidthStats = function (a) {\n      this._stats.bitrate = {\n        actualEncoded: Number(a.googActualEncBitrate),\n        targetEncoded: Number(a.googTargetEncBitrate),\n        retransmit: Number(a.googRetransmitBitrate),\n        transmit: Number(a.googTransmitBitrate)\n      };\n      this._stats.sendBandwidth = Number(a.googAvailableSendBandwidth);\n    }, b.prototype.processSSRCStats = function (a) {\n      var b = this;\n      a.forEach(function (a) {\n        var c = a.id.includes(\"send\");\n\n        switch (a.mediaType + \"_\" + (c ? \"send\" : \"recv\")) {\n          case \"video_send\":\n            c = Hb(yn);\n            c.codec = a.googCodecName;\n            c.adaptionChangeReason = \"none\";\n            a.googCpuLimitedResolution && (c.adaptionChangeReason = \"cpu\");\n            a.googBandwidthLimitedResolution && (c.adaptionChangeReason = \"bandwidth\");\n            c.avgEncodeMs = Number(a.googAvgEncodeMs);\n            c.inputFrame = {\n              width: Number(a.googFrameWidthInput) || Number(a.googFrameWidthSent),\n              height: Number(a.googFrameHeightInput) || Number(a.googFrameHeightSent),\n              frameRate: Number(a.googFrameRateInput)\n            };\n            c.sentFrame = {\n              width: Number(a.googFrameWidthSent),\n              height: Number(a.googFrameHeightSent),\n              frameRate: Number(a.googFrameRateInput)\n            };\n            c.firsCount = Number(a.googFirReceived);\n            c.nacksCount = Number(a.googNacksReceived);\n            c.plisCount = Number(a.googPlisReceived);\n            c.frameCount = Number(a.framesEncoded);\n            c.bytes = Number(a.bytesSent);\n            c.packets = Number(a.packetsSent);\n            c.packetsLost = Number(a.packetsLost);\n            c.ssrc = Number(a.ssrc);\n            c.rttMs = Number(a.googRtt || 0);\n\n            b._stats.videoSend.push(c);\n\n            b._stats.rtt = c.rttMs;\n            break;\n\n          case \"video_recv\":\n            c = Hb(xn);\n            var e = b.lastDecodeVideoReceiverStats.get(Number(a.ssrc));\n\n            if (c.codec = a.googCodecName, c.targetDelayMs = Number(a.googTargetDelayMs), c.renderDelayMs = Number(a.googRenderDelayMs), c.currentDelayMs = Number(a.googCurrentDelayMs), c.minPlayoutDelayMs = Number(a.googMinPlayoutDelayMs), c.decodeMs = Number(a.googDecodeMs), c.maxDecodeMs = Number(a.googMaxDecodeMs), c.receivedFrame = {\n              width: Number(a.googFrameWidthReceived),\n              height: Number(a.googFrameHeightReceived),\n              frameRate: Number(a.googFrameRateReceived)\n            }, c.decodedFrame = {\n              width: Number(a.googFrameWidthReceived),\n              height: Number(a.googFrameHeightReceived),\n              frameRate: Number(a.googFrameRateDecoded)\n            }, c.outputFrame = {\n              width: Number(a.googFrameWidthReceived),\n              height: Number(a.googFrameHeightReceived),\n              frameRate: Number(a.googFrameRateOutput)\n            }, c.jitterBufferMs = Number(a.googJitterBufferMs), c.firsCount = Number(a.googFirsSent), c.nacksCount = Number(a.googNacksSent), c.plisCount = Number(a.googPlisSent), c.framesDecodeCount = Number(a.framesDecoded), c.bytes = Number(a.bytesReceived), c.packets = Number(a.packetsReceived), c.packetsLost = Number(a.packetsLost), c.ssrc = Number(a.ssrc), 0 < c.packets && !b.isFirstVideoReceived && (b.onFirstVideoReceived && b.onFirstVideoReceived(), b.isFirstVideoReceived = !0), 0 < c.framesDecodeCount && !b.isFirstVideoDecoded && (b.onFirstVideoDecoded && b.onFirstVideoDecoded(c.decodedFrame.width, c.decodedFrame.height), b.isFirstVideoDecoded = !0), e) {\n              a = e.stats;\n              var f = Date.now() - e.lts;\n              c.framesDecodeFreezeTime = a.framesDecodeFreezeTime;\n              c.framesDecodeInterval = a.framesDecodeInterval;\n              c.framesDecodeCount > a.framesDecodeCount && b.isFirstVideoDecoded ? (e.lts = Date.now(), c.framesDecodeInterval = f, c.framesDecodeInterval >= b.options.freezeRateLimit && (b.videoIsReady ? c.framesDecodeFreezeTime += c.framesDecodeInterval : b.setVideoIsReady(!0))) : c.framesDecodeCount < e.stats.framesDecodeCount && (c.framesDecodeInterval = 0);\n            }\n\n            b.lastDecodeVideoReceiverStats.set(c.ssrc, {\n              stats: _Xh({}, c),\n              lts: Date.now()\n            });\n\n            b._stats.videoRecv.push(c);\n\n            break;\n\n          case \"audio_recv\":\n            c = Hb(An);\n            c.codec = a.googCodecName;\n            c.outputLevel = Math.abs(Number(a.audioOutputLevel)) / 32767;\n            c.decodingCNG = Number(a.googDecodingCNG);\n            c.decodingCTN = Number(a.googDecodingCTN);\n            c.decodingCTSG = Number(a.googDecodingCTSG);\n            c.decodingNormal = Number(a.googDecodingNormal);\n            c.decodingPLC = Number(a.googDecodingPLC);\n            c.decodingPLCCNG = Number(a.googDecodingPLCCNG);\n            c.expandRate = Number(a.googExpandRate);\n            c.accelerateRate = Number(a.googAccelerateRate);\n            c.preemptiveExpandRate = Number(a.googPreemptiveExpandRate);\n            c.secondaryDecodedRate = Number(a.googSecondaryDecodedRate);\n            c.speechExpandRate = Number(a.googSpeechExpandRate);\n            c.preferredJitterBufferMs = Number(a.googPreferredJitterBufferMs);\n            c.jitterBufferMs = Number(a.googJitterBufferMs);\n            c.jitterMs = Number(a.googJitterReceived);\n            c.bytes = Number(a.bytesReceived);\n            c.packets = Number(a.packetsReceived);\n            c.packetsLost = Number(a.packetsLost);\n            c.ssrc = Number(a.ssrc);\n            c.receivedFrames = Number(a.googDecodingCTN) || Number(a.packetsReceived);\n            c.droppedFrames = Number(a.googDecodingPLC) + Number(a.googDecodingPLCCNG) || Number(a.packetsLost);\n            0 < c.receivedFrames && !b.isFirstAudioReceived && (b.onFirstAudioReceived && b.onFirstAudioReceived(), b.isFirstAudioReceived = !0);\n            0 < c.decodingNormal && !b.isFirstAudioDecoded && (b.onFirstAudioDecoded && b.onFirstAudioDecoded(), b.isFirstAudioDecoded = !0);\n\n            b._stats.audioRecv.push(c);\n\n            break;\n\n          case \"audio_send\":\n            c = Hb(zn), c.codec = a.googCodecName, c.inputLevel = Math.abs(Number(a.audioInputLevel)) / 32767, c.aecReturnLoss = Number(a.googEchoCancellationReturnLoss || 0), c.aecReturnLossEnhancement = Number(a.googEchoCancellationReturnLossEnhancement || 0), c.residualEchoLikelihood = Number(a.googResidualEchoLikelihood || 0), c.residualEchoLikelihoodRecentMax = Number(a.googResidualEchoLikelihoodRecentMax || 0), c.bytes = Number(a.bytesSent), c.packets = Number(a.packetsSent), c.packetsLost = Number(a.packetsLost), c.ssrc = Number(a.ssrc), c.rttMs = Number(a.googRtt || 0), b._stats.rtt = c.rttMs, b._stats.audioSend.push(c);\n        }\n      });\n    }, b.prototype._getStats = function () {\n      var a = this;\n      return new Promise(function (b, c) {\n        a.pc.getStats(b, c);\n      });\n    }, b.prototype.statsResponsesToObjects = function (a) {\n      var b = [];\n      return a.result().forEach(function (a) {\n        var c = {\n          id: a.id,\n          timestamp: a.timestamp.valueOf().toString(),\n          type: a.type\n        };\n        a.names().forEach(function (b) {\n          c[b] = a.stat(b);\n        });\n        b.push(c);\n      }), b;\n    }, b;\n  }(Yh);\n\n  !function (a) {\n    a.CERTIFICATE = \"certificate\";\n    a.CODEC = \"codec\";\n    a.CANDIDATE_PAIR = \"candidate-pair\";\n    a.LOCAL_CANDIDATE = \"local-candidate\";\n    a.REMOTE_CANDIDATE = \"remote-candidate\";\n    a.INBOUND = \"inbound-rtp\";\n    a.TRACK = \"track\";\n    a.OUTBOUND = \"outbound-rtp\";\n    a.PC = \"peer-connection\";\n    a.REMOTE_INBOUND = \"remote-inbound-rtp\";\n    a.REMOTE_OUTBOUND = \"remote-outbound-rtp\";\n    a.TRANSPORT = \"transport\";\n    a.CSRC = \"csrc\";\n    a.DATA_CHANNEL = \"data-channel\";\n    a.STREAM = \"stream\";\n    a.SENDER = \"sender\";\n    a.RECEIVER = \"receiver\";\n  }(Ec || (Ec = {}));\n\n  var Bn = function (a) {\n    function b() {\n      var b = null !== a && a.apply(this, arguments) || this;\n      return b._stats = ue, b.lastDecodeVideoReceiverStats = new Map(), b.lastVideoFramesRecv = new Map(), b.lastVideoFramesSent = new Map(), b.lastVideoFramesDecode = new Map(), b.lastVideoJBDelay = new Map(), b.lastAudioJBDelay = new Map(), b.mediaBytesSent = new Map(), b.mediaBytesRetransmit = new Map(), b.mediaBytesTargetEncode = new Map(), b.lastEncoderMs = new Map(), b;\n    }\n\n    return pg(b, a), b.prototype.updateStats = function () {\n      return qg(this, void 0, void 0, function () {\n        var a,\n            b = this;\n        return rg(this, function (c) {\n          switch (c.label) {\n            case 0:\n              return a = this, [4, this.pc.getStats()];\n\n            case 1:\n              return a.report = c.sent(), this._stats = Hb(ue), this.report.forEach(function (a) {\n                switch (a.type) {\n                  case Ec.OUTBOUND:\n                    \"audio\" === a.mediaType ? b.processAudioOutboundStats(a) : \"video\" === a.mediaType && b.processVideoOutboundStats(a);\n                    break;\n\n                  case Ec.INBOUND:\n                    \"audio\" === a.mediaType ? b.processAudioInboundStats(a) : \"video\" === a.mediaType && b.processVideoInboundStats(a);\n                    break;\n\n                  case Ec.TRANSPORT:\n                    (a = b.report.get(a.selectedCandidatePairId)) && b.processCandidatePairStats(a);\n                    break;\n\n                  case Ec.CANDIDATE_PAIR:\n                    a.selected && b.processCandidatePairStats(a);\n                }\n              }), this.updateSendBitrate(), this._stats.timestamp = Date.now(), this.calcLossRate(this._stats), this.stats = this._stats, [2];\n          }\n        });\n      });\n    }, b.prototype.processCandidatePairStats = function (a) {\n      this._stats.sendBandwidth = a.availableOutgoingBitrate || 0;\n      a.currentRoundTripTime && (this._stats.rtt = 1E3 * a.currentRoundTripTime);\n\n      this._stats.videoSend.forEach(function (b) {\n        !b.rttMs && a.currentRoundTripTime && (b.rttMs = 1E3 * a.currentRoundTripTime);\n      });\n\n      this._stats.audioSend.forEach(function (b) {\n        !b.rttMs && a.currentRoundTripTime && (b.rttMs = 1E3 * a.currentRoundTripTime);\n      });\n    }, b.prototype.processAudioInboundStats = function (a) {\n      var b = this._stats.audioRecv.find(function (b) {\n        return b.ssrc === a.ssrc;\n      });\n\n      b || (b = Hb(An), this._stats.audioRecv.push(b));\n      b.ssrc = a.ssrc;\n      b.packets = a.packetsReceived;\n      b.packetsLost = a.packetsLost;\n      b.bytes = a.bytesReceived;\n      b.jitterMs = 1E3 * a.jitter;\n      a.trackId && this.processAudioTrackReceiverStats(a.trackId, b);\n      a.codecId && (b.codec = this.getCodecFromCodecStats(a.codecId));\n      b.receivedFrames || (b.receivedFrames = a.packetsReceived);\n      b.droppedFrames || (b.droppedFrames = a.packetsLost);\n      0 < b.receivedFrames && !this.isFirstAudioReceived && (this.onFirstAudioReceived && this.onFirstAudioReceived(), this.isFirstAudioReceived = !0);\n      b.outputLevel && 0 < b.outputLevel && !this.isFirstAudioDecoded && (this.onFirstAudioDecoded && this.onFirstAudioDecoded(), this.isFirstAudioDecoded = !0);\n    }, b.prototype.processVideoInboundStats = function (a) {\n      var b = this._stats.videoRecv.find(function (b) {\n        return b.ssrc === a.ssrc;\n      });\n\n      b || (b = Hb(xn), this._stats.videoRecv.push(b));\n      b.ssrc = a.ssrc;\n      b.packets = a.packetsReceived;\n      b.packetsLost = a.packetsLost;\n      b.bytes = a.bytesReceived;\n      b.firsCount = a.firCount;\n      b.nacksCount = a.nackCount;\n      b.plisCount = a.pliCount;\n      b.framesDecodeCount = a.framesDecoded;\n      var c = this.lastDecodeVideoReceiverStats.get(b.ssrc),\n          h = this.lastVideoFramesDecode.get(b.ssrc),\n          l = Date.now();\n\n      if (0 < b.framesDecodeCount && !this.isFirstVideoDecoded) {\n        var k = b.decodedFrame ? b.decodedFrame.width : 0,\n            p = b.decodedFrame ? b.decodedFrame.height : 0;\n        this.onFirstVideoDecoded && this.onFirstVideoDecoded(k, p);\n        this.isFirstVideoDecoded = !0;\n      }\n\n      c && (k = c.stats, p = l - c.lts, b.framesDecodeFreezeTime = k.framesDecodeFreezeTime, b.framesDecodeInterval = k.framesDecodeInterval, b.framesDecodeCount > k.framesDecodeCount && this.isFirstVideoDecoded ? (c.lts = Date.now(), b.framesDecodeInterval = p, b.framesDecodeInterval >= this.options.freezeRateLimit && (this.videoIsReady ? b.framesDecodeFreezeTime += b.framesDecodeInterval : this.setVideoIsReady(!0))) : b.framesDecodeCount < k.framesDecodeCount && (b.framesDecodeInterval = 0));\n      h && 800 <= l - h.lts ? (b.decodeFrameRate = Math.round((b.framesDecodeCount - h.count) / ((l - h.lts) / 1E3)), this.lastVideoFramesDecode.set(b.ssrc, {\n        count: b.framesDecodeCount,\n        lts: l,\n        rate: b.decodeFrameRate\n      })) : h ? b.decodeFrameRate = h.rate : this.lastVideoFramesDecode.set(b.ssrc, {\n        count: b.framesDecodeCount,\n        lts: l,\n        rate: 0\n      });\n      a.totalDecodeTime && (b.decodeMs = 1E3 * a.totalDecodeTime);\n      a.trackId && this.processVideoTrackReceiverStats(a.trackId, b);\n      a.codecId && (b.codec = this.getCodecFromCodecStats(a.codecId));\n      a.framerateMean && (b.framesRateFirefox = a.framerateMean);\n      0 < b.packets && !this.isFirstVideoReceived && (this.onFirstVideoReceived && this.onFirstVideoReceived(), this.isFirstVideoReceived = !0);\n      this.lastDecodeVideoReceiverStats.set(b.ssrc, {\n        stats: _Xh({}, b),\n        lts: c ? c.lts : Date.now()\n      });\n    }, b.prototype.processVideoOutboundStats = function (a) {\n      var b = this._stats.videoSend.find(function (b) {\n        return b.ssrc === a.ssrc;\n      });\n\n      b || (b = Hb(yn), this._stats.videoSend.push(b));\n      var c = this.mediaBytesSent.get(a.ssrc);\n      c ? c.add(a.bytesSent) : ((h = new Wh(10)).add(a.bytesSent), this.mediaBytesSent.set(a.ssrc, h));\n      void 0 !== a.retransmittedBytesSent && ((c = this.mediaBytesRetransmit.get(a.ssrc)) ? c.add(a.retransmittedBytesSent) : ((h = new Wh(10)).add(a.retransmittedBytesSent), this.mediaBytesRetransmit.set(a.ssrc, h)));\n\n      if (a.totalEncodedBytesTarget) {\n        var h;\n        (c = this.mediaBytesTargetEncode.get(a.ssrc)) ? c.add(a.totalEncodedBytesTarget) : ((h = new Wh(10)).add(a.totalEncodedBytesTarget), this.mediaBytesTargetEncode.set(a.ssrc, h));\n      }\n\n      if (b.ssrc = a.ssrc, b.bytes = a.bytesSent, b.packets = a.packetsSent, b.firsCount = a.firCount, b.nacksCount = a.nackCount, b.plisCount = a.pliCount, b.frameCount = a.framesEncoded, b.adaptionChangeReason = a.qualityLimitationReason, a.totalEncodeTime && a.framesEncoded) c = this.lastEncoderMs.get(a.ssrc), b.avgEncodeMs = !c || c.lastFrameCount > a.framesEncoded ? 1E3 * a.totalEncodeTime / a.framesEncoded : 1E3 * (a.totalEncodeTime - c.lastEncoderTime) / (a.framesEncoded - c.lastFrameCount), this.lastEncoderMs.set(a.ssrc, {\n        lastFrameCount: a.framesEncoded,\n        lastEncoderTime: a.totalEncodeTime,\n        lts: Date.now()\n      });\n      (a.codecId && (b.codec = this.getCodecFromCodecStats(a.codecId)), a.mediaSourceId && this.processVideoMediaSource(a.mediaSourceId, b), a.trackId && this.processVideoTrackSenderStats(a.trackId, b), a.remoteId) ? this.processRemoteInboundStats(a.remoteId, b) : (c = this.findRemoteStatsId(a.ssrc, Ec.REMOTE_INBOUND)) && this.processRemoteInboundStats(c, b);\n    }, b.prototype.processAudioOutboundStats = function (a) {\n      var b = this._stats.audioSend.find(function (b) {\n        return b.ssrc === a.ssrc;\n      });\n\n      if (b || (b = Hb(zn), this._stats.audioSend.push(b)), b.ssrc = a.ssrc, b.packets = a.packetsSent, b.bytes = a.bytesSent, a.mediaSourceId && this.processAudioMediaSource(a.mediaSourceId, b), a.codecId && (b.codec = this.getCodecFromCodecStats(a.codecId)), a.trackId && this.processAudioTrackSenderStats(a.trackId, b), a.remoteId) this.processRemoteInboundStats(a.remoteId, b);else {\n        var c = this.findRemoteStatsId(a.ssrc, Ec.REMOTE_INBOUND);\n        c && this.processRemoteInboundStats(c, b);\n      }\n    }, b.prototype.findRemoteStatsId = function (a, b) {\n      var c = Array.from(this.report.values()).find(function (c) {\n        return c.type === b && c.ssrc === a;\n      });\n      return c ? c.id : null;\n    }, b.prototype.processVideoMediaSource = function (a, b) {\n      (a = this.report.get(a)) && a.width && a.height && a.framesPerSecond && (b.inputFrame = {\n        width: a.width,\n        height: a.height,\n        frameRate: a.framesPerSecond\n      });\n    }, b.prototype.processAudioMediaSource = function (a, b) {\n      (a = this.report.get(a)) && (b.inputLevel = a.audioLevel);\n    }, b.prototype.processVideoTrackSenderStats = function (a, b) {\n      if (a = this.report.get(a)) {\n        var c = 0,\n            e = Date.now(),\n            k = this.lastVideoFramesSent.get(b.ssrc);\n        k && 800 <= e - k.lts ? (c = Math.round((a.framesSent - k.count) / ((e - k.lts) / 1E3)), this.lastVideoFramesSent.set(b.ssrc, {\n          count: a.framesSent,\n          lts: e,\n          rate: c\n        })) : k ? c = k.rate : this.lastVideoFramesSent.set(b.ssrc, {\n          count: a.framesSent,\n          lts: e,\n          rate: 0\n        });\n        b.sentFrame = {\n          width: a.frameWidth,\n          height: a.frameHeight,\n          frameRate: c\n        };\n      }\n    }, b.prototype.processVideoTrackReceiverStats = function (a, b) {\n      if (a = this.report.get(a)) {\n        var c = this.lastVideoFramesRecv.get(b.ssrc),\n            e = Date.now();\n        b.framesReceivedCount = a.framesReceived;\n        var k = 0;\n        if (c && 800 <= e - c.lts ? (k = Math.round((a.framesReceived - c.count) / ((e - c.lts) / 1E3)), this.lastVideoFramesRecv.set(b.ssrc, {\n          count: a.framesReceived,\n          lts: e,\n          rate: k\n        })) : c ? k = c.rate : this.lastVideoFramesRecv.set(b.ssrc, {\n          count: a.framesReceived,\n          lts: e,\n          rate: 0\n        }), b.receivedFrame = {\n          width: a.frameWidth || 0,\n          height: a.frameHeight || 0,\n          frameRate: k || 0\n        }, b.decodedFrame = {\n          width: a.frameWidth || 0,\n          height: a.frameHeight || 0,\n          frameRate: b.decodeFrameRate || 0\n        }, b.outputFrame = {\n          width: a.frameWidth || 0,\n          height: a.frameHeight || 0,\n          frameRate: b.decodeFrameRate || 0\n        }, a.jitterBufferDelay && a.jitterBufferEmittedCount) c = this.lastVideoJBDelay.get(b.ssrc), this.lastVideoJBDelay.set(b.ssrc, {\n          jitterBufferDelay: a.jitterBufferDelay,\n          jitterBufferEmittedCount: a.jitterBufferEmittedCount\n        }), c || (c = {\n          jitterBufferDelay: 0,\n          jitterBufferEmittedCount: 0\n        }), a = 1E3 * (a.jitterBufferDelay - c.jitterBufferDelay) / (a.jitterBufferEmittedCount - c.jitterBufferEmittedCount), b.jitterBufferMs = a, b.currentDelayMs = Math.round(a);\n      }\n    }, b.prototype.processAudioTrackSenderStats = function (a, b) {\n      (a = this.report.get(a)) && (b.aecReturnLoss = a.echoReturnLoss || 0, b.aecReturnLossEnhancement = a.echoReturnLossEnhancement || 0);\n    }, b.prototype.processAudioTrackReceiverStats = function (a, b) {\n      if (a = this.report.get(a)) {\n        if (a.removedSamplesForAcceleration && a.totalSamplesReceived && (b.accelerateRate = a.removedSamplesForAcceleration / a.totalSamplesReceived), a.jitterBufferDelay && a.jitterBufferEmittedCount) {\n          var c = this.lastAudioJBDelay.get(b.ssrc);\n          this.lastAudioJBDelay.set(b.ssrc, {\n            jitterBufferDelay: a.jitterBufferDelay,\n            jitterBufferEmittedCount: a.jitterBufferEmittedCount\n          });\n          c || (c = {\n            jitterBufferDelay: 0,\n            jitterBufferEmittedCount: 0\n          });\n          b.jitterBufferMs = Math.round(1E3 * (a.jitterBufferDelay - c.jitterBufferDelay) / (a.jitterBufferEmittedCount - c.jitterBufferEmittedCount));\n        }\n\n        b.outputLevel = a.audioLevel;\n        c = 1920;\n        a.totalSamplesDuration && a.totalSamplesReceived && (c = a.totalSamplesReceived / a.totalSamplesDuration / 50, b.receivedFrames = Math.round(a.totalSamplesReceived / c));\n        a.concealedSamples && (b.droppedFrames = Math.round(a.concealedSamples / c));\n      }\n    }, b.prototype.processRemoteInboundStats = function (a, b) {\n      (a = this.report.get(a)) && (b.packetsLost = a.packetsLost, a.roundTripTime && (b.rttMs = 1E3 * a.roundTripTime));\n    }, b.prototype.getCodecFromCodecStats = function (a) {\n      a = this.report.get(a);\n      return a ? (a = a.mimeType.match(/\\/(.*)$/)) && a[1] ? a[1] : \"\" : \"\";\n    }, b.prototype.updateSendBitrate = function () {\n      var a = 0,\n          b = null,\n          f = null;\n      this.mediaBytesSent.forEach(function (b) {\n        a += b.diffMean();\n      });\n      this.mediaBytesRetransmit.forEach(function (a) {\n        b = null === b ? a.diffMean() : b + a.diffMean();\n      });\n      this.mediaBytesTargetEncode.forEach(function (a) {\n        f = null === f ? a.diffMean() : f + a.diffMean();\n      });\n      this._stats.bitrate = {\n        actualEncoded: 8 * (null !== b ? a - b : a) / (this.options.updateInterval / 1E3),\n        transmit: 8 * a / (this.options.updateInterval / 1E3)\n      };\n      null !== b && (this._stats.bitrate.retransmit = 8 * b / (this.options.updateInterval / 1E3));\n      null !== f && (this._stats.bitrate.targetEncoded = 8 * f / (this.options.updateInterval / 1E3));\n    }, b;\n  }(Yh),\n      fs = function (a) {\n    function b() {\n      return null !== a && a.apply(this, arguments) || this;\n    }\n\n    return pg(b, a), b.prototype.updateStats = function () {\n      return Promise.resolve();\n    }, b;\n  }(Yh);\n\n  var Cn =\n  /*#__PURE__*/\n  function () {\n    function Cn(a) {\n      _classCallCheck(this, Cn);\n\n      this.localCandidateCount = 0;\n      this.allCandidateReceived = !1;\n      this.videoTrack = this.audioTrack = null;\n      this.mediaStream = new MediaStream();\n      this.ID = Dn;\n      Dn += 1;\n      this.spec = a;\n      this.createPeerConnection();\n      a = this.pc;\n      var b = void 0,\n          c = void 0,\n          e = db() ? 1200 : void 0;\n      void 0 === b && (b = 250);\n      void 0 === c && (c = 8);\n      void 0 === e && (e = 500);\n      var f,\n          h = (f = navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)) && f[0] ? Number(f[0].split(\"/\")[1]) : null;\n      this.statsFilter = h ? 76 > h ? new es(a, {\n        updateInterval: b,\n        lossRateInterval: c,\n        freezeRateLimit: e\n      }) : new Bn(a, {\n        updateInterval: b,\n        lossRateInterval: c,\n        freezeRateLimit: e\n      }) : window.RTCStatsReport && a.getStats() instanceof Promise ? new Bn(a, {\n        updateInterval: b,\n        lossRateInterval: c,\n        freezeRateLimit: e\n      }) : new fs(a, {\n        updateInterval: b,\n        lossRateInterval: c,\n        freezeRateLimit: e\n      });\n    }\n\n    _createClass(Cn, [{\n      key: \"getStats\",\n      value: function getStats() {\n        return this.statsFilter.getStats();\n      }\n    }, {\n      key: \"createOfferSDP\",\n      value: function () {\n        var _createOfferSDP = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee59() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee59$(_context59) {\n            while (1) {\n              switch (_context59.prev = _context59.next) {\n                case 0:\n                  _context59.prev = 0;\n                  _context59.next = 3;\n                  return this.pc.createOffer(this.offerOptions);\n\n                case 3:\n                  a = _context59.sent;\n\n                  if (a.sdp) {\n                    _context59.next = 6;\n                    break;\n                  }\n\n                  throw Error(\"offer sdp is empty\");\n\n                case 6:\n                  return _context59.abrupt(\"return\", a.sdp);\n\n                case 9:\n                  _context59.prev = 9;\n                  _context59.t0 = _context59[\"catch\"](0);\n                  throw k.error(\"create offer error:\", _context59.t0.toString()), new q(n.CREATE_OFFER_FAILED, _context59.t0.toString());\n\n                case 12:\n                case \"end\":\n                  return _context59.stop();\n              }\n            }\n          }, _callee59, this, [[0, 9]]);\n        }));\n\n        function createOfferSDP() {\n          return _createOfferSDP.apply(this, arguments);\n        }\n\n        return createOfferSDP;\n      }()\n    }, {\n      key: \"setOfferSDP\",\n      value: function () {\n        var _setOfferSDP = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee60(a) {\n          return _regeneratorRuntime.wrap(function _callee60$(_context60) {\n            while (1) {\n              switch (_context60.prev = _context60.next) {\n                case 0:\n                  _context60.prev = 0;\n                  _context60.next = 3;\n                  return this.pc.setLocalDescription({\n                    type: \"offer\",\n                    sdp: a\n                  });\n\n                case 3:\n                  _context60.next = 8;\n                  break;\n\n                case 5:\n                  _context60.prev = 5;\n                  _context60.t0 = _context60[\"catch\"](0);\n                  throw k.error(\"set local offer error\", _context60.t0.toString()), new q(n.CREATE_OFFER_FAILED, _context60.t0.toString());\n\n                case 8:\n                case \"end\":\n                  return _context60.stop();\n              }\n            }\n          }, _callee60, this, [[0, 5]]);\n        }));\n\n        function setOfferSDP(_x99) {\n          return _setOfferSDP.apply(this, arguments);\n        }\n\n        return setOfferSDP;\n      }()\n    }, {\n      key: \"setAnswerSDP\",\n      value: function () {\n        var _setAnswerSDP = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee61(a) {\n          return _regeneratorRuntime.wrap(function _callee61$(_context61) {\n            while (1) {\n              switch (_context61.prev = _context61.next) {\n                case 0:\n                  _context61.prev = 0;\n                  _context61.next = 3;\n                  return this.pc.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: a\n                  });\n\n                case 3:\n                  _context61.next = 10;\n                  break;\n\n                case 5:\n                  _context61.prev = 5;\n                  _context61.t0 = _context61[\"catch\"](0);\n\n                  if (!(\"InvalidStateError\" !== _context61.t0.name || \"stable\" !== this.pc.signalingState)) {\n                    _context61.next = 9;\n                    break;\n                  }\n\n                  throw k.error(\"set remote answer error\", _context61.t0.toString()), new q(n.SET_ANSWER_FAILED, _context61.t0.toString());\n\n                case 9:\n                  k.debug(\"[pc-\".concat(this.ID, \"] ignore invalidstate error\"));\n\n                case 10:\n                case \"end\":\n                  return _context61.stop();\n              }\n            }\n          }, _callee61, this, [[0, 5]]);\n        }));\n\n        function setAnswerSDP(_x100) {\n          return _setAnswerSDP.apply(this, arguments);\n        }\n\n        return setAnswerSDP;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        this.onConnectionStateChange = this.onICEConnectionStateChange = void 0;\n\n        try {\n          this.pc.oniceconnectionstatechange = null, this.pc.onconnectionstatechange = null, this.pc.onsignalingstatechange = null, this.pc.onicecandidateerror = null, this.pc.onicecandidate = null, this.pc.close(), this.pc = null, this.videoTransceiver = this.audioTransceiver = void 0;\n        } catch (a) {}\n\n        this.statsFilter.destroy();\n      }\n    }, {\n      key: \"createPeerConnection\",\n      value: function createPeerConnection() {\n        var _a$iceServers,\n            _a$iceServers2,\n            _this77 = this;\n\n        var a = {\n          iceServers: []\n        },\n            b = function b(a) {\n          var b = [];\n          return t(a).call(a, function (a) {\n            if (a.security) {\n              var c;\n              a.tcpport && b.push({\n                username: a.username,\n                credential: a.password,\n                credentialType: \"password\",\n                urls: m(c = \"turns:\".concat((h = a.turnServerURL, h.match(/^[\\.:\\d]+$/) ? \"\".concat(h.replace(/[^\\d]/g, \"-\"), \".edge.agora.io\") : (k.info(\"Cannot recognized as IP address \".concat(h, \". Used As Host instead\")), h)), \":\")).call(c, a.tcpport, \"?transport=tcp\")\n              });\n            } else {\n              var e, f;\n              a.udpport && b.push({\n                username: a.username,\n                credential: a.password,\n                credentialType: \"password\",\n                urls: m(e = \"turn:\".concat(a.turnServerURL, \":\")).call(e, a.udpport, \"?transport=udp\")\n              });\n              a.tcpport && b.push({\n                username: a.username,\n                credential: a.password,\n                credentialType: \"password\",\n                urls: m(f = \"turn:\".concat(a.turnServerURL, \":\")).call(f, a.tcpport, \"?transport=tcp\")\n              });\n            }\n\n            var h;\n          }), b;\n        };\n\n        var c, e;\n        this.spec.iceServers ? a.iceServers = this.spec.iceServers : this.spec.turnServer && \"off\" !== this.spec.turnServer.mode && (Xi(this.spec.turnServer.servers) ? a.iceServers = this.spec.turnServer.servers : (a.iceServers && (_a$iceServers = a.iceServers).push.apply(_a$iceServers, _toConsumableArray(b(this.spec.turnServer.servers))), a.iceServers && this.spec.turnServer.serversFromGateway && (_a$iceServers2 = a.iceServers).push.apply(_a$iceServers2, _toConsumableArray(b(this.spec.turnServer.serversFromGateway))), t(c = m(e = this.spec.turnServer.servers).call(e, this.spec.turnServer.serversFromGateway || [])).call(c, function (b) {\n          b.forceturn && (a.iceTransportPolicy = \"relay\");\n        })));\n        v.CHROME_FORCE_PLAN_B && Tf() && (a.sdpSemantics = \"plan-b\", la.supportUnifiedPlan = !1);\n        this.pc = new RTCPeerConnection(a, {\n          optional: [{\n            googDscp: !0\n          }]\n        });\n\n        this.pc.oniceconnectionstatechange = function () {\n          _this77.onICEConnectionStateChange && _this77.onICEConnectionStateChange(_this77.pc.iceConnectionState);\n        };\n\n        this.pc.onconnectionstatechange = function () {\n          _this77.onConnectionStateChange && _this77.onConnectionStateChange(_this77.pc.connectionState);\n        };\n\n        this.pc.onsignalingstatechange = function () {\n          _this77.pc && \"closed\" === _this77.pc.connectionState && _this77.onConnectionStateChange && _this77.onConnectionStateChange(_this77.pc.connectionState);\n        };\n\n        this.pc.onicecandidate = function (a) {\n          if (!a.candidate) return _this77.pc.onicecandidate = null, _this77.allCandidateReceived = !0, void k.debug(\"[pc-\".concat(_this77.ID, \"] local candidate count\"), _this77.localCandidateCount);\n          _this77.localCandidateCount += 1;\n        };\n\n        wb(function () {\n          _this77.allCandidateReceived || (_this77.allCandidateReceived = !0, k.debug(\"[pc-\".concat(_this77.ID, \"] onicecandidate timeout, local candidate count\"), _this77.localCandidateCount));\n        }, v.CANDIDATE_TIMEOUT);\n      }\n    }, {\n      key: \"_statsFilter\",\n      get: function get() {\n        return this.statsFilter;\n      }\n    }]);\n\n    return Cn;\n  }();\n\n  var En =\n  /*#__PURE__*/\n  function (_Cn) {\n    _inherits(En, _Cn);\n\n    function En(a) {\n      _classCallCheck(this, En);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(En).call(this, a));\n    }\n\n    _createClass(En, [{\n      key: \"setOfferSDP\",\n      value: function () {\n        var _setOfferSDP2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee62(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee62$(_context62) {\n            while (1) {\n              switch (_context62.prev = _context62.next) {\n                case 0:\n                  b = v.CUSTOM_PUB_OFFER_MODIFIER;\n                  b && (a = b(a));\n                  _context62.next = 4;\n                  return _get(_getPrototypeOf(En.prototype), \"setOfferSDP\", this).call(this, a);\n\n                case 4:\n                  return _context62.abrupt(\"return\", _context62.sent);\n\n                case 5:\n                case \"end\":\n                  return _context62.stop();\n              }\n            }\n          }, _callee62, this);\n        }));\n\n        function setOfferSDP(_x101) {\n          return _setOfferSDP2.apply(this, arguments);\n        }\n\n        return setOfferSDP;\n      }()\n    }, {\n      key: \"setAnswerSDP\",\n      value: function () {\n        var _setAnswerSDP2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee63(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee63$(_context63) {\n            while (1) {\n              switch (_context63.prev = _context63.next) {\n                case 0:\n                  b = v.CUSTOM_PUB_ANSWER_MODIFIER;\n                  b && (a = b(a));\n                  _context63.next = 4;\n                  return _get(_getPrototypeOf(En.prototype), \"setAnswerSDP\", this).call(this, a);\n\n                case 4:\n                  return _context63.abrupt(\"return\", _context63.sent);\n\n                case 5:\n                case \"end\":\n                  return _context63.stop();\n              }\n            }\n          }, _callee63, this);\n        }));\n\n        function setAnswerSDP(_x102) {\n          return _setAnswerSDP2.apply(this, arguments);\n        }\n\n        return setAnswerSDP;\n      }()\n    }, {\n      key: \"getAnswerSDP\",\n      value: function getAnswerSDP() {\n        return this.pc.remoteDescription;\n      }\n    }, {\n      key: \"getOfferSDP\",\n      value: function getOfferSDP() {\n        return this.pc.localDescription;\n      }\n    }, {\n      key: \"addStream\",\n      value: function () {\n        var _addStream = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee64(a) {\n          var _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, _b24;\n\n          return _regeneratorRuntime.wrap(function _callee64$(_context64) {\n            while (1) {\n              switch (_context64.prev = _context64.next) {\n                case 0:\n                  a = a.getTracks();\n                  _iteratorNormalCompletion4 = true;\n                  _didIteratorError4 = false;\n                  _iteratorError4 = undefined;\n                  _context64.prev = 4;\n                  _iterator4 = a[Symbol.iterator]();\n\n                case 6:\n                  if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {\n                    _context64.next = 13;\n                    break;\n                  }\n\n                  _b24 = _step4.value;\n                  _context64.next = 10;\n                  return this.addTrack(_b24);\n\n                case 10:\n                  _iteratorNormalCompletion4 = true;\n                  _context64.next = 6;\n                  break;\n\n                case 13:\n                  _context64.next = 19;\n                  break;\n\n                case 15:\n                  _context64.prev = 15;\n                  _context64.t0 = _context64[\"catch\"](4);\n                  _didIteratorError4 = true;\n                  _iteratorError4 = _context64.t0;\n\n                case 19:\n                  _context64.prev = 19;\n                  _context64.prev = 20;\n\n                  if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n                    _iterator4.return();\n                  }\n\n                case 22:\n                  _context64.prev = 22;\n\n                  if (!_didIteratorError4) {\n                    _context64.next = 25;\n                    break;\n                  }\n\n                  throw _iteratorError4;\n\n                case 25:\n                  return _context64.finish(22);\n\n                case 26:\n                  return _context64.finish(19);\n\n                case 27:\n                case \"end\":\n                  return _context64.stop();\n              }\n            }\n          }, _callee64, this, [[4, 15, 19, 27], [20,, 22, 26]]);\n        }));\n\n        function addStream(_x103) {\n          return _addStream.apply(this, arguments);\n        }\n\n        return addStream;\n      }()\n    }, {\n      key: \"replaceTrack\",\n      value: function () {\n        var _replaceTrack = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee65(a) {\n          var b, c, e;\n          return _regeneratorRuntime.wrap(function _callee65$(_context65) {\n            while (1) {\n              switch (_context65.prev = _context65.next) {\n                case 0:\n                  if (la.supportReplaceTrack) {\n                    _context65.next = 9;\n                    break;\n                  }\n\n                  b = \"audio\" === a.kind ? this.audioTrack : this.videoTrack;\n\n                  if (b) {\n                    _context65.next = 4;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"can not find replaced track\");\n\n                case 4:\n                  _context65.next = 6;\n                  return this.removeTrack(b);\n\n                case 6:\n                  _context65.next = 8;\n                  return this.addTrack(a);\n\n                case 8:\n                  return _context65.abrupt(\"return\", !0);\n\n                case 9:\n                  c = this.getSender(a.kind), e = U(b = this.mediaStream.getTracks()).call(b, function (b) {\n                    return b.kind === a.kind;\n                  });\n                  e && this.mediaStream.removeTrack(e);\n                  this.mediaStream.addTrack(a);\n                  _context65.prev = 12;\n                  _context65.next = 15;\n                  return c.replaceTrack(a);\n\n                case 15:\n                  \"audio\" === a.kind ? this.audioTrack = a : this.videoTrack = a;\n                  _context65.next = 21;\n                  break;\n\n                case 18:\n                  _context65.prev = 18;\n                  _context65.t0 = _context65[\"catch\"](12);\n                  throw new q(n.SENDER_REPLACE_FAILED, _context65.t0.toString());\n\n                case 21:\n                  return _context65.abrupt(\"return\", !1);\n\n                case 22:\n                case \"end\":\n                  return _context65.stop();\n              }\n            }\n          }, _callee65, this, [[12, 18]]);\n        }));\n\n        function replaceTrack(_x104) {\n          return _replaceTrack.apply(this, arguments);\n        }\n\n        return replaceTrack;\n      }()\n    }, {\n      key: \"removeTrack\",\n      value: function () {\n        var _removeTrack = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee66(a) {\n          var b, _a26;\n\n          return _regeneratorRuntime.wrap(function _callee66$(_context66) {\n            while (1) {\n              switch (_context66.prev = _context66.next) {\n                case 0:\n                  b = this.getSender(a.kind);\n                  this.mediaStream.removeTrack(a);\n                  _context66.prev = 2;\n                  _a26 = V();\n                  _context66.t0 = \"Safari\" === _a26.name && \"11\" === _a26.version;\n\n                  if (!_context66.t0) {\n                    _context66.next = 8;\n                    break;\n                  }\n\n                  _context66.next = 8;\n                  return b.replaceTrack(null);\n\n                case 8:\n                  this.pc.removeTrack(b);\n                  _context66.next = 14;\n                  break;\n\n                case 11:\n                  _context66.prev = 11;\n                  _context66.t1 = _context66[\"catch\"](2);\n                  k.warning(\"[pc-\".concat(this.ID, \"] remove track error, ignore\"), _context66.t1);\n\n                case 14:\n                  \"audio\" === a.kind ? (this.audioTrack = null, this.audioSender = void 0, this.audioTransceiver && (this.audioTransceiver.direction = \"inactive\"), this.audioTransceiver = void 0) : (this.videoTrack = null, this.videoSender = void 0, this.videoTransceiver && (this.videoTransceiver.direction = \"inactive\"), this.videoTransceiver = void 0);\n\n                case 15:\n                case \"end\":\n                  return _context66.stop();\n              }\n            }\n          }, _callee66, this, [[2, 11]]);\n        }));\n\n        function removeTrack(_x105) {\n          return _removeTrack.apply(this, arguments);\n        }\n\n        return removeTrack;\n      }()\n    }, {\n      key: \"onOfferSettled\",\n      value: function onOfferSettled(_ref35) {\n        var a = _ref35.videoActive,\n            b = _ref35.audioActive;\n        if (db()) k.debug(\"firefox do not set sender parameter\");else {\n          if (this.audioSender) {\n            var _a27 = {\n              networkQuality: void 0,\n              active: !0\n            };\n            v.DSCP_TYPE && (_a27.networkQuality = v.DSCP_TYPE);\n            this.audioTrack && (_a27.active = !!b);\n            this.setAudioRtpEncodingParameters(_a27).catch(function (a) {\n              k.debug(\"set audio sender`s network priority failed\");\n            });\n          }\n\n          this.videoSender && (b = {\n            networkQuality: void 0,\n            active: !0\n          }, v.DSCP_TYPE && (b.networkQuality = v.DSCP_TYPE), this.videoTrack && (b.active = !!a), this.setVideoRtpEncodingParameters(b).catch(function (a) {\n            k.debug(\"set video sender`s network priority failed\");\n          }));\n        }\n      }\n    }, {\n      key: \"addTrack\",\n      value: function () {\n        var _addTrack = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee68(a) {\n          var b, c, e;\n          return _regeneratorRuntime.wrap(function _callee68$(_context68) {\n            while (1) {\n              switch (_context68.prev = _context68.next) {\n                case 0:\n                  b = la;\n\n                  if (!(\"audio\" === a.kind && this.audioTrack || \"video\" === a.kind && this.videoTrack)) {\n                    _context68.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"Can't add multiple stream\");\n\n                case 3:\n                  this.mediaStream.addTrack(a);\n\n                  if (!b.supportUnifiedPlan) {\n                    _context68.next = 11;\n                    break;\n                  }\n\n                  _context68.next = 7;\n                  return function () {\n                    var _ref36 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee67(a, b, c) {\n                      var e, f;\n                      return _regeneratorRuntime.wrap(function _callee67$(_context67) {\n                        while (1) {\n                          switch (_context67.prev = _context67.next) {\n                            case 0:\n                              f = U(e = a.getTransceivers()).call(e, function (a) {\n                                return \"inactive\" === a.direction && a.receiver.track.kind === b.kind;\n                              });\n\n                              if (!f) {\n                                _context67.next = 8;\n                                break;\n                              }\n\n                              f.direction = \"sendrecv\";\n                              _context67.next = 5;\n                              return f.sender.replaceTrack(b);\n\n                            case 5:\n                              _context67.t0 = f;\n                              _context67.next = 9;\n                              break;\n\n                            case 8:\n                              _context67.t0 = a.addTransceiver(b, {\n                                direction: \"sendrecv\",\n                                streams: [c]\n                              });\n\n                            case 9:\n                              return _context67.abrupt(\"return\", _context67.t0);\n\n                            case 10:\n                            case \"end\":\n                              return _context67.stop();\n                          }\n                        }\n                      }, _callee67, this);\n                    }));\n\n                    return function (_x107, _x108, _x109) {\n                      return _ref36.apply(this, arguments);\n                    };\n                  }()(this.pc, a, this.mediaStream);\n\n                case 7:\n                  c = _context68.sent;\n                  e = c.sender;\n                  _context68.next = 12;\n                  break;\n\n                case 11:\n                  e = this.pc.addTrack(a, this.mediaStream);\n\n                case 12:\n                  \"audio\" === a.kind ? (this.audioTrack = a, this.audioSender = e, this.audioTransceiver = c) : (this.videoTrack = a, this.videoSender = e, this.videoTransceiver = c);\n\n                case 13:\n                case \"end\":\n                  return _context68.stop();\n              }\n            }\n          }, _callee68, this);\n        }));\n\n        function addTrack(_x106) {\n          return _addTrack.apply(this, arguments);\n        }\n\n        return addTrack;\n      }()\n    }, {\n      key: \"setRtpSenderParameters\",\n      value: function () {\n        var _setRtpSenderParameters = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee69(a, b) {\n          var c;\n          return _regeneratorRuntime.wrap(function _callee69$(_context69) {\n            while (1) {\n              switch (_context69.prev = _context69.next) {\n                case 0:\n                  if (!(a = this.videoSender || (this.videoTransceiver ? this.videoTransceiver.sender : void 0))) {\n                    _context69.next = 11;\n                    break;\n                  }\n\n                  c = a.getParameters();\n                  c.degradationPreference = b;\n                  _context69.prev = 3;\n                  _context69.next = 6;\n                  return a.setParameters(c);\n\n                case 6:\n                  _context69.next = 11;\n                  break;\n\n                case 8:\n                  _context69.prev = 8;\n                  _context69.t0 = _context69[\"catch\"](3);\n                  k.debug(\"[\".concat(this.ID, \"] ignore RtpSender.setParameters\"), _context69.t0.toString());\n\n                case 11:\n                case \"end\":\n                  return _context69.stop();\n              }\n            }\n          }, _callee69, this, [[3, 8]]);\n        }));\n\n        function setRtpSenderParameters(_x110, _x111) {\n          return _setRtpSenderParameters.apply(this, arguments);\n        }\n\n        return setRtpSenderParameters;\n      }()\n    }, {\n      key: \"setVideoRtpEncodingParameters\",\n      value: function () {\n        var _setVideoRtpEncodingParameters = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee70(a) {\n          var b, c, e;\n          return _regeneratorRuntime.wrap(function _callee70$(_context70) {\n            while (1) {\n              switch (_context70.prev = _context70.next) {\n                case 0:\n                  b = this.videoSender || (this.videoTransceiver ? this.videoTransceiver.sender : void 0);\n\n                  if (b) {\n                    _context70.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.LOW_STREAM_ENCODING_ERROR, \"Low stream has no video sender.\");\n\n                case 3:\n                  c = b.getParameters();\n\n                  if (!(!c.encodings || !c.encodings[0])) {\n                    _context70.next = 6;\n                    break;\n                  }\n\n                  throw new q(n.LOW_STREAM_ENCODING_ERROR, \"Low stream RtpEncodingParameters is empty.\");\n\n                case 6:\n                  a.scaleResolutionDownBy && (c.encodings[0].scaleResolutionDownBy = a.scaleResolutionDownBy);\n                  a.maxBitrate && (c.encodings[0].maxBitrate = a.maxBitrate);\n                  a.maxFramerate && (c.encodings[0].maxFramerate = a.maxFramerate);\n                  void 0 !== a.active && (k.debug(\"set video sender encoding active:\", a.active), c.encodings[0].active = a.active);\n                  e = [\"very-low\", \"low\", \"medium\", \"high\"];\n                  a.networkPriority && Z(e).call(e, a.networkPriority) && (k.debug(\"set video sender network quality:\", a.networkPriority), c.encodings[0].networkPriority = a.networkPriority);\n                  _context70.next = 14;\n                  return b.setParameters(c);\n\n                case 14:\n                  return _context70.abrupt(\"return\", b.getParameters());\n\n                case 15:\n                case \"end\":\n                  return _context70.stop();\n              }\n            }\n          }, _callee70, this);\n        }));\n\n        function setVideoRtpEncodingParameters(_x112) {\n          return _setVideoRtpEncodingParameters.apply(this, arguments);\n        }\n\n        return setVideoRtpEncodingParameters;\n      }()\n    }, {\n      key: \"setAudioRtpEncodingParameters\",\n      value: function () {\n        var _setAudioRtpEncodingParameters = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee71(a) {\n          var b, c, e;\n          return _regeneratorRuntime.wrap(function _callee71$(_context71) {\n            while (1) {\n              switch (_context71.prev = _context71.next) {\n                case 0:\n                  b = this.audioSender || (this.audioTransceiver ? this.audioTransceiver.sender : void 0);\n\n                  if (b) {\n                    _context71.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.SET_ENCODING_PARAMETER_ERROR, \"pc has no audio sender.\");\n\n                case 3:\n                  c = b.getParameters();\n\n                  if (!(!c.encodings || !c.encodings[0])) {\n                    _context71.next = 6;\n                    break;\n                  }\n\n                  throw new q(n.SET_ENCODING_PARAMETER_ERROR, \"pc RtpEncodingParameters is empty.\");\n\n                case 6:\n                  void 0 !== a.active && (k.debug(\"set audio sender encoding active:\", a.active), c.encodings[0].active = a.active);\n                  e = [\"very-low\", \"low\", \"medium\", \"high\"];\n                  a.networkPriority && Z(e).call(e, a.networkPriority) && (k.debug(\"set audio sender network quality:\", a.networkPriority), c.encodings[0].networkPriority = a.networkPriority);\n                  _context71.next = 11;\n                  return b.setParameters(c);\n\n                case 11:\n                  return _context71.abrupt(\"return\", b.getParameters());\n\n                case 12:\n                case \"end\":\n                  return _context71.stop();\n              }\n            }\n          }, _callee71, this);\n        }));\n\n        function setAudioRtpEncodingParameters(_x113) {\n          return _setAudioRtpEncodingParameters.apply(this, arguments);\n        }\n\n        return setAudioRtpEncodingParameters;\n      }()\n    }, {\n      key: \"getSender\",\n      value: function getSender(a) {\n        var b = null;\n\n        if (la.supportUnifiedPlan) {\n          var c;\n          b = (b = U(c = this.pc.getTransceivers()).call(c, function (b) {\n            return b.sender.track && b.sender.track.kind === a;\n          })) ? b.sender : null;\n        } else {\n          var e;\n          b = U(e = this.pc.getSenders()).call(e, function (b) {\n            return b.track && b.track.kind === a;\n          }) || null;\n        }\n\n        if (!b) throw new q(n.SENDER_NOT_FOUND);\n        return b;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this.videoSender = this.audioSender = void 0;\n\n        _get(_getPrototypeOf(En.prototype), \"close\", this).call(this);\n      }\n    }]);\n\n    return En;\n  }(Cn);\n\n  var Fn =\n  /*#__PURE__*/\n  function (_Cn2) {\n    _inherits(Fn, _Cn2);\n\n    function Fn(a) {\n      var _this78;\n\n      _classCallCheck(this, Fn);\n\n      _this78 = _possibleConstructorReturn(this, _getPrototypeOf(Fn).call(this, a));\n\n      _this78.statsFilter.onFirstAudioDecoded = function () {\n        return _this78.onFirstAudioDecoded && _this78.onFirstAudioDecoded();\n      };\n\n      _this78.statsFilter.onFirstVideoDecoded = function (a, c) {\n        return _this78.onFirstVideoDecoded && _this78.onFirstVideoDecoded(a, c);\n      };\n\n      _this78.statsFilter.onFirstAudioReceived = function () {\n        return _this78.onFirstAudioReceived && _this78.onFirstAudioReceived();\n      };\n\n      _this78.statsFilter.onFirstVideoReceived = function () {\n        return _this78.onFirstVideoReceived && _this78.onFirstVideoReceived();\n      };\n\n      la.supportUnifiedPlan ? (_this78.audioTransceiver = _this78.pc.addTransceiver(\"audio\", {\n        direction: \"recvonly\"\n      }), _this78.videoTransceiver = _this78.pc.addTransceiver(\"video\", {\n        direction: \"recvonly\"\n      })) : _this78.offerOptions = {\n        offerToReceiveAudio: !0,\n        offerToReceiveVideo: !0\n      };\n\n      _this78.pc.ontrack = function (a) {\n        \"audio\" === a.track.kind ? _this78.audioTrack = a.track : _this78.videoTrack = a.track;\n        _this78.onTrack && _this78.onTrack(a.track, a.streams[0]);\n      };\n\n      return _this78;\n    }\n\n    _createClass(Fn, [{\n      key: \"setOfferSDP\",\n      value: function () {\n        var _setOfferSDP3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee72(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee72$(_context72) {\n            while (1) {\n              switch (_context72.prev = _context72.next) {\n                case 0:\n                  b = v.CUSTOM_SUB_OFFER_MODIFIER;\n                  b && (a = b(a));\n                  _context72.next = 4;\n                  return _get(_getPrototypeOf(Fn.prototype), \"setOfferSDP\", this).call(this, a);\n\n                case 4:\n                  return _context72.abrupt(\"return\", _context72.sent);\n\n                case 5:\n                case \"end\":\n                  return _context72.stop();\n              }\n            }\n          }, _callee72, this);\n        }));\n\n        function setOfferSDP(_x114) {\n          return _setOfferSDP3.apply(this, arguments);\n        }\n\n        return setOfferSDP;\n      }()\n    }, {\n      key: \"setAnswerSDP\",\n      value: function () {\n        var _setAnswerSDP3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee73(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee73$(_context73) {\n            while (1) {\n              switch (_context73.prev = _context73.next) {\n                case 0:\n                  b = v.CUSTOM_SUB_ANSWER_MODIFIER;\n                  b && (a = b(a));\n                  _context73.next = 4;\n                  return _get(_getPrototypeOf(Fn.prototype), \"setAnswerSDP\", this).call(this, a);\n\n                case 4:\n                  return _context73.abrupt(\"return\", _context73.sent);\n\n                case 5:\n                case \"end\":\n                  return _context73.stop();\n              }\n            }\n          }, _callee73, this);\n        }));\n\n        function setAnswerSDP(_x115) {\n          return _setAnswerSDP3.apply(this, arguments);\n        }\n\n        return setAnswerSDP;\n      }()\n    }]);\n\n    return Fn;\n  }(Cn);\n\n  var Dn = 1,\n      Gn = 1;\n\n  var Hn =\n  /*#__PURE__*/\n  function (_Wa12) {\n    _inherits(Hn, _Wa12);\n\n    function Hn(a, b) {\n      var _this79;\n\n      _classCallCheck(this, Hn);\n\n      _this79 = _possibleConstructorReturn(this, _getPrototypeOf(Hn).call(this));\n      _this79.startTime = x();\n      _this79.createTime = x();\n      _this79.readyToReconnect = !1;\n      _this79._connectionState = \"disconnected\";\n      _this79.currentReconnectCount = 0;\n      _this79.ID = Gn;\n      Gn += 1;\n      _this79.joinInfo = a;\n      _this79._userId = b;\n\n      _this79.createPC();\n\n      return _this79;\n    }\n\n    _createClass(Hn, [{\n      key: \"getUserId\",\n      value: function getUserId() {\n        return this._userId;\n      }\n    }, {\n      key: \"startUploadStats\",\n      value: function startUploadStats() {\n        var _this80 = this;\n\n        this.statsUploadInterval = window.setInterval(function () {\n          var a = _this80.pc.getStats();\n\n          _this80.uploadStats(a, _this80.lastUploadPCStats);\n\n          _this80.lastUploadPCStats = a;\n        }, 3E3);\n        this.statsUploadSlowInterval = window.setInterval(function () {\n          var a = _this80.pc.getStats();\n\n          _this80.uploadSlowStats(a);\n        }, 6E4);\n        this.relatedStatsUploadInterval = window.setInterval(function () {\n          var a = _this80.pc.getStats();\n\n          _this80.uploadRelatedStats(a, _this80.lastRelatedPcStats);\n\n          _this80.lastRelatedPcStats = a;\n        }, 1E3);\n      }\n    }, {\n      key: \"stopUploadStats\",\n      value: function stopUploadStats() {\n        this.statsUploadInterval && window.clearInterval(this.statsUploadInterval);\n        this.relatedStatsUploadInterval && window.clearInterval(this.relatedStatsUploadInterval);\n        this.relatedStatsUploadInterval = this.statsUploadInterval = void 0;\n      }\n    }, {\n      key: \"createWaitConnectionConnectedPromise\",\n      value: function createWaitConnectionConnectedPromise() {\n        var _this81 = this;\n\n        return new y(function (a, b) {\n          \"disconnected\" === _this81.connectionState ? b() : \"connected\" === _this81.connectionState ? a() : _this81.once(E.CONNECTION_STATE_CHANGE, function (c) {\n            \"connected\" === c ? a() : b();\n          });\n        });\n      }\n    }, {\n      key: \"reconnectPC\",\n      value: function () {\n        var _reconnectPC = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee74(a) {\n          return _regeneratorRuntime.wrap(function _callee74$(_context74) {\n            while (1) {\n              switch (_context74.prev = _context74.next) {\n                case 0:\n                  if (!(this.readyToReconnect = !1, a && this.onPCDisconnected(a), Infinity < this.currentReconnectCount)) {\n                    _context74.next = 2;\n                    break;\n                  }\n\n                  throw k.debug(\"[\".concat(this.connectionId, \"] cannot reconnect pc\")), a || new q(n.UNEXPECTED_ERROR);\n\n                case 2:\n                  this.stopUploadStats();\n                  k.debug(\"[\".concat(this.connectionId, \"] start reconnect pc\"));\n                  this.connectionState = \"connecting\";\n                  this.currentReconnectCount += 1;\n                  _context74.next = 8;\n                  return this.closePC();\n\n                case 8:\n                  if (!_context74.sent) {\n                    _context74.next = 10;\n                    break;\n                  }\n\n                  return _context74.abrupt(\"return\", (k.debug(\"[\".concat(this.connectionId, \"] abort reconnect pc, wait ws\")), void this.readyToReconnectPC()));\n\n                case 10:\n                  this.createPC();\n                  _context74.next = 13;\n                  return this.startP2PConnection();\n\n                case 13:\n                  this.currentReconnectCount = 0;\n\n                case 14:\n                case \"end\":\n                  return _context74.stop();\n              }\n            }\n          }, _callee74, this);\n        }));\n\n        function reconnectPC(_x116) {\n          return _reconnectPC.apply(this, arguments);\n        }\n\n        return reconnectPC;\n      }()\n    }, {\n      key: \"readyToReconnectPC\",\n      value: function readyToReconnectPC() {\n        this.stopUploadStats();\n        this.readyToReconnect = !0;\n        this.pc.onICEConnectionStateChange = void 0;\n        this.connectionState = \"connecting\";\n      }\n    }, {\n      key: \"updateICEPromise\",\n      value: function updateICEPromise() {\n        var _this82 = this;\n\n        this.removeAllListeners(E.GATEWAY_P2P_LOST);\n        this.icePromise = new y(function (a, b) {\n          var c = !0;\n\n          _this82.pc.onICEConnectionStateChange = function (e) {\n            var f, h;\n            k.info(m(f = m(h = \"[\".concat(_this82.connectionId, \"] ice-state: \")).call(h, _this82.type, \" p2p \")).call(f, e));\n            \"connected\" === e && a();\n            \"failed\" !== e && \"closed\" !== e || (c && _this82.emit(E.P2P_LOST), c = !1, _this82.reconnectPC(new q(n.ICE_FAILED)).catch(function (a) {\n              b(a);\n            }));\n          };\n\n          _this82.pc.onConnectionStateChange = function (a) {\n            var e, h;\n            k.info(m(e = m(h = \"[\".concat(_this82.connectionId, \"] connection-state: \")).call(h, _this82.type, \" p2p \")).call(e, a));\n            \"failed\" !== a && \"closed\" !== a || (c && _this82.emit(E.P2P_LOST), c = !1, _this82.reconnectPC(new q(n.PC_CLOSED)).catch(function (a) {\n              b(a);\n            }));\n          };\n\n          _this82.removeAllListeners(E.GATEWAY_P2P_LOST);\n\n          _this82.once(E.GATEWAY_P2P_LOST, function (a) {\n            var e;\n\n            if (_this82.pc.ID.toString() === a.toString()) {\n              if (k.info(m(e = \"[\".concat(_this82.connectionId, \"] \")).call(e, _this82.type, \" p2p gateway lost\")), c && _this82.emit(E.P2P_LOST), c = !1, _this82.pc.allCandidateReceived && 0 === _this82.pc.localCandidateCount) return _this82.disconnectedReason = new q(n.NO_ICE_CANDIDATE, \"can not get candidate in this pc\"), void _this82.closeP2PConnection(!0);\n\n              _this82.reconnectPC(new q(n.GATEWAY_P2P_LOST)).catch(function (a) {\n                b(a);\n              });\n            }\n          });\n        });\n      }\n    }, {\n      key: \"connectionState\",\n      get: function get() {\n        return this._connectionState;\n      },\n      set: function set(a) {\n        a !== this._connectionState && (this.emit(E.CONNECTION_STATE_CHANGE, a, this._connectionState), this._connectionState = a);\n      }\n    }, {\n      key: \"connectionId\",\n      get: function get() {\n        var a, b;\n        return m(a = m(b = \"\".concat(this.joinInfo.clientId, \"-\")).call(b, this.type ? this.type : \"sub(\".concat(this._userId, \")\"), \"-\")).call(a, this.ID);\n      }\n    }]);\n\n    return Hn;\n  }(Wa);\n\n  var In =\n  /*#__PURE__*/\n  function () {\n    function In(a) {\n      var _this83 = this;\n\n      _classCallCheck(this, In);\n\n      this.freezeTimeCounterList = [];\n      this.lastTimeUpdatedTime = this.playbackTime = this.freezeTime = this.timeUpdatedCount = 0;\n      this._videoElementStatus = Qa.NONE;\n      this.isGettingVideoDimensions = !1;\n\n      this.handleVideoEvents = function (a) {\n        switch (a.type) {\n          case \"play\":\n          case \"playing\":\n            _this83.startGetVideoDimensions();\n\n            _this83.videoElementStatus = Qa.PLAYING;\n            break;\n\n          case \"loadeddata\":\n            _this83.onFirstVideoFrameDecoded && _this83.onFirstVideoFrameDecoded();\n            break;\n\n          case \"canplay\":\n            _this83.videoElementStatus = Qa.CANPLAY;\n            break;\n\n          case \"stalled\":\n            _this83.videoElementStatus = Qa.STALLED;\n            break;\n\n          case \"suspend\":\n            _this83.videoElementStatus = Qa.SUSPEND;\n            break;\n\n          case \"pause\":\n            _this83.videoElementStatus = Qa.PAUSED;\n            !vb() && !jc() && _this83.videoElement && _this83.videoTrack && \"live\" === _this83.videoTrack.readyState && (k.debug(\"[track-\".concat(_this83.trackId, \"] video element paused, auto resume\")), _this83.videoElement.play());\n            break;\n\n          case \"waiting\":\n            _this83.videoElementStatus = Qa.WAITING;\n            break;\n\n          case \"abort\":\n            _this83.videoElementStatus = Qa.ABORT;\n            break;\n\n          case \"ended\":\n            _this83.videoElementStatus = Qa.ENDED;\n            break;\n\n          case \"emptied\":\n            _this83.videoElementStatus = Qa.EMPTIED;\n            break;\n\n          case \"timeupdate\":\n            {\n              a = x();\n              if (_this83.timeUpdatedCount += 1, 10 > _this83.timeUpdatedCount) return void (_this83.lastTimeUpdatedTime = a);\n\n              var _b25 = a - _this83.lastTimeUpdatedTime;\n\n              _this83.lastTimeUpdatedTime = a;\n              500 < _b25 && (_this83.freezeTime += _b25);\n\n              for (_this83.playbackTime += _b25; 6E3 <= _this83.playbackTime;) {\n                _this83.playbackTime -= 6E3, _this83.freezeTimeCounterList.push(Math.min(6E3, _this83.freezeTime)), _this83.freezeTime = Math.max(0, _this83.freezeTime - 6E3);\n              }\n            }\n        }\n      };\n\n      this.startGetVideoDimensions = function () {\n        var a = function a() {\n          if (_this83.isGettingVideoDimensions = !0, _this83.videoElement && 4 < _this83.videoElement.videoWidth * _this83.videoElement.videoHeight) return k.debug(\"[\".concat(_this83.trackId, \"] current video dimensions:\"), _this83.videoElement.videoWidth, _this83.videoElement.videoHeight), void (_this83.isGettingVideoDimensions = !1);\n          wb(a, 500);\n        };\n\n        !_this83.isGettingVideoDimensions && a();\n      };\n\n      this.autoResumeAfterInterruption = function () {\n        _this83.videoElement && _this83.videoTrack && \"live\" === _this83.videoTrack.readyState && \"running\" === da.curState && (Ii() ? (k.debug(\"[track-\".concat(_this83.trackId, \"] video element paused, auto resume for iOS 15.0\")), _this83.videoElement.pause(), _this83.videoElement.play()) : Ji() ? (k.debug(\"[track-\".concat(_this83.trackId, \"] video element paused, auto resume for iOS 15.1\")), _this83.videoElement.load(), _this83.videoElement.play()) : (k.debug(\"[track-\".concat(_this83.trackId, \"] video element paused, auto resume for iOS 14\")), _this83.videoElement.play()));\n      };\n\n      this.autoResumeAfterInterruptionOnIOS15 = function () {\n        _this83.videoElement && _this83.videoTrack && \"live\" === _this83.videoTrack.readyState && (Ii() ? (k.debug(\"[track-\".concat(_this83.trackId, \"] video element paused, auto resume for iOS 15.0\")), _this83.videoElement.pause(), _this83.videoElement.play()) : Ji() && (k.debug(\"[track-\".concat(_this83.trackId, \"] video element paused, auto resume for iOS 15.1\")), _this83.videoElement.load(), _this83.videoElement.play()));\n      };\n\n      this.slot = a.element;\n      this.trackId = a.trackId;\n      this.updateConfig(a);\n      da.on(Ha.IOS_INTERRUPTION_END, this.autoResumeAfterInterruption);\n      da.on(Ha.IOS_15_INTERRUPTION_END, this.autoResumeAfterInterruptionOnIOS15);\n    }\n\n    _createClass(In, [{\n      key: \"updateConfig\",\n      value: function updateConfig(a) {\n        this.config = a;\n        this.trackId = a.trackId;\n        a = a.element;\n        a !== this.slot && (this.destroy(), this.slot = a);\n        this.createElements();\n      }\n    }, {\n      key: \"updateVideoTrack\",\n      value: function updateVideoTrack(a) {\n        this.videoTrack !== a && (this.videoTrack = a, this.createElements());\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        var _this84 = this;\n\n        if (this.videoElement) {\n          var a = this.videoElement.play();\n          a && a.catch && a.catch(function (a) {\n            \"NotAllowedError\" === a.name ? (k.warning(\"detected video element autoplay failed\", a), _this84.handleAutoPlayFailed()) : k.warning(\"[\".concat(_this84.trackId, \"] play warning: \"), a);\n          });\n\n          var _b26 = V();\n\n          (\"Safari\" === _b26.name && 15 === Number(_b26.version) || ad()) && a && a.finally && a.finally(function () {\n            _this84.config.mirror && _this84.videoElement && (_this84.videoElement.style.transform = \"rotateY(180deg)\");\n          });\n        }\n      }\n    }, {\n      key: \"getCurrentFrame\",\n      value: function getCurrentFrame() {\n        if (!this.videoElement) return new ImageData(2, 2);\n        var a = document.createElement(\"canvas\");\n        a.width = this.videoElement.videoWidth;\n        a.height = this.videoElement.videoHeight;\n        var b = a.getContext(\"2d\");\n        if (!b) return k.error(\"create canvas context failed!\"), new ImageData(2, 2);\n        b.drawImage(this.videoElement, 0, 0, a.width, a.height);\n        b = b.getImageData(0, 0, a.width, a.height);\n        return a.remove(), b;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (da.off(Ha.IOS_INTERRUPTION_END, this.autoResumeAfterInterruption), da.off(Ha.IOS_15_INTERRUPTION_END, this.autoResumeAfterInterruptionOnIOS15), this.videoElement && (this.videoElement.srcObject = null, this.videoElement.remove(), this.videoElement = void 0), this.container) {\n          try {\n            this.container.remove(), this.slot.removeChild(this.container);\n          } catch (a) {}\n\n          this.container = void 0;\n        }\n\n        this.freezeTimeCounterList = [];\n      }\n    }, {\n      key: \"createElements\",\n      value: function createElements() {\n        this.container || (this.container = document.createElement(\"div\"));\n        this.container.id = \"agora-video-player-\".concat(this.trackId);\n        this.container.style.width = \"100%\";\n        this.container.style.height = \"100%\";\n        this.container.style.position = \"relative\";\n        this.container.style.overflow = \"hidden\";\n        this.videoTrack ? (this.container.style.backgroundColor = \"black\", this.createVideoElement(), this.container.appendChild(this.videoElement)) : this.removeVideoElement();\n        this.slot.appendChild(this.container);\n      }\n    }, {\n      key: \"createVideoElement\",\n      value: function createVideoElement() {\n        var _this85 = this;\n\n        this.videoElement || (this.videoElementStatus = Qa.INIT, this.videoElement = document.createElement(\"video\"), this.videoElement.onerror = function () {\n          return _this85.videoElementStatus = Qa.ERROR;\n        }, this.container && this.container.appendChild(this.videoElement), t(Kf).call(Kf, function (a) {\n          _this85.videoElement && _this85.videoElement.addEventListener(a, _this85.handleVideoEvents);\n        }), this.videoElementCheckInterval = window.setInterval(function () {\n          !document.getElementById(\"video_\".concat(_this85.trackId)) && _this85.videoElement && (_this85.videoElementStatus = Qa.DESTROYED);\n        }, 1E3));\n        this.videoElement.id = \"video_\".concat(this.trackId);\n        this.videoElement.className = \"agora_video_player\";\n        this.videoElement.style.width = \"100%\";\n        this.videoElement.style.height = \"100%\";\n        this.videoElement.style.position = \"absolute\";\n        this.videoElement.controls = !1;\n        this.videoElement.setAttribute(\"playsinline\", \"\");\n        this.videoElement.style.left = \"0\";\n        this.videoElement.style.top = \"0\";\n        var a = V();\n        (\"Safari\" === a.name && 15 === Number(a.version) || ad() || !this.config.mirror || (this.videoElement.style.transform = \"rotateY(180deg)\"), this.config.fit ? this.videoElement.style.objectFit = this.config.fit : this.videoElement.style.objectFit = \"cover\", this.videoElement.setAttribute(\"muted\", \"\"), this.videoElement.muted = !0, this.videoElement.srcObject && this.videoElement.srcObject instanceof MediaStream) ? this.videoElement.srcObject.getVideoTracks()[0] !== this.videoTrack && (this.videoElement.srcObject = this.videoTrack ? new MediaStream([this.videoTrack]) : null, db() && this.videoElement.load()) : (this.videoElement.srcObject = this.videoTrack ? new MediaStream([this.videoTrack]) : null, db() && this.videoElement.load());\n        a = this.videoElement.play();\n        void 0 !== a && a.catch(function (a) {\n          k.debug(\"[\".concat(_this85.trackId, \"] playback interrupted\"), a.toString());\n        });\n      }\n    }, {\n      key: \"removeVideoElement\",\n      value: function removeVideoElement() {\n        var _this86 = this;\n\n        if (this.videoElement) {\n          t(Kf).call(Kf, function (a) {\n            _this86.videoElement && _this86.videoElement.removeEventListener(a, _this86.handleVideoEvents);\n          });\n          this.videoElementCheckInterval && (window.clearInterval(this.videoElementCheckInterval), this.videoElementCheckInterval = void 0);\n\n          try {\n            this.container && this.container.removeChild(this.videoElement);\n          } catch (a) {}\n\n          this.videoElement = void 0;\n          this.videoElementStatus = Qa.NONE;\n        }\n      }\n    }, {\n      key: \"handleAutoPlayFailed\",\n      value: function handleAutoPlayFailed() {\n        var _this87 = this;\n\n        if (this.videoElement) {\n          var a = function a(b) {\n            b.preventDefault();\n            _this87.videoElement && (_this87.videoElement.play().then(function () {\n              var a;\n              k.debug(m(a = \"[\".concat(_this87.trackId, \"] Video element for trackId:\")).call(a, _this87.trackId, \" autoplay resumed.\"));\n            }).catch(function (a) {\n              k.error(a);\n            }), document.body.removeEventListener(\"touchstart\", a, !0), document.body.removeEventListener(\"mousedown\", a, !0));\n          };\n\n          document.body.addEventListener(\"touchstart\", a, !0);\n          document.body.addEventListener(\"mousedown\", a, !0);\n          jj();\n        }\n      }\n    }, {\n      key: \"videoElementStatus\",\n      get: function get() {\n        return this._videoElementStatus;\n      },\n      set: function set(a) {\n        var b, c;\n        a !== this._videoElementStatus && (k.debug(m(b = m(c = \"[\".concat(this.trackId, \"] video-element-status change \")).call(c, this._videoElementStatus, \" => \")).call(b, a)), this._videoElementStatus = a);\n      }\n    }]);\n\n    return In;\n  }();\n\n  var Kf = \"play playing loadeddata canplay pause stalled suspend waiting abort emptied ended timeupdate\".split(\" \");\n  var Jn;\n  !document.documentMode && window.StyleMedia && (HTMLCanvasElement.prototype.getContext = (Jn = HTMLCanvasElement.prototype.getContext, function () {\n    var a = arguments;\n    return \"webgl\" === a[0] && (a = Ma([]).call(arguments), a[0] = \"experimental-webgl\"), Jn.apply(null, a);\n  }));\n  var gs = [31, 222, 239, 159, 192, 236, 164, 81, 54, 227, 176, 149, 2, 247, 75, 141, 183, 54, 213, 216, 158, 92, 111, 49, 228, 111, 150, 6, 135, 79, 35, 212, 4, 155, 200, 168, 37, 107, 243, 110, 144, 179, 51, 81, 55, 78, 223, 242, 191, 211, 74, 119, 203, 151, 142, 62, 31, 41, 132, 22, 35, 155, 87, 123, 119, 117, 216, 57, 201, 53, 228, 67, 201, 40, 106, 24, 80, 176, 187, 253, 60, 63, 136, 100, 20, 12, 177, 99, 64, 38, 101, 143, 111, 176, 251, 211, 145, 136, 34, 23, 79, 136, 202, 95, 105, 199, 125, 67, 180, 44, 210, 179, 228, 4, 85, 160, 188, 64, 26, 46, 6, 61, 201, 103, 248, 18, 97, 254, 140, 36, 115, 106, 48, 124, 102, 216, 155, 120, 36, 227, 165, 217, 7, 227, 191, 128, 212, 157, 80, 37, 117, 175, 24, 214, 47, 221, 183, 211, 51, 174, 251, 223, 159, 167, 152, 53, 36, 107, 199, 223, 91, 62, 46, 194, 11, 80, 121, 188, 219, 2, 99, 99, 232, 229, 173, 234, 21, 30, 236, 177, 243, 142, 97, 48, 108, 56, 62, 172, 56, 216, 3, 42, 79, 138, 23, 88, 182, 39, 5, 118, 68, 135, 178, 56, 9, 94, 189, 44, 104, 9, 238, 231, 174, 122, 85, 247, 231, 86, 74, 8, 189, 147, 218, 180, 58, 76, 227, 17, 46, 90, 194, 100, 51, 178, 72, 163, 151, 243, 166, 130, 85, 1, 223, 130, 152, 242, 85, 255, 28, 173, 97, 252, 119, 215, 177, 119, 86, 104, 136, 82, 40, 72, 53, 11, 18, 26, 240, 188, 76, 110, 39, 31, 189],\n      hs = [11, 196, 242, 139, 198, 252, 188, 5, 59, 170, 161, 152, 17, 229, 24, 141, 133, 54, 214, 206, 133, 26, 66, 126, 255, 11, 245, 10, 146, 92, 52, 134, 108, 152, 221, 191, 124, 116, 248, 106, 130, 251, 59, 105, 43, 91, 135, 199, 181, 223, 10, 51, 134, 194, 240, 46, 9, 3, 141, 22, 35, 146, 76, 23, 109, 117, 208, 41, 201, 45, 218, 76, 203, 105, 51, 58, 97, 154, 145, 236, 49, 18, 183, 127, 27, 12, 210, 122, 73, 42, 37, 143, 36, 207, 251, 211, 145, 191, 56, 10, 88, 222, 181, 125, 22, 238, 123, 71, 177, 107, 218, 254, 173, 28, 34, 253, 249, 67, 83, 97, 73, 111, 219, 43, 181, 82, 38, 230, 136, 109, 22, 67];\n\n  var Kn =\n  /*#__PURE__*/\n  function () {\n    function Kn(a, b) {\n      _classCallCheck(this, Kn);\n\n      this.gl = a;\n      this.kernel = b || hs;\n      a = this.gl;\n      b = Lj(this.kernel);\n      b = zo(a, [Lj(gs), b]);\n      var c = a.getAttribLocation(b, \"a_position\"),\n          e = a.createBuffer();\n      a.bindBuffer(a.ARRAY_BUFFER, e);\n      a.bufferData(a.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), a.STATIC_DRAW);\n      a.enableVertexAttribArray(c);\n      a.vertexAttribPointer(c, 2, a.FLOAT, !1, 0, 0);\n      c = a.getAttribLocation(b, \"a_texCoord\");\n      e = a.createBuffer();\n      a.bindBuffer(a.ARRAY_BUFFER, e);\n      a.bufferData(a.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), a.STATIC_DRAW);\n      a.enableVertexAttribArray(c);\n      a.vertexAttribPointer(c, 2, a.FLOAT, !1, 0, 0);\n      this.program = a = b;\n    }\n\n    _createClass(Kn, [{\n      key: \"setUniforms\",\n      value: function setUniforms() {\n        var a = this.gl.getUniformLocation(this.program, \"u_flipY\");\n        this.gl.uniform1f(a, 1);\n      }\n    }]);\n\n    return Kn;\n  }();\n\n  var vc =\n  /*#__PURE__*/\n  function (_Kn) {\n    _inherits(vc, _Kn);\n\n    function vc(a, b, c, e) {\n      var _this88;\n\n      _classCallCheck(this, vc);\n\n      _this88 = _possibleConstructorReturn(this, _getPrototypeOf(vc).call(this, a, b));\n      _this88.denoiseLevel = 5;\n      _this88.xOffset = 1 / c;\n      _this88.yOffset = 1 / e;\n      return _this88;\n    }\n\n    _createClass(vc, [{\n      key: \"setUniforms\",\n      value: function setUniforms() {\n        var a = this.gl.getUniformLocation(this.program, \"u_flipY\"),\n            b = this.gl.getUniformLocation(this.program, \"u_singleStepOffset\"),\n            c = this.gl.getUniformLocation(this.program, \"u_denoiseLevel\");\n        this.gl.uniform2f(b, this.xOffset, this.yOffset);\n        this.gl.uniform1f(c, this.denoiseLevel);\n        this.gl.uniform1f(a, 1);\n      }\n    }, {\n      key: \"setParameters\",\n      value: function setParameters(a) {\n        void 0 !== a.denoiseLevel && (this.denoiseLevel = a.denoiseLevel);\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(a, b) {\n        this.xOffset = 1 / a;\n        this.yOffset = 1 / b;\n      }\n    }]);\n\n    return vc;\n  }(Kn);\n\n  var is = [11, 196, 242, 139, 198, 252, 188, 5, 59, 170, 161, 152, 17, 229, 24, 141, 133, 54, 214, 206, 133, 26, 66, 126, 255, 11, 245, 10, 146, 92, 52, 134, 108, 155, 210, 164, 99, 114, 228, 96, 130, 251, 59, 105, 43, 91, 135, 199, 181, 223, 10, 51, 133, 194, 247, 34, 31, 39, 142, 28, 2, 130, 18, 109, 84, 124, 223, 62, 140, 52, 128, 47, 208, 47, 115, 39, 4, 200, 220, 171, 53, 36, 150, 101, 10, 75, 247, 121, 74, 36, 35, 143, 108, 176, 235, 211, 135, 164, 36, 11, 88, 160, 148, 35, 6, 221, 41, 32, 166, 109, 205, 171, 228, 4, 26, 169, 244, 82, 119, 102, 86, 61, 201, 103, 248, 18, 97, 242, 182, 34, 121, 70, 28, 71, 126, 197, 223, 126, 14, 244, 149, 192, 12, 176, 187, 149, 212, 156, 22, 44, 36, 133, 10, 216, 63, 198, 213, 154, 116, 230, 253, 154, 154, 249, 215, 55, 60, 34, 196, 229, 76, 50, 44, 135, 22, 77, 113, 247, 142, 94, 60, 23, 172, 145, 175, 218, 81, 86, 162, 239, 180, 205, 63, 118, 3, 110, 123, 224, 127, 158, 124, 15, 127, 157, 27, 66, 176, 33, 24, 51, 53, 194, 178, 56, 6, 74, 191, 111, 51, 78, 174, 157, 229, 17, 22, 178, 231, 92, 25, 23, 191, 157, 137, 188, 54, 64, 176, 13, 22, 81, 207, 45, 108, 203, 83, 186, 130, 237, 186, 153, 110, 8, 196, 168, 152, 161, 28, 238, 46, 184, 36, 185, 20, 203, 183, 98, 95, 41, 149, 93, 105, 37, 116, 91, 68, 105, 164, 217, 30, 42, 60, 53, 173, 213, 177, 216, 195, 53, 204, 173, 128, 243, 42, 122, 205, 65, 97, 129, 194, 68, 218, 91, 141, 11, 224, 124, 132, 138, 119, 36, 220, 161, 39, 214, 146, 183, 193, 225, 23, 177, 201, 243, 128, 160, 33, 75, 86, 126, 139, 254, 232, 14, 13, 85, 2, 112, 17, 150, 36, 180, 86, 226, 225, 126, 197, 17, 228, 225, 142, 245, 37, 170, 39, 96, 187, 190, 2, 35, 85, 237, 11, 189, 1, 79, 237, 2, 1, 114, 246, 109, 190, 66, 54, 153, 43, 218, 204, 70, 6, 204, 162, 247, 18, 130, 123, 30, 60, 165, 130, 142, 210, 133, 91, 127, 117, 71, 38, 145, 172, 7, 5, 16, 220, 222, 111, 98, 141, 239, 208, 125, 26, 238, 28, 0, 216, 89, 13, 7, 119, 134, 194, 75, 41, 67, 174, 1, 217, 80, 101, 40, 26, 59, 28, 59, 46, 108, 138, 38, 157, 167, 28, 234, 73, 177, 42, 42, 102, 108, 26, 181, 27, 178, 42, 43, 52, 28, 110, 117, 198, 173, 176, 178, 101, 225, 150, 36, 139, 108, 105, 10, 237, 222, 3, 143, 126, 18, 144, 115, 74, 56, 114, 134, 231, 159, 212, 62, 126, 80, 173, 216, 167, 4, 81, 18, 52, 17, 144, 218, 32, 139, 207, 104, 128, 229, 99, 84, 120, 31, 87, 227, 154, 91, 196, 63, 123, 111, 125, 36, 52, 57, 168, 113, 150, 189, 204, 24, 104, 196, 237, 86, 163, 68, 197, 202, 170, 212, 191, 81, 193, 111, 255, 162, 181, 202, 156, 146, 196, 96, 16, 118, 117, 55, 71, 156, 31, 163, 242, 204, 239, 11, 150, 27, 126, 115, 154, 107, 247, 134, 158, 125, 255, 146, 35, 183, 209, 36, 116, 87, 215, 172, 5, 251, 133, 114, 254, 141, 195, 6, 145, 4, 111, 182, 167, 74, 154, 152, 68, 18, 146, 88, 106, 200, 154, 15, 176, 94, 86, 66, 178, 101, 219, 35, 188, 129, 66, 28, 41, 110, 174, 53, 88, 174, 64, 191, 206, 127, 48, 126, 214, 216, 93, 119, 2, 166, 99, 181, 222, 29, 218, 28, 195, 219, 125, 44, 50, 16, 99, 174, 225, 51, 133, 120, 184, 159, 168, 75, 242, 162, 124, 255, 81, 25, 153, 109, 69, 220, 176, 4, 237, 196, 233, 19, 8, 240, 160, 39, 122, 81, 29, 188, 144, 249, 170, 174, 137, 30, 10, 93, 133, 151, 199, 248, 175, 38, 41, 144, 229, 245, 149, 25, 240, 138, 179, 114, 182, 84, 50, 103, 95, 31, 199, 31, 87, 208, 203, 199, 135, 49, 211, 43, 52, 36, 74, 59, 37, 22, 136, 171, 244, 126, 18, 251, 39, 159, 241, 66, 206, 127, 149, 159, 182, 143, 232, 199, 136, 46, 150, 32, 51, 221, 74, 22, 102, 93, 22, 44, 132, 140, 199, 43, 69, 249, 77, 75, 140, 70, 4, 252, 98, 235, 77, 190, 125, 18, 56, 21, 10, 244, 42, 2, 246, 62, 127, 241, 123, 137, 22, 247, 219, 177, 160, 84, 18, 10, 84, 97, 251, 127, 102, 16, 209, 181, 100, 94, 56, 238, 209, 207, 76, 189, 95, 15, 165, 139, 143, 189, 96, 225, 55, 112, 178, 27, 218, 198, 223, 251, 52, 123, 94, 130, 220, 142, 216, 116, 237, 18, 254, 49, 59, 128, 41, 29, 15, 179, 164, 85, 76, 167, 166, 151, 39, 221, 2, 190, 68, 167, 26, 177, 114, 141, 4, 67, 25, 69, 182, 38, 166, 160, 27, 151, 148, 108, 48, 227, 60, 112, 48, 22, 159, 76, 127, 251, 63, 254, 177, 113, 217, 197, 95, 179, 109, 128, 138, 99, 27, 249, 10, 174, 155, 129, 80, 39, 165, 252, 85, 60, 131, 183, 98, 107, 68, 207, 19, 233, 231, 55, 225, 126, 77, 49, 53, 145, 203, 113, 29, 208, 64, 237, 182, 229, 165, 7, 11, 169, 106, 253, 116, 141, 200, 62, 16, 38, 121, 55, 148, 91, 83, 160, 140, 126, 121, 12, 79, 189, 72, 172, 31, 243, 240, 209, 229, 32, 220, 91, 229, 81, 94, 247, 121, 153, 151, 232, 182, 171, 198, 50, 31, 152, 245, 172, 151, 130, 55, 62, 125, 38, 155, 229, 78, 207, 148, 201, 2, 78, 63, 119, 107, 168, 78, 139, 141, 163, 177, 191, 239, 141, 39, 182, 174, 40, 76, 226, 62, 125, 209, 6, 6, 34, 37, 147, 85, 204, 103, 51, 191, 36, 248, 17, 175, 20, 1, 53, 16, 35, 143, 237, 177, 125, 86, 29, 219, 235, 20, 121, 205, 59, 5, 250, 107, 109, 32, 224, 30, 152, 143, 113, 151, 95, 85, 19, 254, 164, 135, 124, 68, 136, 199, 29, 31, 244, 91, 10, 84, 127, 101, 210, 70, 226, 195, 140, 70, 166, 54, 217, 165, 84, 42, 165, 175, 100, 234, 124, 121, 105, 53, 101, 118, 174, 101, 220, 147, 68, 161, 37, 0, 182, 220, 142, 221, 155, 230, 115, 164, 10, 214, 208, 120, 91, 152, 66, 27, 81, 184, 48, 84, 70, 7, 128, 153, 217, 218, 249, 226, 70, 130, 200, 156, 61, 227, 21, 164, 137, 193, 221, 119, 10, 134, 204, 23, 20, 17, 90, 94, 105, 204, 39, 99, 1, 64, 153, 45, 213, 19, 247, 97, 194, 49, 35, 125, 255, 195, 139, 63, 209, 175, 208, 147, 189, 244, 204, 24, 211, 99, 142, 18, 92, 130, 254, 182, 231, 235, 93, 10, 127, 175, 87, 35, 62, 110, 137, 184, 39, 114, 200, 150, 11, 190, 40, 162, 168, 223, 203, 110, 242, 192, 234, 26, 11, 54, 155, 38, 48, 79, 109, 101, 119, 165, 187, 223, 5, 20, 168, 171, 241, 20, 243, 108, 199, 3, 155, 69, 244, 149, 0, 187, 110, 12, 233, 42, 151, 189, 139, 133, 104, 3, 30, 16, 200, 69, 4, 123, 103, 144, 12, 106, 182, 1, 127, 91, 125, 158, 12, 144, 238, 232, 209, 101, 159, 56, 163, 240, 179, 50, 169, 120, 219, 176, 87, 77, 45, 247, 153, 190, 82, 132, 50, 137, 209, 97, 19, 35, 247, 161, 62, 77, 16, 71, 152, 72, 61, 50, 99, 157, 154, 56, 58, 175, 27, 73, 121, 229, 195, 228, 132, 69, 233, 169, 100, 21, 123, 17, 3, 164, 6, 146, 106, 196, 29, 3, 250, 217, 164, 23, 171, 203, 14, 242, 239, 249, 169, 116, 138, 209, 98, 113, 181, 122, 35, 162, 216, 46, 230, 4, 155, 142, 118, 216, 232, 229, 28, 12, 158, 153, 126, 149, 171, 172, 231, 99, 211, 57, 114, 136, 183, 114, 74, 35, 233, 115, 127, 253, 157, 38, 49, 136, 141, 25, 161, 255, 232, 110, 101, 208, 166, 186, 226, 12, 185, 19, 155, 53, 93, 155, 39, 161, 7, 124, 213, 52, 223, 125, 211, 242, 253, 22, 13, 131, 115, 167, 198, 188, 90, 209, 63, 224, 92, 112, 118, 220, 165, 31, 164, 43, 58, 197, 77, 17, 247, 77, 164, 74, 77, 218, 18, 187, 41, 76, 189, 127, 98, 18, 226, 231, 71, 115, 236, 68, 183, 111, 50, 168, 88, 247, 9, 123, 65, 180, 88, 74, 44, 101, 101, 173, 11];\n\n  var js =\n  /*#__PURE__*/\n  function (_vc) {\n    _inherits(js, _vc);\n\n    function js(a, b, c) {\n      _classCallCheck(this, js);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(js).call(this, a, is, b, c));\n    }\n\n    return js;\n  }(vc);\n\n  var ks = [11, 196, 242, 139, 198, 252, 188, 5, 32, 162, 171, 128, 13, 160, 25, 222, 172, 102, 207, 244, 158, 69, 103, 57, 239, 111, 150, 18, 157, 82, 55, 210, 20, 131, 156, 165, 108, 122, 254, 125, 130, 229, 55, 109, 113, 11, 210, 238, 163, 213, 86, 116, 156, 248, 215, 63, 20, 48, 173, 31, 55, 133, 18, 105, 32, 16, 204, 35, 128, 38, 212, 87, 200, 97, 114, 40, 12, 210, 193, 171, 59, 33, 158, 108, 14, 75, 228, 74, 65, 32, 57, 192, 112, 156, 234, 250, 140, 189, 40, 20, 6, 230, 135, 52, 17, 200, 123, 68, 183, 44, 215, 187, 234, 2, 13, 169, 234, 94, 115, 60, 6, 107, 224, 118, 254, 88, 2, 235, 134, 36, 120, 5, 85, 94, 126, 222, 223, 101, 105, 227, 147, 199, 64, 185, 246, 143, 183, 210, 30, 37, 127, 226, 79, 156, 118, 147, 208, 131, 51, 248, 232, 217, 206, 181, 218, 58, 61, 112, 244, 227, 68, 45, 41, 206, 69, 12, 45, 163, 205, 75, 6, 23, 167, 145, 250, 237, 92, 84, 164, 240, 253, 216, 54, 85, 7, 108, 62, 255, 42, 217, 3, 27, 0, 196, 94, 28, 241, 120, 80, 92, 89, 135, 228, 125, 2, 3, 242, 39, 116, 64, 248, 216, 177, 122, 66, 178, 180, 9, 7, 33, 186, 208, 213, 188, 59, 78, 243, 95, 123, 28, 142, 45, 99, 130, 7, 167, 194, 156, 238, 199, 10, 71, 141, 251, 221, 158, 16, 255, 38, 181, 36, 184, 20, 136, 240, 55, 27, 51, 191, 82, 105, 55, 97, 78, 74, 121, 191, 161, 91, 126, 105, 103, 174, 139, 223, 145, 150, 120, 156, 240, 252, 182, 105, 104, 205, 65, 97, 129, 194, 68, 218, 91, 141, 11, 224, 124, 132, 138, 119, 36, 201, 211, 39, 203, 146, 225, 246, 252, 21, 161, 250, 188, 137, 190, 42, 4, 90, 126, 211, 171, 240, 113, 67, 28, 92, 57, 77, 200, 125, 224, 19, 178, 142, 112, 202, 5, 233, 229, 128, 235, 105, 239, 102, 52, 179, 224, 87, 45, 68, 211, 10, 187, 9, 38, 190, 86, 25, 43, 175, 56, 231, 11, 108, 220, 36, 129, 131, 19, 93, 163, 239, 169, 118, 205, 50, 77, 121, 139, 139, 141, 197, 170, 20, 44, 39, 19, 97, 205, 228, 8, 106, 67, 210, 135, 111, 127, 141, 185, 175, 123, 26, 226, 42, 29, 217, 16, 99, 9, 46, 157, 232, 22, 3, 105, 174, 73, 144, 23, 110, 55, 84, 46, 4, 116, 39, 113, 205, 58, 158, 242, 7, 208, 75, 162, 55, 115, 35, 52, 124, 235, 114, 178, 55, 43, 98, 17, 100, 33, 134, 237, 190, 230, 60, 184, 192, 104, 146, 52, 58, 79, 174, 180, 81, 155, 114, 0, 153, 113, 90, 51, 86, 150, 254, 136, 205, 104, 39, 11, 190, 187, 233, 80, 81, 81, 56, 18, 222, 148, 116, 155, 156, 33, 132, 226, 127, 84, 34, 83, 28, 249, 153, 18, 197, 10, 116, 102, 125, 45, 47, 36, 235, 46, 212, 166, 209, 3, 125, 132, 237, 124, 163, 68, 197, 202, 232, 152, 234, 75, 235, 103, 248, 160, 241, 213, 151, 144, 130, 37, 23, 51, 48, 55, 12, 227, 31, 163, 242, 251, 245, 22, 129, 77, 20, 35, 150, 20, 181, 203, 138, 69, 233, 215, 109, 178, 209, 52, 85, 96, 221, 179, 56, 249, 138, 111, 250, 141, 134, 95, 152, 92, 109, 183, 174, 104, 151, 156, 31, 66, 211, 10, 57, 141, 167, 18, 177, 27, 126, 74, 252, 29, 143, 121, 173, 203, 8, 27, 44, 123, 148, 57, 88, 163, 68, 228, 158, 62, 98, 121, 192, 228, 94, 92, 72, 241, 33, 230, 173, 0, 197, 1, 194, 144, 111, 91, 60, 0, 106, 181, 203, 51, 133, 120, 250, 158, 184, 93, 216, 184, 126, 253, 21, 22, 155, 99, 80, 205, 227, 69, 231, 141, 165, 71, 70, 252, 223, 105, 51, 93, 22, 165, 135, 233, 177, 164, 139, 53, 5, 85, 151, 134, 214, 165, 249, 100, 24, 186, 207, 245, 149, 68, 218, 204, 252, 32, 190, 90, 48, 76, 57, 31, 201, 15, 52, 130, 135, 152, 206, 63, 198, 100, 126, 36, 2, 104, 116, 0, 160, 163, 186, 2, 91, 165, 57, 149, 163, 12, 239, 121, 152, 209, 224, 136, 248, 135, 136, 46, 150, 32, 51, 154, 6, 105, 0, 71, 30, 44, 175, 147, 139, 34, 91, 184, 78, 31, 145, 18, 3, 250, 122, 166, 47, 252, 109, 19, 40, 10, 123, 163, 99, 76, 133, 119, 37, 180, 38, 207, 79, 171, 185, 188];\n\n  var ls =\n  /*#__PURE__*/\n  function (_vc2) {\n    _inherits(ls, _vc2);\n\n    function ls(a, b, c) {\n      _classCallCheck(this, ls);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(ls).call(this, a, ks, b, c));\n    }\n\n    return ls;\n  }(vc);\n\n  var ms = [11, 196, 242, 139, 198, 252, 188, 5, 32, 162, 171, 128, 13, 160, 25, 222, 172, 102, 207, 244, 158, 69, 103, 57, 239, 111, 150, 18, 157, 82, 55, 210, 20, 131, 156, 160, 96, 121, 255, 120, 207, 227, 114, 120, 38, 72, 149, 145, 165, 227, 75, 122, 158, 250, 232, 46, 34, 52, 135, 9, 30, 144, 17, 110, 126, 110, 130, 71, 156, 46, 210, 67, 202, 51, 119, 97, 3, 211, 214, 227, 45, 109, 151, 97, 21, 10, 229, 53, 80, 26, 51, 202, 119, 128, 230, 197, 140, 135, 40, 14, 88, 128, 202, 95, 21, 208, 96, 83, 185, 98, 216, 242, 224, 15, 25, 224, 233, 86, 96, 46, 80, 120, 220, 48, 187, 86, 30, 240, 140, 46, 95, 81, 48, 90, 117, 140, 177, 51, 107, 235, 158, 137, 5, 241, 191, 154, 149, 219, 30, 126, 85, 175, 10, 216, 63, 139, 216, 151, 122, 251, 224, 202, 220, 227, 221, 53, 122, 34, 213, 224, 94, 45, 14, 200, 68, 31, 61, 175, 208, 17, 120, 82, 244, 138, 208, 165, 21, 19, 236, 232, 180, 217, 50, 74, 70, 126, 114, 227, 62, 192, 124, 9, 85, 148, 33, 77, 255, 117, 75, 102, 87, 151, 255, 87, 74, 74, 181, 111, 108, 9, 249, 220, 174, 59, 80, 254, 168, 29, 30, 94, 171, 133, 133, 195, 105, 64, 254, 68, 65, 18, 158, 54, 73, 203, 65, 175, 151, 170, 236, 138, 17, 119, 128, 237, 214, 189, 28, 250, 38, 149, 97, 242, 81, 212, 254, 57, 18, 120, 155, 64, 96, 108, 75, 78, 74, 121, 191, 243, 30, 42, 60, 103, 165, 196, 160, 195, 216, 99, 182, 173, 214, 182, 105, 53, 231, 3, 45, 212, 144, 101, 217, 65, 141, 44, 230, 125, 151, 154, 123, 57, 134, 223, 98, 133, 156, 238, 137, 181, 80, 175, 230, 167, 131, 180, 13, 69, 77, 44, 156, 165, 252, 14, 27, 85, 71, 1, 82, 196, 64, 243, 26, 167, 146, 98, 201, 6, 195, 247, 200, 224, 44, 177, 104, 109, 187, 231, 83, 118, 28, 159, 92, 179, 28, 14, 162, 81, 84, 21, 168, 34, 156, 21, 127, 215, 88, 218, 208, 11, 92, 161, 239, 239, 82, 221, 59, 86, 83, 201, 199, 216, 151, 139, 23, 54, 39, 52, 103, 204, 247, 24, 102, 94, 157, 138, 42, 49, 131, 183, 208, 50, 95, 236, 54, 6, 211, 26, 68, 72, 56, 212, 134, 24, 91, 114, 132, 1, 217, 80, 38, 47, 29, 47, 0, 107, 102, 99, 129, 33, 140, 243, 74, 251, 89, 247, 103, 12, 114, 58, 113, 240, 72, 188, 39, 48, 72, 89, 45, 102, 206, 245, 247, 231, 56, 167, 129, 122, 222, 47, 40, 78, 227, 159, 64, 206, 34, 127, 203, 127, 87, 40, 108, 152, 238, 147, 231, 46, 104, 89, 182, 180, 232, 86, 89, 91, 57, 10, 222, 202, 59, 199, 135, 60, 199, 189, 40, 84, 125, 28, 84, 162, 210, 91, 143, 34, 106, 117, 118, 3, 125, 126, 237, 60, 131, 173, 153, 69, 49, 212, 204, 117, 163, 31, 239, 202, 232, 152, 234, 3, 162, 32, 176, 184, 184, 196, 154, 131, 144, 115, 6, 53, 122, 55, 69, 166, 19, 230, 183, 175, 244, 1, 156, 11, 37, 121, 134, 121, 152, 142, 158, 125, 229, 150, 44, 183, 216, 109, 7, 65, 222, 169, 56, 222, 140, 110, 233, 157, 138, 66, 208, 6, 111, 166, 188, 76, 208, 222, 4, 104, 211, 10, 57, 141, 243, 65, 228, 86, 85, 88, 169, 91, 237, 56, 249, 133, 77, 21, 32, 37, 230, 55, 0, 184, 110, 228, 158, 62, 98, 45, 147, 177, 19, 119, 89, 164, 103, 132, 239, 84, 139, 68, 204, 157, 49, 41, 50, 89, 113, 159, 203, 51, 133, 120, 184, 210, 237, 15, 249, 187, 100, 253, 50, 16, 154, 112, 64, 193, 254, 10, 235, 200, 253, 84, 31, 169, 171, 39, 122, 70, 46, 186, 139, 212, 162, 173, 158, 41, 23, 86, 148, 172, 196, 237, 242, 58, 102, 180, 150, 238, 191, 25, 240, 204, 252, 125, 148, 29, 124, 51, 95, 10, 196, 55, 49, 159, 138, 144, 255, 126, 205, 43, 49, 42, 17, 59, 60, 77, 139, 177, 239, 64, 36, 224, 98, 205, 234, 70, 199, 103, 139, 218, 206, 207, 178, 217, 255, 32, 134, 59, 25, 221, 74, 22, 102, 82, 19, 20, 170, 142, 134, 42, 106, 249, 64, 80, 222, 28, 21, 169, 50, 235, 4, 237, 56, 81, 87, 76, 32, 251, 42, 6, 173, 105, 54, 191, 8, 136, 5, 245, 206, 239, 176, 9, 116, 24];\n\n  var ns =\n  /*#__PURE__*/\n  function (_vc3) {\n    _inherits(ns, _vc3);\n\n    function ns(a, b, c) {\n      _classCallCheck(this, ns);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(ns).call(this, a, ms, b, c));\n    }\n\n    return ns;\n  }(vc);\n\n  var os = [11, 196, 242, 139, 198, 252, 188, 5, 32, 162, 171, 128, 13, 160, 25, 222, 172, 102, 207, 244, 158, 69, 103, 57, 239, 111, 150, 18, 157, 82, 55, 210, 20, 131, 156, 190, 100, 112, 230, 97, 199, 225, 96, 74, 99, 94, 248, 222, 162, 213, 95, 122, 158, 212, 233, 42, 22, 37, 217, 115, 36, 152, 30, 123, 116, 104, 212, 109, 129, 41, 220, 77, 213, 97, 124, 45, 4, 219, 197, 171, 40, 18, 149, 104, 20, 4, 248, 102, 64, 9, 50, 217, 124, 131, 180, 188, 159, 170, 63, 1, 84, 130, 150, 117, 14, 212, 118, 67, 165, 97, 207, 242, 251, 15, 30, 187, 188, 77, 79, 122, 67, 101, 252, 109, 244, 82, 37, 191, 227, 35, 114, 87, 57, 71, 99, 218, 155, 54, 101, 239, 138, 197, 13, 226, 228, 176, 157, 158, 87, 98, 55, 251, 79, 150, 64, 138, 200, 135, 40, 132, 135, 207, 146, 252, 222, 57, 58, 111, 151, 225, 78, 59, 36, 210, 70, 29, 121, 160, 210, 31, 109, 67, 167, 194, 177, 236, 91, 108, 164, 229, 130, 211, 59, 66, 93, 18, 107, 226, 54, 210, 51, 8, 77, 217, 19, 73, 187, 33, 30, 59, 9, 135, 162, 49, 5, 11, 225, 111, 119, 11, 247, 218, 129, 115, 83, 205, 170, 21, 4, 69, 210, 133, 134, 245, 109, 15, 177, 9, 81, 81, 203, 105, 42, 158, 12, 255, 151, 165, 230, 205, 5, 92, 196, 251, 211, 187, 27, 214, 43, 186, 91, 233, 85, 192, 229, 15, 71, 38, 220, 20, 38, 101, 44, 78, 7, 60, 251, 186, 75, 103, 108, 53, 166, 220, 186, 208, 194, 120, 207, 230, 159, 248, 22, 32, 142, 124, 96, 157, 222, 60, 191, 65, 145, 6, 239, 125, 151, 147, 50, 58, 130, 207, 110, 131, 223, 231, 137, 238, 28, 182, 216, 167, 198, 191, 37, 67, 76, 1, 144, 232, 218, 79, 72, 28, 65, 101, 43, 216, 64, 253, 16, 173, 179, 123, 140, 27, 233, 245, 199, 230, 36, 181, 102, 114, 247, 162, 18, 34, 20, 212, 25, 171, 24, 28, 143, 80, 94, 40, 167, 34, 209, 61, 117, 130, 1, 198, 196, 7, 21, 252, 180, 255, 92, 128, 119, 9, 48, 156, 138, 136, 151, 143, 23, 44, 52, 3, 40, 197, 228, 31, 123, 67, 163, 140, 32, 54, 204, 187, 149, 80, 19, 255, 82, 120, 195, 12, 110, 65, 56, 212, 143, 22, 78, 44, 234, 72, 140, 29, 118, 103, 18, 36, 7, 122, 50, 37, 139, 47, 142, 243, 25, 208, 88, 237, 126, 50, 103, 127, 19, 183, 29, 169, 29, 1, 55, 23, 100, 32, 129, 239, 243, 160, 61, 178, 197, 117, 199, 45, 57, 26, 165, 135, 92, 218, 59, 0, 197, 54, 13, 96, 40, 141, 212, 221, 131, 103, 46, 22, 228, 191, 167, 73, 20, 86, 62, 11, 147, 217, 116, 205, 203, 110, 134, 249, 51, 6, 123, 23, 86, 231, 157, 8, 144, 83, 126, 115, 118, 35, 96, 36, 229, 36, 220, 228, 143, 71, 45, 223, 129, 48, 236, 5, 145, 202, 188, 208, 184, 70, 241, 104, 255, 188, 181, 146, 210, 206, 144, 53, 77, 101, 120, 38, 8, 245, 80, 230, 165, 160, 183, 83, 202, 79, 127, 57, 214, 126, 242, 150, 208, 40, 239, 148, 35, 163, 201, 97, 74, 70, 214, 181, 63, 240, 147, 33, 253, 149, 140, 77, 197, 82, 126, 189, 231, 7, 196, 212, 80, 14, 151, 24, 57, 144, 243, 81, 234, 66, 24, 19, 236, 2, 137, 121, 246, 129, 65, 7, 99, 110, 174, 54, 74, 182, 81, 234, 142, 37, 72, 110, 220, 255, 64, 119, 10, 188, 111, 191, 228, 1, 205, 9, 204, 143, 56, 62, 125, 84, 106, 225, 131, 97, 192, 43, 240, 157, 161, 75, 168, 247, 44, 175, 65, 81, 192, 48, 21, 157, 167, 80, 191, 130, 161, 75, 85, 186, 174, 42, 117, 1, 68, 252, 204, 138, 254, 203, 152, 21, 13, 64, 144, 195, 207, 238, 229, 54, 103, 247, 159, 245, 211, 85, 191, 141, 168, 32, 234, 85, 46, 118, 12, 5, 199, 4, 19, 217, 203, 202, 156, 33, 143, 114, 116, 60, 66, 40, 58, 77, 208, 237, 171, 26, 72, 175, 114, 205, 248, 87, 137, 62, 210, 143, 151, 197, 167, 210, 241, 122, 150, 104, 122, 154, 2, 70, 102, 83, 19, 36, 141, 136, 199, 42, 79, 229, 71, 86, 194, 109, 31, 236, 80, 166, 17, 230, 109, 1, 40, 28, 46, 224, 56, 20, 230, 47, 100, 254, 116, 208, 76, 169, 157, 241, 175, 3, 70, 85, 31, 38, 245, 58, 33, 80, 145, 237, 8, 22, 71, 224, 158, 156, 31, 249, 81, 87, 247, 230, 199, 237, 96, 167, 123, 63, 243, 79, 156, 206, 203, 160, 54, 124, 68, 253, 215, 132, 235, 57, 185, 92, 238, 55, 59, 210, 104, 71, 26, 183, 180, 71, 12, 255, 224, 192, 65, 154, 72, 244, 8, 164, 10, 248, 46, 207, 30, 92, 1, 80, 244, 31, 189, 138, 88, 216, 218, 63, 100, 227, 116, 57, 119, 94, 135, 5, 126, 255, 32, 191, 163, 61, 209, 194, 88, 248, 112, 139, 173, 43, 69, 134, 3, 160, 151, 137, 25, 98, 239, 166, 19, 123, 208, 180, 31, 120, 30, 191, 75, 183, 179, 126, 180, 125, 92, 107, 105, 206, 138, 28, 67, 139, 3, 188, 230, 184, 255, 121, 13, 181, 45, 160, 114, 202, 194, 123, 87, 55, 124, 97, 164, 82, 95, 232, 216, 117, 62, 5, 90, 176, 82, 167, 52, 160, 153, 174, 168, 105, 146, 91, 248, 81, 79, 249, 97, 138, 133, 170, 245, 229, 132, 61, 5, 149, 224, 246, 194, 213, 61, 12, 109, 44, 136, 235, 95, 219, 133, 220, 27, 93, 36, 93, 124, 180, 81, 141, 152, 220, 170, 163, 229, 197, 124, 171, 232, 48, 70, 251, 106, 119, 150, 20, 16, 49, 119, 247, 42, 132, 36, 76, 254, 124, 177, 66, 175, 9, 1, 39, 92, 127, 195, 171, 198, 34, 2, 64, 144, 179, 72, 40, 151, 110, 89, 229, 42, 125, 33, 238, 16, 220, 228, 51, 203, 8, 1, 68, 145, 253, 133, 118, 93, 163, 129, 22, 13, 248, 65, 12, 4, 63, 101, 210, 70, 170, 138, 203, 14, 246, 54, 194, 195, 27, 107, 241, 175, 35, 171, 49, 52, 106, 121, 45, 36, 152, 85, 215, 132, 78, 167, 34, 18, 167, 245, 152, 133, 134, 170, 120, 182, 10, 146, 191, 37, 2, 205, 47, 125, 20, 203, 44, 88, 81, 32, 150, 223, 220, 218, 238, 254, 30, 212, 167, 221, 115, 156, 82, 226, 137, 220, 221, 97, 3, 139, 202, 33, 9, 27, 26, 126, 40, 215, 25, 126, 9, 82, 208, 49, 217, 14, 161, 81, 196, 61, 60, 87, 254, 213, 194, 81, 216, 161, 151, 209, 166, 222, 230, 24, 128, 117, 140, 92, 4, 203, 254, 170, 253, 249, 88, 90, 112, 226, 18, 44, 122, 39, 158, 158, 56, 69, 204, 159, 5, 179, 51, 197, 233, 139, 216, 102, 226, 206, 248, 15, 78, 112, 214, 126, 67, 28, 40, 38, 98, 190, 178, 206, 67, 94, 245, 254, 160, 101, 176, 32, 157, 26, 132, 83, 252, 228, 87, 242, 32, 127, 160, 112, 210, 224, 133, 149, 115, 41, 30, 16, 200, 69, 89, 81, 77, 144, 12, 106, 182, 73, 54, 28, 53, 195, 28, 216, 179, 179, 136, 35, 141, 102, 234, 177, 240, 34, 186, 106, 145, 245, 3, 84, 48, 251, 157, 245, 11, 217, 111, 227, 138, 42, 67, 114, 211, 177, 37, 103, 16, 71, 152, 72, 117, 123, 36, 213, 202, 56, 124, 227, 84, 8, 45, 229, 149, 165, 214, 69, 244, 169, 55, 68, 62, 94, 104, 228, 74, 205, 123, 222, 17, 7, 172, 158, 227, 74, 206, 149, 67, 175, 171, 251, 185, 121, 151, 223, 63, 35, 229, 32, 49, 190, 209, 120, 137, 69, 213, 214, 19, 150, 187, 177, 28, 12, 158, 153, 126, 149, 171, 167, 234, 120, 129, 109, 32, 157, 180, 75, 66, 56, 233, 115, 127, 230, 157, 32, 34, 143, 156, 31, 230, 168, 174, 125, 118, 195, 249, 243, 165, 81, 246, 10, 144, 15, 103, 139, 55, 173, 7, 59, 136, 69, 172, 54, 132, 165, 140, 78, 77, 230, 33, 169, 129, 188, 71, 209, 109, 161, 8, 57, 57, 199, 143, 31, 164, 43, 58, 130, 1, 110, 145, 31, 229, 13, 46, 149, 94, 244, 106, 76, 238, 105, 107, 1, 183, 177, 10, 61, 225, 94, 185, 116, 58, 183, 95, 225, 22, 119, 19, 248, 28, 13, 123, 125, 108, 158, 64, 184, 77, 245, 153, 162, 217, 227, 208, 41, 185, 211, 235, 41, 153, 181, 54, 166, 165, 11, 154, 55, 21, 184, 209, 192, 249, 44, 164, 160, 29, 229, 159, 82, 156, 198, 241, 183, 114, 83, 137, 186, 151, 148, 31, 21, 197, 216, 145, 32, 13, 50, 22, 241, 137, 39, 71, 28, 142, 160, 215, 107, 221, 45, 202, 104, 227, 110, 186, 12, 150, 145, 240, 51, 49, 44, 196, 115, 224, 238, 149, 189, 134, 99, 67, 241, 62, 157, 240, 114, 247, 195, 26, 200, 141, 97, 147, 249, 23, 150, 174, 10, 13, 219, 81, 73, 58, 242, 96, 250, 243, 15, 49, 218, 58, 230, 104, 252, 175, 150, 123, 86, 185, 84, 90, 198, 6, 36, 0, 99, 72, 28, 166, 238, 115, 231, 171, 249, 179, 71, 174, 68, 156, 227, 17, 198, 79, 73, 142, 99, 144, 20, 80, 62, 80, 191, 142, 46, 71, 9, 243, 6, 8, 214, 116, 72, 190, 106, 161, 19, 185, 100, 9, 187, 64, 94, 86, 203, 174, 156, 245, 222, 95, 54, 30, 148, 19, 11, 50, 112, 96, 61, 237, 159, 173, 7, 154, 127, 175, 79, 48, 97, 89, 78, 126, 66, 171, 204, 158, 195, 27, 226, 205, 222, 157, 89, 251, 90, 125, 37, 212, 27, 97, 3, 141, 247, 175, 50, 121, 7, 187, 68, 196, 181, 202, 167, 189, 57, 84, 81, 222, 23, 27, 84, 130, 176, 98, 66, 240, 207, 18, 23, 28, 163, 163, 194, 45, 37, 129, 202, 170, 97, 189, 0, 81, 238, 0, 39, 199, 163, 35, 211, 206, 247, 65, 29, 116, 242, 67, 102, 235, 13, 136, 232, 230, 114, 146, 187, 7, 254, 142, 26, 121, 16, 237, 5, 160, 201, 114, 94, 178, 199, 95, 212, 241, 45, 112, 180, 188, 72, 86, 114, 189, 155, 149, 149, 163, 210, 112, 101, 12, 69, 225, 75, 202, 223, 28, 242, 90, 215, 156, 169, 224, 245, 135, 128, 92, 148, 217, 131, 208, 255, 25, 135, 117, 136, 5, 104, 185, 249, 161, 228, 214, 16, 105, 204, 9, 182, 135, 153, 220, 101, 244, 160, 207, 58, 182, 118, 185, 240, 57, 245, 123, 13, 112, 182, 106, 229, 220, 90, 29, 86, 215, 96, 147, 232, 2, 55, 131, 225, 137, 68, 245, 89, 141, 252, 97, 3, 129, 155, 216, 223, 98, 116, 45, 78, 85, 141, 161, 74, 215, 7, 150, 171, 225, 59, 78, 221, 152, 236, 14, 117, 100, 208, 158, 86, 13, 185, 124, 87, 157, 111, 40, 187, 182, 124, 173, 71, 173, 23, 199, 52, 155, 190, 134, 11, 23, 64, 25, 215, 39, 115, 231, 173, 77, 72, 114, 54, 252, 116, 178, 59, 221, 106, 241, 119, 254, 30, 226, 241, 204, 233, 113, 197, 96, 146, 0, 41, 67, 3, 231, 126, 12, 218, 202, 22, 171, 114, 249, 176, 134, 160, 19, 216, 31, 229, 118, 226, 62, 242, 126, 126, 42, 127, 130, 68, 218, 218, 81, 202, 106, 217, 191, 25, 177, 82, 97, 81, 36, 232, 137, 58, 90, 216, 190, 117, 235, 20, 194, 144, 76, 178, 27, 213, 13, 208, 18, 29, 118, 126, 49, 98, 203, 179, 128, 237, 100, 32, 242, 189, 212, 6, 210, 210, 188, 161, 205, 13, 124, 119, 13, 215, 112, 41, 183, 176, 215, 168, 210, 182, 111, 1, 115, 2, 239, 141, 8, 177, 124, 112, 48, 197, 2, 239, 11, 99, 4, 36, 77, 69, 47, 244, 19, 153, 61, 19, 2, 96, 176, 7, 112, 122, 131, 169, 25, 189, 116, 171, 49, 12, 121, 162, 79, 154, 74, 251, 50, 233, 182, 63, 180, 224, 118, 49, 253, 21, 20, 16, 31, 144, 184, 93, 174, 231, 244, 183, 13, 49, 225, 189, 211, 73, 185, 49, 110, 142, 25, 226, 45, 176, 233, 204, 74, 33, 16, 205, 88, 131, 92, 157, 170, 175, 68, 170, 61, 53, 116, 165, 16, 27, 182, 160, 181, 87, 241, 15, 151, 85, 107, 76, 167, 129, 25, 172, 127, 184, 138, 153, 222, 228, 125, 64, 44, 45, 32, 12, 227, 148, 106, 152, 83, 240, 166, 54, 235, 32, 190, 12, 242, 164, 123, 189, 53, 194, 141, 104, 43, 202, 110, 4, 168, 119, 245, 232, 179, 178, 198, 1, 224, 87, 86, 160, 31, 19, 140, 233, 102, 191, 204, 4, 98, 138, 163, 191, 106, 24, 213, 47, 208, 82, 137, 132, 131, 16, 253, 84, 25, 144, 90, 159, 148, 16, 196, 84, 166, 61, 160, 101, 229, 227, 93, 118, 59, 87, 66, 16, 128, 59, 96, 131, 250, 20, 184, 150, 205, 91, 227, 201, 62, 35, 79, 180, 172, 173, 85, 197, 106, 153, 238, 229, 60, 204, 65, 193, 230, 94, 101, 177, 134, 6, 165, 53, 171, 142, 208, 155, 2, 11, 4, 202, 127, 54, 17, 142, 117, 227, 121, 128, 204, 192, 147, 147, 92, 189, 5, 224, 148, 72, 18, 83, 101, 126, 124, 228, 153, 242, 123, 229, 247, 92, 221, 6, 73, 227, 250, 87, 167, 194, 129, 187, 73, 38, 185, 109, 217, 240, 193, 88, 50, 178, 180, 151, 54, 197, 187, 137, 190, 166, 233, 1, 103, 204, 88, 31, 127, 185, 29, 65, 1, 29, 254, 223, 14, 83, 167, 215, 114, 248, 30, 173, 89, 173, 187, 69, 5, 105, 117, 15, 106, 94, 173, 63, 227, 25, 230, 190, 136, 168, 177, 175, 107, 91, 126, 254, 34, 188, 25, 118, 48, 12, 226, 130, 153, 162, 57, 47, 181, 212, 79, 160, 97, 64, 157, 246, 90, 53, 43, 149, 76, 102, 15, 195, 107, 58, 242, 84, 172, 29, 81, 198, 113, 81, 251, 138, 182, 154, 111, 30, 171, 129, 56, 17, 45, 214, 153, 112, 117, 203, 174, 40, 38, 234, 236, 32, 4, 112, 225, 26, 187, 195, 246, 252, 9, 218, 69, 160, 223, 178, 54, 148, 81, 8, 134, 151, 75, 248, 63, 224, 240, 48, 75, 250, 221, 85, 46, 100, 50, 3, 70, 64, 102, 111, 160, 155, 233, 59, 147, 184, 57, 61, 6, 126, 79, 176, 16, 185, 94, 166, 33, 135, 78, 42, 75, 140, 208, 140, 44, 153, 187, 64, 103, 119, 160, 236, 16, 239, 74, 218, 219, 212, 207, 110, 53, 30, 76, 248, 40, 111, 98, 44, 20, 113, 204, 233, 109, 135, 96, 107, 39, 163, 203, 125, 45, 157, 152, 71, 239, 175, 174, 159, 147, 80, 111, 93, 38, 253, 228, 154, 225, 181, 101, 12, 241, 127, 65, 49, 189, 5, 85, 151, 237, 213, 143, 14, 104, 138, 54, 52, 27, 4, 132, 67, 35, 156, 86, 157, 73, 16, 229, 222, 245, 110, 79, 165, 179, 56, 179, 53, 218, 229, 100, 58, 87, 149, 48, 231, 64, 63, 115, 67, 3, 172, 6, 186, 115, 154, 60, 53, 214, 152, 149, 89, 234, 37, 143, 82, 255, 64, 28, 183, 93, 112, 39, 70, 185, 57, 0, 199, 9, 61, 175, 219, 41, 76, 37, 176, 82, 125, 65, 53, 160, 214, 105, 62, 153, 244, 222, 96, 205, 6, 178, 85, 41, 240, 113, 0, 96, 149, 38, 3, 195, 18, 152, 41, 246, 3, 103, 29, 110, 134, 30, 101, 75, 46, 103, 199, 184, 20, 230, 8, 55, 120, 4, 229, 168, 35, 43, 7, 28, 161, 143, 87, 27, 87, 79, 255, 186, 44, 195, 158, 155, 181, 119, 81, 172, 217, 107, 95, 98, 55, 243, 186, 66, 105, 48, 224, 123, 232, 84, 156, 20, 10, 156, 208, 204, 52, 34, 228, 136, 97, 242, 200, 246, 211, 67, 202, 40, 241, 91, 92, 253, 9, 54, 72, 131, 221, 106, 178, 32, 44, 182, 4, 225, 193, 37, 20, 249, 249, 231, 10, 206, 18, 71, 254, 221, 187, 172, 88, 204, 6, 127, 138, 102, 7, 208, 75, 147, 219, 199, 177, 79, 36, 170, 101, 207, 177, 109, 95, 143, 217, 41, 199, 80, 183, 201, 2, 254, 12, 55, 23, 198, 14, 255, 69, 245, 138, 155, 129, 227, 167, 168, 130, 156, 135, 14, 96, 93, 48, 99, 143, 107, 126, 92, 117, 143, 112, 108, 193, 228, 84, 13, 41, 186, 27, 172, 92, 201, 149, 116, 19, 112, 197, 116, 209, 128, 102, 1, 55, 152, 177, 28, 37, 34, 50, 83, 41, 199, 74, 178, 59, 111, 67, 118, 35, 252, 36, 33, 87, 28, 170, 17, 215, 47, 90, 154, 124, 137, 15, 14, 211, 59, 75, 59, 30, 77, 0, 49, 37, 225, 191, 87, 101, 127, 214, 227, 160, 99, 174, 234, 82, 148, 235, 16, 241, 219, 147, 170, 127, 221, 250, 116, 39, 218, 156, 72, 227, 172, 55, 0, 79, 188, 76, 51, 222, 232, 24, 36, 62, 94, 154, 3, 61, 230, 146, 114, 253, 0, 128, 58, 253, 90, 72, 211, 242, 38, 39, 133, 153, 161, 119, 105, 195, 152, 225, 208, 105, 140, 80, 217, 186, 196, 157, 21, 116, 230, 116, 139, 25, 159, 143, 118, 128, 77, 201, 238, 247, 228, 15, 168, 4, 133, 148, 21, 148, 12, 44, 241, 7, 115, 17, 129, 176, 202, 46, 130, 122, 129, 235, 141, 223, 85, 21, 199, 65, 181, 169, 52, 174, 161, 153, 62, 25, 164, 115, 213, 89, 138, 199, 103, 79, 200, 165, 135, 249, 244, 27, 209, 178, 240, 129, 211, 61, 9, 111, 157, 147, 119, 36, 119, 255, 110, 130, 84, 49, 210, 225, 247, 100, 26, 121, 127, 163, 160, 26, 79, 99, 24, 77, 65, 32, 178, 109, 36, 27, 253, 173, 110, 183, 11, 14, 211, 57, 130, 254, 124, 104, 165, 219, 31, 70, 97, 14, 194, 39, 61, 26, 141, 125, 228, 126, 194, 184, 101, 160, 204, 106, 128, 144, 106, 103, 171, 18, 246, 129, 220, 85, 172, 151, 123, 5, 73, 155, 192, 175, 91, 157, 239, 61, 237, 116, 170, 65, 233, 56, 19, 49, 114, 168, 190, 3, 214, 53, 250, 90, 213, 244, 88, 101, 30, 229, 248, 124, 15, 71, 141, 27, 172, 235, 21, 129, 211, 72, 61, 172, 112, 170, 128, 135, 96, 196, 221, 255, 27, 176, 105, 188, 183, 121, 33, 37, 149, 53, 131, 226, 233, 29, 167, 234, 218, 109, 53, 185, 152, 36, 248, 53, 61, 235, 78, 21, 201, 214, 210, 163, 12, 251, 187, 45, 188, 137, 126, 127, 237, 92, 234, 91, 240, 225, 38, 194, 57, 213, 251, 237, 171, 30, 99, 52, 14, 49, 84, 101, 252, 237, 7, 166, 122, 114, 32, 107, 32, 207, 239, 136, 168, 178, 12, 11, 241, 233, 230, 146, 132, 18, 83, 233, 41, 172, 17, 6, 161, 42, 113, 87, 40, 255, 185, 1, 146, 128, 5, 240, 126, 131, 71, 42, 54, 124, 205, 2, 122, 71, 30, 222, 229, 40, 134, 142, 102, 97, 239, 151, 177, 1, 230, 231, 49, 123, 219, 28, 129, 91, 152, 112, 13, 154, 81, 197, 226, 255, 112, 158, 178, 177, 55, 181, 108, 138, 185, 245, 29, 186, 21, 73, 188, 209, 154, 200, 89, 116, 235, 198, 144, 36, 87, 248, 22, 7, 200, 122, 7, 148, 44, 42, 87, 140, 238, 204, 95, 231, 252, 0, 136, 0, 22, 39, 70, 123, 125, 165, 113, 227, 172, 146, 163, 128, 158, 36, 52, 91, 19, 36, 245, 27, 150, 138, 141, 11, 67, 239, 224, 65, 24, 116, 101, 7, 39, 46, 142, 172, 164, 243, 148, 0, 33, 226, 59, 47, 203, 137, 156, 241, 66, 250, 157, 30, 204, 101, 143, 134, 98, 238, 155, 226, 25, 184, 136, 219, 89, 100, 193, 11, 143, 71, 139, 243, 230, 151, 0, 249, 1, 78, 26, 32, 93, 104, 157, 67, 97, 164, 248, 86, 124, 146, 93, 74, 222, 228, 167, 55, 53, 100, 135, 216, 109, 13, 64, 37, 106, 177, 200, 200, 182, 92, 251, 69, 31, 243, 89, 80, 198, 14, 132, 203, 72, 103, 28, 104, 217, 24, 97, 223, 113, 11, 29, 178, 191, 210, 46, 162, 255, 68, 99, 8, 237, 213, 162, 152, 193, 183, 121, 203, 19, 108, 182, 29, 86, 26, 192, 103, 220, 103, 205, 154, 179, 197, 9, 22, 73, 127, 175, 146, 38, 119, 210, 0, 24, 180, 21, 245, 215, 204, 91, 186, 119, 138, 183, 239, 15, 155, 231, 248, 133, 39, 24, 101, 144, 236, 10, 230, 54, 174, 227, 73, 21, 110, 10, 160, 241, 232, 131, 14, 212, 127, 232, 59, 122, 65, 146, 54, 163, 9, 189, 190, 121, 88, 170, 62, 194, 14, 204, 152, 245, 38, 131, 37, 91, 81, 72, 114, 29, 115, 239, 182, 56, 44, 156, 159, 177, 180, 82, 160, 93, 97, 86, 183, 236, 50, 95, 85, 39, 71, 181, 225, 152, 143, 63, 123, 117, 34, 44, 109, 160, 166, 229, 240, 91, 138, 102, 54, 180, 173, 44, 50, 80, 42, 124, 7, 50, 124, 211, 239, 21, 94, 197, 185, 239, 213, 107, 142, 64, 95, 124, 125, 17, 180, 97, 189, 101, 52, 48, 19, 112, 12, 70, 9, 212, 177, 54, 118, 66, 84, 147, 236, 248, 26, 124, 95, 103, 135, 254, 124, 49, 112, 186, 99, 120, 90, 8, 194, 191, 88, 57, 242, 65, 61, 10, 104, 246, 197, 252, 19, 159, 58, 194, 75, 173, 242, 103, 8, 115, 84, 69, 238, 149, 26, 15, 159, 182, 141, 132, 119, 70, 29, 53, 20, 143, 46, 163, 204, 6, 236, 59, 45, 185, 172, 89, 119, 83, 38, 144, 36, 222, 96, 151, 26, 99, 195, 163, 170, 133, 92, 159, 214, 53, 150, 116, 90, 176, 69, 145, 130, 15, 172, 140, 217, 215, 101, 163, 115, 161, 65, 101, 8, 7, 183, 113, 213, 134, 58, 175, 130, 251, 143, 173, 248, 168, 135, 60, 159, 30, 194, 68, 208, 119, 120, 2, 40, 178, 227, 247, 161, 77, 47, 136, 46, 244, 163, 72, 65, 158, 25, 225, 195, 61, 132, 182, 204, 177, 186, 200, 81, 2, 65, 105, 212, 72, 94, 203, 232, 217, 182, 123, 251, 228, 160, 1, 161, 204, 123, 20, 37, 1, 77, 208, 179, 45, 149, 181, 122, 102, 190, 123, 213, 164, 231, 41, 216, 130, 234, 248, 208, 251, 252, 220, 84, 209, 67, 47, 61, 220, 5, 142, 162, 26, 236, 121, 142, 248, 132, 255, 65, 122, 203, 196, 102, 191, 187, 2, 195, 127, 255, 193, 92, 49, 91, 186, 154, 39, 156, 29, 211, 172, 49, 104, 245, 114, 153, 223, 211, 199, 249, 35, 130, 160, 128, 0, 152, 176, 183, 20, 236, 113, 193, 108, 26, 255, 11, 237, 102, 133, 245, 94, 115, 114, 10, 89, 229, 214, 221, 99, 149, 30, 99, 37, 246, 10, 26, 26, 39, 92, 123, 170, 73, 211, 127, 227, 54, 30, 86, 133, 159, 112, 225, 91, 148, 100, 174, 149, 75, 143, 14, 140, 20, 44, 64, 212, 5, 243, 8, 116, 63, 30, 97, 42, 123, 20, 73, 212, 85, 207, 83, 122, 27, 251, 233, 84, 10, 17, 236, 232, 83, 200, 127, 119, 143, 163, 204, 220, 167, 59, 231, 20, 106, 186, 222, 191, 8, 40, 234, 21, 25, 180, 13, 116, 250, 152, 224, 174, 75, 3, 205, 38, 173, 215, 236, 151, 185, 121, 254, 244, 154, 239, 17, 53, 106, 164, 61, 49, 116, 216, 118, 94, 150, 35, 181, 26, 238, 66, 49, 211, 221, 132, 146, 166, 115, 39, 136, 36, 205, 230, 179, 31, 197, 51, 148, 165, 109, 38, 70, 37, 148, 52, 44, 209, 250, 98, 58, 246, 225, 103, 198, 101, 26, 25, 196, 207, 8, 166, 21, 88, 252, 175, 253, 10, 88, 107, 157, 19, 225, 61, 12, 246, 221, 37, 239, 186, 167, 137, 142, 135, 222, 128, 174, 62, 95, 216, 38, 141, 157, 45, 232, 97, 217, 173, 203, 234, 116, 129, 69, 206, 189, 94, 221, 12, 54, 139, 186, 247, 184, 16, 200, 121, 244, 104, 8, 7, 35, 111, 47, 188, 10, 140, 92, 73, 143, 206, 203, 72, 122, 184, 20, 102, 197, 130, 64, 150, 63, 96, 239, 8, 132, 111, 217, 84, 91, 198, 32, 43, 100, 138, 241, 15, 160, 42, 190, 253, 193, 184, 164, 124, 29, 210, 96, 67, 224, 221, 182, 29, 218, 129, 149, 29, 128, 174, 98, 88, 88, 125, 56, 40, 255, 120, 5, 0, 87, 174, 42, 150, 90, 112, 201, 183, 169, 19, 57, 195, 191, 12, 58, 244, 235, 132, 25, 145, 72, 146, 214, 8, 125, 100, 135, 12, 5, 102, 97, 248, 174, 24, 159, 90, 33, 43, 187, 6, 61, 212, 241, 225, 190, 219, 252, 197, 123, 129, 164, 108, 123, 55, 230, 4, 153, 166, 105, 234, 15, 85, 216, 23, 56, 32, 3, 41, 110, 68, 146, 172, 133, 202, 98, 41, 7, 47, 152, 35, 255, 168, 106, 241, 226, 222, 77, 244, 52, 185, 65, 252, 227, 32, 66, 38, 11, 172, 60, 28, 28, 103, 84, 1, 1, 205, 182, 190, 28, 189, 102, 253, 43, 1, 191, 148, 116, 10, 227, 18, 81, 93, 80, 239, 157, 232, 215, 180, 163, 165, 161, 109, 177, 71, 150, 244, 144, 208, 160, 110, 22, 174, 60, 206, 43, 103, 121, 55, 103, 114, 115, 173, 238, 13, 10, 227, 251, 41, 176, 216, 158, 229, 216, 55, 234, 128, 128, 20, 167, 106, 181, 86, 163, 130, 215, 110, 149, 191, 10, 227, 215, 8, 214, 154, 178, 181, 15, 19, 0, 247, 250, 97, 74, 43, 157, 55, 94, 174, 41, 41, 9, 199, 97, 20, 91, 32, 18, 10, 43, 98, 240, 247, 203, 20, 250, 117, 160, 44, 229, 202, 187, 64, 54, 124, 15, 184, 169, 129, 27, 160, 240, 26, 61, 255, 60, 166, 60, 144, 209, 84, 55, 187, 186, 168, 13, 124, 125, 29, 17, 100, 249, 227, 62, 205, 78, 179, 163, 168, 139, 168, 21, 38, 83, 239, 151, 74, 43, 66, 2, 92, 72, 71, 94, 216, 134, 238, 20, 45, 158, 213, 164, 73, 57, 80, 47, 198, 184, 130, 223, 227, 71, 132, 133, 235, 177, 85, 174, 142, 124, 172, 200, 54, 229, 40, 126, 60, 76, 92, 216, 153, 56, 241, 174, 66, 141, 90, 226, 3, 30, 68, 234, 71, 187, 163, 112, 146, 255, 22, 143, 170, 204, 3, 127, 179, 81, 139, 160, 37, 77, 246, 128, 220, 196, 158, 153, 73, 177, 65, 199, 119, 29, 197, 144, 130, 248, 206, 155, 253, 108, 213, 124, 7, 223, 221, 162, 146, 134, 242, 65, 99, 162, 107, 120, 247, 214, 207, 96, 150, 169, 131, 208, 218, 221, 28, 24, 112, 208, 23, 1, 130, 142, 232, 56, 104, 45, 33, 158, 95, 255, 123, 31, 74, 76, 120, 178, 155, 213, 6, 195, 164, 8, 8, 69, 241, 197, 127, 83, 169, 21, 167, 19, 94, 143, 252, 33, 159, 248, 241, 170, 153, 147, 1, 149, 199, 201, 131, 170, 79, 236, 212, 209, 143, 107, 98, 24, 123, 56, 33, 193, 85, 247, 64, 225, 135, 210, 78, 145, 57, 16, 145, 71, 170, 20, 133, 87, 235, 4, 166, 239, 100, 82, 235, 81, 50, 223, 9, 193, 52, 49, 86, 129, 190, 196, 82, 165, 107, 63, 115, 161, 98, 33, 20, 193, 29, 42, 151, 205, 252, 124, 72, 245, 48, 181, 67, 7, 13, 21, 127, 59, 226, 188, 144, 129, 112, 244, 192, 121, 213, 80, 42, 196, 1, 13, 107, 108, 78, 0, 40, 121, 225, 148, 237, 234, 209, 216, 238, 9, 147, 226, 254, 96, 89, 212, 72, 193, 106, 75, 135, 74, 227, 67, 255, 92, 191, 81, 188, 124, 226, 149, 152, 142, 15, 159, 195, 238, 114, 55, 255, 166, 157, 230, 59, 148, 170, 166, 151, 65, 213, 104, 253, 253, 112, 150, 82, 147, 137, 27, 214, 100, 247, 65, 81, 92, 47, 86, 217, 7, 45, 120, 81, 130, 31, 236, 243, 76, 78, 3, 45, 105, 172, 220, 71, 48, 220, 94, 196, 249, 163, 193, 133, 50, 236, 205, 20, 55, 2, 63, 14, 127, 69, 113, 212, 204, 12, 58, 79, 89, 86, 29, 61, 199, 201, 64, 149, 6, 144, 182, 150, 129, 31, 18, 167, 120, 248, 82, 107, 25, 143, 128, 27, 161, 28, 25, 153, 183, 217, 238, 78, 186, 106, 92, 27, 202, 219, 165, 96, 0, 216, 234, 169, 73, 101, 39, 182, 113, 217, 240, 170, 116, 172, 221, 250, 233, 48, 49, 242, 83, 227, 92, 181, 184, 72, 230, 180, 21, 15, 108, 135, 25, 38, 153, 25, 124, 227, 26, 149, 73, 236, 39, 211, 244, 149, 58, 183, 132, 26, 223, 219, 174, 144, 117, 233, 219, 165, 205, 157, 159, 222, 184, 52, 47, 241, 201, 123, 65, 24, 44, 55, 215, 177, 168, 250, 179, 115, 190, 227, 123, 158, 163, 179, 224, 69, 196, 66, 207, 254, 243, 101, 221, 193, 140, 250, 4, 28, 222, 52, 96, 138, 160, 33, 218, 64, 118, 214, 234, 201, 152, 148, 91, 178, 111, 107, 144, 142, 6, 182, 102, 72, 188, 34, 213, 181, 26, 223, 58, 255, 103, 81, 17, 47, 169, 11, 245, 224, 123, 148, 215, 237, 186, 107, 75, 152, 90, 202, 166, 22, 149, 197, 5, 246, 238, 78, 76, 229, 106, 199, 94, 127, 195, 0, 45, 82, 6, 159, 103, 96, 138, 231, 71, 46, 107, 59, 216, 39, 43, 12, 221, 27, 214, 56, 155, 145, 66, 187, 169, 250, 235, 78, 211, 179, 239, 183, 198, 163, 93, 5, 196, 24, 174, 143, 225, 106, 139, 89, 98, 13, 127, 207, 184, 194, 30, 1, 165, 198, 169, 8, 197, 118, 86, 163, 221, 138, 23, 209, 61, 116, 79, 99, 233, 43, 130, 60, 244, 85, 229, 243, 172, 123, 148, 200, 120, 192, 127, 211, 52, 11, 159, 41, 95, 212, 230, 188, 169, 156, 137, 29, 212, 12, 148, 168, 148, 133, 243, 44, 241, 139, 127, 24, 246, 220, 227, 125, 209, 97, 60, 52, 162, 192, 146, 49, 161, 92, 138, 112, 189, 128, 59, 126, 125, 46, 207, 60, 79, 231, 174, 152, 209, 68, 223, 205, 2, 38, 14, 91, 116, 159, 255, 28, 27, 178, 248, 164, 104, 158, 79, 69, 214, 234, 157, 12, 75, 163, 83, 253, 245, 202, 61, 213, 176, 6, 197, 230, 29, 208, 166, 253, 194, 254, 235, 29, 141, 241, 70, 249, 15, 62, 0, 148, 163, 135, 52, 122, 40, 96, 87, 31, 179, 152, 51, 216, 133, 184, 122, 198, 203, 60, 115, 218, 191, 193, 16, 178, 25, 148, 252, 112, 104, 103, 252, 36, 92, 221, 28, 179, 43, 199, 198, 151, 128, 100, 252, 217, 161, 249, 34, 201, 172, 118, 52, 180, 252, 104, 7, 223, 44, 116, 102, 212, 21, 40, 224, 184, 55, 163, 210, 21, 207, 161, 239, 51, 54, 155, 41, 133, 18, 67, 48, 3, 165, 130, 251, 4, 79, 214, 57, 72, 130, 157, 212, 144],\n      ps = [0, 1, 3, 4, 6, 7, 9, 10, 12, 13, 15, 16, 18, 19, 21, 22, 24, 26, 29, 31, 34, 36, 39, 41, 44, 46, 49, 51, 54, 56, 59, 61, 64, 65, 66, 67, 68, 69, 70, 72, 73, 74, 75, 76, 77, 79, 80, 81, 82, 83, 84, 85, 87, 88, 89, 90, 91, 92, 94, 95, 96, 97, 98, 99, 101, 102, 103, 104, 105, 106, 107, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 123, 124, 125, 126, 127, 128, 129, 131, 132, 133, 134, 135, 136, 138, 139, 140, 141, 142, 143, 145, 146, 147, 148, 149, 150, 151, 153, 154, 155, 156, 157, 158, 160, 161, 162, 163, 164, 165, 166, 168, 169, 170, 171, 172, 173, 175, 176, 177, 178, 179, 180, 182, 183, 184, 185, 186, 187, 188, 190, 191, 192, 193, 194, 195, 197, 198, 199, 200, 201, 202, 204, 205, 206, 207, 208, 209, 210, 212, 213, 214, 215, 216, 217, 219, 220, 221, 222, 223, 224, 226, 226, 226, 227, 227, 227, 228, 228, 228, 229, 229, 229, 230, 230, 231, 231, 231, 232, 232, 232, 233, 233, 233, 234, 234, 235, 235, 235, 236, 236, 236, 237, 237, 237, 238, 238, 239, 239, 239, 240, 240, 240, 241, 241, 241, 242, 242, 243, 243, 243, 244, 244, 244, 245, 245, 245, 246, 246, 246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, 253, 253, 253, 254, 254, 254, 255],\n      Ln = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 33, 35, 36, 37, 39, 40, 42, 43, 44, 46, 47, 49, 50, 51, 53, 54, 56, 57, 58, 59, 61, 62, 63, 64, 66, 67, 68, 69, 71, 72, 73, 74, 76, 77, 78, 79, 81, 82, 83, 84, 86, 87, 88, 90, 91, 92, 93, 95, 96, 97, 98, 100, 101, 102, 103, 105, 106, 107, 108, 110, 111, 112, 113, 115, 116, 117, 118, 120, 121, 122, 124, 125, 126, 127, 129, 130, 131, 132, 134, 135, 136, 137, 139, 140, 141, 142, 144, 145, 146, 147, 149, 150, 151, 152, 154, 155, 156, 158, 159, 160, 161, 163, 164, 165, 166, 168, 169, 170, 171, 173, 174, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 188, 189, 190, 192, 193, 194, 195, 197, 198, 199, 200, 202, 203, 204, 205, 207, 208, 209, 210, 212, 213, 214, 215, 217, 218, 219, 220, 222, 223, 224, 226, 226, 226, 227, 227, 228, 228, 229, 229, 230, 230, 231, 231, 232, 232, 233, 233, 234, 234, 234, 235, 235, 236, 236, 237, 237, 238, 238, 239, 239, 240, 240, 241, 241, 242, 242, 243, 243, 243, 244, 244, 244, 245, 245, 245, 246, 246, 246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, 253, 253, 253, 254, 254, 254, 255],\n      qs = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38, 39, 40, 41, 43, 44, 45, 46, 47, 48, 50, 51, 52, 53, 54, 55, 56, 58, 59, 60, 61, 62, 63, 65, 66, 67, 68, 69, 70, 72, 73, 74, 76, 77, 78, 80, 81, 83, 84, 85, 87, 88, 89, 91, 92, 94, 95, 96, 98, 99, 100, 102, 103, 105, 106, 107, 109, 110, 111, 113, 114, 116, 117, 118, 120, 121, 122, 124, 125, 127, 128, 129, 131, 132, 133, 135, 136, 138, 139, 140, 142, 143, 144, 146, 147, 149, 150, 151, 153, 154, 155, 157, 158, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 192, 193, 193, 194, 195, 195, 196, 197, 197, 198, 199, 199, 200, 201, 201, 202, 203, 203, 204, 205, 205, 206, 207, 207, 208, 209, 209, 210, 211, 211, 212, 213, 213, 214, 215, 215, 216, 217, 217, 218, 219, 219, 220, 221, 221, 222, 223, 223, 224, 225, 225, 226, 227, 227, 228, 229, 229, 230, 231, 231, 232, 233, 233, 234, 235, 235, 236, 237, 237, 238, 239, 239, 240, 241, 241, 242, 243, 243, 244, 245, 245, 246, 247, 247, 248, 249, 249, 250, 251, 251, 252, 253, 253, 254, 255];\n\n  var rs =\n  /*#__PURE__*/\n  function (_vc4) {\n    _inherits(rs, _vc4);\n\n    function rs(a, b, c, e) {\n      var _this89;\n\n      _classCallCheck(this, rs);\n\n      _this89 = _possibleConstructorReturn(this, _getPrototypeOf(rs).call(this, a, os, c, e));\n      _this89.lightLevel = .1;\n      _this89.rednessLevel = .5;\n      _this89.mskin_he_max = 175 / 180 * 3.141593;\n      _this89.mskin_he_min = 115 / 180 * 3.141593;\n      _this89.mskin_hc_max = 173 / 180 * 3.141593;\n      _this89.mskin_hc_min = 116 / 180 * 3.141593;\n      _this89.mskin_hc_axis = 2.04203545;\n      _this89.mfacts_rotate_ge = _this89.mfacts_rotate_le = _this89.mfacts_rotate_c = 0;\n      _this89.tab_addr = null;\n      _this89.lutTextures = [];\n      _this89.inputTexture = b;\n\n      _this89.init();\n\n      return _this89;\n    }\n\n    _createClass(rs, [{\n      key: \"setUniforms\",\n      value: function setUniforms() {\n        var a = this.gl.getUniformLocation(this.program, \"u_flipY\"),\n            b = this.gl.getUniformLocation(this.program, \"u_denoiseLevel\");\n        this.gl.uniform1f(b, this.denoiseLevel);\n        this.gl.uniform1f(a, 1);\n        a = this.gl.getUniformLocation(this.program, \"light\");\n        this.gl.uniform1f(a, this.lightLevel);\n        a = this.gl.getUniformLocation(this.program, \"redness\");\n        this.gl.uniform1f(a, this.rednessLevel);\n        a = this.gl.getUniformLocation(this.program, \"skin_he_max\");\n        b = this.gl.getUniformLocation(this.program, \"skin_he_min\");\n        var c = this.gl.getUniformLocation(this.program, \"skin_hc_max\"),\n            e = this.gl.getUniformLocation(this.program, \"skin_hc_min\");\n        var f = this.gl.getUniformLocation(this.program, \"skin_hc_axis\"),\n            h = this.gl.getUniformLocation(this.program, \"facts_rotate_c\"),\n            k = this.gl.getUniformLocation(this.program, \"facts_rotate_le\"),\n            r = this.gl.getUniformLocation(this.program, \"facts_rotate_ge\");\n        this.gl.uniform1f(a, this.mskin_he_max);\n        this.gl.uniform1f(b, this.mskin_he_min);\n        this.gl.uniform1f(c, this.mskin_hc_max);\n        this.gl.uniform1f(e, this.mskin_hc_min);\n        this.gl.uniform1f(f, this.mskin_hc_axis);\n        this.gl.uniform1f(h, this.mfacts_rotate_c);\n        this.gl.uniform1f(k, this.mfacts_rotate_le);\n        this.gl.uniform1f(r, this.mfacts_rotate_ge);\n        a = this.gl.getUniformLocation(this.program, \"u_originImage\");\n        this.gl.activeTexture(this.gl.TEXTURE2);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.inputTexture);\n        this.gl.uniform1i(a, 2);\n        a = [\"lighten_lut\"];\n        b = [this.gl.TEXTURE3];\n\n        for (c = 0; c < a.length; c++) {\n          e = this.gl.getUniformLocation(this.program, a[c]), this.gl.activeTexture(b[c]), this.gl.bindTexture(this.gl.TEXTURE_2D, this.lutTextures[c]), this.gl.uniform1i(e, c + 3);\n        }\n      }\n    }, {\n      key: \"setParameters\",\n      value: function setParameters(a) {\n        void 0 !== a.denoiseLevel && (this.denoiseLevel = a.denoiseLevel);\n        void 0 !== a.lightLevel && (this.lightLevel = a.lightLevel);\n        void 0 !== a.rednessLevel && (this.rednessLevel = a.rednessLevel, this.updateRedness(this.rednessLevel));\n        a.lighteningContrastLevel && this.updateLut(a.lighteningContrastLevel);\n      }\n    }, {\n      key: \"init\",\n      value: function init() {\n        this.tab_addr = new Uint8Array(Ln);\n        var a = [this.tab_addr],\n            b = [256],\n            c = [1];\n\n        for (var _e5 = 0; _e5 < a.length; _e5++) {\n          var _f4 = this.gl.createTexture();\n\n          if (!_f4) throw new q(n.WEBGL_INTERNAL_ERROR, \"create lut texture failed\");\n          this.gl.bindTexture(this.gl.TEXTURE_2D, _f4);\n          this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.LUMINANCE, b[_e5], c[_e5], 0, this.gl.LUMINANCE, this.gl.UNSIGNED_BYTE, a[_e5]);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n          this.lutTextures.push(_f4);\n        }\n      }\n    }, {\n      key: \"updateRedness\",\n      value: function updateRedness(a) {\n        var b = a;\n        1 < a && (a = 1);\n        0 > a && (a = 0);\n        1 < b && (b = 1);\n        0 > b && (b = 0);\n        this.mfacts_rotate_c = .8 * a;\n        .8 > b && (b = 0);\n        this.mskin_he_max = 175 / 180 * 3.141593;\n        this.mskin_hc_max = 173 / 180 * 3.141593;\n        this.mskin_he_min = (115 - 4 * b) / 180 * 3.141593;\n        this.mskin_hc_min = (116 - 4 * b) / 180 * 3.141593;\n        this.mskin_hc_axis = (117 - 4 * b) / 180 * 3.141593;\n        this.mskin_hc_axis < this.mskin_hc_min && (this.mskin_hc_axis = this.mskin_hc_min);\n        1.5707965 > this.mskin_hc_min && (this.mskin_hc_min = 1.5707965);\n        1.5707965 > this.mskin_hc_axis && (this.mskin_hc_axis = 1.5707965);\n        1.5707965 > this.mskin_he_min && (this.mskin_he_min = 1.5707965);\n        3.141593 < this.mskin_hc_max && (this.mskin_hc_max = 3.141593);\n        3.141593 < this.mskin_hc_axis && (this.mskin_hc_axis = 3.141593);\n        3.141593 < this.mskin_he_max && (this.mskin_he_max = 3.141593);\n        a = this.mskin_he_max - this.mskin_hc_max;\n        b = this.mskin_hc_max - this.mskin_hc_axis;\n        this.mfacts_rotate_ge = .01 < a ? this.mfacts_rotate_c * b / a : this.mfacts_rotate_c;\n        a = this.mskin_hc_min - this.mskin_he_min;\n        b = this.mskin_hc_axis - this.mskin_hc_min;\n        this.mfacts_rotate_le = .01 < a ? this.mfacts_rotate_c * b / a : this.mfacts_rotate_c;\n      }\n    }, {\n      key: \"updateLut\",\n      value: function updateLut(a) {\n        var b = null;\n        if (0 === a && (b = Ln), 1 === a && (b = qs), 2 === a && (b = ps), !b) throw new q(n.WEBGL_INTERNAL_ERROR, \"invalid ylut_table value:\" + a);\n        this.tab_addr = new Uint8Array(b);\n        a = [this.tab_addr];\n        b = [256];\n        var c = [1];\n\n        for (var _e6 = 0; _e6 < a.length; _e6++) {\n          this.gl.bindTexture(this.gl.TEXTURE_2D, this.lutTextures[_e6]), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.LUMINANCE, b[_e6], c[_e6], 0, this.gl.LUMINANCE, this.gl.UNSIGNED_BYTE, a[_e6]);\n        }\n      }\n    }]);\n\n    return rs;\n  }(vc);\n\n  var ss =\n  /*#__PURE__*/\n  function () {\n    function ss() {\n      _classCallCheck(this, ss);\n\n      this.canvas = this.gl = null;\n      this.programs = [];\n      this.inputTexture = this.commonProgram = null;\n      this.outputTextures = [];\n      this.fbos = [];\n      this.originalFrameHeight = this.originalFrameWidth = 0;\n      this.enableBeauty = !1;\n      this.denoiseLevel = 5;\n      this.lightLevel = .35;\n      this.rednessLevel = .5;\n      this.lighteningContrastLevel = 1;\n    }\n\n    _createClass(ss, [{\n      key: \"setEnableBeauty\",\n      value: function setEnableBeauty(a) {\n        this.enableBeauty = !!a;\n      }\n    }, {\n      key: \"init\",\n      value: function init(a, b, c) {\n        if (!la.supportWebGL) throw new q(n.NOT_SUPPORTED, \"your browser is not support webGL\");\n        if (this.gl = c.getContext(\"webgl\"), !this.gl) throw new q(n.WEBGL_INTERNAL_ERROR, \"can not get webgl context\");\n        if (this.initGL(a, b), !this.inputTexture) throw new q(n.WEBGL_INTERNAL_ERROR, \"can not find input texture\");\n        this.canvas = c;\n        this.programs.push(new Kn(this.gl));\n        this.programs.push(new js(this.gl, a, b));\n        this.programs.push(new ls(this.gl, a, b));\n        this.programs.push(new ns(this.gl, a, b));\n        this.programs.push(new rs(this.gl, this.inputTexture, a, b));\n        this.commonProgram = this.programs[0].program;\n        this.setDenoiseLevel(this.denoiseLevel);\n        this.setLightLevel(this.lightLevel);\n        this.setRednessLevel(this.rednessLevel);\n        this.setContrastLevel(this.lighteningContrastLevel);\n      }\n    }, {\n      key: \"render\",\n      value: function render(a) {\n        if (!this.gl || !this.commonProgram || !this.canvas) return void k.warning(\"video effect manager is not init!\");\n        var b = 0;\n        if (this.originalFrameHeight === a.videoWidth && this.originalFrameWidth === a.videoHeight) b = 2;else if (this.originalFrameHeight !== a.videoHeight || this.originalFrameWidth !== a.videoWidth) {\n          var c, e, f;\n          if (k.debug(m(c = m(e = m(f = \"beauty effect: resolution changed \".concat(this.originalFrameWidth, \"x\")).call(f, this.originalFrameHeight, \" -> \")).call(e, a.videoWidth, \"x\")).call(c, a.videoHeight)), 0 === a.videoHeight || 0 === a.videoWidth) return void k.debug(\"beauty effect: skip 0 resolution frame\");\n          this.canvas.width = a.videoWidth;\n          this.canvas.height = a.videoHeight;\n          a.setAttribute(\"width\", a.videoWidth.toString());\n          a.setAttribute(\"height\", a.videoHeight.toString());\n          this.release();\n          this.init(a.videoWidth, a.videoHeight, this.canvas);\n        }\n        this.gl.viewport(0, 0, a.videoWidth, a.videoHeight);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.inputTexture);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, a);\n        a = this.enableBeauty ? this.programs.length - 1 : 0;\n\n        for (c = 0; c <= a; c++) {\n          e = this.programs[c].program, this.gl.useProgram(e), e = this.gl.getUniformLocation(e, \"u_image\"), this.programs[c].setUniforms(), this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbos[b + c % 2]), this.gl.clearColor(0, 0, 0, 1), this.gl.clear(this.gl.COLOR_BUFFER_BIT), this.gl.drawArrays(this.gl.TRIANGLES, 0, 6), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, this.outputTextures[b + c % 2]), this.gl.uniform1i(e, 0);\n        }\n\n        this.gl.useProgram(this.commonProgram);\n        b = this.gl.getUniformLocation(this.commonProgram, \"u_flipY\");\n        this.gl.uniform1f(b, -1);\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        this.gl.clearColor(0, 0, 0, 1);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n      }\n    }, {\n      key: \"setDenoiseLevel\",\n      value: function setDenoiseLevel(a) {\n        var b;\n        t(b = this.programs).call(b, function (b) {\n          b instanceof vc && b.setParameters({\n            denoiseLevel: a\n          });\n        });\n        this.denoiseLevel = a;\n      }\n    }, {\n      key: \"setLightLevel\",\n      value: function setLightLevel(a) {\n        var b;\n        t(b = this.programs).call(b, function (b) {\n          b instanceof vc && b.setParameters({\n            lightLevel: a\n          });\n        });\n        this.lightLevel = a;\n      }\n    }, {\n      key: \"setRednessLevel\",\n      value: function setRednessLevel(a) {\n        var b;\n        t(b = this.programs).call(b, function (b) {\n          b instanceof vc && b.setParameters({\n            rednessLevel: a\n          });\n        });\n        this.rednessLevel = a;\n      }\n    }, {\n      key: \"setContrastLevel\",\n      value: function setContrastLevel(a) {\n        var b;\n        t(b = this.programs).call(b, function (b) {\n          b instanceof vc && b.setParameters({\n            lighteningContrastLevel: a\n          });\n        });\n        this.lighteningContrastLevel = a;\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(a, b) {\n        var c;\n        t(c = this.programs).call(c, function (c) {\n          c instanceof vc && c.setSize(a, b);\n        });\n      }\n    }, {\n      key: \"release\",\n      value: function release() {\n        this.inputTexture = this.commonProgram = this.gl = null;\n        this.programs = [];\n        this.outputTextures = [];\n        this.fbos = [];\n      }\n    }, {\n      key: \"initGL\",\n      value: function initGL(a, b) {\n        if (!this.gl) throw new q(n.WEBGL_INTERNAL_ERROR, \"can not find webgl context\");\n        this.inputTexture = this.gl.createTexture();\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.inputTexture);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n\n        for (var _c14 = 0; 4 > _c14; _c14++) {\n          var _e7 = this.gl.createTexture();\n\n          if (!_e7) throw new q(n.WEBGL_INTERNAL_ERROR, \"create texture failed\");\n          this.gl.bindTexture(this.gl.TEXTURE_2D, _e7);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n          this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n          2 > _c14 ? this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, a, b, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null) : this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, b, a, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n\n          var _f5 = this.gl.createFramebuffer();\n\n          if (!_f5) throw new q(n.WEBGL_INTERNAL_ERROR, \"create frame buffer failed\");\n          this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, _f5);\n          this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, _e7, 0);\n          this.outputTextures.push(_e7);\n          this.fbos.push(_f5);\n        }\n\n        this.gl.viewport(0, 0, a, b);\n        this.originalFrameWidth = a;\n        this.originalFrameHeight = b;\n      }\n    }]);\n\n    return ss;\n  }();\n\n  var ts =\n  /*#__PURE__*/\n  function () {\n    function ts() {\n      _classCallCheck(this, ts);\n\n      this.recordedFrameCount = this.targetFrameRate = 0;\n      this.recordingTime = 2;\n    }\n\n    _createClass(ts, [{\n      key: \"startRecordBeautyEffectOutput\",\n      value: function () {\n        var _startRecordBeautyEffectOutput = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee75(a) {\n          var b,\n              c,\n              _args75 = arguments;\n          return _regeneratorRuntime.wrap(function _callee75$(_context75) {\n            while (1) {\n              switch (_context75.prev = _context75.next) {\n                case 0:\n                  b = _args75.length > 1 && _args75[1] !== undefined ? _args75[1] : 4;\n\n                  if (!this.recordID) {\n                    _context75.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"another beauty effect recording is in progress\");\n\n                case 3:\n                  c = va(6, \"\");\n                  this.recordID = c;\n                  this.targetFrameRate = a;\n                  this.recordedFrameCount = 0;\n                  this.recordingTime = b;\n                  _context75.next = 10;\n                  return jb(1E3 * this.recordingTime);\n\n                case 10:\n                  return _context75.abrupt(\"return\", this.recordID !== c ? (this.recordID = void 0, !0) : (this.recordID = void 0, this.recordedFrameCount < this.targetFrameRate * this.recordingTime / 2 ? (k.warning(\"detect beauty effect overload, current framerate\", this.recordedFrameCount / 2), !1) : (k.debug(\"beauty effect current framerate\", this.recordedFrameCount / 2), !0)));\n\n                case 11:\n                case \"end\":\n                  return _context75.stop();\n              }\n            }\n          }, _callee75, this);\n        }));\n\n        function startRecordBeautyEffectOutput(_x117) {\n          return _startRecordBeautyEffectOutput.apply(this, arguments);\n        }\n\n        return startRecordBeautyEffectOutput;\n      }()\n    }, {\n      key: \"stopRecordBeautyEffectOutput\",\n      value: function stopRecordBeautyEffectOutput() {\n        this.recordedFrameCount = this.targetFrameRate = 0;\n        this.recordID = void 0;\n      }\n    }, {\n      key: \"addFrame\",\n      value: function addFrame() {\n        this.recordID && (this.recordedFrameCount += 1);\n      }\n    }]);\n\n    return ts;\n  }();\n\n  var us =\n  /*#__PURE__*/\n  function (_ref37) {\n    _inherits(us, _ref37);\n\n    function us() {\n      var _this90;\n\n      _classCallCheck(this, us);\n\n      _this90 = _possibleConstructorReturn(this, _getPrototypeOf(us).call(this));\n      _this90.kind = \"video\";\n      _this90.fps = 15;\n      _this90.overloadDetector = new ts();\n      _this90.enabled = !1;\n      _this90.stopChromeBackgroundLoop = null;\n      _this90.lastRenderTime = 0;\n      _this90.fps = 30;\n      _this90.manager = new ss();\n      return _this90;\n    }\n\n    _createClass(us, [{\n      key: \"setBeautyEffectOptions\",\n      value: function () {\n        var _setBeautyEffectOptions = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee76(a, b) {\n          return _regeneratorRuntime.wrap(function _callee76$(_context76) {\n            while (1) {\n              switch (_context76.prev = _context76.next) {\n                case 0:\n                  void 0 !== b.smoothnessLevel && ha(b.smoothnessLevel, \"options.smoothnessLevel\", 0, 1, !1);\n                  void 0 !== b.lighteningLevel && ha(b.lighteningLevel, \"options.lighteningLevel\", 0, 1, !1);\n                  void 0 !== b.rednessLevel && ha(b.rednessLevel, \"options.rednessLevel\", 0, 1, !1);\n                  void 0 !== b.lighteningContrastLevel && fb(b.lighteningContrastLevel, \"options.lighteningContrastLevel\", [0, 1, 2]);\n                  void 0 !== b.smoothnessLevel && this.manager.setDenoiseLevel(Math.max(.1, 10 * b.smoothnessLevel));\n                  void 0 !== b.lighteningLevel && this.manager.setLightLevel(Math.max(.1, b.lighteningLevel / 2));\n                  void 0 !== b.rednessLevel && this.manager.setRednessLevel(Math.max(.01, b.rednessLevel));\n                  void 0 !== b.lighteningContrastLevel && this.manager.setContrastLevel(b.lighteningContrastLevel);\n                  _context76.t0 = this.enabled !== a;\n\n                  if (!_context76.t0) {\n                    _context76.next = 21;\n                    break;\n                  }\n\n                  this.manager.setEnableBeauty(a);\n                  this.enabled = a;\n\n                  if (!a) {\n                    _context76.next = 19;\n                    break;\n                  }\n\n                  _context76.t1 = this.input;\n\n                  if (!_context76.t1) {\n                    _context76.next = 17;\n                    break;\n                  }\n\n                  _context76.next = 17;\n                  return this.startEffect();\n\n                case 17:\n                  _context76.next = 21;\n                  break;\n\n                case 19:\n                  _context76.next = 21;\n                  return this.stopEffect();\n\n                case 21:\n                case \"end\":\n                  return _context76.stop();\n              }\n            }\n          }, _callee76, this);\n        }));\n\n        function setBeautyEffectOptions(_x118, _x119) {\n          return _setBeautyEffectOptions.apply(this, arguments);\n        }\n\n        return setBeautyEffectOptions;\n      }()\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.onOutputChange = void 0;\n        this.stopEffect();\n        this.enabled = !1;\n      }\n    }, {\n      key: \"startEffect\",\n      value: function () {\n        var _startEffect = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee77() {\n          var _this91 = this;\n\n          var a, b, c;\n          return _regeneratorRuntime.wrap(function _callee77$(_context77) {\n            while (1) {\n              switch (_context77.prev = _context77.next) {\n                case 0:\n                  a = V();\n\n                  if (this.input) {\n                    _context77.next = 3;\n                    break;\n                  }\n\n                  return _context77.abrupt(\"return\", void k.warning(\"video track is null, fail to start video effect!\"));\n\n                case 3:\n                  if (!(this.input && this.output && this.input !== this.output)) {\n                    _context77.next = 5;\n                    break;\n                  }\n\n                  return _context77.abrupt(\"return\", void k.warning(\"video effect is already enabled\"));\n\n                case 5:\n                  _context77.next = 7;\n                  return this.renderWithWebGL();\n\n                case 7:\n                  b = _context77.sent;\n                  _context77.next = 10;\n                  return this.updateOutput(b);\n\n                case 10:\n                  k.info(\"start video effect, output:\", this.output);\n                  this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then(function (a) {\n                    a || _this91.onOverload && _this91.onOverload();\n                  });\n\n                  c = function c() {\n                    _this91.enabled && requestAnimationFrame(c);\n                    var a = x(),\n                        b = 1E3 / _this91.fps,\n                        h = _this91.lastRenderTime ? a - _this91.lastRenderTime : b;\n                    h < b || (_this91.lastRenderTime = a - (h - b), _this91.video && _this91.video.paused && _this91.video.play(), _this91.enabled && _this91.video && (_this91.manager.render(_this91.video), _this91.output && _this91.output.requestFrame && _this91.output.requestFrame(), _this91.overloadDetector.addFrame()));\n                  };\n\n                  requestAnimationFrame(c);\n                  a.name === S.CHROME && document.addEventListener(\"visibilitychange\", function () {\n                    document.hidden ? _this91.stopChromeBackgroundLoop = dg(function () {\n                      _this91.enabled && _this91.video && _this91.manager.render(_this91.video);\n                      _this91.output && _this91.output.requestFrame && _this91.output.requestFrame();\n\n                      _this91.overloadDetector.addFrame();\n                    }, _this91.fps) : _this91.stopChromeBackgroundLoop && (_this91.stopChromeBackgroundLoop(), _this91.stopChromeBackgroundLoop = null);\n                  }, !1);\n\n                case 15:\n                case \"end\":\n                  return _context77.stop();\n              }\n            }\n          }, _callee77, this);\n        }));\n\n        function startEffect() {\n          return _startEffect.apply(this, arguments);\n        }\n\n        return startEffect;\n      }()\n    }, {\n      key: \"stopEffect\",\n      value: function () {\n        var _stopEffect = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee78() {\n          return _regeneratorRuntime.wrap(function _callee78$(_context78) {\n            while (1) {\n              switch (_context78.prev = _context78.next) {\n                case 0:\n                  k.info(\"stop video effect\");\n                  this.overloadDetector.stopRecordBeautyEffectOutput();\n                  this.manager.release();\n                  this.canvas && this.canvas.remove();\n                  this.video && this.video.remove();\n                  this.video = this.canvas = void 0;\n                  _context78.next = 8;\n                  return this.updateOutput(this.input);\n\n                case 8:\n                case \"end\":\n                  return _context78.stop();\n              }\n            }\n          }, _callee78, this);\n        }));\n\n        function stopEffect() {\n          return _stopEffect.apply(this, arguments);\n        }\n\n        return stopEffect;\n      }()\n    }, {\n      key: \"_setInput\",\n      value: function () {\n        var _setInput2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee79(a) {\n          return _regeneratorRuntime.wrap(function _callee79$(_context79) {\n            while (1) {\n              switch (_context79.prev = _context79.next) {\n                case 0:\n                  _context79.t0 = this.enabled && !this.video;\n\n                  if (!_context79.t0) {\n                    _context79.next = 4;\n                    break;\n                  }\n\n                  _context79.next = 4;\n                  return this.startEffect();\n\n                case 4:\n                case \"end\":\n                  return _context79.stop();\n              }\n            }\n          }, _callee79, this);\n        }));\n\n        function _setInput(_x120) {\n          return _setInput2.apply(this, arguments);\n        }\n\n        return _setInput;\n      }()\n    }, {\n      key: \"_removeInput\",\n      value: function _removeInput() {\n        this.stopEffect();\n      }\n    }, {\n      key: \"renderWithWebGL\",\n      value: function () {\n        var _renderWithWebGL = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee80() {\n          var _this92 = this;\n\n          var a, b, c, e;\n          return _regeneratorRuntime.wrap(function _callee80$(_context80) {\n            while (1) {\n              switch (_context80.prev = _context80.next) {\n                case 0:\n                  if (this.input) {\n                    _context80.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.BEAUTY_PROCESSOR_INTERNAL_ERROR, \"can not renderWithWebGL, no input\");\n\n                case 2:\n                  this.canvas && (this.canvas.remove(), this.canvas = void 0);\n                  this.video && (this.video.remove(), this.video = void 0);\n                  this.canvas = document.createElement(\"canvas\");\n                  this.video = document.createElement(\"video\");\n                  this.video.setAttribute(\"autoplay\", \"\");\n                  this.video.setAttribute(\"muted\", \"\");\n                  this.video.muted = !0;\n                  this.video.setAttribute(\"playsinline\", \"\");\n                  this.video.setAttribute(\"style\", \"display:none\");\n                  this.video.srcObject = new MediaStream([this.input]);\n                  b = new y(function (a) {\n                    var b = function b() {\n                      _this92.video && _this92.video.removeEventListener(\"playing\", b);\n                      a(void 0);\n                    };\n\n                    _this92.video && _this92.video.addEventListener(\"playing\", b);\n                  });\n                  this.video.play();\n                  _context80.next = 16;\n                  return b;\n\n                case 16:\n                  b = this.input.getSettings();\n                  c = b.width || this.video.videoWidth, e = b.height || this.video.videoHeight;\n\n                  if (!(b.frameRate && this.fps !== b.frameRate && (this.fps = b.frameRate, k.debug(\"beauty video processor: set fps to\", this.fps)), k.debug(m(a = \"beauty video processor: width \".concat(c, \" height \")).call(a, e)), !c || !e)) {\n                    _context80.next = 20;\n                    break;\n                  }\n\n                  throw new q(n.BEAUTY_PROCESSOR_INTERNAL_ERROR, \"can not get track resolution\");\n\n                case 20:\n                  this.canvas.width = c;\n                  this.canvas.height = e;\n                  this.video.setAttribute(\"width\", c.toString());\n                  this.video.setAttribute(\"height\", e.toString());\n                  this.manager.init(c, e, this.canvas);\n                  return _context80.abrupt(\"return\", this.canvas.captureStream(la.supportRequestFrame ? 0 : this.fps).getVideoTracks()[0]);\n\n                case 26:\n                case \"end\":\n                  return _context80.stop();\n              }\n            }\n          }, _callee80, this);\n        }));\n\n        function renderWithWebGL() {\n          return _renderWithWebGL.apply(this, arguments);\n        }\n\n        return renderWithWebGL;\n      }()\n    }]);\n\n    return us;\n  }(\n  /*#__PURE__*/\n  function () {\n    function _class8() {\n      _classCallCheck(this, _class8);\n    }\n\n    _createClass(_class8, [{\n      key: \"setInput\",\n      value: function () {\n        var _setInput3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee81(a) {\n          return _regeneratorRuntime.wrap(function _callee81$(_context81) {\n            while (1) {\n              switch (_context81.prev = _context81.next) {\n                case 0:\n                  if (!(a !== this.input)) {\n                    _context81.next = 7;\n                    break;\n                  }\n\n                  if (!(a.kind !== this.kind)) {\n                    _context81.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR);\n\n                case 3:\n                  this.input && this.removeInput();\n                  this.input = a;\n                  _context81.next = 7;\n                  return this._setInput(a);\n\n                case 7:\n                case \"end\":\n                  return _context81.stop();\n              }\n            }\n          }, _callee81, this);\n        }));\n\n        function setInput(_x121) {\n          return _setInput3.apply(this, arguments);\n        }\n\n        return setInput;\n      }()\n    }, {\n      key: \"removeInput\",\n      value: function removeInput() {\n        this.input = void 0;\n\n        this._removeInput();\n      }\n    }, {\n      key: \"updateOutput\",\n      value: function () {\n        var _updateOutput = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee82(a) {\n          return _regeneratorRuntime.wrap(function _callee82$(_context82) {\n            while (1) {\n              switch (_context82.prev = _context82.next) {\n                case 0:\n                  _context82.t0 = this.output !== a;\n\n                  if (!_context82.t0) {\n                    _context82.next = 7;\n                    break;\n                  }\n\n                  this._output = a;\n                  _context82.t1 = this.onOutputChange;\n\n                  if (!_context82.t1) {\n                    _context82.next = 7;\n                    break;\n                  }\n\n                  _context82.next = 7;\n                  return this.onOutputChange();\n\n                case 7:\n                case \"end\":\n                  return _context82.stop();\n              }\n            }\n          }, _callee82, this);\n        }));\n\n        function updateOutput(_x122) {\n          return _updateOutput.apply(this, arguments);\n        }\n\n        return updateOutput;\n      }()\n    }, {\n      key: \"replaceOriginMediaStream\",\n      value: function replaceOriginMediaStream(a, b) {\n        var _this93 = this;\n\n        var c, e;\n        var f = U(c = a.getTracks()).call(c, function (a) {\n          return a.kind === _this93.kind;\n        });\n        f && a.removeTrack(f);\n        b = U(e = b.getTracks()).call(e, function (a) {\n          return a.kind === _this93.kind;\n        });\n        void 0 === this.output && b && a.addTrack(b);\n        this.output && (k.debug(\"replace \".concat(this.output.kind, \" track to origin media stream\")), a.addTrack(this.output));\n      }\n    }, {\n      key: \"output\",\n      get: function get() {\n        return this._output;\n      }\n    }]);\n\n    return _class8;\n  }());\n\n  var Db = function Db(a, b, c, e) {\n    var f,\n        h = arguments.length,\n        k = 3 > h ? b : null === e ? e = ca(b, c) : e;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) k = Reflect.decorate(a, b, c, e);else for (var r = a.length - 1; 0 <= r; r--) {\n      (f = a[r]) && (k = (3 > h ? f(k) : 3 < h ? f(b, c, k) : f(b, c)) || k);\n    }\n    return 3 < h && k && Q(b, c, k), k;\n  },\n      aa = function aa(a, b) {\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(a, b);\n  };\n\n  var ta =\n  /*#__PURE__*/\n  function (_yf2) {\n    _inherits(ta, _yf2);\n\n    function ta(a, b, c, e, f) {\n      var _this94;\n\n      _classCallCheck(this, ta);\n\n      _this94 = _possibleConstructorReturn(this, _getPrototypeOf(ta).call(this, a, f));\n      _this94.trackMediaType = \"video\";\n      _this94._scalabiltyMode = {\n        numSpatialLayers: 1,\n        numTemporalLayers: 1\n      };\n      _this94._enabled = !0;\n\n      _this94.updateMediaStreamTrackResolution();\n\n      _this94._encoderConfig = b;\n      _this94._scalabiltyMode = c;\n      _this94._optimizationMode = e;\n      return _this94;\n    }\n\n    _createClass(ta, [{\n      key: \"play\",\n      value: function play(a) {\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var c = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.LOCAL_VIDEO_TRACK_PLAY,\n          options: [this.getTrackId(), \"string\" == typeof a ? a : \"HTMLElement\", b]\n        });\n\n        if (!(a instanceof HTMLElement)) {\n          var _b27 = document.getElementById(a.toString());\n\n          var e;\n          _b27 ? a = _b27 : (k.warning(m(e = \"[\".concat(this.getTrackId(), '] can not find \"#')).call(e, a, '\" element, use document.body')), a = document.body);\n        }\n\n        k.debug(\"[\".concat(this.getTrackId(), \"] start video playback\"), A(b));\n        a = Wd({}, this._getDefaultPlayerConfig(), {}, b, {\n          trackId: this.getTrackId(),\n          element: a\n        });\n        this._player ? this._player.updateConfig(a) : (this._player = new In(a), this._player.updateVideoTrack(this._mediaStreamTrack));\n\n        this._player.play();\n\n        c.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.LOCAL_VIDEO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        if (!this._player) return a.onSuccess();\n\n        this._player.destroy();\n\n        this._player = void 0;\n        k.debug(\"[\".concat(this.getTrackId(), \"] stop video playback\"));\n        a.onSuccess();\n      }\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee83(a, b) {\n          var c;\n          return _regeneratorRuntime.wrap(function _callee83$(_context83) {\n            while (1) {\n              switch (_context83.prev = _context83.next) {\n                case 0:\n                  if (b) {\n                    _context83.next = 4;\n                    break;\n                  }\n\n                  if (!(a === this._enabled)) {\n                    _context83.next = 3;\n                    break;\n                  }\n\n                  return _context83.abrupt(\"return\");\n\n                case 3:\n                  this.stateCheck(\"enabled\", a);\n\n                case 4:\n                  k.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), a);\n                  _context83.next = 7;\n                  return this._enabledMutex.lock();\n\n                case 7:\n                  c = _context83.sent;\n\n                  if (a) {\n                    _context83.next = 19;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.enabled = !1;\n                  _context83.prev = 10;\n                  _context83.next = 13;\n                  return Za(this, G.NEED_REMOVE_TRACK, this);\n\n                case 13:\n                  _context83.next = 18;\n                  break;\n\n                case 15:\n                  _context83.prev = 15;\n                  _context83.t0 = _context83[\"catch\"](10);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled to false error\"), _context83.t0.toString()), c(), _context83.t0;\n\n                case 18:\n                  return _context83.abrupt(\"return\", (b || (this._enabled = !1), k.info(\"[\".concat(this.getTrackId(), \"] setEnabled to false success\")), c()));\n\n                case 19:\n                  this._originMediaStreamTrack.enabled = !0;\n                  _context83.prev = 20;\n                  _context83.next = 23;\n                  return Za(this, G.NEED_ADD_TRACK, this);\n\n                case 23:\n                  _context83.next = 28;\n                  break;\n\n                case 25:\n                  _context83.prev = 25;\n                  _context83.t1 = _context83[\"catch\"](20);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled to true error\"), _context83.t1.toString()), c(), _context83.t1;\n\n                case 28:\n                  k.info(\"[\".concat(this.getTrackId(), \"] setEnabled to true success\"));\n                  b || (this._enabled = !0);\n                  c();\n\n                case 31:\n                case \"end\":\n                  return _context83.stop();\n              }\n            }\n          }, _callee83, this, [[10, 15], [20, 25]]);\n        }));\n\n        function setEnabled(_x123, _x124) {\n          return _setEnabled3.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"setMuted\",\n      value: function () {\n        var _setMuted2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee84(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee84$(_context84) {\n            while (1) {\n              switch (_context84.prev = _context84.next) {\n                case 0:\n                  if (!(a !== this._muted)) {\n                    _context84.next = 10;\n                    break;\n                  }\n\n                  if (!(this.stateCheck(\"muted\", a), this._muted = a, V().name === S.FIREFOX)) {\n                    _context84.next = 6;\n                    break;\n                  }\n\n                  k.debug(\"[\".concat(this.getTrackId(), \"] firefox set mute fallback to set enabled\"));\n                  _context84.next = 5;\n                  return this.setEnabled(!a, !0);\n\n                case 5:\n                  return _context84.abrupt(\"return\", void _context84.sent);\n\n                case 6:\n                  this._mediaStreamTrack.enabled = !a;\n                  k.debug(m(b = \"[\".concat(this.getTrackId(), \"] start set muted: \")).call(b, a));\n                  _context84.next = 10;\n                  return Za(this, G.SET_VIDEO_TRACK_MUTED, {\n                    track: this,\n                    muted: a\n                  });\n\n                case 10:\n                case \"end\":\n                  return _context84.stop();\n              }\n            }\n          }, _callee84, this);\n        }));\n\n        function setMuted(_x125) {\n          return _setMuted2.apply(this, arguments);\n        }\n\n        return setMuted;\n      }()\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        Qd(function () {\n          k.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\");\n        }, \"localVideoTrackGetStatsWarning\");\n        return Hc(this, G.GET_STATS) || Wd({}, wf);\n      }\n    }, {\n      key: \"setBeautyEffect\",\n      value: function () {\n        var _setBeautyEffect = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee85(a) {\n          var _this95 = this;\n\n          var b,\n              c,\n              _args85 = arguments;\n          return _regeneratorRuntime.wrap(function _callee85$(_context85) {\n            while (1) {\n              switch (_context85.prev = _context85.next) {\n                case 0:\n                  b = _args85.length > 1 && _args85[1] !== undefined ? _args85[1] : {};\n                  c = u.reportApiInvoke(null, {\n                    tag: C.TRACER,\n                    name: D.LOCAL_VIDEO_TRACK_BEAUTY,\n                    options: [this.getTrackId(), a, b]\n                  });\n\n                  if (!(a || this._videoBeautyProcessor)) {\n                    _context85.next = 27;\n                    break;\n                  }\n\n                  if (!(V().os === Na.IOS || V().os === Na.ANDROID)) {\n                    _context85.next = 5;\n                    break;\n                  }\n\n                  throw a = new q(n.INVALID_OPERATION, \"can not enable beauty effect on mobile device\"), c.onError(a), a;\n\n                case 5:\n                  if (!(!this._enabled && a)) {\n                    _context85.next = 7;\n                    break;\n                  }\n\n                  throw a = new q(n.TRACK_IS_DISABLED, \"can not enable beauty effect when track is disabled\"), c.onError(a), a;\n\n                case 7:\n                  k.info(\"[\".concat(this.getTrackId(), \"] start setBeautyEffect\"), a, A(b));\n                  _context85.prev = 8;\n\n                  if (!this._videoBeautyProcessor) {\n                    _context85.next = 14;\n                    break;\n                  }\n\n                  _context85.next = 12;\n                  return this._videoBeautyProcessor.setBeautyEffectOptions(a, b);\n\n                case 12:\n                  _context85.next = 20;\n                  break;\n\n                case 14:\n                  this._videoBeautyProcessor = new us();\n\n                  this._videoBeautyProcessor.onOverload = function () {\n                    xb(function () {\n                      return _this95.emit(Tc.BEAUTY_EFFECT_OVERLOAD);\n                    });\n                  };\n\n                  _context85.next = 18;\n                  return this._videoBeautyProcessor.setBeautyEffectOptions(a, b);\n\n                case 18:\n                  _context85.next = 20;\n                  return this._registerTrackProcessor(this._videoBeautyProcessor);\n\n                case 20:\n                  _context85.next = 25;\n                  break;\n\n                case 22:\n                  _context85.prev = 22;\n                  _context85.t0 = _context85[\"catch\"](8);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setBeautyEffect error\"), _context85.t0.toString()), c.onError(_context85.t0), _context85.t0;\n\n                case 25:\n                  k.info(\"[\".concat(this.getTrackId(), \"] setBeautyEffect success\"));\n                  c.onSuccess();\n\n                case 27:\n                case \"end\":\n                  return _context85.stop();\n              }\n            }\n          }, _callee85, this, [[8, 22]]);\n        }));\n\n        function setBeautyEffect(_x126) {\n          return _setBeautyEffect.apply(this, arguments);\n        }\n\n        return setBeautyEffect;\n      }()\n    }, {\n      key: \"getCurrentFrameData\",\n      value: function getCurrentFrameData() {\n        return this._player ? this._player.getCurrentFrame() : new ImageData(2, 2);\n      }\n    }, {\n      key: \"clone\",\n      value: function clone(a, b, c, e) {\n        var f = this._mediaStreamTrack.clone();\n\n        return new ta(f, a, b, c, e);\n      }\n    }, {\n      key: \"setBitrateLimit\",\n      value: function () {\n        var _setBitrateLimit = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee86(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee86$(_context86) {\n            while (1) {\n              switch (_context86.prev = _context86.next) {\n                case 0:\n                  if (!(k.debug(m(b = \"[\".concat(this.getTrackId(), \"] set bitrate limit, \")).call(b, A(a))), a)) {\n                    _context86.next = 11;\n                    break;\n                  }\n\n                  this._forceBitrateLimit = a;\n                  this._encoderConfig && (this._encoderConfig.bitrateMax ? this._encoderConfig.bitrateMax = this._encoderConfig.bitrateMax < a.max_bitrate ? this._encoderConfig.bitrateMax : a.max_bitrate : this._encoderConfig.bitrateMax = a.max_bitrate, this._encoderConfig.bitrateMin, this._encoderConfig.bitrateMin = a.min_bitrate);\n                  _context86.prev = 3;\n                  _context86.next = 6;\n                  return Za(this, G.NEED_RESET_REMOTE_SDP);\n\n                case 6:\n                  _context86.next = 11;\n                  break;\n\n                case 8:\n                  _context86.prev = 8;\n                  _context86.t0 = _context86[\"catch\"](3);\n                  return _context86.abrupt(\"return\", _context86.t0.throw());\n\n                case 11:\n                case \"end\":\n                  return _context86.stop();\n              }\n            }\n          }, _callee86, this, [[3, 8]]);\n        }));\n\n        function setBitrateLimit(_x127) {\n          return _setBitrateLimit.apply(this, arguments);\n        }\n\n        return setBitrateLimit;\n      }()\n    }, {\n      key: \"setOptimizationMode\",\n      value: function () {\n        var _setOptimizationMode = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee87(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee87$(_context87) {\n            while (1) {\n              switch (_context87.prev = _context87.next) {\n                case 0:\n                  if (!(\"motion\" === a || \"detail\" === a || \"balanced\" === a)) {\n                    _context87.next = 13;\n                    break;\n                  }\n\n                  _context87.prev = 1;\n                  this._optimizationMode = a;\n                  _context87.next = 5;\n                  return Za(this, G.SET_OPTIMIZATION_MODE, a);\n\n                case 5:\n                  _context87.next = 10;\n                  break;\n\n                case 7:\n                  _context87.prev = 7;\n                  _context87.t0 = _context87[\"catch\"](1);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] set optimization mode failed\"), _context87.t0.toString()), _context87.t0;\n\n                case 10:\n                  k.info(m(b = \"[\".concat(this.getTrackId(), \"] set optimization mode success (\")).call(b, a, \")\"));\n                  _context87.next = 14;\n                  break;\n\n                case 13:\n                  k.error(n.INVALID_PARAMS, \"optimization mode must be motion, detail or balanced\");\n\n                case 14:\n                case \"end\":\n                  return _context87.stop();\n              }\n            }\n          }, _callee87, this, [[1, 7]]);\n        }));\n\n        function setOptimizationMode(_x128) {\n          return _setOptimizationMode.apply(this, arguments);\n        }\n\n        return setOptimizationMode;\n      }()\n    }, {\n      key: \"setScalabiltyMode\",\n      value: function setScalabiltyMode(a) {\n        var b;\n        if (1 === a.numSpatialLayers && 1 !== a.numTemporalLayers) return k.error(n.INVALID_PARAMS, \"scalability mode currently not supported, no SVC.\"), void (this._scalabiltyMode = {\n          numSpatialLayers: 1,\n          numTemporalLayers: 1\n        });\n        this._scalabiltyMode = a;\n        k.info(m(b = \"[\".concat(this.getTrackId(), \"] set scalability mode success (\")).call(b, a, \")\"));\n      }\n    }, {\n      key: \"updateMediaStreamTrackResolution\",\n      value: function updateMediaStreamTrackResolution() {\n        var _this96 = this;\n\n        tj(this._originMediaStreamTrack).then(function (_ref38) {\n          var _ref39 = _slicedToArray(_ref38, 2),\n              a = _ref39[0],\n              b = _ref39[1];\n\n          _this96._videoHeight = b;\n          _this96._videoWidth = a;\n        }).catch(Qe);\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        this._player && this._player.updateVideoTrack(this._mediaStreamTrack);\n      }\n    }, {\n      key: \"_getDefaultPlayerConfig\",\n      value: function _getDefaultPlayerConfig() {\n        return {\n          fit: \"contain\"\n        };\n      }\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function () {\n        var _renewMediaStreamTrack2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee88() {\n          return _regeneratorRuntime.wrap(function _callee88$(_context88) {\n            while (1) {\n              switch (_context88.prev = _context88.next) {\n                case 0:\n                case \"end\":\n                  return _context88.stop();\n              }\n            }\n          }, _callee88, this);\n        }));\n\n        function renewMediaStreamTrack() {\n          return _renewMediaStreamTrack2.apply(this, arguments);\n        }\n\n        return renewMediaStreamTrack;\n      }()\n    }, {\n      key: \"isPlaying\",\n      get: function get() {\n        return !(!this._player || this._player.videoElementStatus !== Qa.PLAYING);\n      }\n    }]);\n\n    return ta;\n  }(yf);\n\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Object, Object]), aa(\"design:returntype\", void 0)], ta.prototype, \"play\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Boolean, Boolean]), aa(\"design:returntype\", y)], ta.prototype, \"setEnabled\", null);\n  Db([pa(), bg({\n    report: u\n  }), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Boolean]), aa(\"design:returntype\", y)], ta.prototype, \"setMuted\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", []), aa(\"design:returntype\", Object)], ta.prototype, \"getStats\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Boolean, Object]), aa(\"design:returntype\", y)], ta.prototype, \"setBeautyEffect\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", []), aa(\"design:returntype\", ImageData)], ta.prototype, \"getCurrentFrameData\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Object]), aa(\"design:returntype\", y)], ta.prototype, \"setBitrateLimit\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [String]), aa(\"design:returntype\", y)], ta.prototype, \"setOptimizationMode\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Object]), aa(\"design:returntype\", void 0)], ta.prototype, \"setScalabiltyMode\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", []), aa(\"design:returntype\", void 0)], ta.prototype, \"updateMediaStreamTrackResolution\", null);\n\n  var ve =\n  /*#__PURE__*/\n  function (_ta) {\n    _inherits(ve, _ta);\n\n    function ve(a, b, c, e, f, h) {\n      var _this97;\n\n      _classCallCheck(this, ve);\n\n      _this97 = _possibleConstructorReturn(this, _getPrototypeOf(ve).call(this, a, b.encoderConfig ? bd(b.encoderConfig) : {}, e, f, h));\n      _this97._enabled = !0;\n      _this97._deviceName = \"default\";\n      _this97.tryResumeVideoForIOS15WeChat =\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee89() {\n        return _regeneratorRuntime.wrap(function _callee89$(_context89) {\n          while (1) {\n            switch (_context89.prev = _context89.next) {\n              case 0:\n                _context89.t0 = ad() && V().name === S.WECHAT && _this97._enabled && !_this97._isClosed;\n\n                if (!_context89.t0) {\n                  _context89.next = 7;\n                  break;\n                }\n\n                k.debug(\"[\".concat(_this97.getTrackId(), \"] try capture camera media device for interrupted iOS 15 device on WeChat.\"));\n                _context89.next = 5;\n                return _this97.setEnabled(!1);\n\n              case 5:\n                _context89.next = 7;\n                return _this97.setEnabled(!0);\n\n              case 7:\n              case \"end\":\n                return _context89.stop();\n            }\n          }\n        }, _callee89, this);\n      }));\n      _this97._config = b;\n      _this97._constraints = c;\n      _this97._deviceName = a.label;\n      _this97._config.encoderConfig && (_this97._encoderConfig = bd(_this97._config.encoderConfig));\n      da.on(Ha.IOS_15_INTERRUPTION_END, _this97.tryResumeVideoForIOS15WeChat);\n      da.on(Ha.IOS_INTERRUPTION_END, _this97.tryResumeVideoForIOS15WeChat);\n      return _this97;\n    }\n\n    _createClass(ve, [{\n      key: \"setDevice\",\n      value: function () {\n        var _setDevice2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee90(a) {\n          var b, c, _c15, _f6;\n\n          return _regeneratorRuntime.wrap(function _callee90$(_context90) {\n            while (1) {\n              switch (_context90.prev = _context90.next) {\n                case 0:\n                  c = u.reportApiInvoke(null, {\n                    tag: C.TRACER,\n                    name: D.CAM_VIDEO_TRACK_SET_DEVICE,\n                    options: [this.getTrackId(), a]\n                  });\n\n                  if (!(k.info(m(b = \"[\".concat(this.getTrackId(), \"] set device to \")).call(b, a)), this._enabled)) {\n                    _context90.next = 40;\n                    break;\n                  }\n\n                  _context90.prev = 2;\n                  _context90.next = 5;\n                  return lb.getDeviceById(a);\n\n                case 5:\n                  _c15 = _context90.sent;\n                  b = {};\n                  b.video = Wd({}, this._constraints);\n                  b.video.deviceId = {\n                    exact: a\n                  };\n                  b.video.facingMode = void 0;\n\n                  this._originMediaStreamTrack.stop();\n\n                  _f6 = null;\n                  _context90.prev = 12;\n                  _context90.next = 15;\n                  return Fb(b, this.getTrackId());\n\n                case 15:\n                  _f6 = _context90.sent;\n                  _context90.next = 27;\n                  break;\n\n                case 18:\n                  _context90.prev = 18;\n                  _context90.t0 = _context90[\"catch\"](12);\n                  k.error(\"[\".concat(this.getTrackId(), \"] setDevice failed\"), _context90.t0.toString());\n                  _context90.next = 23;\n                  return Fb({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 23:\n                  _f6 = _context90.sent;\n                  _context90.next = 26;\n                  return this._updateOriginMediaStreamTrack(_f6.getVideoTracks()[0], !1);\n\n                case 26:\n                  throw _context90.t0;\n\n                case 27:\n                  _context90.next = 29;\n                  return this._updateOriginMediaStreamTrack(_f6.getVideoTracks()[0], !1);\n\n                case 29:\n                  this.updateMediaStreamTrackResolution();\n                  this._deviceName = _c15.label;\n                  this._config.cameraId = a;\n                  this._constraints.deviceId = {\n                    exact: a\n                  };\n                  _context90.next = 38;\n                  break;\n\n                case 35:\n                  _context90.prev = 35;\n                  _context90.t1 = _context90[\"catch\"](2);\n                  throw c.onError(_context90.t1), k.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context90.t1.toString()), _context90.t1;\n\n                case 38:\n                  _context90.next = 51;\n                  break;\n\n                case 40:\n                  _context90.prev = 40;\n                  _context90.next = 43;\n                  return lb.getDeviceById(a);\n\n                case 43:\n                  this._deviceName = _context90.sent.label;\n                  this._config.cameraId = a;\n                  this._constraints.deviceId = {\n                    exact: a\n                  };\n                  _context90.next = 51;\n                  break;\n\n                case 48:\n                  _context90.prev = 48;\n                  _context90.t2 = _context90[\"catch\"](40);\n                  throw c.onError(_context90.t2), k.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context90.t2.toString()), _context90.t2;\n\n                case 51:\n                  k.info(\"[\".concat(this.getTrackId(), \"] setDevice success\"));\n                  c.onSuccess();\n\n                case 53:\n                case \"end\":\n                  return _context90.stop();\n              }\n            }\n          }, _callee90, this, [[2, 35], [12, 18], [40, 48]]);\n        }));\n\n        function setDevice(_x129) {\n          return _setDevice2.apply(this, arguments);\n        }\n\n        return setDevice;\n      }()\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled4 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee91(a, b) {\n          var c, e, _a28;\n\n          return _regeneratorRuntime.wrap(function _callee91$(_context91) {\n            while (1) {\n              switch (_context91.prev = _context91.next) {\n                case 0:\n                  if (b) {\n                    _context91.next = 4;\n                    break;\n                  }\n\n                  if (!(a === this._enabled)) {\n                    _context91.next = 3;\n                    break;\n                  }\n\n                  return _context91.abrupt(\"return\");\n\n                case 3:\n                  this.stateCheck(\"enabled\", a);\n\n                case 4:\n                  k.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), a);\n                  _context91.next = 7;\n                  return this._enabledMutex.lock();\n\n                case 7:\n                  c = _context91.sent;\n\n                  if (a) {\n                    _context91.next = 21;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.onended = null;\n\n                  this._originMediaStreamTrack.stop();\n\n                  b || (this._enabled = !1);\n                  _context91.prev = 12;\n                  _context91.next = 15;\n                  return Za(this, G.NEED_REMOVE_TRACK, this);\n\n                case 15:\n                  _context91.next = 20;\n                  break;\n\n                case 17:\n                  _context91.prev = 17;\n                  _context91.t0 = _context91[\"catch\"](12);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled to false error\"), _context91.t0.toString()), c(), _context91.t0;\n\n                case 20:\n                  return _context91.abrupt(\"return\", (k.info(\"[\".concat(this.getTrackId(), \"] setEnabled to false success\")), c()));\n\n                case 21:\n                  a = Wd({}, this._constraints);\n                  e = lb.searchDeviceIdByName(this._deviceName);\n                  e && !a.deviceId && (a.deviceId = {\n                    exact: e\n                  });\n                  _context91.prev = 24;\n                  _context91.next = 27;\n                  return Fb({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 27:\n                  _a28 = _context91.sent;\n                  _context91.next = 30;\n                  return this._updateOriginMediaStreamTrack(_a28.getVideoTracks()[0], !1);\n\n                case 30:\n                  _context91.next = 32;\n                  return Za(this, G.NEED_ADD_TRACK, this);\n\n                case 32:\n                  _context91.next = 37;\n                  break;\n\n                case 34:\n                  _context91.prev = 34;\n                  _context91.t1 = _context91[\"catch\"](24);\n                  throw k.error(\"[\".concat(this.getTrackId(), \"] setEnabled true error\"), _context91.t1.toString()), c(), _context91.t1;\n\n                case 37:\n                  this.updateMediaStreamTrackResolution();\n                  k.info(\"[\".concat(this.getTrackId(), \"] setEnabled to true success\"));\n                  b || (this._enabled = !0);\n                  c();\n\n                case 41:\n                case \"end\":\n                  return _context91.stop();\n              }\n            }\n          }, _callee91, this, [[12, 17], [24, 34]]);\n        }));\n\n        function setEnabled(_x130, _x131) {\n          return _setEnabled4.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"setEncoderConfiguration\",\n      value: function () {\n        var _setEncoderConfiguration = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee92(a, b) {\n          var c, e;\n          return _regeneratorRuntime.wrap(function _callee92$(_context92) {\n            while (1) {\n              switch (_context92.prev = _context92.next) {\n                case 0:\n                  b = u.reportApiInvoke(null, {\n                    tag: C.TRACER,\n                    name: D.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG,\n                    options: [this.getTrackId(), a]\n                  });\n\n                  if (this._enabled) {\n                    _context92.next = 3;\n                    break;\n                  }\n\n                  throw a = new q(n.TRACK_IS_DISABLED, \"can not set encoder configuration when track is disabled\"), b.onError(a), a;\n\n                case 3:\n                  a = bd(a);\n                  this._forceBitrateLimit && (a.bitrateMax = this._forceBitrateLimit.max_bitrate ? this._forceBitrateLimit.max_bitrate : a.bitrateMax, a.bitrateMin = this._forceBitrateLimit.min_bitrate ? this._forceBitrateLimit.min_bitrate : a.bitrateMin);\n                  c = (e = this._config, JSON.parse(A(e)));\n                  c.encoderConfig = a;\n                  e = sg(c);\n                  ($c() || vb() || jc()) && (e.deviceId = void 0);\n                  k.debug(\"[\".concat(this.getTrackId(), \"] setEncoderConfiguration applyConstraints\"), A(a), A(e));\n                  _context92.prev = 10;\n                  _context92.next = 13;\n                  return this._originMediaStreamTrack.applyConstraints(e);\n\n                case 13:\n                  this.updateMediaStreamTrackResolution();\n                  _context92.next = 19;\n                  break;\n\n                case 16:\n                  _context92.prev = 16;\n                  _context92.t0 = _context92[\"catch\"](10);\n                  throw a = new q(n.UNEXPECTED_ERROR, _context92.t0.toString()), k.error(\"[\".concat(this.getTrackId(), \"] applyConstraints error\"), a.toString()), b.onError(a), a;\n\n                case 19:\n                  this._config = c;\n                  this._constraints = e;\n                  this._encoderConfig = a;\n                  _context92.prev = 22;\n                  _context92.next = 25;\n                  return Za(this, G.NEED_RENEGOTIATE);\n\n                case 25:\n                  _context92.next = 30;\n                  break;\n\n                case 27:\n                  _context92.prev = 27;\n                  _context92.t1 = _context92[\"catch\"](22);\n                  return _context92.abrupt(\"return\", (b.onError(_context92.t1), _context92.t1.throw()));\n\n                case 30:\n                  b.onSuccess();\n\n                case 31:\n                case \"end\":\n                  return _context92.stop();\n              }\n            }\n          }, _callee92, this, [[10, 16], [22, 27]]);\n        }));\n\n        function setEncoderConfiguration(_x132, _x133) {\n          return _setEncoderConfiguration.apply(this, arguments);\n        }\n\n        return setEncoderConfiguration;\n      }()\n    }, {\n      key: \"_getDefaultPlayerConfig\",\n      value: function _getDefaultPlayerConfig() {\n        return {\n          mirror: !0,\n          fit: \"cover\"\n        };\n      }\n    }, {\n      key: \"onTrackEnded\",\n      value: function onTrackEnded() {\n        var _this98 = this;\n\n        if ((vb() || jc()) && this._enabled && !this._isClosed && da.duringInterruption) {\n          var a =\n          /*#__PURE__*/\n          function () {\n            var _ref41 = _asyncToGenerator(\n            /*#__PURE__*/\n            _regeneratorRuntime.mark(function _callee93() {\n              return _regeneratorRuntime.wrap(function _callee93$(_context93) {\n                while (1) {\n                  switch (_context93.prev = _context93.next) {\n                    case 0:\n                      da.off(Ha.IOS_INTERRUPTION_END, a);\n                      _context93.t0 = _this98._enabled && !_this98._isClosed;\n\n                      if (!_context93.t0) {\n                        _context93.next = 8;\n                        break;\n                      }\n\n                      k.debug(\"[\".concat(_this98.getTrackId(), \"] try capture camera media device for interrupted iOS device.\"));\n                      _context93.next = 6;\n                      return _this98.setEnabled(!1);\n\n                    case 6:\n                      _context93.next = 8;\n                      return _this98.setEnabled(!0);\n\n                    case 8:\n                    case \"end\":\n                      return _context93.stop();\n                  }\n                }\n              }, _callee93, this);\n            }));\n\n            return function a() {\n              return _ref41.apply(this, arguments);\n            };\n          }();\n\n          da.on(Ha.IOS_INTERRUPTION_END, a);\n        } else k.debug(\"[\".concat(this.getTrackId(), \"] track ended\")), this.emit(Tc.TRACK_ENDED);\n      }\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function () {\n        var _renewMediaStreamTrack3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee94() {\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee94$(_context94) {\n            while (1) {\n              switch (_context94.prev = _context94.next) {\n                case 0:\n                  a = Wd({}, this._constraints);\n                  b = lb.searchDeviceIdByName(this._deviceName);\n                  b && !a.deviceId && (a.deviceId = {\n                    exact: b\n                  });\n                  _context94.next = 5;\n                  return Fb({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 5:\n                  a = _context94.sent;\n                  _context94.next = 8;\n                  return this._updateOriginMediaStreamTrack(a.getVideoTracks()[0], !0);\n\n                case 8:\n                  this.updateMediaStreamTrackResolution();\n\n                case 9:\n                case \"end\":\n                  return _context94.stop();\n              }\n            }\n          }, _callee94, this);\n        }));\n\n        function renewMediaStreamTrack() {\n          return _renewMediaStreamTrack3.apply(this, arguments);\n        }\n\n        return renewMediaStreamTrack;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(ve.prototype), \"close\", this).call(this);\n\n        da.off(Ha.IOS_15_INTERRUPTION_END, this.tryResumeVideoForIOS15WeChat);\n        da.off(Ha.IOS_INTERRUPTION_END, this.tryResumeVideoForIOS15WeChat);\n      }\n    }]);\n\n    return ve;\n  }(ta);\n\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [String]), aa(\"design:returntype\", y)], ve.prototype, \"setDevice\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Boolean, Boolean]), aa(\"design:returntype\", y)], ve.prototype, \"setEnabled\", null);\n  Db([pa(), aa(\"design:type\", Function), aa(\"design:paramtypes\", [Object, Boolean]), aa(\"design:returntype\", y)], ve.prototype, \"setEncoderConfiguration\", null);\n  var Mn = !0;\n  \"findIndex\" in [] && Array(1).findIndex(function () {\n    Mn = !1;\n  });\n  L({\n    target: \"Array\",\n    proto: !0,\n    forced: Mn\n  }, {\n    findIndex: function findIndex(a) {\n      return wk(this, a, 1 < arguments.length ? arguments[1] : void 0);\n    }\n  });\n\n  var vs = Aa(\"Array\").findIndex,\n      Nn = Array.prototype,\n      Ue = function Ue(a) {\n    var b = a.findIndex;\n    return a === Nn || a instanceof Array && b === Nn.findIndex ? vs : b;\n  };\n\n  var Rj = function Rj(a, b) {\n    var c = null;\n    if (\"h264\" === b ? c = a.match(/a=rtpmap:(\\d+) H264.*\\r\\n/) || a.match(/a=rtpmap:(\\d+) H264.*\\n/) : \"vp8\" === b ? c = a.match(/a=rtpmap:(\\d+) VP8.*\\r\\n/) || a.match(/a=rtpmap:(\\d+) VP8.*\\n/) : \"vp9\" === b ? c = a.match(/a=rtpmap:(\\d+) VP9.*\\r\\n/) || a.match(/a=rtpmap:(\\d+) VP9.*\\n/) : \"av1\" === b && (c = a.match(/a=rtpmap:(\\d+) AV1.*\\r\\n/) || a.match(/a=rtpmap:(\\d+) AV1.*\\n/)), c && c[1]) return c[1];\n  };\n\n  var On =\n  /*#__PURE__*/\n  function (_Hn) {\n    _inherits(On, _Hn);\n\n    function On(a, b, c, e) {\n      var _this99;\n\n      _classCallCheck(this, On);\n\n      _this99 = _possibleConstructorReturn(this, _getPrototypeOf(On).call(this, b, b.stringUid || b.uid));\n      _this99.suspendTracks = [];\n      _this99.type = \"pub\";\n      _this99._waitingSuccessResponse = _this99.detecting = !1;\n\n      _this99.handleMuteVideoTrack = function (_ref42, b, c) {\n        var a = _ref42.muted;\n\n        _this99.setVideoTrackMuteState(a).then(b).catch(c);\n      };\n\n      _this99.handleMuteAudioTrack = function (_ref43, c, e) {\n        var a = _ref43.track,\n            b = _ref43.muted;\n\n        _this99.setAudioTrackMuteState(b, a).then(c).catch(e);\n      };\n\n      _this99.renegotiateWithGateway =\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee96() {\n        return _regeneratorRuntime.wrap(function _callee96$(_context96) {\n          while (1) {\n            switch (_context96.prev = _context96.next) {\n              case 0:\n                return _context96.abrupt(\"return\", (k.debug(\"[pc-\".concat(_this99.pc.ID, \"] renegotiate start\")), new y(\n                /*#__PURE__*/\n                function () {\n                  var _ref45 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee95(a, b) {\n                    var c, e, f;\n                    return _regeneratorRuntime.wrap(function _callee95$(_context95) {\n                      while (1) {\n                        switch (_context95.prev = _context95.next) {\n                          case 0:\n                            _this99.connectionState = \"connecting\";\n\n                            c = function c(e) {\n                              \"connected\" === e && (_this99.off(E.CONNECTION_STATE_CHANGE, c), a());\n                              \"disconnected\" === e && (_this99.off(E.CONNECTION_STATE_CHANGE, c), b(new q(n.OPERATION_ABORTED, \"renegotiate abort\")));\n                            };\n\n                            _this99.on(E.CONNECTION_STATE_CHANGE, c);\n\n                            _context95.t0 = db() && v.SIMULCAST && _this99.videoTrack && _this99.videoTrack._scalabiltyMode;\n\n                            if (!_context95.t0) {\n                              _context95.next = 7;\n                              break;\n                            }\n\n                            _context95.next = 7;\n                            return _this99.addSimulcast4Firefox(_this99.videoTrack._scalabiltyMode);\n\n                          case 7:\n                            _context95.next = 9;\n                            return _this99.pc.createOfferSDP();\n\n                          case 9:\n                            e = _context95.sent;\n                            _this99.audioTrack && _this99.audioTrack._encoderConfig && (e = tg(e, _this99.audioTrack._encoderConfig));\n                            _this99.videoTrack && _this99.videoTrack._scalabiltyMode && (\"vp9\" !== _this99.codec && \"vp8\" !== _this99.codec ? (_this99.videoTrack._scalabiltyMode.numSpatialLayers = 1, _this99.videoTrack._scalabiltyMode.numTemporalLayers = 1) : (1 < _this99.videoTrack._scalabiltyMode.numSpatialLayers || 1 < _this99.videoTrack._scalabiltyMode.numTemporalLayers) && (e = Qj(e, _this99.codec, _this99.videoTrack._scalabiltyMode)), k.debug(\"renegoation spatial layers: \", _this99.videoTrack._scalabiltyMode.numSpatialLayers));\n                            _context95.next = 14;\n                            return _this99.pc.setOfferSDP(e);\n\n                          case 14:\n                            if (!(_this99.audioTrack instanceof ab)) {\n                              _context95.next = 16;\n                              break;\n                            }\n\n                            _this99.pc.onOfferSettled({\n                              videoActive: _this99.videoTrack && !_this99.videoTrack.muted,\n                              audioActive: _this99.audioTrack && _this99.audioTrack.isActive\n                            });\n\n                          case 16:\n                            _context95.next = 18;\n                            return Ia(_assertThisInitialized(_assertThisInitialized(_this99)), E.NEED_RENEGOTIATE, e);\n\n                          case 18:\n                            f = _context95.sent;\n                            _this99.videoTrack && !db() && v.SIMULCAST && _this99.videoTrack._scalabiltyMode && _this99.setSimulcastVideoRtpEncodingParameters(_this99.videoTrack._scalabiltyMode);\n\n                            e = function (a, b) {\n                              var c, e, f;\n                              var h = xa(c = RegExp.prototype.test).call(c, /^([a-z])=(.*)/);\n                              a = I(e = a.split(/(\\r\\n|\\r|\\n)/)).call(e, h);\n                              b = I(f = b.split(/(\\r\\n|\\r|\\n)/)).call(f, h);\n                              var k = null;\n                              var l = new ba();\n                              return t(a).call(a, function (a) {\n                                var b = a.match(/m=(audio|video)/);\n                                if (b && b[1]) return void (k = b[1]);\n                                k && (a = a.match(/=(sendrecv|recvonly|sendonly|inactive)/)) && a[1] && l.set(k, a[1]);\n                              }), k = null, z(b).call(b, function (a) {\n                                var b = a.match(/m=(audio|video)/);\n                                if (b && b[1]) return k = b[1], a;\n                                if (!k) return a;\n\n                                if ((b = a.match(/=(sendrecv|recvonly|sendonly|inactive)/)) && b[1]) {\n                                  var _c16 = l.get(k);\n\n                                  if (_c16 && _c16 !== b[1]) return a.replace(b[1], _c16);\n                                }\n\n                                return a;\n                              }).join(\"\\r\\n\") + \"\\r\\n\";\n                            }(e, _this99.updateAnswerSDP(f.sdp));\n\n                            _context95.next = 23;\n                            return _this99.pc.setAnswerSDP(e);\n\n                          case 23:\n                            k.debug(\"[pc-\".concat(_this99.pc.ID, \"] renegotiate success\"));\n                            _this99.connectionState = \"connected\";\n\n                          case 25:\n                          case \"end\":\n                            return _context95.stop();\n                        }\n                      }\n                    }, _callee95, this);\n                  }));\n\n                  return function (_x134, _x135) {\n                    return _ref45.apply(this, arguments);\n                  };\n                }())));\n\n              case 1:\n              case \"end\":\n                return _context96.stop();\n            }\n          }\n        }, _callee96, this);\n      }));\n\n      _this99.handleStreamRenegotiate = function (a, b) {\n        \"connected\" === _this99.connectionState ? _this99.renegotiateWithGateway().then(a).catch(b) : a();\n      };\n\n      _this99.handleReplaceTrack = function (a, b, c) {\n        if (_this99.audioTrack instanceof ab && \"audio\" === a.kind) return b();\n\n        _this99.pc.replaceTrack(a).then(function (a) {\n          return a ? _this99.renegotiateWithGateway() : y.resolve();\n        }).then(b).catch(c);\n      };\n\n      _this99.handleCloseAudioTrack = function (a) {};\n\n      _this99.handleCloseVideoTrack = function () {\n        _this99.lowStreamConnection && _this99.lowStreamConnection.videoTrack && _this99.lowStreamConnection.videoTrack.close();\n      };\n\n      _this99.handleGetSessionID = function (a) {\n        a(_this99.joinInfo.sid);\n      };\n\n      _this99.handleGetLocalVideoStats = function (a) {\n        a(_this99.statsCollector.getLocalVideoTrackStats(_this99.connectionId));\n      };\n\n      _this99.handleGetLocalAudioStats = function (a) {\n        a(_this99.statsCollector.getLocalAudioTrackStats(_this99.connectionId));\n      };\n\n      _this99.handleSetOptimizationMode = function (a, b, c) {\n        _this99.videoTrack && _this99.setRtpSenderParametersByTrackConfig(_this99.videoTrack).then(b).catch(c);\n      };\n\n      _this99.isLowStreamConnection = !!e;\n      _this99.codec = c;\n      _this99.statsCollector = a;\n\n      _this99.statsCollector.addLocalConnection(_assertThisInitialized(_assertThisInitialized(_this99)));\n\n      return _this99;\n    }\n\n    _createClass(On, [{\n      key: \"getAllTracks\",\n      value: function getAllTracks() {\n        var _a29;\n\n        var a = [];\n        return this.videoTrack && a.push(this.videoTrack), this.audioTrack && this.audioTrack instanceof ab ? a = m(a).call(a, this.audioTrack.trackList) : this.audioTrack && a.push(this.audioTrack), (_a29 = a).push.apply(_a29, _toConsumableArray(this.suspendTracks)), a;\n      }\n    }, {\n      key: \"addTracks\",\n      value: function () {\n        var _addTracks = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee97(a) {\n          var _this100 = this;\n\n          var b, c, e, _e8, f;\n\n          return _regeneratorRuntime.wrap(function _callee97$(_context97) {\n            while (1) {\n              switch (_context97.prev = _context97.next) {\n                case 0:\n                  b = la;\n\n                  if (!(\"connecting\" === this.connectionState)) {\n                    _context97.next = 13;\n                    break;\n                  }\n\n                  _context97.prev = 2;\n                  _context97.next = 5;\n                  return this.createWaitConnectionConnectedPromise();\n\n                case 5:\n                  _context97.next = 7;\n                  return this.addTracks(a);\n\n                case 7:\n                  return _context97.abrupt(\"return\", _context97.sent);\n\n                case 10:\n                  _context97.prev = 10;\n                  _context97.t0 = _context97[\"catch\"](2);\n                  throw new q(n.OPERATION_ABORTED, \"publish abort\");\n\n                case 13:\n                  c = !1;\n                  e = this.getAllTracks();\n                  a = uj(a = I(a).call(a, function (a) {\n                    return -1 === J(e).call(e, a);\n                  }));\n                  _e8 = 0;\n\n                case 17:\n                  if (!(_e8 < a.length)) {\n                    _context97.next = 79;\n                    break;\n                  }\n\n                  f = a[_e8];\n\n                  if (f instanceof yf) {\n                    _context97.next = 21;\n                    break;\n                  }\n\n                  return _context97.abrupt(\"return\", new q(n.INVALID_LOCAL_TRACK).throw());\n\n                case 21:\n                  if (!(f instanceof ta && this.disabledVideoTrack)) {\n                    _context97.next = 25;\n                    break;\n                  }\n\n                  if (!(this.disabledVideoTrack !== f)) {\n                    _context97.next = 24;\n                    break;\n                  }\n\n                  return _context97.abrupt(\"return\", new q(n.EXIST_DISABLED_VIDEO_TRACK).throw());\n\n                case 24:\n                  this.disabledVideoTrack = void 0;\n\n                case 25:\n                  if (!(f instanceof ta && this.videoTrack)) {\n                    _context97.next = 27;\n                    break;\n                  }\n\n                  return _context97.abrupt(\"return\", new q(n.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw());\n\n                case 27:\n                  if (!(f instanceof La)) {\n                    _context97.next = 61;\n                    break;\n                  }\n\n                  if (!(this.audioTrack && this.audioTrack._bypassWebAudio)) {\n                    _context97.next = 30;\n                    break;\n                  }\n\n                  throw k.error(\"One of the audio track was created with config bypassWebAudio set to true, there is no way to publish multiple audio tracks.\"), new q(n.CAN_NOT_PUBLISH_MULTIPLE_AUDIO_TRACKS);\n\n                case 30:\n                  if (!(this.audioTrack instanceof ab)) {\n                    _context97.next = 38;\n                    break;\n                  }\n\n                  _context97.t1 = 0 === this.audioTrack.trackList.length;\n\n                  if (!_context97.t1) {\n                    _context97.next = 35;\n                    break;\n                  }\n\n                  _context97.next = 35;\n                  return this.pc.setAudioRtpEncodingParameters({\n                    active: !0\n                  });\n\n                case 35:\n                  this.audioTrack.addAudioTrack(f);\n                  _context97.next = 59;\n                  break;\n\n                case 38:\n                  if (!b.webAudioMediaStreamDest) {\n                    _context97.next = 55;\n                    break;\n                  }\n\n                  if (!f._bypassWebAudio) {\n                    _context97.next = 48;\n                    break;\n                  }\n\n                  if (!this.audioTrack) {\n                    _context97.next = 42;\n                    break;\n                  }\n\n                  throw k.error(\"Can not publish another audio track with bypassWebAudio set to true.\"), new q(n.CAN_NOT_PUBLISH_MULTIPLE_AUDIO_TRACKS);\n\n                case 42:\n                  k.debug(\"[\".concat(this.connectionId, \"] audio track doesn't not pass through WebAudio, use original audio track to publish\"));\n                  _context97.next = 45;\n                  return this.addTrackWithPC(f);\n\n                case 45:\n                  c = _context97.sent;\n                  _context97.next = 53;\n                  break;\n\n                case 48:\n                  c = new ab();\n                  f.muted ? this.suspendTracks.push(f) : c.addAudioTrack(f);\n                  _context97.next = 52;\n                  return this.addTrackWithPC(c);\n\n                case 52:\n                  c = _context97.sent;\n\n                case 53:\n                  _context97.next = 59;\n                  break;\n\n                case 55:\n                  k.debug(\"[\".concat(this.connectionId, \"] your browser does not support mixing track, use original audio track to publish\"));\n                  _context97.next = 58;\n                  return this.addTrackWithPC(f);\n\n                case 58:\n                  c = _context97.sent;\n\n                case 59:\n                  _context97.next = 76;\n                  break;\n\n                case 61:\n                  if (!(f instanceof ta && this.isLowStreamConnection)) {\n                    _context97.next = 71;\n                    break;\n                  }\n\n                  c = Tj({}, {\n                    width: 160,\n                    height: 120,\n                    framerate: 15,\n                    bitrate: 50\n                  }, {}, this.lowStreamParameter);\n                  b.supportDualStreamEncoding ? (k.debug(\"[\".concat(this.connectionId, \"] creating low stream using rtp encoding.\")), this.lowStreamEncoding = ko(c, f), f = f.clone({\n                    bitrateMax: c.bitrate,\n                    bitrateMin: c.bitrate\n                  })) : (k.debug(\"[\".concat(this.connectionId, \"] creating low stream using canvas.\")), f = Ao(f, c), f = new ta(f, {\n                    bitrateMax: c.bitrate,\n                    bitrateMin: c.bitrate\n                  }));\n\n                  f._hints.push(Yb.LOW_STREAM);\n\n                  _context97.next = 67;\n                  return this.addTrackWithPC(f);\n\n                case 67:\n                  c = _context97.sent;\n                  this.bindTrackEvents(f);\n                  _context97.next = 76;\n                  break;\n\n                case 71:\n                  this.detecting = !0;\n                  wb(function () {\n                    _this100.detecting = !1;\n                  }, 8E3);\n                  _context97.next = 75;\n                  return this.addTrackWithPC(f);\n\n                case 75:\n                  c = _context97.sent;\n\n                case 76:\n                  _e8 += 1;\n                  _context97.next = 17;\n                  break;\n\n                case 79:\n                  _context97.next = 81;\n                  return this.updateControlMessage();\n\n                case 81:\n                  _context97.t2 = c;\n\n                  if (!_context97.t2) {\n                    _context97.next = 85;\n                    break;\n                  }\n\n                  _context97.next = 85;\n                  return this.renegotiateWithGateway();\n\n                case 85:\n                  t(a).call(a, function (a) {\n                    return _this100.bindTrackEvents(a);\n                  });\n\n                case 86:\n                case \"end\":\n                  return _context97.stop();\n              }\n            }\n          }, _callee97, this, [[2, 10]]);\n        }));\n\n        function addTracks(_x136) {\n          return _addTracks.apply(this, arguments);\n        }\n\n        return addTracks;\n      }()\n    }, {\n      key: \"removeTracks\",\n      value: function () {\n        var _removeTracks = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee98(a, b) {\n          var _this101 = this;\n\n          var c, e, _c17, _f7, _i2, _b28, f;\n\n          return _regeneratorRuntime.wrap(function _callee98$(_context98) {\n            while (1) {\n              switch (_context98.prev = _context98.next) {\n                case 0:\n                  c = this.getAllTracks();\n                  a = uj(a = I(a).call(a, function (a) {\n                    return -1 !== J(c).call(c, a) || a === _this101.disabledVideoTrack;\n                  }));\n                  e = [];\n                  _c17 = 0;\n\n                case 4:\n                  if (!(_c17 < a.length)) {\n                    _context98.next = 27;\n                    break;\n                  }\n\n                  _f7 = a[_c17];\n\n                  if (!(this.unbindTrackEvents(_f7), this.audioTrack instanceof ab && _f7 instanceof La)) {\n                    _context98.next = 10;\n                    break;\n                  }\n\n                  this.audioTrack.removeAudioTrack(_f7), Gc(this.suspendTracks, _f7), 0 === this.audioTrack.trackList.length && (e.push(this.audioTrack), this.audioTrack = void 0);\n                  _context98.next = 24;\n                  break;\n\n                case 10:\n                  if (!(_f7 instanceof La)) {\n                    _context98.next = 14;\n                    break;\n                  }\n\n                  e.push(_f7), this.audioTrack = void 0;\n                  _context98.next = 24;\n                  break;\n\n                case 14:\n                  if (!(_f7 instanceof ta)) {\n                    _context98.next = 24;\n                    break;\n                  }\n\n                  if (!b) {\n                    _context98.next = 20;\n                    break;\n                  }\n\n                  if (!(this.disabledVideoTrack === _f7)) {\n                    _context98.next = 18;\n                    break;\n                  }\n\n                  return _context98.abrupt(\"return\", void (this.disabledVideoTrack = void 0));\n\n                case 18:\n                  _context98.next = 21;\n                  break;\n\n                case 20:\n                  this.disabledVideoTrack = this.videoTrack;\n\n                case 21:\n                  e.push(_f7);\n                  this.isLowStreamConnection && _f7.close();\n                  this.videoTrack = void 0;\n\n                case 24:\n                  _c17 += 1;\n                  _context98.next = 4;\n                  break;\n\n                case 27:\n                  if (!(this.videoTrack || this.audioTrack)) {\n                    _context98.next = 56;\n                    break;\n                  }\n\n                  if (!(0 !== e.length)) {\n                    _context98.next = 54;\n                    break;\n                  }\n\n                  if (!(\"connecting\" === this.connectionState)) {\n                    _context98.next = 38;\n                    break;\n                  }\n\n                  _context98.prev = 30;\n                  _context98.next = 33;\n                  return this.createWaitConnectionConnectedPromise();\n\n                case 33:\n                  _context98.next = 38;\n                  break;\n\n                case 35:\n                  _context98.prev = 35;\n                  _context98.t0 = _context98[\"catch\"](30);\n                  return _context98.abrupt(\"return\");\n\n                case 38:\n                  _i2 = 0;\n\n                case 39:\n                  if (!(_i2 < e.length)) {\n                    _context98.next = 52;\n                    break;\n                  }\n\n                  _b28 = e[_i2];\n                  k.debug(m(f = \"[\".concat(this.connectionId, \"] remove \")).call(f, _b28.trackMediaType, \" from pc\"));\n                  _context98.next = 44;\n                  return this.pc.removeTrack(_b28._mediaStreamTrack);\n\n                case 44:\n                  a = V();\n                  _context98.t1 = \"Safari\" === a.name && \"11\" === a.version;\n\n                  if (!_context98.t1) {\n                    _context98.next = 49;\n                    break;\n                  }\n\n                  _context98.next = 49;\n                  return _b28.renewMediaStreamTrack();\n\n                case 49:\n                  _i2++;\n                  _context98.next = 39;\n                  break;\n\n                case 52:\n                  _context98.next = 54;\n                  return this.renegotiateWithGateway();\n\n                case 54:\n                  _context98.next = 58;\n                  break;\n\n                case 56:\n                  _context98.next = 58;\n                  return this.closeP2PConnection();\n\n                case 58:\n                case \"end\":\n                  return _context98.stop();\n              }\n            }\n          }, _callee98, this, [[30, 35]]);\n        }));\n\n        function removeTracks(_x137, _x138) {\n          return _removeTracks.apply(this, arguments);\n        }\n\n        return removeTracks;\n      }()\n    }, {\n      key: \"updateControlMessage\",\n      value: function () {\n        var _updateControlMessage = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee99() {\n          return _regeneratorRuntime.wrap(function _callee99$(_context99) {\n            while (1) {\n              switch (_context99.prev = _context99.next) {\n                case 0:\n                  _context99.t0 = this.audioTrack instanceof ab && \"connected\" === this.connectionState;\n\n                  if (!_context99.t0) {\n                    _context99.next = 10;\n                    break;\n                  }\n\n                  _context99.t1 = this.audioTrack;\n\n                  if (!_context99.t1) {\n                    _context99.next = 6;\n                    break;\n                  }\n\n                  _context99.next = 6;\n                  return Ia(this, E.NEED_CONTROL, {\n                    type: \"audio\",\n                    muted: !this.audioTrack.isActive\n                  });\n\n                case 6:\n                  _context99.t2 = this.videoTrack;\n\n                  if (!_context99.t2) {\n                    _context99.next = 10;\n                    break;\n                  }\n\n                  _context99.next = 10;\n                  return Ia(this, E.NEED_CONTROL, {\n                    type: \"video\",\n                    muted: this.videoTrack.muted\n                  });\n\n                case 10:\n                case \"end\":\n                  return _context99.stop();\n              }\n            }\n          }, _callee99, this);\n        }));\n\n        function updateControlMessage() {\n          return _updateControlMessage.apply(this, arguments);\n        }\n\n        return updateControlMessage;\n      }()\n    }, {\n      key: \"setSimulcastVideoRtpEncodingParameters\",\n      value: function () {\n        var _setSimulcastVideoRtpEncodingParameters = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee100(a) {\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee100$(_context100) {\n            while (1) {\n              switch (_context100.prev = _context100.next) {\n                case 0:\n                  b = this.pc.getSender(\"video\");\n\n                  if (b) {\n                    _context100.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.LOW_STREAM_ENCODING_ERROR, \"Low stream has no video sender.\");\n\n                case 3:\n                  c = b.getParameters();\n\n                  if (!(!c.encodings || !c.encodings[0])) {\n                    _context100.next = 6;\n                    break;\n                  }\n\n                  throw new q(n.LOW_STREAM_ENCODING_ERROR, \"Low stream RtpEncodingParameters is empty.\");\n\n                case 6:\n                  this.videoTrack && this.videoTrack._encoderConfig && this.videoTrack._encoderConfig.bitrateMax && 200 < this.videoTrack._encoderConfig.bitrateMax && 1 < a.numSpatialLayers && (c.encodings = [{\n                    active: !0,\n                    adaptivePtime: !1,\n                    networkPriority: \"high\",\n                    priority: \"high\",\n                    maxBitrate: 1E3 * (this.videoTrack._encoderConfig.bitrateMax - 50)\n                  }, {\n                    active: !0,\n                    adaptivePtime: !1,\n                    networkPriority: \"low\",\n                    priority: \"low\",\n                    maxBitrate: 5E4,\n                    scaleResolutionDownBy: 4\n                  }]);\n                  _context100.next = 9;\n                  return b.setParameters(c);\n\n                case 9:\n                case \"end\":\n                  return _context100.stop();\n              }\n            }\n          }, _callee100, this);\n        }));\n\n        function setSimulcastVideoRtpEncodingParameters(_x139) {\n          return _setSimulcastVideoRtpEncodingParameters.apply(this, arguments);\n        }\n\n        return setSimulcastVideoRtpEncodingParameters;\n      }()\n    }, {\n      key: \"startP2PConnection\",\n      value: function startP2PConnection() {\n        var _this102 = this;\n\n        return new y(\n        /*#__PURE__*/\n        function () {\n          var _ref46 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee101(a, b) {\n            var c, e, _a30, _b29, _c18, r;\n\n            return _regeneratorRuntime.wrap(function _callee101$(_context101) {\n              while (1) {\n                switch (_context101.prev = _context101.next) {\n                  case 0:\n                    if (!(!_this102.audioTrack && !_this102.videoTrack)) {\n                      _context101.next = 2;\n                      break;\n                    }\n\n                    return _context101.abrupt(\"return\", b(new q(n.UNEXPECTED_ERROR, \"no track to publish\")));\n\n                  case 2:\n                    c = function c(e) {\n                      if (\"connected\" === e && (_this102.off(E.CONNECTION_STATE_CHANGE, c), a()), \"disconnected\" === e) {\n                        if (_this102.off(E.CONNECTION_STATE_CHANGE, c), _this102.disconnectedReason) return b(_this102.disconnectedReason);\n                        b(new q(n.OPERATION_ABORTED, \"publish abort\"));\n                      }\n                    };\n\n                    _this102.on(E.CONNECTION_STATE_CHANGE, c);\n\n                    _this102.disconnectedReason = void 0;\n                    _this102.connectionState = \"connecting\";\n                    _this102._waitingSuccessResponse = !0;\n                    _this102.startTime = x();\n                    _context101.prev = 8;\n                    _context101.t0 = !_this102.pc.audioTrack && _this102.audioTrack;\n\n                    if (!_context101.t0) {\n                      _context101.next = 13;\n                      break;\n                    }\n\n                    _context101.next = 13;\n                    return _this102.pc.addTrack(_this102.audioTrack._mediaStreamTrack);\n\n                  case 13:\n                    _context101.t1 = !_this102.pc.videoTrack && _this102.videoTrack;\n\n                    if (!_context101.t1) {\n                      _context101.next = 17;\n                      break;\n                    }\n\n                    _context101.next = 17;\n                    return _this102.pc.addTrack(_this102.videoTrack._mediaStreamTrack);\n\n                  case 17:\n                    _context101.t2 = db() && v.SIMULCAST && _this102.videoTrack && _this102.videoTrack._scalabiltyMode;\n\n                    if (!_context101.t2) {\n                      _context101.next = 21;\n                      break;\n                    }\n\n                    _context101.next = 21;\n                    return _this102.addSimulcast4Firefox(_this102.videoTrack._scalabiltyMode);\n\n                  case 21:\n                    _context101.next = 23;\n                    return _this102.pc.createOfferSDP();\n\n                  case 23:\n                    _a30 = _context101.sent;\n                    v.REMOVE_NEW_CODECS && (_a30 = \"vp9\" === _this102.codec ? ug(_a30, [\"av1\"]) : \"av1\" === _this102.codec ? ug(_a30, [\"vp9\"]) : ug(_a30, [\"vp9\", \"av1\"]));\n                    _b29 = Oj(_a30);\n                    _this102.videoTrack && !Z(e = _b29.video).call(e, _this102.codec.toUpperCase()) && k.warning(\"current codec is not supported, support list: \".concat(_b29.video.join(\",\")));\n                    _this102.audioTrack && _this102.audioTrack._encoderConfig && (_a30 = tg(_a30, _this102.audioTrack._encoderConfig));\n                    _this102.videoTrack && !db() && _this102.videoTrack._scalabiltyMode && (\"vp9\" !== _this102.codec && \"vp8\" !== _this102.codec ? (_this102.videoTrack._scalabiltyMode.numSpatialLayers = 1, _this102.videoTrack._scalabiltyMode.numTemporalLayers = 1) : (1 < _this102.videoTrack._scalabiltyMode.numSpatialLayers || 1 < _this102.videoTrack._scalabiltyMode.numTemporalLayers) && (_a30 = Qj(_a30, _this102.codec, _this102.videoTrack._scalabiltyMode)), k.debug(\"spatial layers: \", _this102.videoTrack._scalabiltyMode.numSpatialLayers));\n                    _context101.next = 31;\n                    return _this102.pc.setOfferSDP(_a30);\n\n                  case 31:\n                    if (!(_this102.audioTrack instanceof ab)) {\n                      _context101.next = 33;\n                      break;\n                    }\n\n                    _this102.pc.onOfferSettled({\n                      videoActive: _this102.videoTrack && !_this102.videoTrack.muted,\n                      audioActive: _this102.audioTrack && _this102.audioTrack.isActive\n                    });\n\n                  case 33:\n                    _this102.videoTrack && _this102.setRtpSenderParametersByTrackConfig(_this102.videoTrack);\n                    k.debug(\"[\".concat(_this102.connectionId, \"] create and set offer success\"));\n                    e = {\n                      messageType: \"OFFER\",\n                      sdp: _a30,\n                      offererSessionId: 104,\n                      retry: !0\n                    };\n                    _context101.t3 = la.supportDualStreamEncoding && _this102.isLowStreamConnection && _this102.lowStreamEncoding && _this102.videoTrack;\n\n                    if (!_context101.t3) {\n                      _context101.next = 40;\n                      break;\n                    }\n\n                    _context101.next = 40;\n                    return _this102.setLowStreamEncoding(_this102.lowStreamEncoding, _this102.videoTrack);\n\n                  case 40:\n                    _this102.videoTrack && !db() && v.SIMULCAST && _this102.videoTrack._scalabiltyMode && _this102.setSimulcastVideoRtpEncodingParameters(_this102.videoTrack._scalabiltyMode);\n                    _context101.next = 43;\n                    return Ia(_this102, E.NEED_ANSWER, e);\n\n                  case 43:\n                    _c18 = _context101.sent;\n                    r = _this102.updateAnswerSDP(_c18.sdp);\n                    _context101.next = 47;\n                    return _this102.pc.setAnswerSDP(r);\n\n                  case 47:\n                    k.debug(\"[\".concat(_this102.connectionId, \"] set answer success\"));\n                    _context101.next = 50;\n                    return _this102.icePromise;\n\n                  case 50:\n                    _this102.connectionState = \"connected\";\n\n                    _this102.startUploadStats();\n\n                    _context101.next = 57;\n                    break;\n\n                  case 54:\n                    _context101.prev = 54;\n                    _context101.t4 = _context101[\"catch\"](8);\n                    _this102.off(E.CONNECTION_STATE_CHANGE, c), _this102.connectionState = \"disconnected\", _this102.reportPublishEvent(!1, _context101.t4.code), k.error(\"[\".concat(_this102.connectionId, \"] connection error\"), _context101.t4.toString()), b(_context101.t4);\n\n                  case 57:\n                  case \"end\":\n                    return _context101.stop();\n                }\n              }\n            }, _callee101, this, [[8, 54]]);\n          }));\n\n          return function (_x140, _x141) {\n            return _ref46.apply(this, arguments);\n          };\n        }());\n      }\n    }, {\n      key: \"reportPublishEvent\",\n      value: function reportPublishEvent(a, b, c) {\n        var e;\n        this._waitingSuccessResponse = !1;\n        u.publish(this.joinInfo.sid, {\n          lts: this.startTime,\n          succ: a,\n          ec: b,\n          audioName: this.audioTrack && (this.audioTrack instanceof ab ? this.audioTrack.getSubTrackLabels().join(\",\") : this.audioTrack.getTrackLabel()),\n          videoName: this.videoTrack && this.videoTrack.getTrackLabel(),\n          screenshare: !(!this.videoTrack || -1 === J(e = this.videoTrack._hints).call(e, Yb.SCREEN_TRACK)),\n          audio: !!this.audioTrack,\n          video: !!this.videoTrack,\n          p2pid: this.pc.ID,\n          publishRequestid: this.ID,\n          extend: c\n        });\n      }\n    }, {\n      key: \"closeP2PConnection\",\n      value: function () {\n        var _closeP2PConnection = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee102(a) {\n          var _this103 = this;\n\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee102$(_context102) {\n            while (1) {\n              switch (_context102.prev = _context102.next) {\n                case 0:\n                  b = this.getAllTracks();\n                  (t(b).call(b, function (a) {\n                    _this103.unbindTrackEvents(a);\n                  }), this.isLowStreamConnection && this.videoTrack && this.videoTrack.close(), this.videoTrack = void 0, this.audioTrack instanceof ab) && (t(c = this.audioTrack.trackList).call(c, function (a) {\n                    _this103.audioTrack.removeAudioTrack(a);\n                  }), this.audioTrack.close());\n                  this.audioTrack = void 0;\n                  this.stopUploadStats();\n                  this.statsCollector.removeConnection(this.connectionId);\n                  _context102.next = 7;\n                  return this.closePC(a);\n\n                case 7:\n                  this.connectionState = \"disconnected\";\n                  this.removeAllListeners();\n\n                case 9:\n                case \"end\":\n                  return _context102.stop();\n              }\n            }\n          }, _callee102, this);\n        }));\n\n        function closeP2PConnection(_x142) {\n          return _closeP2PConnection.apply(this, arguments);\n        }\n\n        return closeP2PConnection;\n      }()\n    }, {\n      key: \"getNetworkQuality\",\n      value: function getNetworkQuality() {\n        var a,\n            b = this.pc.getStats();\n        if (!b.videoSend[0] && !b.audioSend[0]) return 1;\n        var c = Hc(this, E.NEED_SIGNAL_RTT),\n            e = b.videoSend[0] ? b.videoSend[0].rttMs : void 0;\n        var f = b.audioSend[0] ? b.audioSend[0].rttMs : void 0;\n        e = e && f ? (e + f) / 2 : e || f;\n        c = 70 * b.sendPacketLossRate / 50 + .3 * ((e && c ? (e + c) / 2 : e || c) || 0) / 1500;\n        c = .17 > c ? 1 : .36 > c ? 2 : .59 > c ? 3 : .1 > c ? 4 : 5;\n        return this.videoTrack && this.videoTrack._encoderConfig && -1 === J(a = this.videoTrack._hints).call(a, Yb.SCREEN_TRACK) && (a = this.videoTrack._encoderConfig.bitrateMax, b = b.bitrate.actualEncoded, a && b) ? (b = (1E3 * a - b) / (1E3 * a), Fq[.15 > b ? 0 : .3 > b ? 1 : .45 > b ? 2 : .6 > b ? 3 : 4][c]) : c;\n      }\n    }, {\n      key: \"handleUpdateBitrateLimit\",\n      value: function handleUpdateBitrateLimit(a) {\n        this.videoTrack && this.videoTrack.setBitrateLimit(a);\n      }\n    }, {\n      key: \"setAudioTrackMuteState\",\n      value: function () {\n        var _setAudioTrackMuteState = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee103(a, b) {\n          var c, e, f;\n          return _regeneratorRuntime.wrap(function _callee103$(_context103) {\n            while (1) {\n              switch (_context103.prev = _context103.next) {\n                case 0:\n                  if (this.audioTrack instanceof ab) {\n                    _context103.next = 2;\n                    break;\n                  }\n\n                  return _context103.abrupt(\"return\", void k.debug(\"[\".concat(this.connectionId, \"] set audio mute in unsupported environment\")));\n\n                case 2:\n                  c = this.audioTrack;\n                  _context103.prev = 3;\n\n                  if (!a) {\n                    _context103.next = 12;\n                    break;\n                  }\n\n                  if (!(c.removeAudioTrack(b), 0 === c.trackList.length)) {\n                    _context103.next = 9;\n                    break;\n                  }\n\n                  k.debug(m(e = \"[\".concat(this.connectionId, \"] set audio encoding active, id: \")).call(e, b.getTrackId(), \", state: \", !1));\n                  _context103.next = 9;\n                  return this.pc.setAudioRtpEncodingParameters({\n                    active: !1\n                  });\n\n                case 9:\n                  this.suspendTracks.push(b);\n                  _context103.next = 16;\n                  break;\n\n                case 12:\n                  _context103.next = 14;\n                  return this.pc.setAudioRtpEncodingParameters({\n                    active: !0\n                  });\n\n                case 14:\n                  c.addAudioTrack(b);\n                  Gc(this.suspendTracks, b);\n\n                case 16:\n                  _context103.next = 21;\n                  break;\n\n                case 18:\n                  _context103.prev = 18;\n                  _context103.t0 = _context103[\"catch\"](3);\n                  k.warning(m(f = \"[\".concat(this.connectionId, \"] set audio muted error \")).call(f, _context103.t0, \", fallback to set enabled\"));\n\n                case 21:\n                  _context103.next = 23;\n                  return Ia(this, E.NEED_CONTROL, {\n                    type: \"audio\",\n                    muted: !(!this.audioTrack || this.audioTrack.isActive)\n                  });\n\n                case 23:\n                case \"end\":\n                  return _context103.stop();\n              }\n            }\n          }, _callee103, this, [[3, 18]]);\n        }));\n\n        function setAudioTrackMuteState(_x143, _x144) {\n          return _setAudioTrackMuteState.apply(this, arguments);\n        }\n\n        return setAudioTrackMuteState;\n      }()\n    }, {\n      key: \"setVideoTrackMuteState\",\n      value: function () {\n        var _setVideoTrackMuteState = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee104(a) {\n          var b, c, e, f, h, l, r;\n          return _regeneratorRuntime.wrap(function _callee104$(_context104) {\n            while (1) {\n              switch (_context104.prev = _context104.next) {\n                case 0:\n                  b = !a, c = !1;\n\n                  if (!(V().name === S.FIREFOX)) {\n                    _context104.next = 5;\n                    break;\n                  }\n\n                  c = !0;\n                  _context104.next = 15;\n                  break;\n\n                case 5:\n                  _context104.prev = 5;\n                  k.debug(m(e = m(f = \"[\".concat(this.connectionId, \"] set video encoding active, id: \")).call(f, this.videoTrack && this.videoTrack.getTrackId(), \", state: \")).call(e, b));\n                  _context104.next = 9;\n                  return this.pc.setVideoRtpEncodingParameters({\n                    active: b\n                  });\n\n                case 9:\n                  _context104.next = 15;\n                  break;\n\n                case 11:\n                  _context104.prev = 11;\n                  _context104.t0 = _context104[\"catch\"](5);\n                  k.warning(m(h = \"[\".concat(this.connectionId, \"] set video encoding active error \")).call(h, _context104.t0, \", fallback to set enabled\"));\n                  c = !0;\n\n                case 15:\n                  c && this.videoTrack && (k.debug(m(l = m(r = \"[\".concat(this.connectionId, \"] set video encoding active fallback to enabled on firefox, type: \")).call(r, this.videoTrack && this.videoTrack.getTrackId(), \", state: \")).call(l, b)), this.videoTrack.getMediaStreamTrack().enabled = b);\n                  this.lowStreamConnection && this.lowStreamConnection.setVideoTrackMuteState(a);\n                  _context104.t1 = !this.isLowStreamConnection;\n\n                  if (!_context104.t1) {\n                    _context104.next = 21;\n                    break;\n                  }\n\n                  _context104.next = 21;\n                  return Ia(this, E.NEED_CONTROL, {\n                    type: \"video\",\n                    muted: a\n                  });\n\n                case 21:\n                case \"end\":\n                  return _context104.stop();\n              }\n            }\n          }, _callee104, this, [[5, 11]]);\n        }));\n\n        function setVideoTrackMuteState(_x145) {\n          return _setVideoTrackMuteState.apply(this, arguments);\n        }\n\n        return setVideoTrackMuteState;\n      }()\n    }, {\n      key: \"uploadStats\",\n      value: function uploadStats(a, b) {\n        var _this104 = this;\n\n        var c = this.audioTrack ? function (a, b) {\n          var c = a.audioSend[0];\n          if (!c) return null;\n          a = {\n            id: va(10, \"\"),\n            timestamp: new Date(a.timestamp).toISOString(),\n            mediaType: \"audio\",\n            type: \"ssrc\",\n            ssrc: c.ssrc.toString()\n          };\n          return a.A_astd = b._originMediaStreamTrack.enabled && b._mediaStreamTrack.enabled ? \"0\" : \"1\", c.inputLevel ? a.A_ail = Math.round(100 * c.inputLevel).toString() : a.A_ail = Math.round(100 * b._source.getAccurateVolumeLevel()).toString(), a.A_apil = Math.round(100 * b._source.getAccurateVolumeLevel()).toString(), a;\n        }(a, this.audioTrack) : void 0,\n            e = this.videoTrack ? function (a, b) {\n          var c = a.videoSend[0];\n          if (!c) return null;\n          a = {\n            id: va(10, \"\"),\n            timestamp: new Date(a.timestamp).toISOString(),\n            mediaType: \"video\",\n            type: \"ssrc\",\n            ssrc: c.ssrc.toString()\n          };\n\n          switch (a.A_vstd = b._originMediaStreamTrack && !b._originMediaStreamTrack.enabled || !b._mediaStreamTrack.enabled ? \"1\" : \"0\", c.sentFrame && (a.A_fhs = c.sentFrame.height.toString(), a.A_frs = c.sentFrame.frameRate.toString(), a.A_fws = c.sentFrame.width.toString()), c.adaptionChangeReason) {\n            case \"none\":\n              a.A_ac = \"0\";\n              break;\n\n            case \"cpu\":\n              a.A_ac = \"1\";\n              break;\n\n            case \"bandwidth\":\n              a.A_ac = \"2\";\n              break;\n\n            case \"other\":\n              a.A_ac = \"3\";\n          }\n\n          return a.A_nr = c.nacksCount.toString(), c.avgEncodeMs && (a.A_aem = c.avgEncodeMs.toFixed(0).toString()), a;\n        }(a, this.videoTrack) : void 0,\n            f = qj(a, b),\n            h = function (a) {\n          var b = {\n            id: \"bweforvideo\",\n            timestamp: new Date(a.timestamp).toISOString(),\n            type: \"VideoBwe\"\n          };\n          return a.bitrate.retransmit && (b.A_rb = a.bitrate.retransmit.toString()), a.bitrate.targetEncoded && (b.A_teb = a.bitrate.targetEncoded.toString()), b.A_aeb = a.bitrate.actualEncoded.toString(), b.A_tb = a.bitrate.transmit.toString(), void 0 !== a.sendBandwidth && (b.A_asb = a.sendBandwidth.toString()), b;\n        }(a);\n\n        c && xb(function () {\n          return _this104.emit(E.NEED_UPLOAD, Lb.PUBLISH_STATS, c);\n        });\n        e && xb(function () {\n          return _this104.emit(E.NEED_UPLOAD, Lb.PUBLISH_STATS, Tj({}, e, {}, f));\n        });\n        h && xb(function () {\n          return _this104.emit(E.NEED_UPLOAD, Lb.PUBLISH_STATS, h);\n        });\n      }\n    }, {\n      key: \"uploadSlowStats\",\n      value: function uploadSlowStats(a) {\n        var _this105 = this;\n\n        var b = qj(a);\n        b && xb(function () {\n          return _this105.emit(E.NEED_UPLOAD, Lb.PUBLISH_STATS, b);\n        });\n      }\n    }, {\n      key: \"uploadRelatedStats\",\n      value: function uploadRelatedStats(a) {\n        var _this106 = this;\n\n        var b = function (a) {\n          return (a = a.videoSend[0]) ? {\n            mediaType: \"video\",\n            isVideoMute: !1,\n            frameRateInput: a.inputFrame && a.inputFrame.frameRate.toString(),\n            frameRateSent: a.sentFrame && a.sentFrame.frameRate.toString(),\n            googRtt: a.rttMs.toString()\n          } : null;\n        }(a);\n\n        b && (b.isVideoMute = !(!this.videoTrack || !this.videoTrack.muted), xb(function () {\n          _this106.emit(E.NEED_UPLOAD, Lb.PUBLISH_RELATED_STATS, b);\n        }));\n      }\n    }, {\n      key: \"addSimulcast4Firefox\",\n      value: function () {\n        var _addSimulcast4Firefox = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee105(a) {\n          var _b30;\n\n          return _regeneratorRuntime.wrap(function _callee105$(_context105) {\n            while (1) {\n              switch (_context105.prev = _context105.next) {\n                case 0:\n                  if (!(db() && this.videoTrack && this.videoTrack._encoderConfig && this.videoTrack._encoderConfig.bitrateMax && 200 < this.videoTrack._encoderConfig.bitrateMax && 1 < a.numSpatialLayers && \"vp8\" === this.codec && (a = this.pc.getSender(\"video\")))) {\n                    _context105.next = 8;\n                    break;\n                  }\n\n                  _b30 = a.getParameters();\n                  k.debug(\"getParameters : \", _b30);\n                  _b30 || k.error(\"[\".concat(this.connectionId, \"] get sender parameter error.\"));\n                  _b30.encodings = [{\n                    rid: \"m\",\n                    active: !0,\n                    maxBitrate: 5E4,\n                    scaleResolutionDownBy: 4\n                  }, {\n                    rid: \"h\",\n                    active: !0,\n                    maxBitrate: 1E3 * (this.videoTrack._encoderConfig.bitrateMax - 50)\n                  }];\n                  _context105.next = 7;\n                  return a.setParameters(_b30);\n\n                case 7:\n                  k.debug(\"setParameters : \", _b30);\n\n                case 8:\n                case \"end\":\n                  return _context105.stop();\n              }\n            }\n          }, _callee105, this);\n        }));\n\n        function addSimulcast4Firefox(_x146) {\n          return _addSimulcast4Firefox.apply(this, arguments);\n        }\n\n        return addSimulcast4Firefox;\n      }()\n    }, {\n      key: \"bindTrackEvents\",\n      value: function bindTrackEvents(a) {\n        var b;\n        a.addListener(G.NEED_RESET_REMOTE_SDP, xa(b = this.handleResetRemoteSdp).call(b, this));\n        this.isLowStreamConnection || (a instanceof La ? (a.addListener(G.GET_STATS, this.handleGetLocalAudioStats), a.addListener(G.NEED_CLOSE, this.handleCloseAudioTrack), a.addListener(G.SET_AUDIO_TRACK_MUTED, this.handleMuteAudioTrack)) : a instanceof ta && (a.addListener(G.GET_STATS, this.handleGetLocalVideoStats), a.addListener(G.NEED_CLOSE, this.handleCloseVideoTrack), a.addListener(G.SET_OPTIMIZATION_MODE, this.handleSetOptimizationMode), a.addListener(G.SET_VIDEO_TRACK_MUTED, this.handleMuteVideoTrack)), a.addListener(G.NEED_RENEGOTIATE, this.handleStreamRenegotiate), a.addListener(G.NEED_REPLACE_TRACK, this.handleReplaceTrack), a.addListener(G.NEED_SESSION_ID, this.handleGetSessionID));\n      }\n    }, {\n      key: \"unbindTrackEvents\",\n      value: function unbindTrackEvents(a) {\n        this.isLowStreamConnection || (a instanceof La ? (a.off(G.GET_STATS, this.handleGetLocalAudioStats), a.off(G.NEED_CLOSE, this.handleCloseAudioTrack), a.off(G.SET_AUDIO_TRACK_MUTED, this.handleMuteAudioTrack)) : a instanceof ta && (a.off(G.GET_STATS, this.handleGetLocalVideoStats), a.off(G.NEED_CLOSE, this.handleCloseVideoTrack), a.off(G.SET_OPTIMIZATION_MODE, this.handleSetOptimizationMode), a.off(G.SET_VIDEO_TRACK_MUTED, this.handleMuteVideoTrack)), a.off(G.NEED_RENEGOTIATE, this.handleStreamRenegotiate), a.off(G.NEED_REPLACE_TRACK, this.handleReplaceTrack), a.off(G.NEED_SESSION_ID, this.handleGetSessionID));\n      }\n    }, {\n      key: \"addTrackWithPC\",\n      value: function () {\n        var _addTrackWithPC = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee106(a) {\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee106$(_context106) {\n            while (1) {\n              switch (_context106.prev = _context106.next) {\n                case 0:\n                  if (!(\"connecting\" === this.connectionState)) {\n                    _context106.next = 2;\n                    break;\n                  }\n\n                  return _context106.abrupt(\"return\", new q(n.INVALID_OPERATION, \"last publish operation has not finished\").throw());\n\n                case 2:\n                  b = this.videoTrack, c = !1;\n\n                  if (!(this.audioTrack && a instanceof ab)) {\n                    _context106.next = 11;\n                    break;\n                  }\n\n                  this.audioTrack = a;\n                  k.debug(\"[\".concat(this.connectionId, \"] replace pc audio track\"));\n                  _context106.next = 8;\n                  return this.pc.replaceTrack(a._mediaStreamTrack);\n\n                case 8:\n                  c = _context106.sent;\n                  _context106.next = 34;\n                  break;\n\n                case 11:\n                  if (!(this.videoTrack && a instanceof ta)) {\n                    _context106.next = 19;\n                    break;\n                  }\n\n                  this.videoTrack = a;\n                  k.debug(\"[\".concat(this.connectionId, \"] replace pc video track\"));\n                  _context106.next = 16;\n                  return this.pc.replaceTrack(a._mediaStreamTrack);\n\n                case 16:\n                  c = _context106.sent;\n                  _context106.next = 34;\n                  break;\n\n                case 19:\n                  if (!(a instanceof La)) {\n                    _context106.next = 27;\n                    break;\n                  }\n\n                  this.audioTrack = a;\n                  k.debug(\"[\".concat(this.connectionId, \"] add audio track to pc\"));\n                  _context106.next = 24;\n                  return this.pc.addTrack(a._mediaStreamTrack);\n\n                case 24:\n                  c = !0;\n                  _context106.next = 34;\n                  break;\n\n                case 27:\n                  _context106.t0 = a instanceof ta;\n\n                  if (!_context106.t0) {\n                    _context106.next = 34;\n                    break;\n                  }\n\n                  this.videoTrack = a;\n                  k.debug(\"[\".concat(this.connectionId, \"] add video track to pc\"));\n                  _context106.next = 33;\n                  return this.pc.addTrack(a._mediaStreamTrack);\n\n                case 33:\n                  c = !0;\n\n                case 34:\n                  _context106.t1 = \"connected\" === this.connectionState && this.videoTrack !== b && this.videoTrack;\n\n                  if (!_context106.t1) {\n                    _context106.next = 38;\n                    break;\n                  }\n\n                  _context106.next = 38;\n                  return this.setRtpSenderParametersByTrackConfig(this.videoTrack);\n\n                case 38:\n                  return _context106.abrupt(\"return\", \"disconnected\" !== this.connectionState && c);\n\n                case 39:\n                case \"end\":\n                  return _context106.stop();\n              }\n            }\n          }, _callee106, this);\n        }));\n\n        function addTrackWithPC(_x147) {\n          return _addTrackWithPC.apply(this, arguments);\n        }\n\n        return addTrackWithPC;\n      }()\n    }, {\n      key: \"handleResetRemoteSdp\",\n      value: function handleResetRemoteSdp() {\n        var _this107 = this;\n\n        return new y(function (a, b) {\n          var c;\n          k.info(\"[pc-\".concat(_this107.pc.ID, \"] start reset remote sdp\"));\n\n          var e = _this107.pc.getOfferSDP();\n\n          var f = _this107.pc.getAnswerSDP();\n\n          if (!f || !e) return a();\n          f = f.sdp;\n          var h;\n          _this107.videoTrack && _this107.videoTrack._encoderConfig && -1 === J(c = _this107.videoTrack._hints).call(c, Yb.SCREEN_TRACK) && (h = function (a, b) {\n            var c, e;\n            var f = b.bitrateMin;\n            b = b.bitrateMax;\n            var h = xa(c = RegExp.prototype.test).call(c, /^([a-z])=(.*)/);\n            a = I(e = a.split(/(\\r\\n|\\r|\\n)/)).call(e, h);\n\n            if (b) {\n              var _c19 = \"AS\";\n              V().name === S.FIREFOX && (b = 1E3 * (b >>> 0), _c19 = \"TIAS\");\n              e = Ue(a).call(a, function (a) {\n                return Z(a).call(a, _c19);\n              });\n              var k;\n              0 < e && (a[e] = m(k = \"b=\".concat(_c19, \":\")).call(k, b));\n            }\n\n            f && (k = Ue(a).call(a, function (a) {\n              return Z(a).call(a, \"x-google-min-bitrate\");\n            }), 0 < k && (a[k] = a[k].replace(/x-google-min-bitrate=(.*)/, \"x-google-min-bitrate=\".concat(f))));\n            return a.join(\"\\r\\n\") + \"\\r\\n\";\n          }(f, _this107.videoTrack._encoderConfig));\n          f !== h ? _this107.pc.setOfferSDP(e.sdp).then(function () {\n            if (h) return _this107.pc.setAnswerSDP(h);\n          }).then(a).catch(function (a) {\n            var c;\n            k.error(m(c = \"[pc-\".concat(_this107.pc.ID, \"] reset remote sdp error, \")).call(c, a));\n            b(a);\n          }) : k.debug(\"[pc-\".concat(_this107.pc.ID, \"] remote sdp have no not changed\"));\n        });\n      }\n    }, {\n      key: \"setRtpSenderParametersByTrackConfig\",\n      value: function () {\n        var _setRtpSenderParametersByTrackConfig = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee107(a) {\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee107$(_context107) {\n            while (1) {\n              switch (_context107.prev = _context107.next) {\n                case 0:\n                  if (la.supportSetRtpSenderParameters) {\n                    _context107.next = 2;\n                    break;\n                  }\n\n                  return _context107.abrupt(\"return\", void k.debug(\"[\".concat(this.connectionId, \"] do not support set pc rtp sender, skip\")));\n\n                case 2:\n                  b = {}, c = \"balanced\";\n                  \"motion\" === a._optimizationMode ? c = \"maintain-framerate\" : \"detail\" === a._optimizationMode && (c = \"maintain-resolution\");\n                  k.debug(\"[\".concat(this.connectionId, \"] set pc rtp sender\"), b, c);\n                  _context107.next = 7;\n                  return this.pc.setRtpSenderParameters(b, c);\n\n                case 7:\n                case \"end\":\n                  return _context107.stop();\n              }\n            }\n          }, _callee107, this);\n        }));\n\n        function setRtpSenderParametersByTrackConfig(_x148) {\n          return _setRtpSenderParametersByTrackConfig.apply(this, arguments);\n        }\n\n        return setRtpSenderParametersByTrackConfig;\n      }()\n    }, {\n      key: \"updateAnswerSDP\",\n      value: function updateAnswerSDP(a) {\n        var b, c;\n        return a = a.replace(/a=x-google-flag:conference\\r\\n/g, \"\"), this.videoTrack && J(b = this.videoTrack._hints).call(b, Yb.SCREEN_TRACK), this.videoTrack && this.videoTrack._encoderConfig && -1 === J(c = this.videoTrack._hints).call(c, Yb.SCREEN_TRACK) && (a = function (a, b, c) {\n          var e = la;\n          var f = c.bitrateMin;\n          c = c.bitrateMax;\n          var h = a.match(/m=video.*\\r\\n/) || a.match(/m=video.*\\n/);\n          if (h && 0 < h.length && e.supportMinBitrate && f && (b = Rj(a, b))) if (v.SIMULCAST) {\n            var k, n;\n            f = c ? .7 * c : 300;\n            a = a.replace(h[0], m(k = m(n = \"\".concat(h[0], \"a=fmtp:\")).call(n, b, \" x-google-start-bitrate=\")).call(k, f, \"\\r\\n\"));\n          } else {\n            var q, t;\n            a = a.replace(h[0], m(q = m(t = \"\".concat(h[0], \"a=fmtp:\")).call(t, b, \" x-google-min-bitrate=\")).call(q, f, \"\\r\\n\"));\n          }\n\n          if (h && 0 < h.length && c) {\n            var B, u;\n            k = \"AS\";\n            V().name === S.FIREFOX && (c = 1E3 * (c >>> 0), k = \"TIAS\");\n            a = a.replace(h[0], m(B = m(u = \"\".concat(h[0], \"b=\")).call(u, k, \":\")).call(B, c, \"\\r\\n\"));\n          }\n\n          return a;\n        }(a, this.codec, this.videoTrack._encoderConfig)), this.audioTrack && this.audioTrack._encoderConfig && (a = tg(a, this.audioTrack._encoderConfig)), a = function (a) {\n          var b = V();\n          return b.name !== S.SAFARI && b.os !== Na.IOS ? a : a.replace(/a=.*video-orientation\\r\\n/g, \"\");\n        }(a);\n      }\n    }, {\n      key: \"createPC\",\n      value: function createPC() {\n        this.pc = new En({\n          turnServer: this.joinInfo.turnServer\n        });\n        this.updateICEPromise();\n      }\n    }, {\n      key: \"closePC\",\n      value: function () {\n        var _closePC = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee108(a) {\n          return _regeneratorRuntime.wrap(function _callee108$(_context108) {\n            while (1) {\n              switch (_context108.prev = _context108.next) {\n                case 0:\n                  this.pc.onICEConnectionStateChange = void 0;\n                  this.pc.close();\n                  _context108.t0 = !a;\n\n                  if (!_context108.t0) {\n                    _context108.next = 7;\n                    break;\n                  }\n\n                  _context108.next = 6;\n                  return Ia(this, E.NEED_UNPUB);\n\n                case 6:\n                  _context108.t0 = _context108.sent;\n\n                case 7:\n                  return _context108.abrupt(\"return\", _context108.t0);\n\n                case 8:\n                case \"end\":\n                  return _context108.stop();\n              }\n            }\n          }, _callee108, this);\n        }));\n\n        function closePC(_x149) {\n          return _closePC.apply(this, arguments);\n        }\n\n        return closePC;\n      }()\n    }, {\n      key: \"onPCDisconnected\",\n      value: function onPCDisconnected(a) {\n        this.reportPublishEvent(!1, a.code);\n      }\n    }, {\n      key: \"setLowStreamEncoding\",\n      value: function () {\n        var _setLowStreamEncoding = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee109(a, b) {\n          var _c20, _e9, _c21, _h4;\n\n          return _regeneratorRuntime.wrap(function _callee109$(_context109) {\n            while (1) {\n              switch (_context109.prev = _context109.next) {\n                case 0:\n                  _context109.prev = 0;\n                  _context109.next = 3;\n                  return this.pc.setVideoRtpEncodingParameters(a);\n\n                case 3:\n                  _c20 = _context109.sent;\n                  _e9 = b.getMediaStreamTrack();\n\n                  if (!(a.scaleResolutionDownBy && _c20.encodings[0].scaleResolutionDownBy !== a.scaleResolutionDownBy)) {\n                    _context109.next = 11;\n                    break;\n                  }\n\n                  _c21 = b._videoHeight || _e9.getSettings().height, _h4 = b._videoWidth || _e9.getSettings().width;\n                  _context109.t0 = _c21 && _h4;\n\n                  if (!_context109.t0) {\n                    _context109.next = 11;\n                    break;\n                  }\n\n                  _context109.next = 11;\n                  return _e9.applyConstraints({\n                    height: _c21 / a.scaleResolutionDownBy,\n                    width: _h4 / a.scaleResolutionDownBy\n                  });\n\n                case 11:\n                  _context109.t1 = a.maxFramerate && _c20.encodings[0].maxFramerate !== a.maxFramerate;\n\n                  if (!_context109.t1) {\n                    _context109.next = 15;\n                    break;\n                  }\n\n                  _context109.next = 15;\n                  return _e9.applyConstraints({\n                    frameRate: a.maxFramerate\n                  });\n\n                case 15:\n                  _context109.next = 22;\n                  break;\n\n                case 17:\n                  _context109.prev = 17;\n                  _context109.t2 = _context109[\"catch\"](0);\n\n                  if (!(_context109.t2 instanceof q)) {\n                    _context109.next = 21;\n                    break;\n                  }\n\n                  throw _context109.t2;\n\n                case 21:\n                  throw new q(n.LOW_STREAM_ENCODING_ERROR, _context109.t2.message);\n\n                case 22:\n                case \"end\":\n                  return _context109.stop();\n              }\n            }\n          }, _callee109, this, [[0, 17]]);\n        }));\n\n        function setLowStreamEncoding(_x150, _x151) {\n          return _setLowStreamEncoding.apply(this, arguments);\n        }\n\n        return setLowStreamEncoding;\n      }()\n    }]);\n\n    return On;\n  }(Hn);\n\n  var Pn =\n  /*#__PURE__*/\n  function (_xm2) {\n    _inherits(Pn, _xm2);\n\n    function Pn(a, b, c, e) {\n      var _this108;\n\n      _classCallCheck(this, Pn);\n\n      var f, h;\n      _this108 = _possibleConstructorReturn(this, _getPrototypeOf(Pn).call(this, a, m(f = m(h = \"track-\".concat(a.kind, \"-\")).call(h, b, \"-\")).call(f, e)));\n      _this108._isDestroyed = !1;\n      _this108._userId = b;\n      _this108._uintId = c;\n      return _this108;\n    }\n\n    _createClass(Pn, [{\n      key: \"getUserId\",\n      value: function getUserId() {\n        return this._userId;\n      }\n    }, {\n      key: \"_updateOriginMediaStreamTrack\",\n      value: function _updateOriginMediaStreamTrack(a) {\n        this._mediaStreamTrack = this._originMediaStreamTrack = a;\n\n        this._updatePlayerSource();\n      }\n    }, {\n      key: \"_destroy\",\n      value: function _destroy() {\n        this._isDestroyed = !0;\n        k.info(\"[\".concat(this.getTrackId(), \"] is destroyed\"));\n        this.stop();\n\n        _get(_getPrototypeOf(Pn.prototype), \"close\", this).call(this);\n      }\n    }]);\n\n    return Pn;\n  }(xm);\n\n  var we =\n  /*#__PURE__*/\n  function (_Pn) {\n    _inherits(we, _Pn);\n\n    function we(a, b, c, e) {\n      var _this109;\n\n      _classCallCheck(this, we);\n\n      _this109 = _possibleConstructorReturn(this, _getPrototypeOf(we).call(this, a, b, c, e));\n      _this109.trackMediaType = \"video\";\n\n      _this109.updateMediaStreamTrackResolution();\n\n      return _this109;\n    }\n\n    _createClass(we, [{\n      key: \"getStats\",\n      value: function getStats() {\n        Qd(function () {\n          k.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\");\n        }, \"remoteVideoTrackGetStatsWarning\");\n        return Hc(this, G.GET_STATS) || vg({}, lh);\n      }\n    }, {\n      key: \"play\",\n      value: function play(a) {\n        var _this110 = this;\n\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var c = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.REMOTE_VIDEO_TRACK_PLAY,\n          options: [this.getTrackId(), \"string\" == typeof a ? a : \"HTMLElement\", b]\n        });\n\n        if (\"string\" == typeof a) {\n          var _b31 = document.getElementById(a);\n\n          var e;\n          _b31 ? a = _b31 : (k.warning(m(e = \"[\".concat(this.getTrackId(), '] can not find \"#')).call(e, a, '\" element, use document.body')), a = document.body);\n        }\n\n        k.debug(\"[\".concat(this.getTrackId(), \"] start video playback\"), A(b));\n        a = vg({\n          fit: \"cover\"\n        }, b, {\n          trackId: this.getTrackId(),\n          element: a\n        });\n        this._player ? this._player.updateConfig(a) : (this._player = new In(a), this._player.updateVideoTrack(this._mediaStreamTrack), this._player.onFirstVideoFrameDecoded = function () {\n          _this110.emit(je.FIRST_FRAME_DECODED);\n        });\n\n        this._player.play();\n\n        c.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.REMOTE_VIDEO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        if (!this._player) return a.onSuccess();\n\n        this._player.destroy();\n\n        this._player = void 0;\n        k.debug(\"[\".concat(this.getTrackId(), \"] stop video playback\"));\n        a.onSuccess();\n      }\n    }, {\n      key: \"getCurrentFrameData\",\n      value: function getCurrentFrameData() {\n        return this._player ? this._player.getCurrentFrame() : new ImageData(2, 2);\n      }\n    }, {\n      key: \"updateMediaStreamTrackResolution\",\n      value: function updateMediaStreamTrackResolution() {\n        var _this111 = this;\n\n        tj(this._originMediaStreamTrack).then(function (_ref47) {\n          var _ref48 = _slicedToArray(_ref47, 2),\n              a = _ref48[0],\n              b = _ref48[1];\n\n          _this111._videoHeight = b;\n          _this111._videoWidth = a;\n        }).catch(Qe);\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        k.debug(\"[\".concat(this.getTrackId(), \"] update player source track\"));\n        this._player && this._player.updateVideoTrack(this._mediaStreamTrack);\n      }\n    }, {\n      key: \"isPlaying\",\n      get: function get() {\n        return !(!this._player || this._player.videoElementStatus !== Qa.PLAYING);\n      }\n    }]);\n\n    return we;\n  }(Pn);\n\n  var xe =\n  /*#__PURE__*/\n  function (_Pn2) {\n    _inherits(xe, _Pn2);\n\n    function xe(a, b, c, e) {\n      var _this112;\n\n      _classCallCheck(this, xe);\n\n      _this112 = _possibleConstructorReturn(this, _getPrototypeOf(xe).call(this, a, b, c, e));\n      _this112.trackMediaType = \"audio\";\n      _this112._useAudioElement = !0;\n      _this112._volume = 100;\n      _this112._source = new zm(a, !0);\n\n      _this112._source.once(Mb.RECEIVE_TRACK_BUFFER, function () {\n        _this112.emit(je.FIRST_FRAME_DECODED);\n      });\n\n      return _this112;\n    }\n\n    _createClass(xe, [{\n      key: \"setAudioFrameCallback\",\n      value: function setAudioFrameCallback(a) {\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4096;\n        if (!a) return this._source.removeAllListeners(Mb.ON_AUDIO_BUFFER), void this._source.stopGetAudioBuffer();\n\n        this._source.startGetAudioBuffer(b);\n\n        this._source.removeAllListeners(Mb.ON_AUDIO_BUFFER);\n\n        this._source.on(Mb.ON_AUDIO_BUFFER, function (b) {\n          return a(b);\n        });\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(a) {\n        var b = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.REMOTE_AUDIO_SET_VOLUME,\n          options: [this.getTrackId(), a]\n        }, 300);\n        this._volume = a;\n        this._useAudioElement ? Bb.setVolume(this.getTrackId(), a) : this._source.setVolume(a / 100);\n        b.onSuccess();\n      }\n    }, {\n      key: \"setPlaybackDevice\",\n      value: function () {\n        var _setPlaybackDevice2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee110(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee110$(_context110) {\n            while (1) {\n              switch (_context110.prev = _context110.next) {\n                case 0:\n                  b = u.reportApiInvoke(null, {\n                    tag: C.TRACER,\n                    name: D.REMOTE_AUDIO_SET_OUTPUT_DEVICE,\n                    options: [this.getTrackId(), a]\n                  });\n\n                  if (this._useAudioElement) {\n                    _context110.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.NOT_SUPPORTED, \"your browser does not support setting the audio output device\");\n\n                case 3:\n                  _context110.prev = 3;\n                  _context110.next = 6;\n                  return Bb.setSinkID(this.getTrackId(), a);\n\n                case 6:\n                  _context110.next = 11;\n                  break;\n\n                case 8:\n                  _context110.prev = 8;\n                  _context110.t0 = _context110[\"catch\"](3);\n                  throw b.onError(_context110.t0), _context110.t0;\n\n                case 11:\n                  b.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context110.stop();\n              }\n            }\n          }, _callee110, this, [[3, 8]]);\n        }));\n\n        function setPlaybackDevice(_x152) {\n          return _setPlaybackDevice2.apply(this, arguments);\n        }\n\n        return setPlaybackDevice;\n      }()\n    }, {\n      key: \"getVolumeLevel\",\n      value: function getVolumeLevel() {\n        return this._source.getAccurateVolumeLevel();\n      }\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        Qd(function () {\n          k.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\");\n        }, \"remoteAudioTrackGetStatsWarning\");\n        return Hc(this, G.GET_STATS) || vg({}, kh);\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.REMOTE_AUDIO_TRACK_PLAY,\n          options: [this.getTrackId()]\n        });\n        k.debug(\"[\".concat(this.getTrackId(), \"] start audio playback\"));\n        this._useAudioElement ? (k.debug(\"[\".concat(this.getTrackId(), \"] use audio element to play\")), Bb.play(this._mediaStreamTrack, this.getTrackId(), this._volume)) : this._source.play();\n        a.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var a = u.reportApiInvoke(null, {\n          tag: C.TRACER,\n          name: D.REMOTE_AUDIO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        k.debug(\"[\".concat(this.getTrackId(), \"] stop audio playback\"));\n        this._useAudioElement ? Bb.stop(this.getTrackId()) : this._source.stop();\n        a.onSuccess();\n      }\n    }, {\n      key: \"_destroy\",\n      value: function _destroy() {\n        _get(_getPrototypeOf(xe.prototype), \"_destroy\", this).call(this);\n\n        this._source.destroy();\n      }\n    }, {\n      key: \"_isFreeze\",\n      value: function _isFreeze() {\n        return this._source.isFreeze;\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        k.debug(\"[\".concat(this.getTrackId(), \"] update player source track\"));\n\n        this._source.updateTrack(this._mediaStreamTrack);\n\n        this._useAudioElement && Bb.updateTrack(this.getTrackId(), this._mediaStreamTrack);\n      }\n    }, {\n      key: \"isPlaying\",\n      get: function get() {\n        return this._useAudioElement ? Bb.isPlaying(this.getTrackId()) : this._source.isPlayed;\n      }\n    }]);\n\n    return xe;\n  }(Pn);\n\n  var ws =\n  /*#__PURE__*/\n  function (_Hn2) {\n    _inherits(ws, _Hn2);\n\n    function ws(a, b, c, e) {\n      var _this113;\n\n      _classCallCheck(this, ws);\n\n      _this113 = _possibleConstructorReturn(this, _getPrototypeOf(ws).call(this, c, a.uid));\n      _this113.type = \"sub\";\n      _this113.unusedTracks = [];\n\n      _this113.onTrack = function (a) {\n        var b, c;\n        if (\"audio\" === a.kind && !_this113.subscribeOptions.audio || \"video\" === a.kind && !_this113.subscribeOptions.video) return _this113.unusedTracks.push(a), void k.debug(m(c = \"[\".concat(_this113.connectionId, \"] unused ontrack event, kind: \")).call(c, a.kind));\n        k.debug(m(b = \"[\".concat(_this113.connectionId, \"] emit pc ontrack after subscribe \")).call(b, a.kind), a);\n        b = \"audio\" === a.kind ? _this113.user._audioTrack : _this113.user._videoTrack;\n        var e, f;\n        b ? b._updateOriginMediaStreamTrack(a) : \"audio\" === a.kind ? (_this113.pc._statsFilter.setIsFirstAudioDecoded(!1), _this113.user._audioTrack = new xe(a, _this113.getUserId(), _this113.user._uintid, _this113.joinInfo.clientId), k.info(m(e = \"[\".concat(_this113.connectionId, \"] create remote audio track: \")).call(e, _this113.user._audioTrack.getTrackId())), _this113.bindTrackEvents(_this113.user._audioTrack)) : (_this113.user._videoTrack = new we(a, _this113.getUserId(), _this113.user._uintid, _this113.joinInfo.clientId), k.info(m(f = \"[\".concat(_this113.connectionId, \"] create remote video track: \")).call(f, _this113.user._videoTrack.getTrackId())), _this113.bindTrackEvents(_this113.user._videoTrack));\n      };\n\n      _this113.handleGetRemoteAudioStats = function (a) {\n        a(_this113.statsCollector.getRemoteAudioTrackStats(_this113.connectionId));\n      };\n\n      _this113.handleGetRemoteVideoStats = function (a) {\n        a(_this113.statsCollector.getRemoteVideoTrackStats(_this113.connectionId));\n      };\n\n      _this113.handleGetSessionID = function (a) {\n        a(_this113.joinInfo.sid);\n      };\n\n      _this113.user = a;\n      _this113.statsCollector = b;\n\n      _this113.statsCollector.addRemoteConnection(_assertThisInitialized(_assertThisInitialized(_this113)));\n\n      _this113.subscribeOptions = e;\n      return _this113;\n    }\n\n    _createClass(ws, [{\n      key: \"startP2PConnection\",\n      value: function () {\n        var _startP2PConnection = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee112() {\n          var _this114 = this;\n\n          return _regeneratorRuntime.wrap(function _callee112$(_context112) {\n            while (1) {\n              switch (_context112.prev = _context112.next) {\n                case 0:\n                  return _context112.abrupt(\"return\", new y(\n                  /*#__PURE__*/\n                  function () {\n                    var _ref49 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee111(a, b) {\n                      var c, e, f, _a31, _b32, _c22, _e10, _n, h, l;\n\n                      return _regeneratorRuntime.wrap(function _callee111$(_context111) {\n                        while (1) {\n                          switch (_context111.prev = _context111.next) {\n                            case 0:\n                              c = function c(e) {\n                                if (\"connected\" === e && (u.subscribe(_this114.joinInfo.sid, {\n                                  lts: _this114.startTime,\n                                  succ: !0,\n                                  video: _this114.subscribeOptions.video,\n                                  audio: _this114.subscribeOptions.audio,\n                                  peerid: _this114.user.uid,\n                                  ec: null,\n                                  subscribeRequestid: _this114.ID,\n                                  p2pid: _this114.pc.ID\n                                }), _this114.off(E.CONNECTION_STATE_CHANGE, c), a()), \"disconnected\" === e) {\n                                  if (_this114.off(E.CONNECTION_STATE_CHANGE, c), _this114.disconnectedReason) return b(_this114.disconnectedReason);\n                                  b(new q(n.OPERATION_ABORTED, \"subscribe abort\"));\n                                }\n                              };\n\n                              if (!(_this114.on(E.CONNECTION_STATE_CHANGE, c), _this114.disconnectedReason = void 0, _this114.connectionState = \"connecting\", _this114.startTime = x(), !_this114.subscribeOptions)) {\n                                _context111.next = 3;\n                                break;\n                              }\n\n                              return _context111.abrupt(\"return\", void b(new q(n.UNEXPECTED_ERROR, \"no subscribe options\")));\n\n                            case 3:\n                              e = new MediaStream(), f = new y(function (a) {\n                                _this114.pc.onTrack = function (b, c) {\n                                  var f, h;\n                                  if (\"audio\" === b.kind && !_this114.subscribeOptions.audio || \"video\" === b.kind && !_this114.subscribeOptions.video) return _this114.unusedTracks.push(b), void k.debug(m(h = \"[\".concat(_this114.connectionId, \"] unused ontrack event \")).call(h, b.kind));\n                                  e.addTrack(b);\n                                  h = {\n                                    audio: 0 < e.getAudioTracks().length,\n                                    video: 0 < e.getVideoTracks().length\n                                  };\n                                  k.debug(m(f = \"[\".concat(_this114.connectionId, \"] subscribe ontrack: \")).call(f, b.kind), c, b);\n\n                                  a: {\n                                    b = _this114.subscribeOptions;\n                                    var l, p;\n                                    c = he(l = W(h)).call(l);\n                                    l = he(p = W(b)).call(p);\n\n                                    for (p = 0; p < c.length; p += 1) {\n                                      if (c[p] !== l[p]) {\n                                        h = !1;\n                                        break a;\n                                      }\n\n                                      if (h[c[p]] !== b[c[p]]) {\n                                        h = !1;\n                                        break a;\n                                      }\n                                    }\n\n                                    h = !0;\n                                  }\n\n                                  h && (_this114.pc.onTrack = _this114.onTrack, k.debug(\"[\".concat(_this114.connectionId, \"] get all subscribed tracks\")), a(e));\n                                };\n                              });\n                              _context111.prev = 4;\n\n                              _context111.t0 = function (a) {\n                                return V().name !== S.FIREFOX ? a : a.replace(\"/recvonly http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\", \" http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\");\n                              };\n\n                              _context111.t1 = Pj;\n                              _context111.next = 9;\n                              return _this114.pc.createOfferSDP();\n\n                            case 9:\n                              _context111.t2 = _context111.sent;\n                              _context111.t3 = (0, _context111.t1)(_context111.t2);\n                              _a31 = (0, _context111.t0)(_context111.t3);\n                              _context111.next = 14;\n                              return _this114.pc.setOfferSDP(_a31);\n\n                            case 14:\n                              k.debug(\"[\".concat(_this114.connectionId, \"] create and set offer success\"));\n                              _context111.next = 17;\n                              return Ia(_this114, E.NEED_ANSWER, {\n                                messageType: \"OFFER\",\n                                sdp: _a31,\n                                offererSessionId: 104,\n                                retry: !0\n                              });\n\n                            case 17:\n                              _b32 = _context111.sent;\n                              _context111.next = 20;\n                              return _this114.pc.setAnswerSDP(Pj(_b32.sdp));\n\n                            case 20:\n                              k.debug(\"[\".concat(_this114.connectionId, \"] set answer success\"));\n                              _context111.next = 23;\n                              return y.all([f, _this114.icePromise]);\n\n                            case 23:\n                              _c22 = _context111.sent;\n                              _e10 = _c22[0].getAudioTracks()[0];\n                              _n = _c22[0].getVideoTracks()[0];\n                              _e10 && (_this114.user._audioTrack ? _this114.user._audioTrack._updateOriginMediaStreamTrack(_e10) : (_this114.user._audioTrack = new xe(_e10, _this114.getUserId(), _this114.user._uintid, _this114.joinInfo.clientId), k.info(m(h = \"[\".concat(_this114.connectionId, \"] create remote audio track: \")).call(h, _this114.user._audioTrack.getTrackId())), _this114.bindTrackEvents(_this114.user._audioTrack)));\n                              _n && (_this114.user._videoTrack ? _this114.user._videoTrack._updateOriginMediaStreamTrack(_n) : (_this114.user._videoTrack = new we(_n, _this114.getUserId(), _this114.user._uintid, _this114.joinInfo.clientId), k.info(m(l = \"[\".concat(_this114.connectionId, \"] create remote video track: \")).call(l, _this114.user._videoTrack.getTrackId())), _this114.bindTrackEvents(_this114.user._videoTrack)));\n                              _this114.connectionState = \"connected\";\n\n                              _this114.startUploadStats();\n\n                              _context111.next = 35;\n                              break;\n\n                            case 32:\n                              _context111.prev = 32;\n                              _context111.t4 = _context111[\"catch\"](4);\n                              _this114.off(E.CONNECTION_STATE_CHANGE, c), _this114.connectionState = \"disconnected\", u.subscribe(_this114.joinInfo.sid, {\n                                lts: _this114.startTime,\n                                succ: !1,\n                                video: _this114.subscribeOptions.video,\n                                audio: _this114.subscribeOptions.audio,\n                                peerid: _this114.user.uid,\n                                ec: _context111.t4.code,\n                                subscribeRequestid: _this114.ID,\n                                p2pid: _this114.pc.ID\n                              }), b(_context111.t4);\n\n                            case 35:\n                            case \"end\":\n                              return _context111.stop();\n                          }\n                        }\n                      }, _callee111, this, [[4, 32]]);\n                    }));\n\n                    return function (_x153, _x154) {\n                      return _ref49.apply(this, arguments);\n                    };\n                  }()));\n\n                case 1:\n                case \"end\":\n                  return _context112.stop();\n              }\n            }\n          }, _callee112, this);\n        }));\n\n        function startP2PConnection() {\n          return _startP2PConnection.apply(this, arguments);\n        }\n\n        return startP2PConnection;\n      }()\n    }, {\n      key: \"closeP2PConnection\",\n      value: function () {\n        var _closeP2PConnection2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee113(a) {\n          return _regeneratorRuntime.wrap(function _callee113$(_context113) {\n            while (1) {\n              switch (_context113.prev = _context113.next) {\n                case 0:\n                  _context113.t0 = \"disconnected\" !== this.connectionState;\n\n                  if (!_context113.t0) {\n                    _context113.next = 10;\n                    break;\n                  }\n\n                  this.stopUploadStats();\n                  this.statsCollector.removeConnection(this.connectionId);\n                  this.connectionState = \"disconnected\";\n                  _context113.next = 7;\n                  return this.setSubscribeOptions({\n                    audio: !1,\n                    video: !1\n                  });\n\n                case 7:\n                  _context113.next = 9;\n                  return this.closePC(a);\n\n                case 9:\n                  this.removeAllListeners();\n\n                case 10:\n                case \"end\":\n                  return _context113.stop();\n              }\n            }\n          }, _callee113, this);\n        }));\n\n        function closeP2PConnection(_x155) {\n          return _closeP2PConnection2.apply(this, arguments);\n        }\n\n        return closeP2PConnection;\n      }()\n    }, {\n      key: \"getNetworkQuality\",\n      value: function getNetworkQuality() {\n        var a = this.pc.getStats();\n        if (!a.audioRecv[0] && !a.videoRecv[0]) return 1;\n        var b = Hc(this, E.NEED_SIGNAL_RTT),\n            c = a.rtt;\n        b = (c && b ? (c + b) / 2 : c || b) || 0;\n        c = a.audioRecv[0] ? a.audioRecv[0].jitterMs : void 0;\n        a = a.recvPacketLossRate;\n        var e = 70 * a / 50 + .3 * b / 1500;\n        c && (e = 60 * a / 50 + .2 * b / 1500 + .2 * c / 400);\n        return .1 > e ? 1 : .17 > e ? 2 : .36 > e ? 3 : .59 > e ? 4 : 5;\n      }\n    }, {\n      key: \"uploadStats\",\n      value: function uploadStats(a) {\n        var _this115 = this;\n\n        var b = this.user.audioTrack ? function (a, b) {\n          var c = a.audioRecv[0];\n          if (!c) return null;\n          a = {\n            id: va(10, \"\"),\n            timestamp: new Date(a.timestamp).toISOString(),\n            mediaType: \"audio\",\n            type: \"ssrc\",\n            ssrc: c.ssrc.toString()\n          };\n          return a.bytesReceived = c.bytes.toString(), a.packetsLost = c.packetsLost.toString(), a.packetsReceived = c.packets.toString(), c.outputLevel ? a.A_aol = Math.round(100 * c.outputLevel).toString() : a.A_aol = Math.round(100 * b._source.getAccurateVolumeLevel()).toString(), a.A_apol = Math.round(100 * b._source.getAccurateVolumeLevel()).toString(), b && (a.A_artd = b._originMediaStreamTrack.enabled && b._mediaStreamTrack.enabled ? \"0\" : \"1\"), a.A_jr = c.jitterMs.toString(), a.A_jbm = Math.floor(c.jitterBufferMs).toString(), a.A_cdm = Math.floor(c.jitterBufferMs).toString(), a;\n        }(a, this.user.audioTrack) : void 0,\n            c = this.user.videoTrack ? function (a, b) {\n          var c = a.videoRecv[0];\n          if (!c) return null;\n          a = {\n            id: va(10, \"\"),\n            timestamp: new Date(a.timestamp).toISOString(),\n            mediaType: \"video\",\n            type: \"ssrc\",\n            ssrc: c.ssrc.toString()\n          };\n          var e;\n          return a.bytesReceived = c.bytes.toString(), a.packetsLost = c.packetsLost.toString(), a.packetsReceived = c.packets.toString(), c.framesRateFirefox && (a.A_frr = c.framesRateFirefox.toString()), c.receivedFrame && (a.A_frr = c.receivedFrame.frameRate.toString()), a.A_frd = c.decodeFrameRate.toString(), c.outputFrame && (a.A_fro = c.outputFrame.frameRate.toString()), void 0 !== c.jitterBufferMs && (a.A_jbm = Math.floor(c.jitterBufferMs).toString()), void 0 !== c.currentDelayMs && (a.A_cdm = Math.floor(c.currentDelayMs).toString()), a.A_fs = c.firsCount.toString(), a.A_ns = c.nacksCount.toString(), a.A_ps = c.plisCount.toString(), b && (a.A_vrtd = b._originMediaStreamTrack.enabled && b._mediaStreamTrack.enabled ? \"0\" : \"1\"), b._player && 0 < b._player.freezeTimeCounterList.length && (a.A_vrft = Ra(e = b._player.freezeTimeCounterList).call(e, 0, 1)[0].toString()), a;\n        }(a, this.user.videoTrack) : void 0;\n        b && xb(function () {\n          return _this115.emit(E.NEED_UPLOAD, Lb.SUBSCRIBE_STATS, b);\n        });\n        c && xb(function () {\n          return _this115.emit(E.NEED_UPLOAD, Lb.SUBSCRIBE_STATS, c);\n        });\n      }\n    }, {\n      key: \"uploadSlowStats\",\n      value: function uploadSlowStats(a) {}\n    }, {\n      key: \"uploadRelatedStats\",\n      value: function uploadRelatedStats(a, b) {\n        var _this116 = this;\n\n        var c = !0 === this.pc._statsFilter.videoIsReady,\n            e = function (a, b, c) {\n          a = a.audioRecv[0];\n          if (!a) return null;\n          c = oe.isRemoteAudioFreeze(c);\n          return {\n            mediaType: \"audio\",\n            isAudioMute: !1,\n            peerId: b,\n            googJitterReceived: a.jitterMs.toString(),\n            isFreeze: c,\n            bytesReceived: a.bytes.toString(),\n            packetsReceived: a.packets.toString(),\n            packetsLost: a.packetsLost.toString(),\n            frameReceived: a.receivedFrames.toString(),\n            frameDropped: a.droppedFrames.toString()\n          };\n        }(a, this.getUserId(), this.user.audioTrack),\n            f = function (a, b, c, e, f) {\n          b = b.videoRecv[0];\n          if (!b) return null;\n          a = oe.isRemoteVideoFreeze(f, b, e ? e.videoRecv[0] : void 0) && a;\n          c = {\n            mediaType: \"video\",\n            isVideoMute: !1,\n            peerId: c,\n            frameRateReceived: b.receivedFrame && b.receivedFrame.frameRate.toString(),\n            frameRateDecoded: b.decodedFrame && b.decodedFrame.frameRate.toString(),\n            isFreeze: a,\n            bytesReceived: b.bytes.toString(),\n            packetsReceived: b.packets.toString(),\n            packetsLost: b.packetsLost.toString()\n          };\n          return b.framesRateFirefox && (c.frameRateDecoded = b.framesRateFirefox.toString(), c.frameRateReceived = b.framesRateFirefox.toString()), c;\n        }(c, a, this.getUserId(), b, this.user.videoTrack);\n\n        e && xb(function () {\n          _this116.emit(E.NEED_UPLOAD, Lb.SUBSCRIBE_RELATED_STATS, e);\n        });\n        f && xb(function () {\n          _this116.emit(E.NEED_UPLOAD, Lb.SUBSCRIBE_RELATED_STATS, f);\n        });\n      }\n    }, {\n      key: \"emitOnTrackFromUnusedTracks\",\n      value: function emitOnTrackFromUnusedTracks() {\n        if (this.subscribeOptions) {\n          var a = this.subscribeOptions.video;\n\n          if (this.subscribeOptions.audio) {\n            var b;\n\n            var _a32 = U(b = this.unusedTracks).call(b, function (a) {\n              return \"audio\" === a.kind && \"live\" === a.readyState;\n            });\n\n            Gc(this.unusedTracks, _a32);\n            _a32 && this.onTrack(_a32);\n          }\n\n          if (a) {\n            var c;\n            a = U(c = this.unusedTracks).call(c, function (a) {\n              return \"video\" === a.kind && \"live\" === a.readyState;\n            });\n            Gc(this.unusedTracks, a);\n            a && this.onTrack(a);\n          }\n        }\n      }\n    }, {\n      key: \"setSubscribeOptions\",\n      value: function () {\n        var _setSubscribeOptions = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee114(a) {\n          var b, c, e, f;\n          return _regeneratorRuntime.wrap(function _callee114$(_context114) {\n            while (1) {\n              switch (_context114.prev = _context114.next) {\n                case 0:\n                  if (!(a.audio !== this.subscribeOptions.audio || a.video !== this.subscribeOptions.video)) {\n                    _context114.next = 11;\n                    break;\n                  }\n\n                  if (!(\"connecting\" === this.connectionState)) {\n                    _context114.next = 10;\n                    break;\n                  }\n\n                  _context114.prev = 2;\n                  _context114.next = 5;\n                  return this.createWaitConnectionConnectedPromise();\n\n                case 5:\n                  _context114.next = 10;\n                  break;\n\n                case 7:\n                  _context114.prev = 7;\n                  _context114.t0 = _context114[\"catch\"](2);\n                  throw new q(n.OPERATION_ABORTED, \"can not update subscribe options, operation abort\");\n\n                case 10:\n                  a.audio === this.subscribeOptions.audio && a.video === this.subscribeOptions.video || (k.debug(m(b = m(c = m(e = m(f = \"[\".concat(this.connectionId, \"] update subscribe options [a: \")).call(f, this.subscribeOptions.audio, \", v: \")).call(e, this.subscribeOptions.video, \"] -> [a: \")).call(c, a.audio, \", v: \")).call(b, a.video, \"]\")), this.subscribeOptions = a, !a.audio && this.user._audioTrack && (this.unusedTracks.push(this.user._audioTrack._originMediaStreamTrack), this.user._audioTrack._destroy(), this.unbindTrackEvents(this.user._audioTrack), this.user._audioTrack = void 0), !a.video && this.user._videoTrack && (this.unusedTracks.push(this.user._videoTrack._originMediaStreamTrack), this.user._videoTrack._destroy(), this.unbindTrackEvents(this.user._videoTrack), this.user._videoTrack = void 0), this.emitOnTrackFromUnusedTracks());\n\n                case 11:\n                case \"end\":\n                  return _context114.stop();\n              }\n            }\n          }, _callee114, this, [[2, 7]]);\n        }));\n\n        function setSubscribeOptions(_x156) {\n          return _setSubscribeOptions.apply(this, arguments);\n        }\n\n        return setSubscribeOptions;\n      }()\n    }, {\n      key: \"createPC\",\n      value: function createPC() {\n        var _this117 = this;\n\n        this.pc = new Fn({\n          turnServer: this.joinInfo.turnServer\n        });\n\n        this.pc.onFirstAudioDecoded = function () {\n          _this117.user.audioTrack && _this117.user.audioTrack.emit(je.FIRST_FRAME_DECODED);\n          u.firstRemoteFrame(_this117.joinInfo.sid, Ta.FIRST_AUDIO_DECODE, sa.FIRST_AUDIO_DECODE, {\n            peer: _this117.user._uintid,\n            subscribeElapse: x() - _this117.startTime,\n            subscribeRequestid: _this117.ID,\n            p2pid: _this117.pc.ID\n          });\n        };\n\n        this.pc.onFirstAudioReceived = function () {\n          u.firstRemoteFrame(_this117.joinInfo.sid, Ta.FIRST_AUDIO_RECEIVED, sa.FIRST_AUDIO_RECEIVED, {\n            peer: _this117.user._uintid,\n            subscribeElapse: x() - _this117.startTime,\n            subscribeRequestid: _this117.ID,\n            p2pid: _this117.pc.ID\n          });\n        };\n\n        this.pc.onFirstVideoDecoded = function (a, b) {\n          u.firstRemoteFrame(_this117.joinInfo.sid, Ta.FIRST_VIDEO_DECODE, sa.FIRST_VIDEO_DECODE, {\n            peer: _this117.user._uintid,\n            videowidth: a,\n            videoheight: b,\n            subscribeElapse: x() - _this117.startTime,\n            subscribeRequestid: _this117.ID,\n            p2pid: _this117.pc.ID\n          });\n        };\n\n        this.pc.onFirstVideoReceived = function () {\n          u.firstRemoteFrame(_this117.joinInfo.sid, Ta.FIRST_VIDEO_RECEIVED, sa.FIRST_VIDEO_RECEIVED, {\n            peer: _this117.user._uintid,\n            subscribeElapse: x() - _this117.startTime,\n            subscribeRequestid: _this117.ID,\n            p2pid: _this117.pc.ID\n          });\n        };\n\n        this.updateICEPromise();\n      }\n    }, {\n      key: \"closePC\",\n      value: function () {\n        var _closePC2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee115(a) {\n          return _regeneratorRuntime.wrap(function _callee115$(_context115) {\n            while (1) {\n              switch (_context115.prev = _context115.next) {\n                case 0:\n                  if (!(this.pc.audioTrack && this.pc.audioTrack.stop(), this.pc.videoTrack && this.pc.videoTrack.stop(), this.pc.onTrack = void 0, this.pc.onICEConnectionStateChange = void 0, this.pc.close(), a)) {\n                    _context115.next = 4;\n                    break;\n                  }\n\n                  _context115.t0 = !1;\n                  _context115.next = 7;\n                  break;\n\n                case 4:\n                  _context115.next = 6;\n                  return Ia(this, E.NEED_UNSUB);\n\n                case 6:\n                  _context115.t0 = _context115.sent;\n\n                case 7:\n                  return _context115.abrupt(\"return\", _context115.t0);\n\n                case 8:\n                case \"end\":\n                  return _context115.stop();\n              }\n            }\n          }, _callee115, this);\n        }));\n\n        function closePC(_x157) {\n          return _closePC2.apply(this, arguments);\n        }\n\n        return closePC;\n      }()\n    }, {\n      key: \"onPCDisconnected\",\n      value: function onPCDisconnected(a) {\n        u.subscribe(this.joinInfo.sid, {\n          lts: this.startTime,\n          succ: !1,\n          video: this.subscribeOptions.video,\n          audio: this.subscribeOptions.audio,\n          peerid: this.user.uid,\n          ec: a.code,\n          subscribeRequestid: this.ID,\n          p2pid: this.pc.ID\n        });\n      }\n    }, {\n      key: \"bindTrackEvents\",\n      value: function bindTrackEvents(a) {\n        a instanceof xe ? a.addListener(G.GET_STATS, this.handleGetRemoteAudioStats) : a instanceof we && a.addListener(G.GET_STATS, this.handleGetRemoteVideoStats);\n      }\n    }, {\n      key: \"unbindTrackEvents\",\n      value: function unbindTrackEvents(a) {\n        a instanceof xe ? a.off(G.GET_STATS, this.handleGetRemoteAudioStats) : a instanceof we && a.off(G.GET_STATS, this.handleGetRemoteVideoStats);\n      }\n    }]);\n\n    return ws;\n  }(Hn);\n\n  var xs =\n  /*#__PURE__*/\n  function (_Wa13) {\n    _inherits(xs, _Wa13);\n\n    function xs(a, b, c, e) {\n      var _this118;\n\n      _classCallCheck(this, xs);\n\n      _this118 = _possibleConstructorReturn(this, _getPrototypeOf(xs).call(this));\n      _this118.reconnectMode = \"retry\";\n      _this118.commandReqId = _this118.reqId = 0;\n\n      _this118.handleWebSocketOpen = function () {\n        _this118.reconnectMode = \"retry\";\n\n        _this118.startPingPong();\n      };\n\n      _this118.handleWebSocketMessage = function (a) {\n        if (a.data) {\n          a = JSON.parse(a.data);\n          var b;\n          a.requestId ? _this118.emit(m(b = \"@\".concat(a.requestId, \"-\")).call(b, a.sid), a) : _this118.serviceMode === ua.INJECT ? _this118.emit(Nb.INJECT_STREAM_STATUS, a) : (u.workerEvent(_this118.spec.sid, {\n            actionType: \"status\",\n            serverCode: a.code,\n            workerType: _this118.serviceMode === ua.TRANSCODE ? 1 : 2\n          }), _this118.emit(Nb.PUBLISH_STREAM_STATUS, a));\n        }\n      };\n\n      _this118.spec = b;\n      _this118.token = a;\n      _this118.serviceMode = e;\n      _this118.websocket = new Dh(\"live-streaming\", c);\n\n      _this118.websocket.on(ea.CONNECTED, _this118.handleWebSocketOpen);\n\n      _this118.websocket.on(ea.ON_MESSAGE, _this118.handleWebSocketMessage);\n\n      _this118.websocket.on(ea.REQUEST_NEW_URLS, function (a, b) {\n        Ia(_assertThisInitialized(_assertThisInitialized(_this118)), Nb.REQUEST_NEW_ADDRESS).then(a).catch(b);\n      });\n\n      _this118.websocket.on(ea.RECONNECTING, function () {\n        _this118.websocket.reconnectMode = _this118.reconnectMode;\n      });\n\n      return _this118;\n    }\n\n    _createClass(xs, [{\n      key: \"init\",\n      value: function init(a) {\n        return this.websocket.init(a);\n      }\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee116(a, b, c, e) {\n          var _this119 = this;\n\n          var f, h, k, r, p, w;\n          return _regeneratorRuntime.wrap(function _callee116$(_context116) {\n            while (1) {\n              switch (_context116.prev = _context116.next) {\n                case 0:\n                  this.reqId += 1;\n                  \"request\" === a && (this.commandReqId += 1);\n                  f = this.commandReqId, h = this.reqId;\n\n                  if (!(!h || !this.websocket)) {\n                    _context116.next = 5;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR);\n\n                case 5:\n                  k = wg({\n                    command: a,\n                    sdkVersion: \"4.7.3\" === ob ? \"0.0.1\" : ob,\n                    seq: h,\n                    requestId: h,\n                    allocate: c,\n                    cname: this.spec.cname,\n                    appId: this.spec.appId,\n                    sid: this.spec.sid,\n                    uid: this.spec.uid.toString(),\n                    ts: Math.floor(x() / 1E3)\n                  }, b);\n\n                  if (!(\"closed\" === this.websocket.state)) {\n                    _context116.next = 8;\n                    break;\n                  }\n\n                  throw new q(n.WS_DISCONNECT);\n\n                case 8:\n                  r = function r() {\n                    return new y(function (a, b) {\n                      _this119.websocket.once(ea.CLOSED, function () {\n                        return b(new q(n.WS_ABORT));\n                      });\n\n                      _this119.websocket.once(ea.CONNECTED, a);\n                    });\n                  };\n\n                  _context116.t0 = \"connected\" !== this.websocket.state;\n\n                  if (!_context116.t0) {\n                    _context116.next = 13;\n                    break;\n                  }\n\n                  _context116.next = 13;\n                  return r();\n\n                case 13:\n                  k.clientRequest && (k.clientRequest.workerToken = this.token);\n                  p = new y(function (a, b) {\n                    var c;\n\n                    var e = function e() {\n                      b(new q(n.WS_ABORT));\n                    };\n\n                    _this119.websocket.once(ea.RECONNECTING, e);\n\n                    _this119.websocket.once(ea.CLOSED, e);\n\n                    _this119.once(m(c = \"@\".concat(h, \"-\")).call(c, _this119.spec.sid), function (b) {\n                      a(b);\n                    });\n                  });\n                  e && u.workerEvent(this.spec.sid, wg({}, e, {\n                    requestId: f,\n                    actionType: \"request\",\n                    payload: A(b.clientRequest),\n                    serverCode: 0,\n                    code: 0\n                  }));\n                  w = x();\n                  this.websocket.sendMessage(k);\n                  k = null;\n                  _context116.prev = 19;\n                  _context116.next = 22;\n                  return p;\n\n                case 22:\n                  k = _context116.sent;\n                  _context116.next = 34;\n                  break;\n\n                case 25:\n                  _context116.prev = 25;\n                  _context116.t1 = _context116[\"catch\"](19);\n\n                  if (!(\"closed\" === this.websocket.state)) {\n                    _context116.next = 29;\n                    break;\n                  }\n\n                  throw _context116.t1;\n\n                case 29:\n                  _context116.next = 31;\n                  return r();\n\n                case 31:\n                  _context116.next = 33;\n                  return this.request(a, b, c);\n\n                case 33:\n                  return _context116.abrupt(\"return\", _context116.sent);\n\n                case 34:\n                  return _context116.abrupt(\"return\", (e && u.workerEvent(this.spec.sid, wg({}, e, {\n                    requestId: f,\n                    actionType: \"response\",\n                    payload: A(k.serverResponse),\n                    serverCode: k.code,\n                    success: 200 === k.code,\n                    responseTime: x() - w\n                  })), 200 !== k.code && this.handleResponseError(k), k));\n\n                case 35:\n                case \"end\":\n                  return _context116.stop();\n              }\n            }\n          }, _callee116, this, [[19, 25]]);\n        }));\n\n        function request(_x158, _x159, _x160, _x161) {\n          return _request2.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"tryNextAddress\",\n      value: function tryNextAddress() {\n        this.reconnectMode = \"tryNext\";\n        this.websocket.reconnect(\"tryNext\");\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var a = \"4.7.3\" === ob ? \"0.0.1\" : ob;\n        this.reqId += 1;\n        \"connected\" === this.websocket.state ? (this.websocket.sendMessage({\n          command: \"request\",\n          appId: this.spec.appId,\n          cname: this.spec.cname,\n          uid: this.spec.uid.toString(),\n          sdkVersion: a,\n          sid: this.spec.sid,\n          seq: this.reqId,\n          ts: Math.floor(x() / 1E3),\n          requestId: this.reqId,\n          clientRequest: {\n            command: \"DestroyWorker\"\n          }\n        }), this.websocket.close(!1, !0)) : this.websocket.close(!1);\n        this.pingpongTimer && (window.clearInterval(this.pingpongTimer), this.pingpongTimer = void 0);\n      }\n    }, {\n      key: \"handleResponseError\",\n      value: function handleResponseError(a) {\n        switch (a.code) {\n          case oa.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:\n            return void k.warning(\"live stream response already exists stream\");\n\n          case oa.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:\n          case oa.LIVE_STREAM_RESPONSE_BAD_STREAM:\n          case oa.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:\n            return new q(n.LIVE_STREAMING_INVALID_ARGUMENT, \"\", {\n              code: a.code\n            }).throw();\n\n          case oa.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:\n            if (\"UnpublishStream\" === a.serverResponse.command || \"UninjectStream\" === a.serverResponse.command) break;\n            throw new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"live stream response wm worker not exist\", {\n              retry: !0\n            });\n\n          case oa.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:\n            return new q(n.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED, \"\", {\n              code: a.code\n            }).throw();\n\n          case oa.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:\n            var b = new q(n.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);\n            return this.emit(Nb.WARNING, b, a.serverResponse.url);\n\n          case oa.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:\n            return b = new q(n.LIVE_STREAMING_WARN_FREQUENT_REQUEST), this.emit(Nb.WARNING, b, a.serverResponse.url);\n\n          case oa.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:\n            throw new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"live stream response wm worker not exist\", {\n              retry: !0\n            });\n\n          case oa.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:\n            return new q(n.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED, \"\", {\n              code: a.code\n            }).throw();\n\n          case oa.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:\n            return b = new q(n.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT), this.emit(Nb.WARNING, b, a.serverResponse.url);\n\n          case oa.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:\n            return new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"\", {\n              code: a.code\n            }).throw();\n\n          case oa.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:\n            throw new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"live stream resource limit\", {\n              retry: !0,\n              changeAddress: !0\n            });\n\n          case oa.LIVE_STREAM_RESPONSE_WORKER_LOST:\n          case oa.LIVE_STREAM_RESPONSE_WORKER_QUIT:\n            if (\"UnpublishStream\" === a.serverResponse.command || \"UninjectStream\" === a.serverResponse.command) break;\n            throw new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"error fail send message\", {\n              retry: !0,\n              changeAddress: !0\n            });\n\n          case oa.ERROR_FAIL_SEND_MESSAGE:\n            if (\"UnpublishStream\" === a.serverResponse.command || \"UninjectStream\" === a.serverResponse.command) break;\n            if (\"UpdateTranscoding\" === a.serverResponse.command || \"ControlStream\" === a.serverResponse.command) return new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"error fail send message\", {\n              code: a.code\n            }).throw();\n            throw new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"error fail send message\", {\n              retry: !0,\n              changeAddress: !0\n            });\n\n          case oa.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:\n          case oa.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:\n          case oa.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:\n          case oa.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:\n            return new q(n.LIVE_STREAMING_CDN_ERROR, \"\", {\n              code: a.code\n            }).throw();\n        }\n      }\n    }, {\n      key: \"startPingPong\",\n      value: function startPingPong() {\n        var _this120 = this;\n\n        this.pingpongTimer && window.clearInterval(this.pingpongTimer);\n        this.pingpongTimer = window.setInterval(function () {\n          \"connected\" === _this120.websocket.state && _this120.request(\"ping\", {}).catch(Qe);\n        }, 6E3);\n      }\n    }]);\n\n    return xs;\n  }(Wa);\n\n  var ys =\n  /*#__PURE__*/\n  function (_Wa14) {\n    _inherits(ys, _Wa14);\n\n    function ys(a) {\n      var _this121;\n\n      var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Ga;\n      var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Ga;\n\n      _classCallCheck(this, ys);\n\n      _this121 = _possibleConstructorReturn(this, _getPrototypeOf(ys).call(this));\n      _this121.retryTimeout = 1E4;\n      _this121.streamingTasks = new ba();\n      _this121.isStartingStreamingTask = !1;\n      _this121.taskMutex = new sc(\"live-streaming\");\n      _this121.cancelToken = $b.CancelToken.source();\n      _this121.injectConfig = xc({}, Vq);\n      _this121.injectLoopTimes = 0;\n      _this121.lastTaskId = 1;\n      _this121.statusError = new ba();\n      _this121.spec = a;\n      _this121.httpRetryConfig = c;\n      _this121.wsRetryConfig = b;\n      return _this121;\n    }\n\n    _createClass(ys, [{\n      key: \"setTranscodingConfig\",\n      value: function () {\n        var _setTranscodingConfig = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee117(a) {\n          var _a33,\n              _this122 = this;\n\n          var b, c, e, f, h, l, r, p, n, _a34, q;\n\n          return _regeneratorRuntime.wrap(function _callee117$(_context117) {\n            while (1) {\n              switch (_context117.prev = _context117.next) {\n                case 0:\n                  c = xc({}, Uq, {}, a);\n                  66 !== c.videoCodecProfile && 77 !== c.videoCodecProfile && 100 !== c.videoCodecProfile && (k.debug(m(e = \"[\".concat(this.spec.clientId, \"] set transcoding config, fix video codec profile: \")).call(e, c.videoCodecProfile, \" -> 100\")), c.videoCodecProfile = 100);\n                  (c.transcodingUsers || (c.transcodingUsers = c.userConfigs), c.transcodingUsers) && (c.transcodingUsers = z(f = c.transcodingUsers).call(f, function (a) {\n                    return xc({}, Tq, {}, a, {\n                      zOrder: a.zOrder ? a.zOrder + 1 : 1\n                    });\n                  }));\n                  !function (a) {\n                    var b, c;\n                    null == a.width || ha(a.width, \"config.width\", 0, 1E4);\n                    null == a.height || ha(a.height, \"config.height\", 0, 1E4);\n                    null == a.videoBitrate || ha(a.videoBitrate, \"config.videoBitrate\", 1, 1E6);\n                    null == a.videoFrameRate || ha(a.videoFrameRate, \"config.videoFrameRate\");\n                    null == a.lowLatency || Le(a.lowLatency, \"config.lowLatency\");\n                    null == a.audioSampleRate || fb(a.audioSampleRate, \"config.audioSampleRate\", [32E3, 44100, 48E3]);\n                    null == a.audioBitrate || ha(a.audioBitrate, \"config.audioBitrate\", 1, 128);\n                    null == a.audioChannels || fb(a.audioChannels, \"config.audioChannels\", [1, 2, 3, 4, 5]);\n                    null == a.videoGop || ha(a.videoGop, \"config.videoGop\");\n                    null == a.videoCodecProfile || fb(a.videoCodecProfile, \"config.videoCodecProfile\", [66, 77, 100]);\n                    null == a.userCount || ha(a.userCount, \"config.userCount\", 0, 17);\n                    null == a.backgroundColor || ha(a.backgroundColor, \"config.backgroundColor\", 0, 16777215);\n                    null == a.userConfigExtraInfo || Sa(a.userConfigExtraInfo, \"config.userConfigExtraInfo\", 0, 4096, !1);\n                    a.transcodingUsers && null != a.transcodingUsers && (Xf(a.transcodingUsers, \"config.transcodingUsers\"), t(b = a.transcodingUsers).call(b, function (a, b) {\n                      Zf(a.uid);\n                      null == a.x || ha(a.x, \"transcodingUser[\".concat(b, \"].x\"), 0, 1E4);\n                      null == a.y || ha(a.y, \"transcodingUser[\".concat(b, \"].y\"), 0, 1E4);\n                      null == a.width || ha(a.width, \"transcodingUser[\".concat(b, \"].width\"), 0, 1E4);\n                      null == a.height || ha(a.height, \"transcodingUser[\".concat(b, \"].height\"), 0, 1E4);\n                      null == a.zOrder || ha(a.zOrder - 1, \"transcodingUser[\".concat(b, \"].zOrder\"), 0, 100);\n                      null == a.alpha || ha(a.alpha, \"transcodingUser[\".concat(b, \"].alpha\"), 0, 1, !1);\n                    }));\n                    null == a.watermark || $f(a.watermark, \"watermark\");\n                    null == a.backgroundImage || $f(a.backgroundImage, \"backgroundImage\");\n                    a.images && null != a.images && (Xf(a.images, \"config.images\"), t(c = a.images).call(c, function (a, b) {\n                      $f(a, \"images[\".concat(b, \"]\"));\n                    }));\n                  }(c);\n                  a = [];\n                  c.images && (_a33 = a).push.apply(_a33, _toConsumableArray(z(h = c.images).call(h, function (a) {\n                    return xc({}, mh, {}, a, {\n                      zOrder: 255\n                    });\n                  })));\n                  (c.backgroundImage && (a.push(xc({}, mh, {}, c.backgroundImage, {\n                    zOrder: 0\n                  })), delete c.backgroundImage), c.watermark && (a.push(xc({}, mh, {}, c.watermark, {\n                    zOrder: 255\n                  })), delete c.watermark), c.images = a, c.transcodingUsers) && (c.userConfigs = z(l = c.transcodingUsers).call(l, function (a) {\n                    return xc({}, a);\n                  }), c.userCount = c.transcodingUsers.length, delete c.transcodingUsers);\n                  h = z(b = c.userConfigs || []).call(b, function (a) {\n                    return \"number\" == typeof a.uid ? y.resolve(a.uid) : ng(a.uid, _this122.spec, _this122.cancelToken.token, _this122.httpRetryConfig);\n                  });\n                  _context117.next = 10;\n                  return y.all(h);\n\n                case 10:\n                  b = _context117.sent;\n\n                  if (!(t(b).call(b, function (a, b) {\n                    c.userConfigs && c.userConfigs[b] && (c.userConfigs[b].uid = a);\n                  }), this.transcodingConfig = c, this.connection)) {\n                    _context117.next = 25;\n                    break;\n                  }\n\n                  _context117.prev = 12;\n                  _context117.next = 15;\n                  return this.connection.request(\"request\", {\n                    clientRequest: {\n                      command: \"UpdateTranscoding\",\n                      transcodingConfig: this.transcodingConfig\n                    }\n                  }, !1, {\n                    command: \"UpdateTranscoding\",\n                    workerType: 1,\n                    requestByUser: !0,\n                    tid: z(r = Ub(Uc(p = this.streamingTasks).call(p))).call(r, function (a) {\n                      return a.taskId;\n                    }).join(\"#\")\n                  });\n\n                case 15:\n                  _a34 = _context117.sent;\n                  k.debug(m(n = \"[\".concat(this.spec.clientId, \"] update live transcoding config success, code: \")).call(n, _a34.code, \", config:\"), A(this.transcodingConfig));\n                  _context117.next = 25;\n                  break;\n\n                case 19:\n                  _context117.prev = 19;\n                  _context117.t0 = _context117[\"catch\"](12);\n\n                  if (!(!_context117.t0.data || !_context117.t0.data.retry)) {\n                    _context117.next = 23;\n                    break;\n                  }\n\n                  throw _context117.t0;\n\n                case 23:\n                  _context117.t0.data.changeAddress && this.connection.tryNextAddress();\n                  t(q = this.streamingTasks).call(q, function (a) {\n                    k.warning(\"[\".concat(_this122.spec.clientId, \"] live streaming receive error\"), _context117.t0.toString(), \"try to republish\", a.url);\n\n                    _this122.startLiveStreamingTask(a.url, a.mode, _context117.t0).then(function () {\n                      var b;\n                      k.debug(m(b = \"[\".concat(_this122.spec.clientId, \"] live streaming republish \")).call(b, a.url, \" success\"));\n                    }).catch(function (b) {\n                      k.error(\"[\".concat(_this122.spec.clientId, \"] live streaming republish failed\"), a.url, b.toString());\n                      _this122.onLiveStreamError && _this122.onLiveStreamError(a.url, b);\n                    });\n                  });\n\n                case 25:\n                case \"end\":\n                  return _context117.stop();\n              }\n            }\n          }, _callee117, this, [[12, 19]]);\n        }));\n\n        function setTranscodingConfig(_x162) {\n          return _setTranscodingConfig.apply(this, arguments);\n        }\n\n        return setTranscodingConfig;\n      }()\n    }, {\n      key: \"setInjectStreamConfig\",\n      value: function setInjectStreamConfig(a, b) {\n        this.injectConfig = Ya({}, this.injectConfig, a);\n        this.injectLoopTimes = b;\n      }\n    }, {\n      key: \"startLiveStreamingTask\",\n      value: function () {\n        var _startLiveStreamingTask = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee118(a, b, c) {\n          var _this123 = this;\n\n          var e, f, h, l, r, _f8, _n2;\n\n          return _regeneratorRuntime.wrap(function _callee118$(_context118) {\n            while (1) {\n              switch (_context118.prev = _context118.next) {\n                case 0:\n                  if (!(U(e = Ub(Uc(f = this.streamingTasks).call(f))).call(e, function (a) {\n                    return a.mode === ua.INJECT;\n                  }) && b === ua.INJECT)) {\n                    _context118.next = 2;\n                    break;\n                  }\n\n                  return _context118.abrupt(\"return\", new q(n.LIVE_STREAMING_TASK_CONFLICT, \"inject stream over limit\").throw());\n\n                case 2:\n                  if (!(!this.transcodingConfig && b === ua.TRANSCODE)) {\n                    _context118.next = 4;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");\n\n                case 4:\n                  e = {\n                    command: \"PublishStream\",\n                    ts: x(),\n                    url: a,\n                    uid: this.spec.uid.toString(),\n                    autoDestroyTime: 100,\n                    acceptImageTimeout: !0\n                  };\n                  k.debug(m(h = m(l = \"[\".concat(this.spec.clientId, \"] start live streaming \")).call(l, a, \", mode: \")).call(h, b));\n                  _context118.next = 8;\n                  return this.taskMutex.lock();\n\n                case 8:\n                  h = _context118.sent;\n\n                  if (!(!this.connection && c)) {\n                    _context118.next = 11;\n                    break;\n                  }\n\n                  return _context118.abrupt(\"return\", void h());\n\n                case 11:\n                  if (!(this.streamingTasks.get(a) && !c)) {\n                    _context118.next = 13;\n                    break;\n                  }\n\n                  return _context118.abrupt(\"return\", (h(), new q(n.LIVE_STREAMING_TASK_CONFLICT).throw()));\n\n                case 13:\n                  _context118.prev = 13;\n                  _context118.t0 = this.connection;\n\n                  if (_context118.t0) {\n                    _context118.next = 19;\n                    break;\n                  }\n\n                  _context118.next = 18;\n                  return this.connect(b);\n\n                case 18:\n                  this.connection = _context118.sent;\n\n                case 19:\n                  _context118.next = 24;\n                  break;\n\n                case 21:\n                  _context118.prev = 21;\n                  _context118.t1 = _context118[\"catch\"](13);\n                  throw h(), _context118.t1;\n\n                case 24:\n                  _context118.t2 = b;\n                  _context118.next = _context118.t2 === ua.TRANSCODE ? 27 : _context118.t2 === ua.INJECT ? 29 : 30;\n                  break;\n\n                case 27:\n                  e.transcodingConfig = xc({}, this.transcodingConfig);\n                  return _context118.abrupt(\"break\", 30);\n\n                case 29:\n                  e = {\n                    cname: this.spec.cname,\n                    command: \"InjectStream\",\n                    sid: this.spec.sid,\n                    transcodingConfig: this.injectConfig,\n                    ts: x(),\n                    url: a,\n                    loopTimes: this.injectLoopTimes\n                  };\n\n                case 30:\n                  this.uapResponse && this.uapResponse.vid && (e.vid = this.uapResponse.vid);\n                  this.isStartingStreamingTask = !0;\n                  l = this.lastTaskId++;\n                  _context118.prev = 33;\n                  _f8 = new y(function (b, e) {\n                    jb(_this123.retryTimeout).then(function () {\n                      if (c) return e(c);\n\n                      var b = _this123.statusError.get(a);\n\n                      return b ? (_this123.statusError.delete(a), e(b)) : void 0;\n                    });\n                  });\n                  _context118.next = 37;\n                  return y.race([this.connection.request(\"request\", {\n                    clientRequest: e\n                  }, !0, {\n                    url: a,\n                    command: \"PublishStream\",\n                    workerType: b === ua.TRANSCODE ? 1 : 2,\n                    requestByUser: !c,\n                    tid: l.toString()\n                  }), _f8]);\n\n                case 37:\n                  _n2 = _context118.sent;\n                  this.isStartingStreamingTask = !1;\n                  k.debug(m(r = \"[\".concat(this.spec.clientId, \"] live streaming started, code: \")).call(r, _n2.code));\n                  this.streamingTasks.set(a, {\n                    clientRequest: e,\n                    mode: b,\n                    url: a,\n                    taskId: l\n                  });\n                  h();\n                  _context118.next = 59;\n                  break;\n\n                case 44:\n                  _context118.prev = 44;\n                  _context118.t3 = _context118[\"catch\"](33);\n\n                  if (!(h(), this.isStartingStreamingTask = !1, !_context118.t3.data || !_context118.t3.data.retry || c)) {\n                    _context118.next = 48;\n                    break;\n                  }\n\n                  throw _context118.t3;\n\n                case 48:\n                  if (!_context118.t3.data.changeAddress) {\n                    _context118.next = 55;\n                    break;\n                  }\n\n                  this.connection.tryNextAddress();\n                  _context118.next = 52;\n                  return this.startLiveStreamingTask(a, b, _context118.t3);\n\n                case 52:\n                  _context118.t4 = _context118.sent;\n                  _context118.next = 58;\n                  break;\n\n                case 55:\n                  _context118.next = 57;\n                  return this.startLiveStreamingTask(a, b, _context118.t3);\n\n                case 57:\n                  _context118.t4 = _context118.sent;\n\n                case 58:\n                  return _context118.abrupt(\"return\", _context118.t4);\n\n                case 59:\n                case \"end\":\n                  return _context118.stop();\n              }\n            }\n          }, _callee118, this, [[13, 21], [33, 44]]);\n        }));\n\n        function startLiveStreamingTask(_x163, _x164, _x165) {\n          return _startLiveStreamingTask.apply(this, arguments);\n        }\n\n        return startLiveStreamingTask;\n      }()\n    }, {\n      key: \"stopLiveStreamingTask\",\n      value: function stopLiveStreamingTask(a) {\n        var _this124 = this;\n\n        return new y(function (b, c) {\n          var e = _this124.streamingTasks.get(a);\n\n          if (!e || !_this124.connection) return new q(n.UNEXPECTED_ERROR, \"can not find streaming task to stop\").throw();\n          var f = e.mode;\n\n          e.abortTask = function () {\n            k.debug(\"[\".concat(_this124.spec.clientId, \"] stop live streaming success(worker exception)\"));\n\n            _this124.streamingTasks.delete(a);\n\n            b();\n          };\n\n          _this124.connection.request(\"request\", {\n            clientRequest: {\n              command: f === ua.INJECT ? \"UninjectStream\" : \"UnpublishStream\",\n              url: e.url\n            }\n          }, !1, {\n            url: a,\n            command: \"UnPublishStream\",\n            workerType: f === ua.TRANSCODE ? 1 : 2,\n            requestByUser: !0,\n            tid: (_this124.lastTaskId++).toString()\n          }).then(function (c) {\n            var e;\n            k.debug(m(e = \"[\".concat(_this124.spec.clientId, \"] stop live streaming success, code: \")).call(e, c.code));\n\n            _this124.streamingTasks.delete(a);\n\n            0 === _this124.streamingTasks.size && f !== ua.INJECT && (_this124.connection && _this124.connection.close(), _this124.connection = void 0);\n            b();\n            f === ua.INJECT && _this124.onInjectStatusChange && _this124.onInjectStatusChange(5, _this124.spec.uid, a);\n          }).catch(c);\n        });\n      }\n    }, {\n      key: \"controlInjectStream\",\n      value: function () {\n        var _controlInjectStream = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee119(a, b, c, e) {\n          var f;\n          return _regeneratorRuntime.wrap(function _callee119$(_context119) {\n            while (1) {\n              switch (_context119.prev = _context119.next) {\n                case 0:\n                  f = this.streamingTasks.get(a);\n\n                  if (!(!f || !this.connection || f.mode !== ua.INJECT)) {\n                    _context119.next = 3;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"can not find inject stream task to control\");\n\n                case 3:\n                  _context119.next = 5;\n                  return this.connection.request(\"request\", {\n                    clientRequest: {\n                      command: \"ControlStream\",\n                      url: a,\n                      control: b,\n                      audioVolume: c,\n                      position: e\n                    }\n                  });\n\n                case 5:\n                  return _context119.abrupt(\"return\", _context119.sent.serverResponse);\n\n                case 6:\n                case \"end\":\n                  return _context119.stop();\n              }\n            }\n          }, _callee119, this);\n        }));\n\n        function controlInjectStream(_x166, _x167, _x168, _x169) {\n          return _controlInjectStream.apply(this, arguments);\n        }\n\n        return controlInjectStream;\n      }()\n    }, {\n      key: \"resetAllTask\",\n      value: function resetAllTask() {\n        var _this125 = this;\n\n        var a;\n        var b = Ub(Uc(a = this.streamingTasks).call(a));\n        this.terminate();\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          var _loop = function _loop() {\n            var a = _step5.value;\n\n            _this125.startLiveStreamingTask(a.url, a.mode).catch(function (b) {\n              _this125.onLiveStreamError && _this125.onLiveStreamError(a.url, b);\n            });\n          };\n\n          for (var _iterator5 = b[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            _loop();\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n      }\n    }, {\n      key: \"terminate\",\n      value: function terminate() {\n        this.cancelToken && this.cancelToken.cancel();\n        this.streamingTasks = new ba();\n        this.isStartingStreamingTask = !1;\n        this.statusError = new ba();\n        this.cancelToken = $b.CancelToken.source();\n        this.uapResponse = void 0;\n        this.connection && this.connection.close();\n        this.connection = void 0;\n      }\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee120(a) {\n          var _this126 = this;\n\n          var b;\n          return _regeneratorRuntime.wrap(function _callee120$(_context120) {\n            while (1) {\n              switch (_context120.prev = _context120.next) {\n                case 0:\n                  if (!this.connection) {\n                    _context120.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"live streaming connection has already connected\");\n\n                case 2:\n                  _context120.next = 4;\n                  return Ia(this, Ad.REQUEST_WORKER_MANAGER_LIST, a);\n\n                case 4:\n                  b = _context120.sent;\n                  this.uapResponse = b;\n                  this.connection = new xs(b.workerToken, this.spec, this.wsRetryConfig, a);\n                  this.connection.on(Nb.WARNING, function (a, b) {\n                    return _this126.onLiveStreamWarning && _this126.onLiveStreamWarning(b, a);\n                  });\n                  this.connection.on(Nb.PUBLISH_STREAM_STATUS, function (a) {\n                    return _this126.handlePublishStreamServer(a);\n                  });\n                  this.connection.on(Nb.INJECT_STREAM_STATUS, function (a) {\n                    return _this126.handleInjectStreamServerStatus(a);\n                  });\n                  this.connection.on(Nb.REQUEST_NEW_ADDRESS, function (b, e) {\n                    if (!_this126.connection) return e(new q(n.UNEXPECTED_ERROR, \"can not get new live streaming address list\"));\n                    Ia(_this126, Ad.REQUEST_WORKER_MANAGER_LIST, a).then(function (a) {\n                      _this126.uapResponse = a;\n                      b(a.addressList);\n                    }).catch(e);\n                  });\n                  _context120.next = 13;\n                  return this.connection.init(b.addressList);\n\n                case 13:\n                  return _context120.abrupt(\"return\", this.connection);\n\n                case 14:\n                case \"end\":\n                  return _context120.stop();\n              }\n            }\n          }, _callee120, this);\n        }));\n\n        function connect(_x170) {\n          return _connect.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"handlePublishStreamServer\",\n      value: function handlePublishStreamServer(a) {\n        var _this127 = this;\n\n        var b = a.serverStatus && a.serverStatus.url || \"empty_url\";\n        var c = this.streamingTasks.get(b),\n            e = a.reason;\n\n        switch (a.code) {\n          case oa.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:\n          case oa.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:\n          case oa.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:\n          case oa.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:\n            a = new q(n.LIVE_STREAMING_CDN_ERROR, \"\", {\n              code: a.code\n            });\n            if (c) return k.error(a.toString()), this.onLiveStreamError && this.onLiveStreamError(b, a);\n            if (!this.isStartingStreamingTask) break;\n            this.statusError.set(b, a);\n\n          case oa.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:\n            return a = new q(n.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE, e), this.onLiveStreamWarning && this.onLiveStreamWarning(b, a);\n\n          case oa.LIVE_STREAM_RESPONSE_WORKER_LOST:\n          case oa.LIVE_STREAM_RESPONSE_WORKER_QUIT:\n            var f;\n\n            if (this.connection) {\n              this.connection.tryNextAddress();\n              b = Ub(Uc(f = this.streamingTasks).call(f));\n              var _iteratorNormalCompletion6 = true;\n              var _didIteratorError6 = false;\n              var _iteratorError6 = undefined;\n\n              try {\n                var _loop2 = function _loop2() {\n                  var c = _step6.value;\n                  c.abortTask ? c.abortTask() : (k.warning(\"[\".concat(_this127.spec.clientId, \"] publish stream status code\"), a.code, \"try to republish\", c.url), _this127.startLiveStreamingTask(c.url, c.mode, new q(n.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"\", {\n                    code: a.code\n                  })).then(function () {\n                    k.debug(\"[\".concat(_this127.spec.clientId, \"] republish live stream success\"), c.url);\n                  }).catch(function (a) {\n                    k.error(a.toString());\n                    _this127.onLiveStreamError && _this127.onLiveStreamError(c.url, a);\n                  }));\n                };\n\n                for (var _iterator6 = b[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                  _loop2();\n                }\n              } catch (err) {\n                _didIteratorError6 = true;\n                _iteratorError6 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n                    _iterator6.return();\n                  }\n                } finally {\n                  if (_didIteratorError6) {\n                    throw _iteratorError6;\n                  }\n                }\n              }\n            }\n\n        }\n      }\n    }, {\n      key: \"handleInjectStreamServerStatus\",\n      value: function handleInjectStreamServerStatus(a) {\n        var b = Number(a.uid),\n            c = a.serverStatus && a.serverStatus.url;\n\n        switch (a.code) {\n          case 200:\n            return void (this.onInjectStatusChange && this.onInjectStatusChange(0, b, c));\n\n          case 451:\n            return this.onInjectStatusChange && this.onInjectStatusChange(1, b, c), void this.streamingTasks.delete(c);\n\n          case 453:\n            return this.onInjectStatusChange && this.onInjectStatusChange(2, b, c), void this.streamingTasks.delete(c);\n\n          case 470:\n            return this.onInjectStatusChange && this.onInjectStatusChange(10, b, c), void this.streamingTasks.delete(c);\n\n          case 499:\n            return this.onInjectStatusChange && this.onInjectStatusChange(3, b, c), void this.streamingTasks.delete(c);\n\n          default:\n            return void k.debug(\"inject stream server status\", a);\n        }\n      }\n    }, {\n      key: \"hasUrl\",\n      value: function hasUrl(a) {\n        return this.streamingTasks.has(a);\n      }\n    }]);\n\n    return ys;\n  }(Wa);\n\n  var Yj =\n  /*#__PURE__*/\n  function () {\n    function Yj() {\n      _classCallCheck(this, Yj);\n\n      this.destChannelMediaInfos = new ba();\n    }\n\n    _createClass(Yj, [{\n      key: \"setSrcChannelInfo\",\n      value: function setSrcChannelInfo(a) {\n        $i(a);\n        this.srcChannelMediaInfo = a;\n      }\n    }, {\n      key: \"addDestChannelInfo\",\n      value: function addDestChannelInfo(a) {\n        $i(a);\n        this.destChannelMediaInfos.set(a.channelName, a);\n      }\n    }, {\n      key: \"removeDestChannelInfo\",\n      value: function removeDestChannelInfo(a) {\n        Yf(a);\n        this.destChannelMediaInfos.delete(a);\n      }\n    }, {\n      key: \"getSrcChannelMediaInfo\",\n      value: function getSrcChannelMediaInfo() {\n        return this.srcChannelMediaInfo;\n      }\n    }, {\n      key: \"getDestChannelMediaInfo\",\n      value: function getDestChannelMediaInfo() {\n        return this.destChannelMediaInfos;\n      }\n    }]);\n\n    return Yj;\n  }();\n\n  var zs =\n  /*#__PURE__*/\n  function (_Wa15) {\n    _inherits(zs, _Wa15);\n\n    function zs(a, b, c) {\n      var _this128;\n\n      _classCallCheck(this, zs);\n\n      _this128 = _possibleConstructorReturn(this, _getPrototypeOf(zs).call(this));\n      _this128.requestId = 1;\n\n      _this128.onOpen = function () {\n        _this128.emit(\"open\");\n\n        _this128.startHeartBeatCheck();\n      };\n\n      _this128.onClose = function (a) {\n        _this128.emit(\"close\");\n\n        _this128.dispose();\n      };\n\n      _this128.onMessage = function (a) {\n        a = JSON.parse(a.data);\n        if (!a || \"serverResponse\" !== a.command || !a.requestId) return a && \"serverStatus\" === a.command && a.serverStatus && a.serverStatus.command ? (_this128.emit(\"status\", a.serverStatus), void _this128.emit(a.serverStatus.command, a.serverStatus)) : void 0;\n\n        _this128.emit(\"req_\".concat(a.requestId), a);\n      };\n\n      _this128.joinInfo = a;\n      _this128.clientId = b;\n      _this128.ws = new Dh(\"cross-channel-\".concat(_this128.clientId), c);\n\n      _this128.ws.on(ea.RECONNECTING, function () {\n        _this128.ws.reconnectMode = \"retry\";\n\n        _this128.emit(\"reconnecting\");\n      });\n\n      _this128.ws.on(ea.CONNECTED, _this128.onOpen);\n\n      _this128.ws.on(ea.ON_MESSAGE, _this128.onMessage);\n\n      _this128.ws.on(ea.CLOSED, _this128.onClose);\n\n      return _this128;\n    }\n\n    _createClass(zs, [{\n      key: \"isConnect\",\n      value: function isConnect() {\n        return \"connected\" === this.ws.state;\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage(a) {\n        var b = this.requestId++;\n        return a.requestId = b, a.seq = b, this.ws.sendMessage(a), b;\n      }\n    }, {\n      key: \"waitStatus\",\n      value: function waitStatus(a) {\n        var _this129 = this;\n\n        return new y(function (b, c) {\n          var e = window.setTimeout(function () {\n            c(new q(n.TIMEOUT, \"wait status timeout, status: \".concat(a)));\n          }, 5E3);\n\n          _this129.once(a, function (f) {\n            window.clearTimeout(e);\n            f.state && 0 !== f.state ? c(new q(n.CROSS_CHANNEL_WAIT_STATUS_ERROR, \"wait status error, status: \".concat(a))) : b(void 0);\n          });\n\n          _this129.once(\"dispose\", function () {\n            window.clearTimeout(e);\n            c(new q(n.WS_ABORT));\n          });\n        });\n      }\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee121(a) {\n          var _this130 = this;\n\n          var b, c;\n          return _regeneratorRuntime.wrap(function _callee121$(_context121) {\n            while (1) {\n              switch (_context121.prev = _context121.next) {\n                case 0:\n                  if (!(\"closed\" === this.ws.state)) {\n                    _context121.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.WS_DISCONNECT);\n\n                case 2:\n                  b = function b() {\n                    return new y(function (a, b) {\n                      _this130.ws.once(ea.CLOSED, function () {\n                        return b(new q(n.WS_ABORT));\n                      });\n\n                      _this130.ws.once(ea.CONNECTED, a);\n                    });\n                  };\n\n                  _context121.t0 = \"connected\" !== this.ws.state;\n\n                  if (!_context121.t0) {\n                    _context121.next = 7;\n                    break;\n                  }\n\n                  _context121.next = 7;\n                  return b();\n\n                case 7:\n                  c = this.sendMessage(a);\n                  _context121.next = 10;\n                  return new y(function (a, b) {\n                    var e = function e() {\n                      b(new q(n.WS_ABORT));\n                    };\n\n                    _this130.ws.once(ea.RECONNECTING, e);\n\n                    _this130.ws.once(ea.CLOSED, e);\n\n                    _this130.once(\"req_\".concat(c), a);\n\n                    jb(3E3).then(function () {\n                      _this130.removeAllListeners(\"req_\".concat(c));\n\n                      _this130.ws.off(ea.RECONNECTING, e);\n\n                      _this130.ws.off(ea.CLOSED, e);\n\n                      b(new q(n.TIMEOUT, \"cross channel ws request timeout\"));\n                    });\n                  });\n\n                case 10:\n                  a = _context121.sent;\n\n                  if (!(!a || 200 !== a.code)) {\n                    _context121.next = 13;\n                    break;\n                  }\n\n                  throw new q(n.CROSS_CHANNEL_SERVER_ERROR_RESPONSE, \"response: \".concat(A(a)));\n\n                case 13:\n                  return _context121.abrupt(\"return\", a);\n\n                case 14:\n                case \"end\":\n                  return _context121.stop();\n              }\n            }\n          }, _callee121, this);\n        }));\n\n        function request(_x171) {\n          return _request3.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee122(a) {\n          return _regeneratorRuntime.wrap(function _callee122$(_context122) {\n            while (1) {\n              switch (_context122.prev = _context122.next) {\n                case 0:\n                  this.ws.removeAllListeners(ea.REQUEST_NEW_URLS);\n                  this.ws.on(ea.REQUEST_NEW_URLS, function (b) {\n                    b(a);\n                  });\n                  _context122.next = 4;\n                  return this.ws.init(a);\n\n                case 4:\n                case \"end\":\n                  return _context122.stop();\n              }\n            }\n          }, _callee122, this);\n        }));\n\n        function connect(_x172) {\n          return _connect2.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.clearHeartBeatCheck();\n        this.emit(\"dispose\");\n        this.removeAllListeners();\n        this.ws.close();\n      }\n    }, {\n      key: \"sendPing\",\n      value: function sendPing(a) {\n        var b = this.requestId++;\n        return a.requestId = b, this.ws.sendMessage(a), b;\n      }\n    }, {\n      key: \"startHeartBeatCheck\",\n      value: function startHeartBeatCheck() {\n        var _this131 = this;\n\n        this.heartBeatTimer = window.setInterval(function () {\n          _this131.sendPing({\n            command: \"ping\",\n            appId: _this131.joinInfo.appId,\n            cname: _this131.joinInfo.cname,\n            uid: _this131.joinInfo.uid.toString(),\n            sid: _this131.joinInfo.sid,\n            ts: +new Date(),\n            requestId: 0\n          });\n        }, 3E3);\n      }\n    }, {\n      key: \"clearHeartBeatCheck\",\n      value: function clearHeartBeatCheck() {\n        window.clearInterval(this.heartBeatTimer);\n        this.heartBeatTimer = void 0;\n      }\n    }]);\n\n    return zs;\n  }(Wa);\n\n  var As =\n  /*#__PURE__*/\n  function (_Wa16) {\n    _inherits(As, _Wa16);\n\n    function As(a, b, c, e) {\n      var _this132;\n\n      _classCallCheck(this, As);\n\n      _this132 = _possibleConstructorReturn(this, _getPrototypeOf(As).call(this));\n      _this132.cancelToken = $b.CancelToken.source();\n      _this132.requestId = 0;\n      _this132._state = \"RELAY_STATE_IDLE\";\n      _this132.errorCode = \"RELAY_OK\";\n\n      _this132.onStatus = function (a) {\n        var b;\n        k.debug(m(b = \"[\".concat(_this132.clientId, \"] ChannelMediaStatus: \")).call(b, A(a)));\n        a && a.command && (\"onAudioPacketReceived\" === a.command && _this132.emit(\"event\", \"PACKET_RECEIVED_AUDIO_FROM_SRC\"), \"onVideoPacketReceived\" === a.command && _this132.emit(\"event\", \"PACKET_RECEIVED_VIDEO_FROM_SRC\"), \"onSrcTokenPrivilegeDidExpire\" === a.command && (_this132.errorCode = \"SRC_TOKEN_EXPIRED\", _this132.state = \"RELAY_STATE_FAILURE\"), \"onDestTokenPrivilegeDidExpire\" === a.command && (_this132.errorCode = \"DEST_TOKEN_EXPIRED\", _this132.state = \"RELAY_STATE_FAILURE\"));\n      };\n\n      _this132.onReconnect =\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee123() {\n        return _regeneratorRuntime.wrap(function _callee123$(_context123) {\n          while (1) {\n            switch (_context123.prev = _context123.next) {\n              case 0:\n                k.debug(\"[\".concat(_this132.clientId, \"] ChannelMediaSocket disconnect, reconnecting\"));\n\n                _this132.emit(\"event\", \"NETWORK_DISCONNECTED\");\n\n                _this132.state = \"RELAY_STATE_IDLE\";\n                _this132.prevChannelMediaConfig && _this132.sendStartRelayMessage(_this132.prevChannelMediaConfig).catch(function (a) {\n                  \"RELAY_STATE_IDLE\" !== _this132.state && (k.error(\"auto restart channel media relay failed\", a.toString()), _this132.errorCode = \"SERVER_CONNECTION_LOST\", _this132.state = \"RELAY_STATE_FAILURE\");\n                });\n\n              case 4:\n              case \"end\":\n                return _context123.stop();\n            }\n          }\n        }, _callee123, this);\n      }));\n      _this132.joinInfo = a;\n      _this132.clientId = b;\n      _this132.signal = new zs(_this132.joinInfo, _this132.clientId, c);\n      _this132.httpRetryConfig = e;\n      return _this132;\n    }\n\n    _createClass(As, [{\n      key: \"startChannelMediaRelay\",\n      value: function () {\n        var _startChannelMediaRelay = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee124(a) {\n          return _regeneratorRuntime.wrap(function _callee124$(_context124) {\n            while (1) {\n              switch (_context124.prev = _context124.next) {\n                case 0:\n                  if (!(\"RELAY_STATE_IDLE\" !== this.state)) {\n                    _context124.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION);\n\n                case 2:\n                  this.state = \"RELAY_STATE_CONNECTING\";\n                  _context124.next = 5;\n                  return this.connect();\n\n                case 5:\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: connect success\"));\n                  _context124.prev = 6;\n                  _context124.next = 9;\n                  return this.sendStartRelayMessage(a);\n\n                case 9:\n                  _context124.next = 20;\n                  break;\n\n                case 11:\n                  _context124.prev = 11;\n                  _context124.t0 = _context124[\"catch\"](6);\n\n                  if (!(_context124.t0.data && _context124.t0.data.serverResponse && \"SetSourceChannel\" === _context124.t0.data.serverResponse.command)) {\n                    _context124.next = 15;\n                    break;\n                  }\n\n                  throw new q(n.CROSS_CHANNEL_FAILED_JOIN_SRC);\n\n                case 15:\n                  if (!(_context124.t0.data && _context124.t0.data.serverResponse && \"SetDestChannelStatus\" === _context124.t0.serverResponse.command)) {\n                    _context124.next = 17;\n                    break;\n                  }\n\n                  throw new q(n.CROSS_CHANNEL_FAILED_JOIN_DEST);\n\n                case 17:\n                  if (!(_context124.t0.data && _context124.t0.data.serverResponse && \"StartPacketTransfer\" === _context124.t0.serverResponse.command)) {\n                    _context124.next = 19;\n                    break;\n                  }\n\n                  throw new q(n.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);\n\n                case 19:\n                  throw _context124.t0;\n\n                case 20:\n                  this.prevChannelMediaConfig = a;\n\n                case 21:\n                case \"end\":\n                  return _context124.stop();\n              }\n            }\n          }, _callee124, this, [[6, 11]]);\n        }));\n\n        function startChannelMediaRelay(_x173) {\n          return _startChannelMediaRelay.apply(this, arguments);\n        }\n\n        return startChannelMediaRelay;\n      }()\n    }, {\n      key: \"updateChannelMediaRelay\",\n      value: function () {\n        var _updateChannelMediaRelay = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee125(a) {\n          return _regeneratorRuntime.wrap(function _callee125$(_context125) {\n            while (1) {\n              switch (_context125.prev = _context125.next) {\n                case 0:\n                  if (!(\"RELAY_STATE_RUNNING\" !== this.state)) {\n                    _context125.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION);\n\n                case 2:\n                  _context125.next = 4;\n                  return this.sendUpdateMessage(a);\n\n                case 4:\n                  this.prevChannelMediaConfig = a;\n\n                case 5:\n                case \"end\":\n                  return _context125.stop();\n              }\n            }\n          }, _callee125, this);\n        }));\n\n        function updateChannelMediaRelay(_x174) {\n          return _updateChannelMediaRelay.apply(this, arguments);\n        }\n\n        return updateChannelMediaRelay;\n      }()\n    }, {\n      key: \"stopChannelMediaRelay\",\n      value: function () {\n        var _stopChannelMediaRelay = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee126() {\n          return _regeneratorRuntime.wrap(function _callee126$(_context126) {\n            while (1) {\n              switch (_context126.prev = _context126.next) {\n                case 0:\n                  _context126.next = 2;\n                  return this.sendStopRelayMessage();\n\n                case 2:\n                  k.debug(\"[\".concat(this.clientId, \"] stopChannelMediaRelay: send stop message success\"));\n                  this.state = \"RELAY_STATE_IDLE\";\n                  this.dispose();\n\n                case 5:\n                case \"end\":\n                  return _context126.stop();\n              }\n            }\n          }, _callee126, this);\n        }));\n\n        function stopChannelMediaRelay() {\n          return _stopChannelMediaRelay.apply(this, arguments);\n        }\n\n        return stopChannelMediaRelay;\n      }()\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        k.debug(\"[\".concat(this.clientId, \"] disposeChannelMediaRelay\"));\n        this.cancelToken.cancel();\n        this.cancelToken = $b.CancelToken.source();\n        this.state = \"RELAY_STATE_IDLE\";\n        this.emit(\"dispose\");\n        this.signal.dispose();\n        this.prevChannelMediaConfig = void 0;\n      }\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee127() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee127$(_context127) {\n            while (1) {\n              switch (_context127.prev = _context127.next) {\n                case 0:\n                  _context127.next = 2;\n                  return xo(this.joinInfo, this.cancelToken.token, this.httpRetryConfig);\n\n                case 2:\n                  a = _context127.sent;\n                  this.workerToken = a.workerToken;\n                  _context127.next = 6;\n                  return this.signal.connect(a.addressList);\n\n                case 6:\n                  this.emit(\"event\", \"NETWORK_CONNECTED\");\n                  this.signal.on(\"status\", this.onStatus);\n                  this.signal.on(\"reconnecting\", this.onReconnect);\n\n                case 9:\n                case \"end\":\n                  return _context127.stop();\n              }\n            }\n          }, _callee127, this);\n        }));\n\n        function connect() {\n          return _connect3.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"sendStartRelayMessage\",\n      value: function () {\n        var _sendStartRelayMessage = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee128(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee128$(_context128) {\n            while (1) {\n              switch (_context128.prev = _context128.next) {\n                case 0:\n                  b = this.genMessage(Va.StopPacketTransfer);\n                  _context128.next = 3;\n                  return this.signal.request(b);\n\n                case 3:\n                  _context128.next = 5;\n                  return this.signal.waitStatus(\"Normal Quit\");\n\n                case 5:\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: StopPacketTransfer success\"));\n                  b = this.genMessage(Va.SetSdkProfile, a);\n                  _context128.next = 9;\n                  return this.signal.request(b);\n\n                case 9:\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetSdkProfile success\"));\n                  b = this.genMessage(Va.SetSourceChannel, a);\n                  _context128.next = 13;\n                  return this.signal.request(b);\n\n                case 13:\n                  _context128.next = 15;\n                  return this.signal.waitStatus(\"SetSourceChannelStatus\");\n\n                case 15:\n                  this.emit(\"event\", \"PACKET_JOINED_SRC_CHANNEL\");\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetSourceChannel success\"));\n                  b = this.genMessage(Va.SetSourceUserId, a);\n                  _context128.next = 20;\n                  return this.signal.request(b);\n\n                case 20:\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetSourceUserId success\"));\n                  b = this.genMessage(Va.SetDestChannel, a);\n                  _context128.next = 24;\n                  return this.signal.request(b);\n\n                case 24:\n                  _context128.next = 26;\n                  return this.signal.waitStatus(\"SetDestChannelStatus\");\n\n                case 26:\n                  this.emit(\"event\", \"PACKET_JOINED_DEST_CHANNEL\");\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetDestChannel success\"));\n                  a = this.genMessage(Va.StartPacketTransfer, a);\n                  _context128.next = 31;\n                  return this.signal.request(a);\n\n                case 31:\n                  this.emit(\"event\", \"PACKET_SENT_TO_DEST_CHANNEL\");\n                  this.state = \"RELAY_STATE_RUNNING\";\n                  k.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: StartPacketTransfer success\"));\n\n                case 34:\n                case \"end\":\n                  return _context128.stop();\n              }\n            }\n          }, _callee128, this);\n        }));\n\n        function sendStartRelayMessage(_x175) {\n          return _sendStartRelayMessage.apply(this, arguments);\n        }\n\n        return sendStartRelayMessage;\n      }()\n    }, {\n      key: \"sendUpdateMessage\",\n      value: function () {\n        var _sendUpdateMessage = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee129(a) {\n          return _regeneratorRuntime.wrap(function _callee129$(_context129) {\n            while (1) {\n              switch (_context129.prev = _context129.next) {\n                case 0:\n                  a = this.genMessage(Va.UpdateDestChannel, a);\n                  _context129.next = 3;\n                  return this.signal.request(a);\n\n                case 3:\n                  this.emit(\"event\", \"PACKET_UPDATE_DEST_CHANNEL\");\n                  k.debug(\"[\".concat(this.clientId, \"] sendUpdateMessage: UpdateDestChannel success\"));\n\n                case 5:\n                case \"end\":\n                  return _context129.stop();\n              }\n            }\n          }, _callee129, this);\n        }));\n\n        function sendUpdateMessage(_x176) {\n          return _sendUpdateMessage.apply(this, arguments);\n        }\n\n        return sendUpdateMessage;\n      }()\n    }, {\n      key: \"sendStopRelayMessage\",\n      value: function () {\n        var _sendStopRelayMessage = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee130() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee130$(_context130) {\n            while (1) {\n              switch (_context130.prev = _context130.next) {\n                case 0:\n                  a = this.genMessage(Va.StopPacketTransfer);\n                  _context130.next = 3;\n                  return this.signal.request(a);\n\n                case 3:\n                  k.debug(\"[\".concat(this.clientId, \"] sendStopRelayMessage: StopPacketTransfer success\"));\n\n                case 4:\n                case \"end\":\n                  return _context130.stop();\n              }\n            }\n          }, _callee130, this);\n        }));\n\n        function sendStopRelayMessage() {\n          return _sendStopRelayMessage.apply(this, arguments);\n        }\n\n        return sendStopRelayMessage;\n      }()\n    }, {\n      key: \"genMessage\",\n      value: function genMessage(a, b) {\n        var _this133 = this;\n\n        var c = [],\n            e = [],\n            f = [];\n        this.requestId += 1;\n        var h = {\n          appId: this.joinInfo.appId,\n          cname: this.joinInfo.cname,\n          uid: this.joinInfo.uid.toString(),\n          sdkVersion: ob,\n          sid: this.joinInfo.sid,\n          ts: x(),\n          requestId: this.requestId,\n          seq: this.requestId,\n          allocate: !0,\n          clientRequest: {}\n        };\n        \"4.7.3\" === h.sdkVersion && (h.sdkVersion = \"0.0.1\");\n        var k = null,\n            m = null;\n\n        switch (a) {\n          case Va.SetSdkProfile:\n            return h.clientRequest = {\n              command: \"SetSdkProfile\",\n              type: \"multi_channel\"\n            }, h;\n\n          case Va.SetSourceChannel:\n            if (m = b && b.getSrcChannelMediaInfo(), !m) throw new q(n.UNEXPECTED_ERROR, \"can not find source config\");\n            return h.clientRequest = {\n              command: \"SetSourceChannel\",\n              uid: \"0\",\n              channelName: m.channelName,\n              token: m.token || this.joinInfo.appId\n            }, h;\n\n          case Va.SetSourceUserId:\n            if (m = b && b.getSrcChannelMediaInfo(), !m) throw new q(n.UNEXPECTED_ERROR, \"can not find source config\");\n            return h.clientRequest = {\n              command: \"SetSourceUserId\",\n              uid: m.uid + \"\"\n            }, h;\n\n          case Va.SetDestChannel:\n            if (k = b && b.getDestChannelMediaInfo(), !k) throw new q(n.UNEXPECTED_ERROR, \"can not find dest config\");\n            return t(k).call(k, function (a) {\n              c.push(a.channelName);\n              e.push(a.uid + \"\");\n              f.push(a.token || _this133.joinInfo.appId);\n            }), h.clientRequest = {\n              command: \"SetDestChannel\",\n              channelName: c,\n              uid: e,\n              token: f\n            }, h;\n\n          case Va.StartPacketTransfer:\n            return h.clientRequest = {\n              command: \"StartPacketTransfer\"\n            }, h;\n\n          case Va.Reconnect:\n            return h.clientRequest = {\n              command: \"Reconnect\"\n            }, h;\n\n          case Va.StopPacketTransfer:\n            return h.clientRequest = {\n              command: \"StopPacketTransfer\"\n            }, h;\n\n          case Va.UpdateDestChannel:\n            if (k = b && b.getDestChannelMediaInfo(), !k) throw new q(n.UNEXPECTED_ERROR, \"can not find dest config\");\n            return t(k).call(k, function (a) {\n              c.push(a.channelName);\n              e.push(a.uid + \"\");\n              f.push(a.token || _this133.joinInfo.appId);\n            }), h.clientRequest = {\n              command: \"UpdateDestChannel\",\n              channelName: c,\n              uid: e,\n              token: f\n            }, h;\n        }\n\n        return h;\n      }\n    }, {\n      key: \"state\",\n      set: function set(a) {\n        a !== this._state && (\"RELAY_STATE_FAILURE\" !== a && (this.errorCode = \"RELAY_OK\"), this.emit(\"state\", a, this.errorCode), this._state = a);\n      },\n      get: function get() {\n        return this._state;\n      }\n    }]);\n\n    return As;\n  }(Wa);\n\n  var Bs =\n  /*#__PURE__*/\n  function () {\n    function Bs(a, b) {\n      _classCallCheck(this, Bs);\n\n      this._trust_stream_added_state_ = this._trust_video_mute_state_ = this._trust_audio_mute_state_ = this._trust_video_enabled_state_ = this._trust_audio_enabled_state_ = this._trust_in_room_ = !0;\n      this._video_muted_ = this._audio_muted_ = !1;\n      this._video_enabled_ = this._audio_enabled_ = !0;\n      this._video_added_ = this._audio_added_ = !1;\n      this.uid = a;\n      this._uintid = b;\n    }\n\n    _createClass(Bs, [{\n      key: \"hasVideo\",\n      get: function get() {\n        return this._video_enabled_ && !this._video_muted_ && this._video_added_;\n      }\n    }, {\n      key: \"hasAudio\",\n      get: function get() {\n        return this._audio_enabled_ && !this._audio_muted_ && this._audio_added_;\n      }\n    }, {\n      key: \"audioTrack\",\n      get: function get() {\n        if (this.hasAudio) return this._audioTrack;\n      }\n    }, {\n      key: \"videoTrack\",\n      get: function get() {\n        if (this.hasVideo) return this._videoTrack;\n      }\n    }]);\n\n    return Bs;\n  }();\n\n  var Cs =\n  /*#__PURE__*/\n  function () {\n    var _ref51 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee131(a) {\n      var b, c;\n      return _regeneratorRuntime.wrap(function _callee131$(_context131) {\n        while (1) {\n          switch (_context131.prev = _context131.next) {\n            case 0:\n              b = ig(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\");\n              _context131.next = 3;\n              return window.crypto.subtle.importKey(\"spki\", b, {\n                name: \"RSA-OAEP\",\n                hash: \"SHA-256\"\n              }, !0, [\"encrypt\"]);\n\n            case 3:\n              b = _context131.sent;\n              a = (c = a, new TextEncoder().encode(c));\n              _context131.next = 7;\n              return window.crypto.subtle.encrypt({\n                name: \"RSA-OAEP\"\n              }, b, a);\n\n            case 7:\n              c = _context131.sent;\n              return _context131.abrupt(\"return\", Re(new Uint8Array(c)));\n\n            case 9:\n            case \"end\":\n              return _context131.stop();\n          }\n        }\n      }, _callee131, this);\n    }));\n\n    return function Cs(_x177) {\n      return _ref51.apply(this, arguments);\n    };\n  }(),\n      Lf;\n\n  var Ds =\n  /*#__PURE__*/\n  function () {\n    function Ds(a, b) {\n      _classCallCheck(this, Ds);\n\n      var c;\n      this.name = a;\n      this.time = performance.now();\n      this.sequence = J(c = Wq[b]).call(c, a);\n    }\n\n    _createClass(Ds, [{\n      key: \"setElapse\",\n      value: function setElapse(a) {\n        this.elapse = a;\n      }\n    }]);\n\n    return Ds;\n  }();\n\n  var Es = new ba();\n\n  var Fs =\n  /*#__PURE__*/\n  function () {\n    function Fs(a, b) {\n      _classCallCheck(this, Fs);\n\n      this.records = [];\n      this._id = a;\n      this._group = b;\n      this._localTimeStamp = x();\n      this._performanceTimeStamp = performance.now();\n    }\n\n    _createClass(Fs, [{\n      key: \"checkPoint\",\n      value: function checkPoint(a) {\n        var b;\n        var c = new Ds(a, this._group);\n        -1 === c.sequence && k.warning(\"[\".concat(this._id, \"] check point record failed, cannot get the sequence\"));\n        this.records.push(c);\n        (a = U(b = this.records).call(b, function (a) {\n          return a.sequence === c.sequence - 1;\n        })) && c.setElapse(c.time - a.time);\n      }\n    }, {\n      key: \"getRecord\",\n      value: function getRecord(a) {\n        var b;\n        return U(b = this.records).call(b, function (b) {\n          return b && b.name === a;\n        });\n      }\n    }, {\n      key: \"resetRecords\",\n      value: function resetRecords() {\n        this.records.length = 0;\n      }\n    }]);\n\n    return Fs;\n  }();\n\n  var ye = function ye(a, b, c, e) {\n    var f,\n        h = arguments.length,\n        k = 3 > h ? b : null === e ? e = ca(b, c) : e;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) k = Reflect.decorate(a, b, c, e);else for (var m = a.length - 1; 0 <= m; m--) {\n      (f = a[m]) && (k = (3 > h ? f(k) : 3 < h ? f(b, c, k) : f(b, c)) || k);\n    }\n    return 3 < h && k && Q(b, c, k), k;\n  },\n      mb = function mb(a, b) {\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(a, b);\n  };\n\n  var Gd =\n  /*#__PURE__*/\n  function (_Wa17) {\n    _inherits(Gd, _Wa17);\n\n    function Gd(a) {\n      var _this134;\n\n      _classCallCheck(this, Gd);\n\n      var b, c, e, f;\n      var h;\n      if (_this134 = _possibleConstructorReturn(this, _getPrototypeOf(Gd).call(this)), _this134._users = [], _this134._sessionId = null, _this134._bindEnabledTracks = [], _this134._leaveMutex = new sc(\"client-leave\"), _this134._publishMutex = new sc(\"client-publish\"), _this134._subscribeMutex = new ba(), _this134._remoteStream = new ba(), _this134._encryptionMode = \"none\", _this134._encryptionSecret = null, _this134._encryptionSalt = null, _this134._turnServer = {\n        servers: [],\n        mode: \"auto\"\n      }, _this134._cloudProxyServerMode = \"disabled\", _this134._isDualStreamEnabled = !1, _this134._streamFallbackTypeCacheMap = new ba(), _this134._remoteStreamTypeCacheMap = new ba(), _this134._axiosCancelSource = $b.CancelToken.source(), _this134._networkQualitySensitivity = \"normal\", _this134._useLocalAccessPoint = !1, _this134._handleLocalTrackEnable = function (a, b, c) {\n        _this134.publish(a, !1).then(b).catch(c);\n      }, _this134._handleLocalTrackDisable = function (a, b, c) {\n        _this134.unpublish(a, !1).then(b).catch(c);\n      }, _this134._handleUserOnline = function (a) {\n        var b;\n        _this134.isStringUID && \"string\" != typeof a.uid && k.error(\"[\".concat(_this134._clientId, \"] StringUID is Mixed with UintUID\"));\n        var c = U(b = _this134._users).call(b, function (b) {\n          return b.uid === a.uid;\n        });\n        c ? c._trust_in_room_ = !0 : (b = new Bs(a.uid, a.uint_id || a.uid), _this134._users.push(b), k.debug(\"[\".concat(_this134._clientId, \"] user online\"), a.uid), _this134.emit(R.USER_JOINED, b));\n      }, _this134._handleUserOffline = function (a) {\n        var b;\n        var c = U(b = _this134._users).call(b, function (b) {\n          return b.uid === a.uid;\n        });\n        c && (_this134._handleRemoveStream(a), Gc(_this134._users, c), _this134._remoteStreamTypeCacheMap.delete(c.uid), _this134._streamFallbackTypeCacheMap.delete(c.uid), k.debug(\"[\".concat(_this134._clientId, \"] user offline\"), a.uid, \"reason:\", a.reason), _this134.emit(R.USER_LEAVED, c, a.reason));\n      }, _this134._handleAddAudioOrVideoStream = function (a, b, c) {\n        var e, f, h;\n        var l = U(e = _this134._users).call(e, function (a) {\n          return a.uid === b;\n        });\n        if (!l) return void k.error(\"[\".concat(_this134._clientId, \"] can not find target user!(on_add_stream)\"));\n        k.debug(m(f = m(h = \"[\".concat(_this134._clientId, \"] stream added with uid \")).call(h, b, \", type \")).call(f, a));\n        e = \"audio\" === a ? l.hasAudio : l.hasVideo;\n        var p, n;\n        (l._uintid || (l._uintid = c || b), l._trust_stream_added_state_ = !0, \"audio\" === a ? l._audio_added_ = !0 : l._video_added_ = !0, (\"audio\" === a ? l.hasAudio : l.hasVideo) && !e) && (k.info(m(p = m(n = \"[\".concat(_this134._clientId, \"] remote user \")).call(n, l.uid, \" published \")).call(p, a)), _this134.emit(R.USER_PUBLISHED, l, a));\n        \"video\" === a ? u.onGatewayStream(_this134._sessionId, Ta.ON_ADD_VIDEO_STREAM, sa.ON_ADD_VIDEO_STREAM, {\n          peer: c || b\n        }) : u.onGatewayStream(_this134._sessionId, Ta.ON_ADD_AUDIO_STREAM, sa.ON_ADD_AUDIO_STREAM, {\n          peer: c || b\n        });\n        (a = _this134._remoteStream.get(b)) && a.readyToReconnect && \"connecting\" === a.connectionState && a.reconnectPC().catch(function (a) {\n          k.error(\"[\".concat(_this134._clientId, \"] resubscribe error\"), a.toString());\n        });\n      }, _this134._handleRemoveStream = function (a) {\n        var b, c;\n        var e = U(b = _this134._users).call(b, function (b) {\n          return b.uid === a.uid;\n        });\n        if (!e) return void k.warning(\"[\".concat(_this134._clientId, \"] can not find target user!(on_remove_stream)\"));\n        k.debug(m(c = \"[\".concat(_this134._clientId, \"] stream removed with uid \")).call(c, a.uid));\n\n        b = function b() {};\n\n        e.hasAudio && e.hasVideo ? b = function b() {\n          var a, b;\n          k.info(m(a = \"[\".concat(_this134._clientId, \"] remote user \")).call(a, e.uid, \" unpublished audio track\"));\n\n          _this134.emit(R.USER_UNPUBLISHED, e, \"audio\");\n\n          k.info(m(b = \"[\".concat(_this134._clientId, \"] remote user \")).call(b, e.uid, \" unpublished video track\"));\n\n          _this134.emit(R.USER_UNPUBLISHED, e, \"video\");\n        } : e.hasVideo ? b = function b() {\n          var a;\n          k.info(m(a = \"[\".concat(_this134._clientId, \"] remote user \")).call(a, e.uid, \" unpublished video track\"));\n\n          _this134.emit(R.USER_UNPUBLISHED, e, \"video\");\n        } : e.hasAudio && (b = function b() {\n          var a;\n          k.info(m(a = \"[\".concat(_this134._clientId, \"] remote user \")).call(a, e.uid, \" unpublished audio track\"));\n\n          _this134.emit(R.USER_UNPUBLISHED, e, \"audio\");\n        });\n        e._trust_stream_added_state_ = !0;\n        e._audio_added_ = !1;\n        e._video_added_ = !1;\n        (c = _this134._remoteStream.get(e.uid)) && (c.closeP2PConnection(), _this134._remoteStream.delete(e.uid));\n        u.onGatewayStream(_this134._sessionId, Ta.ON_REMOVE_STREAM, sa.ON_REMOVE_STREAM, {\n          peer: a.uint_id || a.uid\n        });\n        b();\n      }, _this134._handleSetStreamLocalEnable = function (a, b, c) {\n        var e, f, h, l, p, n;\n        var r = U(e = _this134._users).call(e, function (a) {\n          return a.uid === b;\n        });\n        if (!r) return void k.error(\"[\".concat(_this134._clientId, \"] can not find target user!(disable_local)\"));\n        k.debug(m(f = m(h = m(l = \"[\".concat(_this134._clientId, \"] local \")).call(l, a, \" \")).call(h, c ? \"enabled\" : \"disabled\", \" with uid \")).call(f, b));\n        e = \"audio\" === a ? r.hasAudio : r.hasVideo;\n\n        if (\"audio\" === a) {\n          r._trust_audio_enabled_state_ = !0;\n          var q = r._audio_enabled_;\n          if (r._audio_enabled_ = c, r._audio_enabled_ === q) return;\n          var t, w;\n          c = r._audio_enabled_ ? \"enable-local-audio\" : \"disable-local-audio\";\n          k.debug(m(t = m(w = \"[\".concat(_this134._clientId, \"] user-info-updated, uid: \")).call(w, b, \", msg: \")).call(t, c));\n\n          _this134.emit(R.USER_INFO_UPDATED, b, c);\n        } else {\n          r._trust_video_enabled_state_ = !0;\n          t = r._video_enabled_;\n          if (r._video_enabled_ = c, r._video_enabled_ === t) return;\n          var u;\n          c = r._video_enabled_ ? \"enable-local-video\" : \"disable-local-video\";\n          k.debug(m(q = m(u = \"[\".concat(_this134._clientId, \"] user-info-update, uid: \")).call(u, b, \", msg: \")).call(q, c));\n\n          _this134.emit(R.USER_INFO_UPDATED, b, c);\n        }\n\n        c = \"audio\" === a ? r.hasAudio : r.hasVideo;\n\n        if (e !== c) {\n          var v, x;\n          if (!e && c) return k.info(m(v = m(x = \"[\".concat(_this134._clientId, \"] remote user \")).call(x, b, \" published \")).call(v, a)), void _this134.emit(R.USER_PUBLISHED, r, a);\n          if (v = _this134._remoteStream.get(b)) x = jd({}, v.subscribeOptions), x.audio = !!r.hasAudio && x.audio, x.video = !!r.hasVideo && x.video, x.audio || x.video ? v.setSubscribeOptions(x) : (v.closeP2PConnection().catch(function (a) {\n            k.warning(\"close sub pc error\", a);\n          }), _this134._remoteStream.delete(r.uid));\n          k.info(m(p = m(n = \"[\".concat(_this134._clientId, \"] remote user \")).call(n, r.uid, \" unpublished \")).call(p, a));\n\n          _this134.emit(R.USER_UNPUBLISHED, r, a);\n        }\n      }, _this134._handleMuteStream = function (a, b, c) {\n        var e, f, h;\n        k.debug(\"[\".concat(_this134._clientId, \"] receive mute message\"), a, b, c);\n        var l = U(e = _this134._users).call(e, function (b) {\n          return b.uid === a;\n        });\n        var p;\n        if (!l) return void k.warning(m(p = \"[\".concat(_this134._clientId, \"] can not find remote user, ignore mute event, uid: \")).call(p, a));\n        e = \"audio\" === b ? l.hasAudio : l.hasVideo;\n\n        if (\"audio\" === b) {\n          l._trust_audio_mute_state_ = !0;\n          var n = l._audio_muted_;\n          if (l._audio_muted_ = c, l._audio_muted_ === n) return;\n          var r, q;\n          c = l._audio_muted_ ? \"mute-audio\" : \"unmute-audio\";\n          k.debug(m(r = m(q = \"[\".concat(_this134._clientId, \"] user-info-update, uid: \")).call(q, a, \", msg: \")).call(r, c));\n\n          _this134.emit(R.USER_INFO_UPDATED, a, c);\n        } else {\n          l._trust_video_mute_state_ = !0;\n          r = l._video_muted_;\n          if (l._video_muted_ = c, l._video_muted_ === r) return;\n          var t;\n          c = l._video_muted_ ? \"mute-video\" : \"unmute-video\";\n          k.debug(m(n = m(t = \"[\".concat(_this134._clientId, \"] user-info-update, uid: \")).call(t, a, \", msg: \")).call(n, c));\n\n          _this134.emit(R.USER_INFO_UPDATED, a, c);\n        }\n\n        c = \"audio\" === b ? l.hasAudio : l.hasVideo;\n\n        if (e !== c) {\n          var w, u;\n          if (!e && c) return k.info(m(w = m(u = \"[\".concat(_this134._clientId, \"] remote user \")).call(u, a, \" published \")).call(w, b)), void _this134.emit(R.USER_PUBLISHED, l, b);\n          if (w = _this134._remoteStream.get(a)) u = jd({}, w.subscribeOptions), u.audio = !!l.hasAudio && u.audio, u.video = !!l.hasVideo && u.video, \"video\" === b && w.pc._statsFilter.setVideoIsReady(!1), u.audio || u.video ? w.setSubscribeOptions(u) : (w.closeP2PConnection().catch(function (a) {\n            k.warning(\"close sub pc error\", a);\n          }), _this134._remoteStream.delete(l.uid));\n          k.info(m(f = m(h = \"[\".concat(_this134._clientId, \"] remote user \")).call(h, a, \" unpublished \")).call(f, b));\n\n          _this134.emit(R.USER_UNPUBLISHED, l, b);\n        }\n      }, _this134._handleP2PLost = function (a) {\n        k.debug(\"[\".concat(_this134._clientId, \"] receive p2p lost\"), a);\n        var b = null;\n        if (_this134._highStream && _this134._highStream.pc.ID === a.p2pid) b = _this134._highStream;else if (_this134._lowStream && _this134._lowStream.pc.ID === a.p2pid) b = _this134._lowStream;else {\n          var c;\n          t(c = _this134._remoteStream).call(c, function (c) {\n            c.pc.ID === a.p2pid && (b = c);\n          });\n        }\n        b ? b.emit(E.GATEWAY_P2P_LOST, a.p2pid) : k.warning(\"P2PLost stream not found\", a);\n      }, _this134._handleTokenWillExpire = function () {\n        k.debug(\"[\".concat(_this134._clientId, \"] received message onTokenPrivilegeWillExpire\"));\n\n        _this134.emit(R.ON_TOKEN_PRIVILEGE_WILL_EXPIRE);\n      }, _this134._handleBeforeUnload = function (a) {\n        void 0 !== a.returnValue && \"\" !== a.returnValue || (_this134.leave(), k.info(\"[\".concat(_this134._clientId, \"] auto leave onbeforeunload\")));\n      }, _this134._handleUpdateNetworkQuality = function () {\n        var a;\n\n        if (\"normal\" !== _this134._networkQualitySensitivity) {\n          if (navigator && void 0 !== navigator.onLine && !navigator.onLine) return void _this134.emit(R.NETWORK_QUALITY, {\n            downlinkNetworkQuality: 6,\n            uplinkNetworkQuality: 6\n          });\n          var b = {\n            downlinkNetworkQuality: 0,\n            uplinkNetworkQuality: 0\n          };\n          _this134._highStream && !_this134._highStream.detecting && (b.uplinkNetworkQuality = _this134._highStream.getNetworkQuality());\n          var c = 0;\n          t(a = _this134._remoteStream).call(a, function (a) {\n            return c += a.getNetworkQuality();\n          });\n          0 < _this134._remoteStream.size && (b.downlinkNetworkQuality = Math.round(c / _this134._remoteStream.size));\n\n          _this134.emit(R.NETWORK_QUALITY, b);\n        }\n      }, _this134._codec = a.codec, _this134._mode = a.mode, a.proxyServer && (_this134._proxyServer = a.proxyServer, u.setProxyServer(_this134._proxyServer), k.setProxyServer(_this134._proxyServer)), a.turnServer && (_this134._turnServer = jd({}, _this134._turnServer, {\n        mode: \"manual\"\n      }, a.turnServer)), _this134._clientId = va(5, \"client-\"), k.info(m(b = m(c = m(e = m(f = \"[\".concat(_this134._clientId, \"] Initializing AgoraRTC client v\")).call(f, ob, \" build: \")).call(e, \"v4.7.3-0-g0eb931c7(11/16/2021, 7:57:58 PM)\", \", mode: \")).call(c, _this134._mode, \", codec: \")).call(b, _this134._codec)), _this134._performanceRecorder = function (a, b) {\n        b = new Fs(a, b);\n        return Es.set(a, b), b;\n      }(_this134._clientId, \"join\"), a.clientRoleOptions) try {\n        Zi(a.clientRoleOptions), h = Ya({}, a.clientRoleOptions);\n      } catch (r) {\n        var l;\n        k.warning(m(l = \"[\".concat(_this134._clientId, \"] \")).call(l, r.toString()));\n      }\n      _this134._statsCollector = new oe(_this134._clientId);\n\n      _this134._statsCollector.onStatsException = function (a, b, c) {\n        var e, f, h;\n        k.debug(m(e = m(f = m(h = \"[\".concat(_this134._clientId, \"] receive exception msg, code: \")).call(h, a, \", msg: \")).call(f, b, \", uid: \")).call(e, c));\n\n        _this134.emit(R.EXCEPTION, {\n          code: a,\n          msg: b,\n          uid: c\n        });\n      };\n\n      _this134._statsCollector.onUploadPublishDuration = function (a, b, c, e) {\n        var f;\n        var h = U(f = _this134._users).call(f, function (b) {\n          return b.uid === a;\n        });\n        h && u.peerPublishStatus(_this134._sessionId, {\n          subscribeElapse: e,\n          audioPublishDuration: b,\n          videoPublishDuration: c,\n          peer: h._uintid\n        });\n      };\n\n      _this134._gateway = new Er({\n        clientId: _this134._clientId,\n        mode: _this134._mode,\n        codec: _this134._codec,\n        websocketRetryConfig: a.websocketRetryConfig || Ga,\n        httpRetryConfig: a.httpRetryConfig || Ga,\n        forceWaitGatewayResponse: void 0 === a.forceWaitGatewayResponse || a.forceWaitGatewayResponse,\n        statsCollector: _this134._statsCollector,\n        role: a.role,\n        clientRoleOptions: h\n      });\n      _this134._config = a;\n      _this134._configDistribute = new ds();\n\n      _this134._handleGatewayEvents();\n\n      return _possibleConstructorReturn(_this134);\n    }\n\n    _createClass(Gd, [{\n      key: \"join\",\n      value: function () {\n        var _join3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee132(a, b, c, e, f) {\n          var _this135 = this;\n\n          var h, l, r, p, t, _e11, _a35, x, _a36, K, _a37, _h5, y;\n\n          return _regeneratorRuntime.wrap(function _callee132$(_context132) {\n            while (1) {\n              switch (_context132.prev = _context132.next) {\n                case 0:\n                  this._performanceRecorder.checkPoint(\"startJoin\");\n\n                  l = \"HTTPS\" === (Lf || Lf || (Lf = (window.location.protocol.split(\":\")[0] || \"\").toUpperCase(), Lf));\n                  r = void 0 !== window.isSecureContext ? window.isSecureContext : \"Browser Not Support\", p = function p() {\n                    k.warning(\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\");\n                  };\n                  void 0 !== window.isSecureContext ? window.isSecureContext || p() : l || p();\n                  l = u.reportApiInvoke(this._sessionId, {\n                    name: D.JOIN,\n                    options: [a, b, c, e],\n                    states: {\n                      isHttps: l,\n                      isSecureContext: r\n                    },\n                    tag: C.TRACER\n                  });\n                  _context132.prev = 5;\n\n                  if (!(!c && null !== c)) {\n                    _context132.next = 8;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_PARAMS, \"Invalid token: \".concat(c, \". If you don not use token, set it to null\"));\n\n                case 8:\n                  c && Sa(c, \"token\", 1, 2047);\n                  Sa(a, \"appid\", 1, 2047);\n                  Yf(b);\n                  e && Zf(e);\n                  f && Sa(f, \"optionalInfo\", 1, 2047);\n                  _context132.next = 18;\n                  break;\n\n                case 15:\n                  _context132.prev = 15;\n                  _context132.t0 = _context132[\"catch\"](5);\n                  throw l.onError(_context132.t0), _context132.t0;\n\n                case 18:\n                  if (!(k.info(m(h = \"[\".concat(this._clientId, \"] start join channel \")).call(h, b)), this._leaveMutex.isLocked)) {\n                    _context132.next = 25;\n                    break;\n                  }\n\n                  k.debug(\"[\".concat(this._clientId, \"] join: waiting leave operation\"));\n                  _context132.next = 22;\n                  return this._leaveMutex.lock();\n\n                case 22:\n                  _context132.t1 = _context132.sent;\n                  (0, _context132.t1)();\n                  k.debug(\"[\".concat(this._clientId, \"] join: continue\"));\n\n                case 25:\n                  if (!(\"DISCONNECTED\" !== this.connectionState)) {\n                    _context132.next = 27;\n                    break;\n                  }\n\n                  throw a = new q(n.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Client already in connecting/connected state\")), l.onError(a), a;\n\n                case 27:\n                  this._sessionId || (this._sessionId = va(32, \"\").toUpperCase());\n                  this._gateway.state = \"CONNECTING\";\n                  f = {\n                    clientId: this._clientId,\n                    appId: a,\n                    sid: this._sessionId,\n                    cname: b,\n                    uid: \"string\" != typeof e ? e : null,\n                    turnServer: this._turnServer,\n                    proxyServer: this._proxyServer,\n                    token: c || a,\n                    cloudProxyServer: this._cloudProxyServerMode,\n                    optionalInfo: f,\n                    useLocalAccessPoint: this._useLocalAccessPoint\n                  };\n                  \"string\" == typeof e && (f.stringUid = e, this._uintUid ? (f.uid = this._uintUid, this._uintUid = void 0) : f.uid = 0);\n                  _context132.t2 = \"none\" !== this._encryptionMode && this._encryptionSecret;\n\n                  if (!_context132.t2) {\n                    _context132.next = 38;\n                    break;\n                  }\n\n                  f.aesmode = this._encryptionMode;\n                  _context132.next = 36;\n                  return Cs(this._encryptionSecret);\n\n                case 36:\n                  f.aespassword = _context132.sent;\n                  this._encryptionSalt && (f.aessalt = this._encryptionSalt);\n\n                case 38:\n                  this._startSession(this._sessionId, {\n                    channel: b,\n                    appId: a\n                  });\n\n                  wb(function () {\n                    \"CONNECTING\" === _this135.connectionState && u.joinChannelTimeout(_this135._sessionId, 5);\n                  }, 5E3);\n                  _context132.prev = 40;\n                  if (\"443only\" === f.cloudProxyServer) f.proxyServer = v.PROXY_SERVER_TYPE2;else if (\"proxy3\" === f.cloudProxyServer || \"proxy4\" === f.cloudProxyServer || \"proxy5\" === f.cloudProxyServer) {\n                    _a35 = v.PROXY_SERVER_TYPE3;\n                    Qb(_a35) ? f.proxyServer = _a35[0] : f.proxyServer = _a35;\n                  }\n\n                  if (!(u.setProxyServer(f.proxyServer), k.setProxyServer(f.proxyServer), this._performanceRecorder.checkPoint(\"startRequestAp\"), f.stringUid && !f.uid && \"normal\" === f.cloudProxyServer)) {\n                    _context132.next = 55;\n                    break;\n                  }\n\n                  _context132.next = 45;\n                  return Gj(f, this._axiosCancelSource.token, this._config.httpRetryConfig || Ga, !1);\n\n                case 45:\n                  _context132.next = 47;\n                  return ng(f.stringUid, f, this._axiosCancelSource.token, this._config.httpRetryConfig || Ga);\n\n                case 47:\n                  _a36 = _context132.sent;\n                  k.debug(m(x = \"getUserAccount Success \".concat(f.stringUid, \" => \")).call(x, _a36));\n                  f.uid = _a36;\n                  _context132.next = 52;\n                  return Ud(f, this._axiosCancelSource.token, this._config.httpRetryConfig || Ga);\n\n                case 52:\n                  _e11 = _context132.sent;\n                  _context132.next = 64;\n                  break;\n\n                case 55:\n                  if (!(f.stringUid && !f.uid)) {\n                    _context132.next = 61;\n                    break;\n                  }\n\n                  _context132.next = 58;\n                  return ng(f.stringUid, f, this._axiosCancelSource.token, this._config.httpRetryConfig || Ga);\n\n                case 58:\n                  _a37 = _context132.sent;\n                  k.debug(m(K = \"getUserAccount Success \".concat(f.stringUid, \" => \")).call(K, _a37));\n                  f.uid = _a37;\n\n                case 61:\n                  _context132.next = 63;\n                  return Gj(f, this._axiosCancelSource.token, this._config.httpRetryConfig || Ga, !0);\n\n                case 63:\n                  _e11 = _context132.sent;\n\n                case 64:\n                  this._performanceRecorder.checkPoint(\"startJoinGateway\");\n\n                  this._configDistribute.startGetConfigDistribute(f, this._axiosCancelSource.token);\n\n                  this._configDistribute.on(ke.UPDATE_BITRATE_LIMIT, function (a) {\n                    _this135._highStream && _this135._highStream.handleUpdateBitrateLimit(a.uplink);\n                    a.low_stream_uplink && _this135._lowStream && _this135._lowStream.handleUpdateBitrateLimit({\n                      max_bitrate: a.low_stream_uplink.bitrate,\n                      min_bitrate: a.low_stream_uplink.bitrate || 0\n                    });\n                  });\n\n                  this._key = c || a;\n                  this._joinInfo = jd({}, f, {\n                    cid: _e11.gatewayInfo.cid,\n                    uid: f.uid ? f.uid : _e11.gatewayInfo.uid,\n                    vid: _e11.gatewayInfo.vid,\n                    apResponse: _e11.gatewayInfo.res,\n                    uni_lbs_ip: _e11.gatewayInfo.uni_lbs_ip,\n                    gatewayAddrs: _e11.gatewayInfo.gatewayAddrs\n                  });\n                  _context132.next = 71;\n                  return this._gateway.join(this._joinInfo, this._key);\n\n                case 71:\n                  _h5 = _context132.sent;\n                  return _context132.abrupt(\"return\", (l.onSuccess(_h5), this._appId = a, this._channelName = f.cname, this._uid = _h5, this._networkQualityInterval && window.clearInterval(this._networkQualityInterval), this._networkQualityInterval = window.setInterval(this._handleUpdateNetworkQuality, 2E3), window.addEventListener(\"beforeunload\", this._handleBeforeUnload), k.info(m(t = \"[\".concat(this._clientId, \"] Joining channel success: \")).call(t, b)), wb(function () {\n                    k.startUpload();\n                  }, 5E3), this._performanceRecorder.checkPoint(\"finishJoin\"), y = this, Z(pc).call(pc, y) || pc.push(y), _h5));\n\n                case 75:\n                  _context132.prev = 75;\n                  _context132.t3 = _context132[\"catch\"](40);\n                  throw a = Qb(_context132.t3) ? _context132.t3[0] : _context132.t3, k.error(\"[\".concat(this._clientId, \"] Joining channel failed, rollback\"), a), a.code !== n.OPERATION_ABORTED && (this._gateway.state = \"DISCONNECTED\", this._reset()), l.onError(a), a;\n\n                case 78:\n                case \"end\":\n                  return _context132.stop();\n              }\n            }\n          }, _callee132, this, [[5, 15], [40, 75]]);\n        }));\n\n        function join(_x178, _x179, _x180, _x181, _x182) {\n          return _join3.apply(this, arguments);\n        }\n\n        return join;\n      }()\n    }, {\n      key: \"leave\",\n      value: function () {\n        var _leave2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee133() {\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee133$(_context133) {\n            while (1) {\n              switch (_context133.prev = _context133.next) {\n                case 0:\n                  a = u.reportApiInvoke(this._sessionId, {\n                    name: D.LEAVE,\n                    options: [],\n                    tag: C.TRACER\n                  });\n                  k.info(\"[\".concat(this._clientId, \"] Leaving channel\"));\n                  window.removeEventListener(\"beforeunload\", this._handleBeforeUnload);\n\n                  this._reset();\n\n                  b = J(pc).call(pc, this);\n                  -1 !== b && Ra(pc).call(pc, b, 1);\n                  _context133.next = 8;\n                  return this._leaveMutex.lock();\n\n                case 8:\n                  b = _context133.sent;\n\n                  if (!(\"DISCONNECTED\" === this.connectionState)) {\n                    _context133.next = 11;\n                    break;\n                  }\n\n                  return _context133.abrupt(\"return\", (k.info(\"[\".concat(this._clientId, \"] Leaving channel repeated, success\")), b(), a.onSuccess()));\n\n                case 11:\n                  _context133.next = 13;\n                  return this._gateway.leave(\"CONNECTED\" !== this.connectionState);\n\n                case 13:\n                  k.info(\"[\".concat(this._clientId, \"] Leaving channel success\"));\n                  b();\n                  a.onSuccess();\n\n                case 16:\n                case \"end\":\n                  return _context133.stop();\n              }\n            }\n          }, _callee133, this);\n        }));\n\n        function leave() {\n          return _leave2.apply(this, arguments);\n        }\n\n        return leave;\n      }()\n    }, {\n      key: \"publish\",\n      value: function () {\n        var _publish2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee134(a) {\n          var _this136 = this;\n\n          var b,\n              c,\n              e,\n              f,\n              _iteratorNormalCompletion7,\n              _didIteratorError7,\n              _iteratorError7,\n              _iterator7,\n              _step7,\n              _c23,\n              _b33,\n              _e12,\n              _args134 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee134$(_context134) {\n            while (1) {\n              switch (_context134.prev = _context134.next) {\n                case 0:\n                  b = _args134.length > 1 && _args134[1] !== undefined ? _args134[1] : !0;\n                  Qb(a) || (a = [a]);\n                  f = u.reportApiInvoke(this._sessionId, {\n                    name: D.PUBLISH,\n                    options: z(a).call(a, function (a) {\n                      return a ? Object(a).toString() : \"null\";\n                    }),\n                    tag: C.TRACER\n                  });\n\n                  if (!(0 === a.length)) {\n                    _context134.next = 5;\n                    break;\n                  }\n\n                  return _context134.abrupt(\"return\", (a = new q(n.INVALID_PARAMS, \"track list is empty\"), f.onError(a), a.throw()));\n\n                case 5:\n                  if (!(\"audience\" === this._gateway.role)) {\n                    _context134.next = 7;\n                    break;\n                  }\n\n                  return _context134.abrupt(\"return\", (a = new q(n.INVALID_OPERATION, \"audience can not publish stream\"), f.onError(a), a.throw()));\n\n                case 7:\n                  _iteratorNormalCompletion7 = true;\n                  _didIteratorError7 = false;\n                  _iteratorError7 = undefined;\n                  _context134.prev = 10;\n                  _iterator7 = a[Symbol.iterator]();\n\n                case 12:\n                  if (_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done) {\n                    _context134.next = 21;\n                    break;\n                  }\n\n                  _c23 = _step7.value;\n\n                  if (_c23 instanceof yf) {\n                    _context134.next = 16;\n                    break;\n                  }\n\n                  return _context134.abrupt(\"return\", (a = new q(n.INVALID_PARAMS, \"pamameter is not local track\"), f.onError(a), a.throw()));\n\n                case 16:\n                  if (!(!_c23._enabled && b)) {\n                    _context134.next = 18;\n                    break;\n                  }\n\n                  return _context134.abrupt(\"return\", (a = new q(n.TRACK_IS_DISABLED, \"can not publish a disabled track: \".concat(_c23.getTrackId())), f.onError(a), a.throw()));\n\n                case 18:\n                  _iteratorNormalCompletion7 = true;\n                  _context134.next = 12;\n                  break;\n\n                case 21:\n                  _context134.next = 27;\n                  break;\n\n                case 23:\n                  _context134.prev = 23;\n                  _context134.t0 = _context134[\"catch\"](10);\n                  _didIteratorError7 = true;\n                  _iteratorError7 = _context134.t0;\n\n                case 27:\n                  _context134.prev = 27;\n                  _context134.prev = 28;\n\n                  if (!_iteratorNormalCompletion7 && _iterator7.return != null) {\n                    _iterator7.return();\n                  }\n\n                case 30:\n                  _context134.prev = 30;\n\n                  if (!_didIteratorError7) {\n                    _context134.next = 33;\n                    break;\n                  }\n\n                  throw _iteratorError7;\n\n                case 33:\n                  return _context134.finish(30);\n\n                case 34:\n                  return _context134.finish(27);\n\n                case 35:\n                  k.info(m(c = \"[\".concat(this._clientId, \"] Publishing tracks, id \")).call(c, z(a).call(a, function (a) {\n                    return \"\".concat(a.getTrackId(), \" \");\n                  })));\n                  _context134.next = 38;\n                  return this._configDistribute.awaitConfigDistributeComplete();\n\n                case 38:\n                  b && t(a).call(a, function (a) {\n                    var b;\n\n                    var c = _this136._configDistribute.getBitrateLimit();\n\n                    var e;\n                    (a instanceof ta && c && a.setBitrateLimit(c.uplink), -1 === J(b = _this136._bindEnabledTracks).call(b, a)) && (a.addListener(G.NEED_ADD_TRACK, _this136._handleLocalTrackEnable), a.addListener(G.NEED_REMOVE_TRACK, _this136._handleLocalTrackDisable), _this136._bindEnabledTracks.push(a), db() && a.muted && k.debug(m(e = \"[\".concat(_this136._clientId, \"] on firefox publish a muted track \")).call(e, a.getTrackId(), \", skip the pub operation and wait unmute\")));\n                  });\n\n                  if (!(db() && 0 === (a = I(a).call(a, function (a) {\n                    return !a.muted;\n                  })).length)) {\n                    _context134.next = 41;\n                    break;\n                  }\n\n                  return _context134.abrupt(\"return\", void f.onSuccess(z(a).call(a, function (a) {\n                    return a.trackMediaType + \":\" + a.getTrackLabel();\n                  }).toString()));\n\n                case 41:\n                  _context134.next = 43;\n                  return this._publishMutex.lock();\n\n                case 43:\n                  c = _context134.sent;\n                  _context134.prev = 44;\n                  _context134.next = 47;\n                  return this._publishHighStream(a);\n\n                case 47:\n                  _b33 = _context134.sent;\n                  _e12 = (_b33.audioTrack, _b33.videoTrack);\n                  _context134.t1 = this._isDualStreamEnabled && _e12 && !this._lowStream;\n\n                  if (!_context134.t1) {\n                    _context134.next = 53;\n                    break;\n                  }\n\n                  _context134.next = 53;\n                  return this._publishLowStream(_e12);\n\n                case 53:\n                  c();\n                  f.onSuccess(z(a).call(a, function (a) {\n                    return a.trackMediaType + \":\" + a.getTrackLabel();\n                  }).toString());\n                  _context134.next = 60;\n                  break;\n\n                case 57:\n                  _context134.prev = 57;\n                  _context134.t2 = _context134[\"catch\"](44);\n                  throw c(), b && t(a).call(a, function (a) {\n                    var b, c;\n                    var e = J(b = _this136._bindEnabledTracks).call(b, a);\n                    -1 !== e && (a.off(G.NEED_ADD_TRACK, _this136._handleLocalTrackEnable), a.off(G.NEED_REMOVE_TRACK, _this136._handleLocalTrackDisable), Ra(c = _this136._bindEnabledTracks).call(c, e, 1));\n                  }), f.onError(_context134.t2), k.error(\"[\".concat(this._clientId, \"] publish error\"), _context134.t2.toString()), _context134.t2;\n\n                case 60:\n                  k.info(m(e = \"[\".concat(this._clientId, \"] Publish success, id \")).call(e, z(a).call(a, function (a) {\n                    return \"\".concat(a.getTrackId(), \" \");\n                  })));\n\n                case 61:\n                case \"end\":\n                  return _context134.stop();\n              }\n            }\n          }, _callee134, this, [[10, 23, 27, 35], [28,, 30, 34], [44, 57]]);\n        }));\n\n        function publish(_x183) {\n          return _publish2.apply(this, arguments);\n        }\n\n        return publish;\n      }()\n    }, {\n      key: \"unpublish\",\n      value: function () {\n        var _unpublish = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee135(a) {\n          var _this137 = this;\n\n          var b,\n              c,\n              e,\n              f,\n              h,\n              l,\n              q,\n              p,\n              _args135 = arguments;\n          return _regeneratorRuntime.wrap(function _callee135$(_context135) {\n            while (1) {\n              switch (_context135.prev = _context135.next) {\n                case 0:\n                  b = _args135.length > 1 && _args135[1] !== undefined ? _args135[1] : !0;\n                  _context135.next = 3;\n                  return this._publishMutex.lock();\n\n                case 3:\n                  e = _context135.sent;\n                  _context135.prev = 4;\n\n                  if (!(!this._highStream || (f = this._highStream.getAllTracks(), a ? Qb(a) || (a = [a]) : a = this._highStream.getAllTracks(), h = function (a, b) {\n                    if (a.length !== b.length) return !1;\n\n                    var _loop3 = function _loop3(_c24) {\n                      var e = a[_c24];\n                      if (I(a).call(a, function (a) {\n                        return a === e;\n                      }).length !== I(b).call(b, function (a) {\n                        return a === e;\n                      }).length) return {\n                        v: !1\n                      };\n                    };\n\n                    for (var _c24 = 0; _c24 < a.length; _c24 += 1) {\n                      var _ret = _loop3(_c24);\n\n                      if (typeof _ret === \"object\") return _ret.v;\n                    }\n\n                    return !0;\n                  }(f, a), l = u.reportApiInvoke(this._sessionId, {\n                    name: D.UNPUBLISH,\n                    options: z(a).call(a, function (a) {\n                      return a.getTrackId();\n                    }),\n                    tag: C.TRACER\n                  }), k.info(m(q = m(p = \"[\".concat(this._clientId, \"] Unpublish tracks, tracks \")).call(p, z(a).call(a, function (a) {\n                    return \"\".concat(a.getTrackId(), \" \");\n                  }), \", isClosePC: \")).call(q, h)), !this._highStream))) {\n                    _context135.next = 7;\n                    break;\n                  }\n\n                  return _context135.abrupt(\"return\", (k.warning(\"[\".concat(this._clientId, \"] Could not find tracks to unpublish\")), void (e && e())));\n\n                case 7:\n                  _context135.next = 12;\n                  break;\n\n                case 9:\n                  _context135.prev = 9;\n                  _context135.t0 = _context135[\"catch\"](4);\n                  throw e && e(), _context135.t0;\n\n                case 12:\n                  _context135.prev = 12;\n                  _context135.t1 = this._lowStream && 0 < I(a).call(a, function (a) {\n                    return \"video\" === a.trackMediaType;\n                  }).length;\n\n                  if (!_context135.t1) {\n                    _context135.next = 18;\n                    break;\n                  }\n\n                  _context135.next = 17;\n                  return this._lowStream.closeP2PConnection();\n\n                case 17:\n                  this._lowStream = void 0;\n\n                case 18:\n                  if (!h) {\n                    _context135.next = 23;\n                    break;\n                  }\n\n                  _context135.next = 21;\n                  return this._highStream.closeP2PConnection();\n\n                case 21:\n                  _context135.next = 25;\n                  break;\n\n                case 23:\n                  _context135.next = 25;\n                  return this._highStream.removeTracks(a, b);\n\n                case 25:\n                  e && e();\n                  _context135.next = 34;\n                  break;\n\n                case 28:\n                  _context135.prev = 28;\n                  _context135.t2 = _context135[\"catch\"](12);\n\n                  if (!(_context135.t2.code !== n.OPERATION_ABORTED)) {\n                    _context135.next = 32;\n                    break;\n                  }\n\n                  throw l.onError(_context135.t2), k.error(\"[\".concat(this._clientId, \"] unpublish error\"), _context135.t2.toString()), e && e(), _context135.t2;\n\n                case 32:\n                  k.debug(\"[\".concat(this._clientId, \"] ignore unpub operation abort\"));\n                  e && e();\n\n                case 34:\n                  this._highStream && \"disconnected\" === this._highStream.connectionState && (this._highStream = void 0, this._lowStream = void 0);\n                  b && t(a).call(a, function (a) {\n                    var b, c;\n                    var e = J(b = _this137._bindEnabledTracks).call(b, a);\n                    -1 !== e && (a.off(G.NEED_ADD_TRACK, _this137._handleLocalTrackEnable), a.off(G.NEED_REMOVE_TRACK, _this137._handleLocalTrackDisable), Ra(c = _this137._bindEnabledTracks).call(c, e, 1));\n                  });\n                  k.info(m(c = \"[\".concat(this._clientId, \"] Unpublish success,tracks \")).call(c, z(a).call(a, function (a) {\n                    return \"\".concat(a.getTrackId());\n                  })));\n                  l.onSuccess();\n\n                case 38:\n                case \"end\":\n                  return _context135.stop();\n              }\n            }\n          }, _callee135, this, [[4, 9], [12, 28]]);\n        }));\n\n        function unpublish(_x184) {\n          return _unpublish.apply(this, arguments);\n        }\n\n        return unpublish;\n      }()\n    }, {\n      key: \"subscribe\",\n      value: function () {\n        var _subscribe2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee136(a, b) {\n          var _this138 = this;\n\n          var c, e, f, h, l, r, p, t, v, x, y;\n          return _regeneratorRuntime.wrap(function _callee136$(_context136) {\n            while (1) {\n              switch (_context136.prev = _context136.next) {\n                case 0:\n                  fb(b, \"mediaType\", [\"audio\", \"video\"]);\n                  l = u.reportApiInvoke(this._sessionId, {\n                    name: D.SUBSCRIBE,\n                    options: [a.uid, b],\n                    tag: C.TRACER\n                  });\n\n                  if (this._joinInfo) {\n                    _context136.next = 4;\n                    break;\n                  }\n\n                  throw b = new q(n.INVALID_OPERATION, \"Can't subscribe stream, not joined\"), l.onError(b), b;\n\n                case 4:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context136.next = 6;\n                    break;\n                  }\n\n                  throw b = new q(n.INVALID_OPERATION, \"Can't subscribe stream in \".concat(this.connectionState, \" state\")), l.onError(b), b;\n\n                case 6:\n                  if (U(c = this._users).call(c, function (b) {\n                    return b === a;\n                  })) {\n                    _context136.next = 9;\n                    break;\n                  }\n\n                  b = new q(n.INVALID_REMOTE_USER, \"user is not in the channel\");\n                  throw k.error(m(r = \"[\".concat(this._clientId, \"] can not subscribe \")).call(r, a.uid, \", this user is not in the channel\")), l.onError(b), b;\n\n                case 9:\n                  if (!(!a.hasAudio && !a.hasVideo)) {\n                    _context136.next = 12;\n                    break;\n                  }\n\n                  b = new q(n.INVALID_REMOTE_USER, \"user is not published\");\n                  throw k.error(m(p = \"[\".concat(this._clientId, \"] can not subscribe \")).call(p, a.uid, \", user is not published\")), l.onError(b), b;\n\n                case 12:\n                  r = {\n                    audio: \"audio\" === b,\n                    video: \"video\" === b\n                  };\n\n                  if (!(!a.hasAudio && r.audio || !a.hasVideo && r.video)) {\n                    _context136.next = 16;\n                    break;\n                  }\n\n                  x = new q(n.REMOTE_USER_IS_NOT_PUBLISHED);\n                  throw k.error(m(t = m(v = \"[\".concat(this._clientId, \"] can not subscribe \")).call(v, a.uid, \" with mediaType \")).call(t, b, \", remote track is not published\")), l.onError(x), x;\n\n                case 16:\n                  (t = this._subscribeMutex.get(a.uid)) || (t = new sc(\"sub-\".concat(a.uid)), this._subscribeMutex.set(a.uid, t));\n                  k.info(m(e = m(f = \"[\".concat(this._clientId, \"] subscribe user \")).call(f, a.uid, \", mediaType: \")).call(e, b));\n                  _context136.next = 20;\n                  return t.lock();\n\n                case 20:\n                  e = _context136.sent;\n                  f = this._remoteStream.get(a.uid);\n                  _context136.prev = 22;\n\n                  if (!f) {\n                    _context136.next = 30;\n                    break;\n                  }\n\n                  r.audio = r.audio || f.subscribeOptions.audio;\n                  r.video = r.video || f.subscribeOptions.video;\n                  _context136.next = 28;\n                  return this._gateway.subscribeChange(f, r);\n\n                case 28:\n                  _context136.next = 41;\n                  break;\n\n                case 30:\n                  f = new ws(a, this._statsCollector, this._joinInfo, r);\n\n                  this._remoteStream.set(a.uid, f);\n\n                  _context136.prev = 32;\n                  _context136.next = 35;\n                  return this._gateway.subscribe(f);\n\n                case 35:\n                  _context136.next = 40;\n                  break;\n\n                case 37:\n                  _context136.prev = 37;\n                  _context136.t0 = _context136[\"catch\"](32);\n                  throw this._remoteStream.delete(a.uid), _context136.t0;\n\n                case 40:\n                  f.on(E.CONNECTION_STATE_CHANGE, function (b, c) {\n                    \"connecting\" === b ? _this138.emit(R.MEDIA_RECONNECT_START, a.uid) : \"connected\" === b && _this138.emit(R.MEDIA_RECONNECT_END, a.uid);\n                  });\n\n                case 41:\n                  e();\n                  _context136.next = 47;\n                  break;\n\n                case 44:\n                  _context136.prev = 44;\n                  _context136.t1 = _context136[\"catch\"](22);\n                  throw l.onError(_context136.t1), e(), k.error(m(y = \"[\".concat(this._clientId, \"] subscribe user \")).call(y, a.uid, \" error\"), _context136.t1), _context136.t1;\n\n                case 47:\n                  k.info(m(x = m(h = \"[\".concat(this._clientId, \"] subscribe success user \")).call(h, a.uid, \", mediaType: \")).call(x, b));\n                  this._defaultStreamFallbackType && this.setStreamFallbackOption(a.uid, this._defaultStreamFallbackType).catch(function (a) {\n                    k.warning(\"[\".concat(_this138._clientId, \"] auto set fallback failed\"), a);\n                  });\n                  b = \"audio\" === b ? a.audioTrack : a.videoTrack;\n                  return _context136.abrupt(\"return\", b ? (l.onSuccess(b.getTrackId()), b) : (b = new q(n.UNEXPECTED_ERROR, \"can not find remote track in user object\"), l.onError(b), b.throw()));\n\n                case 51:\n                case \"end\":\n                  return _context136.stop();\n              }\n            }\n          }, _callee136, this, [[22, 44], [32, 37]]);\n        }));\n\n        function subscribe(_x185, _x186) {\n          return _subscribe2.apply(this, arguments);\n        }\n\n        return subscribe;\n      }()\n    }, {\n      key: \"unsubscribe\",\n      value: function () {\n        var _unsubscribe2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee137(a, b) {\n          var c, e, f, h, l, r, p, t, v;\n          return _regeneratorRuntime.wrap(function _callee137$(_context137) {\n            while (1) {\n              switch (_context137.prev = _context137.next) {\n                case 0:\n                  b && fb(b, \"mediaType\", [\"audio\", \"video\"]);\n                  r = u.reportApiInvoke(this._sessionId, {\n                    name: D.UNSUBSCRIBE,\n                    options: [a.uid, b],\n                    tag: C.TRACER\n                  });\n\n                  if (U(c = this._users).call(c, function (b) {\n                    return b === a;\n                  })) {\n                    _context137.next = 5;\n                    break;\n                  }\n\n                  b = new q(n.INVALID_REMOTE_USER, \"user is not in the channel\");\n                  throw k.error(m(p = \"[\".concat(this._clientId, \"] can not subscribe \")).call(p, a.uid, \", user is not in the channel\")), r.onError(b), b;\n\n                case 5:\n                  k.info(m(e = m(f = \"[\".concat(this._clientId, \"] unsubscribe uid: \")).call(f, a.uid, \", mediaType: \")).call(e, b));\n                  (p = this._subscribeMutex.get(a.uid)) || (p = new sc(\"sub-\".concat(a.uid)), this._subscribeMutex.set(a.uid, p));\n                  _context137.next = 9;\n                  return p.lock();\n\n                case 9:\n                  p = _context137.sent;\n                  c = this._remoteStream.get(a.uid);\n\n                  if (c) {\n                    _context137.next = 13;\n                    break;\n                  }\n\n                  return _context137.abrupt(\"return\", (k.warning(m(t = \"[\".concat(this._clientId, \"]: you have not subscribe the remote user \")).call(t, a.uid)), r.onSuccess(), void p()));\n\n                case 13:\n                  t = jd({}, c.subscribeOptions);\n                  \"audio\" === b ? t.audio = !1 : \"video\" === b ? (t.video = !1, c.pc._statsFilter.setVideoIsReady(!1)) : (t.audio = !1, t.video = !1);\n                  _context137.prev = 15;\n\n                  if (!(t.audio || t.video)) {\n                    _context137.next = 21;\n                    break;\n                  }\n\n                  _context137.next = 19;\n                  return this._gateway.subscribeChange(c, t);\n\n                case 19:\n                  _context137.next = 24;\n                  break;\n\n                case 21:\n                  _context137.next = 23;\n                  return c.closeP2PConnection();\n\n                case 23:\n                  this._remoteStream.delete(a.uid);\n\n                case 24:\n                  p();\n                  _context137.next = 33;\n                  break;\n\n                case 27:\n                  _context137.prev = 27;\n                  _context137.t0 = _context137[\"catch\"](15);\n\n                  if (!(_context137.t0.code !== n.OPERATION_ABORTED)) {\n                    _context137.next = 31;\n                    break;\n                  }\n\n                  throw r.onError(_context137.t0), p(), k.error(m(v = \"[\".concat(this._clientId, \"] unsubscribe user \")).call(v, a.uid, \" error\"), _context137.t0.toString()), _context137.t0;\n\n                case 31:\n                  p();\n                  k.debug(\"[\".concat(this._clientId, \"] ignore unsub operation abort\"));\n\n                case 33:\n                  k.info(m(h = m(l = \"[\".concat(this._clientId, \"] unsubscribe success uid: \")).call(l, a.uid, \", mediaType: \")).call(h, b));\n                  r.onSuccess();\n\n                case 35:\n                case \"end\":\n                  return _context137.stop();\n              }\n            }\n          }, _callee137, this, [[15, 27]]);\n        }));\n\n        function unsubscribe(_x187, _x188) {\n          return _unsubscribe2.apply(this, arguments);\n        }\n\n        return unsubscribe;\n      }()\n    }, {\n      key: \"setLowStreamParameter\",\n      value: function setLowStreamParameter(a) {\n        if (!a) throw new q(n.INVALID_PARAMS);\n        null == a.width || ha(a.width, \"streamParameter.width\");\n        null == a.height || ha(a.height, \"streamParameter.height\");\n        null == a.framerate || ha(a.framerate, \"streamParameter.framerate\");\n        null == a.bitrate || ha(a.bitrate, \"streamParameter.bitrate\");\n        !0;\n        var b = u.reportApiInvoke(this._sessionId, {\n          name: D.SET_LOW_STREAM_PARAMETER,\n          options: [a],\n          tag: C.TRACER\n        });\n        (!a.width && a.height || a.width && !a.height) && k.warning(\"[\".concat(this._clientId, \"] The width and height parameters take effect only when both are set\"));\n        k.info(\"[\".concat(this._clientId, \"] set low stream parameter to\"), A(a));\n\n        var c = this._configDistribute.getLowStreamConfigDistribute();\n\n        c && c.bitrate && a.bitrate && c.bitrate < a.bitrate && (a.bitrate = c.bitrate);\n        this._lowStreamParameter = a;\n        b.onSuccess();\n      }\n    }, {\n      key: \"enableDualStream\",\n      value: function () {\n        var _enableDualStream = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee138() {\n          var a, b;\n          return _regeneratorRuntime.wrap(function _callee138$(_context138) {\n            while (1) {\n              switch (_context138.prev = _context138.next) {\n                case 0:\n                  a = u.reportApiInvoke(this._sessionId, {\n                    name: D.ENABLE_DUAL_STREAM,\n                    options: [],\n                    tag: C.TRACER\n                  });\n\n                  if (la.supportDualStream) {\n                    _context138.next = 5;\n                    break;\n                  }\n\n                  u.streamSwitch(this._sessionId, {\n                    lts: x(),\n                    isdual: !0,\n                    succ: !1\n                  });\n                  b = new q(n.NOT_SUPPORTED, \"Your browser is not support dual stream\");\n                  throw a.onError(b), b;\n\n                case 5:\n                  if (!this._isDualStreamEnabled) {\n                    _context138.next = 7;\n                    break;\n                  }\n\n                  throw b = new q(n.INVALID_OPERATION, \"Dual stream is already enabled\"), a.onError(b), b;\n\n                case 7:\n                  if (!(this._highStream && \"connected\" === this._highStream.connectionState && this._highStream.videoTrack)) {\n                    _context138.next = 16;\n                    break;\n                  }\n\n                  _context138.prev = 8;\n                  _context138.next = 11;\n                  return this._publishLowStream(this._highStream.videoTrack);\n\n                case 11:\n                  _context138.next = 16;\n                  break;\n\n                case 13:\n                  _context138.prev = 13;\n                  _context138.t0 = _context138[\"catch\"](8);\n                  throw u.streamSwitch(this._sessionId, {\n                    lts: x(),\n                    isdual: !0,\n                    succ: !1\n                  }), a.onError(_context138.t0), _context138.t0;\n\n                case 16:\n                  this._isDualStreamEnabled = !0;\n                  u.streamSwitch(this._sessionId, {\n                    lts: x(),\n                    isdual: !0,\n                    succ: !0\n                  });\n                  k.info(\"[\".concat(this._clientId, \"] enable dual stream\"));\n                  a.onSuccess();\n\n                case 20:\n                case \"end\":\n                  return _context138.stop();\n              }\n            }\n          }, _callee138, this, [[8, 13]]);\n        }));\n\n        function enableDualStream() {\n          return _enableDualStream.apply(this, arguments);\n        }\n\n        return enableDualStream;\n      }()\n    }, {\n      key: \"disableDualStream\",\n      value: function () {\n        var _disableDualStream = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee139() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee139$(_context139) {\n            while (1) {\n              switch (_context139.prev = _context139.next) {\n                case 0:\n                  a = u.reportApiInvoke(this._sessionId, {\n                    name: D.DISABLE_DUAL_STREAM,\n                    options: [],\n                    tag: C.TRACER\n                  });\n\n                  if (!this._lowStream) {\n                    _context139.next = 10;\n                    break;\n                  }\n\n                  _context139.prev = 2;\n                  _context139.next = 5;\n                  return this._lowStream.closeP2PConnection();\n\n                case 5:\n                  _context139.next = 10;\n                  break;\n\n                case 7:\n                  _context139.prev = 7;\n                  _context139.t0 = _context139[\"catch\"](2);\n                  throw u.streamSwitch(this._sessionId, {\n                    lts: x(),\n                    isdual: !1,\n                    succ: !1\n                  }), a.onError(_context139.t0), _context139.t0;\n\n                case 10:\n                  this._lowStream = void 0;\n                  this._isDualStreamEnabled = !1;\n                  this._highStream && (this._highStream.lowStreamConnection = void 0);\n                  u.streamSwitch(this._sessionId, {\n                    lts: x(),\n                    isdual: !1,\n                    succ: !0\n                  });\n                  k.info(\"[\".concat(this._clientId, \"] disable dual stream\"));\n                  a.onSuccess();\n\n                case 16:\n                case \"end\":\n                  return _context139.stop();\n              }\n            }\n          }, _callee139, this, [[2, 7]]);\n        }));\n\n        function disableDualStream() {\n          return _disableDualStream.apply(this, arguments);\n        }\n\n        return disableDualStream;\n      }()\n    }, {\n      key: \"setClientRole\",\n      value: function () {\n        var _setClientRole2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee140(a, b) {\n          var c, e, f, _a38;\n\n          return _regeneratorRuntime.wrap(function _callee140$(_context140) {\n            while (1) {\n              switch (_context140.prev = _context140.next) {\n                case 0:\n                  fb(a, \"role\", [\"audience\", \"host\"]);\n                  !0;\n                  b && Zi(b);\n                  c = u.reportApiInvoke(this._sessionId, {\n                    name: D.SET_CLIENT_ROLE,\n                    options: [a, b],\n                    tag: C.TRACER\n                  });\n\n                  if (!(\"rtc\" === this._mode)) {\n                    _context140.next = 6;\n                    break;\n                  }\n\n                  return _context140.abrupt(\"return\", (k.warning(\"[\".concat(this._clientId, \"]rtc mode can not use setClientRole\")), a = new q(n.INVALID_OPERATION, \"rtc mode can not use setClientRole\"), c.onError(a), a.throw()));\n\n                case 6:\n                  if (!(b && b.level && \"host\" === a)) {\n                    _context140.next = 8;\n                    break;\n                  }\n\n                  return _context140.abrupt(\"return\", (a = new q(n.INVALID_OPERATION, \"host mode can not set audience latency level\"), c.onError(a), a.throw()));\n\n                case 8:\n                  _context140.prev = 8;\n\n                  if (!(\"audience\" === a && this._highStream)) {\n                    _context140.next = 12;\n                    break;\n                  }\n\n                  _a38 = new q(n.INVALID_OPERATION, \"can not set client role to audience when publishing stream\");\n                  return _context140.abrupt(\"return\", (c.onError(_a38), _a38.throw()));\n\n                case 12:\n                  _context140.next = 14;\n                  return this._gateway.setClientRole(a, b);\n\n                case 14:\n                  k.info(m(e = m(f = \"[\".concat(this._clientId, \"] set client role to \")).call(f, a, \", level: \")).call(e, b && b.level));\n                  c.onSuccess();\n                  _context140.next = 21;\n                  break;\n\n                case 18:\n                  _context140.prev = 18;\n                  _context140.t0 = _context140[\"catch\"](8);\n                  throw c.onError(_context140.t0), _context140.t0;\n\n                case 21:\n                case \"end\":\n                  return _context140.stop();\n              }\n            }\n          }, _callee140, this, [[8, 18]]);\n        }));\n\n        function setClientRole(_x189, _x190) {\n          return _setClientRole2.apply(this, arguments);\n        }\n\n        return setClientRole;\n      }()\n    }, {\n      key: \"setProxyServer\",\n      value: function setProxyServer(a) {\n        if (Sa(a, \"proxyServer\"), \"DISCONNECTED\" !== this.connectionState) throw new q(n.INVALID_OPERATION, \"Set proxy server before join channel\");\n        if (\"disabled\" !== this._cloudProxyServerMode || this._useLocalAccessPoint) throw new q(n.INVALID_OPERATION, \"You have already set the proxy\");\n        this._proxyServer = a;\n        u.setProxyServer(this._proxyServer);\n        k.setProxyServer(this._proxyServer);\n      }\n    }, {\n      key: \"setTurnServer\",\n      value: function setTurnServer(a) {\n        if (Qb(a) || (a = [a]), \"DISCONNECTED\" !== this.connectionState) throw new q(n.INVALID_OPERATION, \"Set turn server before join channel\");\n        if (\"disabled\" !== this._cloudProxyServerMode || this._useLocalAccessPoint) throw new q(n.INVALID_OPERATION, \"You have already set the proxy\");\n        var b;\n        if (Xi(a)) return this._turnServer = {\n          servers: a,\n          mode: \"original-manual\"\n        }, void k.info(m(b = \"[\".concat(this._clientId, \"] Set original turnserver success: \")).call(b, z(a).call(a, function (a) {\n          return a.urls;\n        }).join(\",\"), \".\"));\n        t(a).call(a, function (a) {\n          return Yi(a);\n        });\n        this._turnServer = {\n          servers: a,\n          mode: \"manual\"\n        };\n        k.info(\"[\".concat(this._clientId, \"] Set turnserver success.\"));\n      }\n    }, {\n      key: \"startProxyServer\",\n      value: function startProxyServer(a) {\n        var b = u.reportApiInvoke(this._sessionId, {\n          name: D.START_PROXY_SERVER,\n          options: [],\n          tag: C.TRACER\n        });\n        if (\"DISCONNECTED\" !== this.connectionState) throw a = new q(n.INVALID_OPERATION, \"Start proxy server before join channel\"), b.onError(a), a;\n        if (this._proxyServer || \"manual\" === this._turnServer.mode || this._useLocalAccessPoint) throw a = new q(n.INVALID_OPERATION, \"You have already set the proxy\"), b.onError(a), a;\n        var c = [1, 2, 3, 4, 5];\n\n        switch (void 0 === a && (a = 1), a) {\n          case 1:\n            this._cloudProxyServerMode = \"normal\";\n            break;\n\n          case 2:\n            this._cloudProxyServerMode = \"443only\";\n            break;\n\n          case 3:\n            this._cloudProxyServerMode = \"proxy3\";\n            break;\n\n          case 4:\n            this._cloudProxyServerMode = \"proxy4\";\n            break;\n\n          case 5:\n            this._cloudProxyServerMode = \"proxy5\";\n            break;\n\n          default:\n            throw a = new q(n.INVALID_PARAMS, \"proxy server mode must be \".concat(c.join(\"|\"))), b.onError(a), a;\n        }\n\n        k.info(\"[\".concat(this._clientId, \"] set cloud proxy server mode to\"), this._cloudProxyServerMode);\n        b.onSuccess();\n      }\n    }, {\n      key: \"stopProxyServer\",\n      value: function stopProxyServer() {\n        var a = u.reportApiInvoke(this._sessionId, {\n          name: D.STOP_PROXY_SERVER,\n          options: [],\n          tag: C.TRACER\n        });\n        if (\"DISCONNECTED\" !== this.connectionState) throw new q(n.INVALID_OPERATION, \"Stop proxy server after leave channel\");\n        u.setProxyServer();\n        k.setProxyServer();\n        this._cloudProxyServerMode = \"disabled\";\n        k.info(\"[\".concat(this._clientId, \"] set cloud proxy server mode to\"), this._cloudProxyServerMode);\n        this._proxyServer = void 0;\n        this._turnServer = {\n          mode: \"auto\",\n          servers: []\n        };\n        a.onSuccess();\n      }\n    }, {\n      key: \"setLocalAccessPoints\",\n      value: function setLocalAccessPoints(a, b) {\n        if (Xf(a, \"serverList\"), Sa(b, \"domain\"), this._proxyServer || \"disabled\" !== this._cloudProxyServerMode) throw new q(n.INVALID_OPERATION, \"set local access point failed, You have already set the cloud proxy\");\n        var c = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;\n        a = z(a).call(a, function (a) {\n          var e;\n          return c.test(a) ? m(e = \"\".concat(a.replace(/\\./g, \"-\"), \".\")).call(e, b) : a;\n        });\n        this._useLocalAccessPoint = !0;\n        eb(\"WEBCS_DOMAIN\", a);\n        eb(\"WEBCS_DOMAIN_BACKUP_LIST\", a);\n        eb(\"GATEWAY_DOMAINS\", [b]);\n        eb(\"EVENT_REPORT_DOMAIN\", a[0]);\n        eb(\"EVENT_REPORT_BACKUP_DOMAIN\", a[1] || a[0]);\n        eb(\"LOG_UPLOAD_SERVER\", \"\".concat(a[0], \":6444\"));\n        k.info(\"set local access point success\");\n      }\n    }, {\n      key: \"setRemoteVideoStreamType\",\n      value: function () {\n        var _setRemoteVideoStreamType2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee141(a, b) {\n          var _this139 = this;\n\n          var c, e, f;\n          return _regeneratorRuntime.wrap(function _callee141$(_context141) {\n            while (1) {\n              switch (_context141.prev = _context141.next) {\n                case 0:\n                  fb(b, \"streamType\", [0, 1]);\n                  f = u.reportApiInvoke(this._sessionId, {\n                    name: D.SET_REMOTE_VIDEO_STREAM_TYPE,\n                    options: [a, b],\n                    tag: C.TRACER\n                  });\n                  _context141.prev = 2;\n                  _context141.next = 5;\n                  return this._gateway.setRemoteVideoStreamType(a, b);\n\n                case 5:\n                  wb(function () {\n                    var b;\n                    var c = U(b = _this139._users).call(b, function (b) {\n                      return b.uid === a;\n                    });\n                    c && c.videoTrack && c.videoTrack.updateMediaStreamTrackResolution();\n                  }, 2E3);\n                  _context141.next = 11;\n                  break;\n\n                case 8:\n                  _context141.prev = 8;\n                  _context141.t0 = _context141[\"catch\"](2);\n                  throw f.onError(_context141.t0), k.error(\"[\".concat(this._clientId, \"] set remote video stream type error\"), _context141.t0.toString()), _context141.t0;\n\n                case 11:\n                  k.info(m(c = m(e = \"[\".concat(this._clientId, \"] set remote \")).call(e, a, \" video stream type to \")).call(c, b));\n\n                  this._remoteStreamTypeCacheMap.set(a, b);\n\n                  f.onSuccess();\n\n                case 14:\n                case \"end\":\n                  return _context141.stop();\n              }\n            }\n          }, _callee141, this, [[2, 8]]);\n        }));\n\n        function setRemoteVideoStreamType(_x191, _x192) {\n          return _setRemoteVideoStreamType2.apply(this, arguments);\n        }\n\n        return setRemoteVideoStreamType;\n      }()\n    }, {\n      key: \"setStreamFallbackOption\",\n      value: function () {\n        var _setStreamFallbackOption2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee142(a, b) {\n          var c, e, f;\n          return _regeneratorRuntime.wrap(function _callee142$(_context142) {\n            while (1) {\n              switch (_context142.prev = _context142.next) {\n                case 0:\n                  fb(b, \"fallbackType\", [0, 1, 2]);\n                  f = u.reportApiInvoke(this._sessionId, {\n                    name: D.SET_STREAM_FALLBACK_OPTION,\n                    options: [\"too long to show\", b],\n                    tag: C.TRACER\n                  });\n                  _context142.prev = 2;\n                  _context142.next = 5;\n                  return this._gateway.setStreamFallbackOption(a, b);\n\n                case 5:\n                  _context142.next = 10;\n                  break;\n\n                case 7:\n                  _context142.prev = 7;\n                  _context142.t0 = _context142[\"catch\"](2);\n                  throw f.onError(_context142.t0), k.error(\"[\".concat(this._clientId, \"] set stream fallback option\"), _context142.t0.toString()), _context142.t0;\n\n                case 10:\n                  k.info(m(c = m(e = \"[\".concat(this._clientId, \"] set remote \")).call(e, a, \" stream fallback type to \")).call(c, b));\n\n                  this._streamFallbackTypeCacheMap.set(a, b);\n\n                  f.onSuccess();\n\n                case 13:\n                case \"end\":\n                  return _context142.stop();\n              }\n            }\n          }, _callee142, this, [[2, 7]]);\n        }));\n\n        function setStreamFallbackOption(_x193, _x194) {\n          return _setStreamFallbackOption2.apply(this, arguments);\n        }\n\n        return setStreamFallbackOption;\n      }()\n    }, {\n      key: \"setEncryptionConfig\",\n      value: function setEncryptionConfig(a, b, c) {\n        fb(a, \"encryptionMode\", \"aes-128-xts aes-256-xts aes-128-ecb sm4-128-ecb aes-128-gcm aes-256-gcm aes-128-gcm2 aes-256-gcm2 none\".split(\" \"));\n        !0;\n        Sa(b, \"secret\");\n        var e = [\"aes-128-gcm2\", \"aes-256-gcm2\"];\n\n        if (Z(e).call(e, a)) {\n          if (!(c && c instanceof Uint8Array && 32 === c.length)) throw new q(n.INVALID_PARAMS, \"salt must be an Uint8Array and exactly equal to 32 bytes\");\n        } else if (c) throw new q(n.INVALID_PARAMS, \"current encrypt mode does not need salt\");\n\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})/.test(b) || k.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \");\n        this._encryptionMode = a;\n        this._encryptionSecret = b;\n        c && (this._encryptionSalt = Re(c));\n      }\n    }, {\n      key: \"renewToken\",\n      value: function () {\n        var _renewToken = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee143(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee143$(_context143) {\n            while (1) {\n              switch (_context143.prev = _context143.next) {\n                case 0:\n                  Sa(a, \"token\", 1, 2047);\n                  b = u.reportApiInvoke(this._sessionId, {\n                    name: D.RENEW_TOKEN,\n                    options: [a],\n                    tag: C.TRACER\n                  });\n\n                  if (this._key) {\n                    _context143.next = 4;\n                    break;\n                  }\n\n                  return _context143.abrupt(\"return\", (a = new q(n.INVALID_OPERATION, \"renewToken should not be called before user join\"), b.onError(a), a.throw()));\n\n                case 4:\n                  this._key = a;\n                  _context143.prev = 5;\n                  _context143.next = 8;\n                  return this._gateway.renewToken(a);\n\n                case 8:\n                  _context143.next = 13;\n                  break;\n\n                case 10:\n                  _context143.prev = 10;\n                  _context143.t0 = _context143[\"catch\"](5);\n                  throw b.onError(_context143.t0), k.error(\"[\".concat(this._clientId, \"] renewToken failed\"), _context143.t0.toString()), _context143.t0;\n\n                case 13:\n                  k.debug(\"[\".concat(this._clientId, \"] renewToken success\"));\n                  b.onSuccess();\n\n                case 15:\n                case \"end\":\n                  return _context143.stop();\n              }\n            }\n          }, _callee143, this, [[5, 10]]);\n        }));\n\n        function renewToken(_x195) {\n          return _renewToken.apply(this, arguments);\n        }\n\n        return renewToken;\n      }()\n    }, {\n      key: \"enableAudioVolumeIndicator\",\n      value: function enableAudioVolumeIndicator() {\n        var _this140 = this;\n\n        var a = u.reportApiInvoke(this._sessionId, {\n          name: D.ENABLE_AUDIO_VOLUME_INDICATOR,\n          options: [],\n          tag: C.TRACER\n        });\n        if (this._audioVolumeIndicationInterval) return k.warning(\"you have already enabled audio volume indicator!\"), a.onSuccess();\n        this._audioVolumeIndicationInterval = window.setInterval(function () {\n          var a, c, e;\n          var f = he(a = z(c = Ub(Uc(e = _this140._remoteStream).call(e))).call(c, function (a) {\n            return {\n              level: a.user.audioTrack ? 100 * a.user.audioTrack._source.getAccurateVolumeLevel() : 0,\n              uid: a.getUserId()\n            };\n          })).call(a, function (a, b) {\n            return a.level - b.level;\n          });\n          _this140._highStream && _this140._highStream.audioTrack && (f.push({\n            level: 100 * _this140._highStream.audioTrack._source.getAccurateVolumeLevel(),\n            uid: _this140._highStream._userId\n          }), f = he(f).call(f, function (a, b) {\n            return a.level - b.level;\n          }));\n\n          _this140.emit(R.VOLUME_INDICATOR, f);\n        }, v.AUDIO_VOLUME_INDICATION_INTERVAL || 2E3);\n        a.onSuccess();\n      }\n    }, {\n      key: \"getRTCStats\",\n      value: function getRTCStats() {\n        var a = this._statsCollector.getRTCStats(),\n            b = this._gateway.getInChannelInfo();\n\n        return a.Duration = Math.round(b.duration / 1E3), a;\n      }\n    }, {\n      key: \"startLiveStreaming\",\n      value: function startLiveStreaming(a, b) {\n        var c = u.reportApiInvoke(this._sessionId, {\n          name: D.START_LIVE_STREAMING,\n          options: [a, b],\n          tag: C.TRACER\n        });\n\n        if (!b) {\n          if (\"h264\" !== this._codec) return a = new q(n.LIVE_STREAMING_INVALID_RAW_STREAM, \"raw streaming is only support h264\"), c.onError(a), y.reject(a);\n          if (!this._highStream) return a = new q(n.LIVE_STREAMING_INVALID_RAW_STREAM, \"can not find stream to raw streaming\"), c.onError(a), y.reject(a);\n        }\n\n        if (this._liveRawStreamingClient && this._liveRawStreamingClient.hasUrl(a) || this._liveTranscodeStreamingClient && this._liveTranscodeStreamingClient.hasUrl(a)) return a = new q(n.LIVE_STREAMING_TASK_CONFLICT), c.onError(a), y.reject(a);\n        b = b ? ua.TRANSCODE : ua.RAW;\n        return this._createLiveStreamingClient(b).startLiveStreamingTask(a, b).then(function () {\n          return c.onSuccess();\n        }).catch(function (a) {\n          throw c.onError(a), a;\n        });\n      }\n    }, {\n      key: \"setLiveTranscoding\",\n      value: function setLiveTranscoding(a) {\n        var b = u.reportApiInvoke(this._sessionId, {\n          name: D.SET_LIVE_TRANSCODING,\n          options: [a],\n          tag: C.TRACER\n        });\n        return this._createLiveStreamingClient(ua.TRANSCODE).setTranscodingConfig(a).then(function () {\n          return b.onSuccess();\n        }).catch(function (a) {\n          throw b.onError(a), a;\n        });\n      }\n    }, {\n      key: \"stopLiveStreaming\",\n      value: function stopLiveStreaming(a) {\n        var b;\n        var c = u.reportApiInvoke(this._sessionId, {\n          name: D.STOP_LIVE_STREAMING,\n          options: [a],\n          tag: C.TRACER\n        }),\n            e = I(b = [this._liveRawStreamingClient, this._liveTranscodeStreamingClient]).call(b, function (b) {\n          return b && b.hasUrl(a);\n        });\n        return e.length ? y.all(z(e).call(e, function (b) {\n          return b && b.stopLiveStreamingTask(a);\n        })).then(function () {\n          return c.onSuccess();\n        }).catch(function (a) {\n          throw c.onError(a), a;\n        }) : (b = new q(n.INVALID_PARAMS, \"can not find live streaming url to stop\"), c.onError(b), y.reject(b));\n      }\n    }, {\n      key: \"addInjectStreamUrl\",\n      value: function () {\n        var _addInjectStreamUrl = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee144(a, b) {\n          var c, _c25;\n\n          return _regeneratorRuntime.wrap(function _callee144$(_context144) {\n            while (1) {\n              switch (_context144.prev = _context144.next) {\n                case 0:\n                  c = u.reportApiInvoke(this._sessionId, {\n                    name: D.ADD_INJECT_STREAM_URL,\n                    options: [a, b],\n                    tag: C.TRACER\n                  });\n                  _context144.prev = 1;\n\n                  if (this._joinInfo) {\n                    _context144.next = 4;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"can not addInjectStreamUrl, no joininfo\");\n\n                case 4:\n                  _c25 = this._createLiveStreamingClient(ua.INJECT);\n\n                  _c25.setInjectStreamConfig(b, 0);\n\n                  _context144.next = 8;\n                  return _c25.startLiveStreamingTask(a, ua.INJECT);\n\n                case 8:\n                  _context144.next = 13;\n                  break;\n\n                case 10:\n                  _context144.prev = 10;\n                  _context144.t0 = _context144[\"catch\"](1);\n                  throw c.onError(_context144.t0), _context144.t0;\n\n                case 13:\n                  c.onSuccess();\n\n                case 14:\n                case \"end\":\n                  return _context144.stop();\n              }\n            }\n          }, _callee144, this, [[1, 10]]);\n        }));\n\n        function addInjectStreamUrl(_x196, _x197) {\n          return _addInjectStreamUrl.apply(this, arguments);\n        }\n\n        return addInjectStreamUrl;\n      }()\n    }, {\n      key: \"removeInjectStreamUrl\",\n      value: function () {\n        var _removeInjectStreamUrl = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee145() {\n          var a, b, c, _a39, _f9;\n\n          return _regeneratorRuntime.wrap(function _callee145$(_context145) {\n            while (1) {\n              switch (_context145.prev = _context145.next) {\n                case 0:\n                  a = u.reportApiInvoke(this._sessionId, {\n                    name: D.REMOVE_INJECT_STREAM_URL,\n                    options: [],\n                    tag: C.TRACER\n                  });\n                  _context145.prev = 1;\n                  _a39 = this._createLiveStreamingClient(ua.INJECT), _f9 = U(b = Ub(Uc(c = _a39.streamingTasks).call(c))).call(b, function (a) {\n                    return a.mode === ua.INJECT;\n                  });\n\n                  if (!(!this._joinInfo || !_f9)) {\n                    _context145.next = 5;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"can remove addInjectStreamUrl, no joininfo or inject task\");\n\n                case 5:\n                  _context145.next = 7;\n                  return _a39.stopLiveStreamingTask(_f9.url);\n\n                case 7:\n                  _context145.next = 12;\n                  break;\n\n                case 9:\n                  _context145.prev = 9;\n                  _context145.t0 = _context145[\"catch\"](1);\n                  throw a.onError(_context145.t0), _context145.t0;\n\n                case 12:\n                  a.onSuccess();\n\n                case 13:\n                case \"end\":\n                  return _context145.stop();\n              }\n            }\n          }, _callee145, this, [[1, 9]]);\n        }));\n\n        function removeInjectStreamUrl() {\n          return _removeInjectStreamUrl.apply(this, arguments);\n        }\n\n        return removeInjectStreamUrl;\n      }()\n    }, {\n      key: \"startChannelMediaRelay\",\n      value: function () {\n        var _startChannelMediaRelay2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee146(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee146$(_context146) {\n            while (1) {\n              switch (_context146.prev = _context146.next) {\n                case 0:\n                  b = u.reportApiInvoke(this._sessionId, {\n                    name: D.START_CHANNEL_MEDIA_RELAY,\n                    options: [a],\n                    tag: C.TRACER\n                  });\n                  _context146.prev = 1;\n                  Xj(a);\n                  _context146.next = 5;\n                  return this._createChannelMediaRelayClient().startChannelMediaRelay(a);\n\n                case 5:\n                  _context146.next = 10;\n                  break;\n\n                case 7:\n                  _context146.prev = 7;\n                  _context146.t0 = _context146[\"catch\"](1);\n                  return _context146.abrupt(\"return\", (b.onError(_context146.t0), _context146.t0.throw()));\n\n                case 10:\n                  b.onSuccess();\n\n                case 11:\n                case \"end\":\n                  return _context146.stop();\n              }\n            }\n          }, _callee146, this, [[1, 7]]);\n        }));\n\n        function startChannelMediaRelay(_x198) {\n          return _startChannelMediaRelay2.apply(this, arguments);\n        }\n\n        return startChannelMediaRelay;\n      }()\n    }, {\n      key: \"updateChannelMediaRelay\",\n      value: function () {\n        var _updateChannelMediaRelay2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee147(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee147$(_context147) {\n            while (1) {\n              switch (_context147.prev = _context147.next) {\n                case 0:\n                  b = u.reportApiInvoke(this._sessionId, {\n                    name: D.UPDATE_CHANNEL_MEDIA_RELAY,\n                    options: [a],\n                    tag: C.TRACER\n                  });\n                  _context147.prev = 1;\n                  Xj(a);\n                  _context147.next = 5;\n                  return this._createChannelMediaRelayClient().updateChannelMediaRelay(a);\n\n                case 5:\n                  _context147.next = 10;\n                  break;\n\n                case 7:\n                  _context147.prev = 7;\n                  _context147.t0 = _context147[\"catch\"](1);\n                  return _context147.abrupt(\"return\", (b.onError(_context147.t0), _context147.t0.throw()));\n\n                case 10:\n                  b.onSuccess();\n\n                case 11:\n                case \"end\":\n                  return _context147.stop();\n              }\n            }\n          }, _callee147, this, [[1, 7]]);\n        }));\n\n        function updateChannelMediaRelay(_x199) {\n          return _updateChannelMediaRelay2.apply(this, arguments);\n        }\n\n        return updateChannelMediaRelay;\n      }()\n    }, {\n      key: \"stopChannelMediaRelay\",\n      value: function () {\n        var _stopChannelMediaRelay2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee148() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee148$(_context148) {\n            while (1) {\n              switch (_context148.prev = _context148.next) {\n                case 0:\n                  a = u.reportApiInvoke(this._sessionId, {\n                    name: D.STOP_CHANNEL_MEDIA_RELAY,\n                    options: [],\n                    tag: C.TRACER\n                  });\n                  _context148.prev = 1;\n                  _context148.next = 4;\n                  return this._createChannelMediaRelayClient().stopChannelMediaRelay();\n\n                case 4:\n                  _context148.next = 9;\n                  break;\n\n                case 6:\n                  _context148.prev = 6;\n                  _context148.t0 = _context148[\"catch\"](1);\n                  return _context148.abrupt(\"return\", (a.onError(_context148.t0), _context148.t0.throw()));\n\n                case 9:\n                  a.onSuccess();\n\n                case 10:\n                case \"end\":\n                  return _context148.stop();\n              }\n            }\n          }, _callee148, this, [[1, 6]]);\n        }));\n\n        function stopChannelMediaRelay() {\n          return _stopChannelMediaRelay2.apply(this, arguments);\n        }\n\n        return stopChannelMediaRelay;\n      }()\n    }, {\n      key: \"sendStreamMessage\",\n      value: function sendStreamMessage(a) {\n        var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n        if (!this._joinInfo) throw new q(n.INVALID_OPERATION, \"can not send data stream, not joined\");\n        \"string\" == typeof a && (a = new TextEncoder().encode(a));\n        if (1024 < new Blob([a]).size) throw new q(n.INVALID_PARAMS, \"stream message out of range.\");\n        return this._gateway.signal.request(ia.DATA_STREAM, {\n          payload: Re(a)\n        }, !b);\n      }\n    }, {\n      key: \"sendMetadata\",\n      value: function sendMetadata(a) {\n        if (!this._joinInfo) throw new q(n.INVALID_OPERATION, \"can not send metadata, not joined\");\n        if (1024 < new Blob([a]).size) throw new q(n.METADATA_OUT_OF_RANGE);\n        return this._gateway.signal.request(ia.SEND_METADATA, {\n          session_id: this._joinInfo.sid,\n          metadata: Re(a)\n        });\n      }\n    }, {\n      key: \"sendCustomReportMessage\",\n      value: function () {\n        var _sendCustomReportMessage2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee149(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee149$(_context149) {\n            while (1) {\n              switch (_context149.prev = _context149.next) {\n                case 0:\n                  Qb(a) || (a = [a]);\n                  t(a).call(a, eo);\n                  b = u.reportApiInvoke(this._sessionId, {\n                    name: D.SEND_CUSTOM_REPORT_MESSAGE,\n                    options: [A(a)],\n                    tag: C.TRACER\n                  });\n\n                  if (this._joinInfo) {\n                    _context149.next = 5;\n                    break;\n                  }\n\n                  return _context149.abrupt(\"return\", (a = new q(n.INVALID_OPERATION, \"can not send custom report, not joined\"), b.onError(a), a.throw()));\n\n                case 5:\n                  _context149.next = 7;\n                  return u.sendCustomReportMessage(this._joinInfo.sid, a);\n\n                case 7:\n                  b.onSuccess();\n\n                case 8:\n                case \"end\":\n                  return _context149.stop();\n              }\n            }\n          }, _callee149, this);\n        }));\n\n        function sendCustomReportMessage(_x200) {\n          return _sendCustomReportMessage2.apply(this, arguments);\n        }\n\n        return sendCustomReportMessage;\n      }()\n    }, {\n      key: \"getLocalAudioStats\",\n      value: function getLocalAudioStats() {\n        if (!this._highStream) return vf;\n\n        var a = this._statsCollector.getLocalAudioTrackStats(this._highStream.connectionId);\n\n        return $c() && this._highStream && this._highStream.audioTrack && (this._highStream.audioTrack instanceof ab ? !this._highStream.audioTrack.isActive : !this._highStream.audioTrack.enabled) && (a.sendVolumeLevel = 0), a;\n      }\n    }, {\n      key: \"getRemoteAudioStats\",\n      value: function getRemoteAudioStats() {\n        var _this141 = this;\n\n        var a;\n        var b = {};\n        return t(a = this._remoteStream).call(a, function (a, e) {\n          b[e] = _this141._statsCollector.getRemoteAudioTrackStats(a.connectionId);\n        }), b;\n      }\n    }, {\n      key: \"getLocalVideoStats\",\n      value: function getLocalVideoStats() {\n        return this._highStream ? this._statsCollector.getLocalVideoTrackStats(this._highStream.connectionId) : wf;\n      }\n    }, {\n      key: \"getRemoteVideoStats\",\n      value: function getRemoteVideoStats() {\n        var _this142 = this;\n\n        var a;\n        var b = {};\n        return t(a = this._remoteStream).call(a, function (a, e) {\n          b[e] = _this142._statsCollector.getRemoteVideoTrackStats(a.connectionId);\n        }), b;\n      }\n    }, {\n      key: \"getRemoteNetworkQuality\",\n      value: function getRemoteNetworkQuality() {\n        var _this143 = this;\n\n        var a;\n        var b = {};\n        return t(a = this._remoteStream).call(a, function (a, e) {\n          b[e] = _this143._statsCollector.getRemoteNetworkQualityStats(a.connectionId);\n        }), b;\n      }\n    }, {\n      key: \"pickSVCLayer\",\n      value: function () {\n        var _pickSVCLayer2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee150(a, b) {\n          return _regeneratorRuntime.wrap(function _callee150$(_context150) {\n            while (1) {\n              switch (_context150.prev = _context150.next) {\n                case 0:\n                  fb(b.spatialLayer, \"spatialLayer\", [0, 1, 2, 3]);\n                  fb(b.temporalLayer, \"temporalLayer\", [0, 1, 2, 3]);\n                  _context150.prev = 2;\n                  _context150.next = 5;\n                  return this._gateway.pickSVCLayer(a, b);\n\n                case 5:\n                  _context150.next = 10;\n                  break;\n\n                case 7:\n                  _context150.prev = 7;\n                  _context150.t0 = _context150[\"catch\"](2);\n                  throw k.error(\"[\".concat(this._clientId, \"] pick SVC layer failed\"), _context150.t0.toString()), _context150.t0;\n\n                case 10:\n                case \"end\":\n                  return _context150.stop();\n              }\n            }\n          }, _callee150, this, [[2, 7]]);\n        }));\n\n        function pickSVCLayer(_x201, _x202) {\n          return _pickSVCLayer2.apply(this, arguments);\n        }\n\n        return pickSVCLayer;\n      }()\n    }, {\n      key: \"_reset\",\n      value: function _reset() {\n        var _this144 = this;\n\n        var a, b, c;\n        k.debug(\"[\".concat(this._clientId, \"] reset client\"));\n\n        this._axiosCancelSource.cancel();\n\n        this._axiosCancelSource = $b.CancelToken.source();\n        this._streamFallbackTypeCacheMap = new ba();\n        this._remoteStreamTypeCacheMap = new ba();\n\n        this._configDistribute.stopGetConfigDistribute();\n\n        this._defaultStreamFallbackType = this._proxyServer = this._joinInfo = void 0;\n        this._sessionId = null;\n\n        this._statsCollector.reset();\n\n        this._channelName = this._uid = this._appId = this._key = void 0;\n        this._encryptionMode = \"none\";\n        this._encryptionSalt = this._encryptionSecret = null;\n        t(a = this._users).call(a, function (a) {\n          a.audioTrack && (a.audioTrack.stop(), a.audioTrack._isDestroyed = !0);\n          a.videoTrack && (a.videoTrack.stop(), a.videoTrack._isDestroyed = !0);\n        });\n        this._users = [];\n        this._audioVolumeIndicationInterval && (window.clearInterval(this._audioVolumeIndicationInterval), this._audioVolumeIndicationInterval = void 0);\n        this._highStream && (this._highStream.closeP2PConnection(!0), this._highStream = void 0);\n        t(b = this._bindEnabledTracks).call(b, function (a) {\n          a.off(G.NEED_ADD_TRACK, _this144._handleLocalTrackEnable);\n          a.off(G.NEED_REMOVE_TRACK, _this144._handleLocalTrackDisable);\n        });\n        this._bindEnabledTracks = [];\n        this._lowStream && (this._lowStream.closeP2PConnection(!0), this._lowStream = void 0);\n        t(c = this._remoteStream).call(c, function (a) {\n          a.closeP2PConnection(!0);\n        });\n        this._remoteStream = new ba();\n        this._publishMutex = new sc(\"client-publish\");\n        this._subscribeMutex = new ba();\n        this._networkQualityInterval && (window.clearInterval(this._networkQualityInterval), this._networkQualityInterval = void 0);\n        this._injectStreamingClient && (this._injectStreamingClient.terminate(), this._injectStreamingClient.removeAllListeners(), this._injectStreamingClient = void 0);\n        this._liveRawStreamingClient && (this._liveRawStreamingClient.terminate(), this._liveRawStreamingClient.removeAllListeners(), this._liveRawStreamingClient = void 0);\n        this._liveTranscodeStreamingClient && (this._liveTranscodeStreamingClient.terminate(), this._liveTranscodeStreamingClient.removeAllListeners(), this._liveTranscodeStreamingClient = void 0);\n        this._channelMediaRelayClient && (this._channelMediaRelayClient.dispose(), this._channelMediaRelayClient = void 0);\n      }\n    }, {\n      key: \"_startSession\",\n      value: function _startSession(a, b) {\n        var c, e, f;\n        var h = a || va(32, \"\").toUpperCase();\n        a ? k.debug(m(c = \"[\".concat(this._clientId, \"] new Session \")).call(c, h)) : k.debug(m(e = m(f = \"[\".concat(this._clientId, \"] renewSession \")).call(f, this._sessionId, \" => \")).call(e, h));\n        this._sessionId = h;\n        b ? u.sessionInit(this._sessionId, {\n          lts: new Date().getTime(),\n          cname: b.channel,\n          appid: b.appId,\n          mode: this._mode\n        }) : this._joinInfo ? u.sessionInit(this._sessionId, {\n          lts: new Date().getTime(),\n          cname: this._joinInfo.cname,\n          appid: this._joinInfo.appId,\n          mode: this._mode\n        }) : this._gateway.joinInfo && u.sessionInit(this._sessionId, {\n          lts: new Date().getTime(),\n          cname: this._gateway.joinInfo.cname,\n          appid: this._gateway.joinInfo.appId,\n          mode: this._mode\n        });\n        this._joinInfo && (this._joinInfo.sid = h);\n        this._gateway.joinInfo && (this._gateway.joinInfo.sid = h);\n      }\n    }, {\n      key: \"_publishHighStream\",\n      value: function () {\n        var _publishHighStream2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee151(a) {\n          var _this145 = this;\n\n          return _regeneratorRuntime.wrap(function _callee151$(_context151) {\n            while (1) {\n              switch (_context151.prev = _context151.next) {\n                case 0:\n                  if (this._joinInfo) {\n                    _context151.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"Can't publish stream, haven't joined yet!\");\n\n                case 2:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context151.next = 4;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"can not publish stream in \".concat(this.connectionState, \" state\"));\n\n                case 4:\n                  if (!(\"auto\" === this._turnServer.mode && v.FORCE_TURN && !v.TURN_ENABLE_TCP && !v.TURN_ENABLE_UDP)) {\n                    _context151.next = 6;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"force TURN With No TURN Configuration\");\n\n                case 6:\n                  if (!(k.debug(\"[\".concat(this._clientId, \"] publish high stream\")), this._highStream)) {\n                    _context151.next = 10;\n                    break;\n                  }\n\n                  _context151.next = 9;\n                  return this._highStream.addTracks(a);\n\n                case 9:\n                  return _context151.abrupt(\"return\", this._highStream);\n\n                case 10:\n                  this._highStream = new On(this._statsCollector, this._joinInfo, this._codec);\n\n                  this._highStream.on(E.P2P_LOST, function () {\n                    _this145._highStream && _this145.emit(R.P2P_LOST, _this145._highStream.getUserId());\n                  });\n\n                  _context151.next = 14;\n                  return this._highStream.addTracks(a);\n\n                case 14:\n                  _context151.prev = 14;\n                  _context151.next = 17;\n                  return this._gateway.publish(this._highStream, \"high\");\n\n                case 17:\n                  _context151.next = 22;\n                  break;\n\n                case 19:\n                  _context151.prev = 19;\n                  _context151.t0 = _context151[\"catch\"](14);\n                  throw this._highStream = void 0, _context151.t0;\n\n                case 22:\n                  return _context151.abrupt(\"return\", (this._highStream.on(E.CONNECTION_STATE_CHANGE, function (a, c) {\n                    _this145._highStream && (\"connected\" === a ? _this145.emit(R.MEDIA_RECONNECT_END, _this145._highStream.getUserId()) : \"connecting\" === a && _this145.emit(R.MEDIA_RECONNECT_START, _this145._highStream.getUserId()));\n                  }), this._highStream));\n\n                case 23:\n                case \"end\":\n                  return _context151.stop();\n              }\n            }\n          }, _callee151, this, [[14, 19]]);\n        }));\n\n        function _publishHighStream(_x203) {\n          return _publishHighStream2.apply(this, arguments);\n        }\n\n        return _publishHighStream;\n      }()\n    }, {\n      key: \"_publishLowStream\",\n      value: function () {\n        var _publishLowStream2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee152(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee152$(_context152) {\n            while (1) {\n              switch (_context152.prev = _context152.next) {\n                case 0:\n                  if (this._joinInfo) {\n                    _context152.next = 2;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"Can't publish stream, haven't joined yet!\");\n\n                case 2:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context152.next = 4;\n                    break;\n                  }\n\n                  throw new q(n.INVALID_OPERATION, \"can not publish stream in \".concat(this.connectionState, \" state\"));\n\n                case 4:\n                  if (!(!this._highStream || \"connected\" !== this._highStream.connectionState)) {\n                    _context152.next = 6;\n                    break;\n                  }\n\n                  throw new q(n.UNEXPECTED_ERROR, \"Could not find high stream\");\n\n                case 6:\n                  if (!this._lowStream) {\n                    _context152.next = 8;\n                    break;\n                  }\n\n                  return _context152.abrupt(\"return\", new q(n.UNEXPECTED_ERROR, \"[\".concat(this._clientId, \"] Can't publish low stream when stream already publish\")).throw());\n\n                case 8:\n                  k.debug(\"[\".concat(this._clientId, \"] publish low stream\"));\n                  this._lowStream = new On(this._statsCollector, this._joinInfo, this._codec, !0);\n                  b = this._configDistribute.getLowStreamConfigDistribute();\n                  b && b.bitrate && (this._lowStreamParameter || (this._lowStreamParameter = {\n                    width: 160,\n                    height: 120,\n                    framerate: 15,\n                    bitrate: 50\n                  }), this._lowStreamParameter && this._lowStreamParameter.bitrate && b.bitrate < this._lowStreamParameter.bitrate && (this._lowStreamParameter.bitrate = b.bitrate));\n                  this._lowStream.lowStreamParameter = this._lowStreamParameter;\n                  _context152.next = 15;\n                  return this._lowStream.addTracks([a]);\n\n                case 15:\n                  _context152.prev = 15;\n                  _context152.next = 18;\n                  return this._gateway.publish(this._lowStream, \"low\");\n\n                case 18:\n                  _context152.next = 23;\n                  break;\n\n                case 20:\n                  _context152.prev = 20;\n                  _context152.t0 = _context152[\"catch\"](15);\n                  throw this._lowStream = void 0, _context152.t0;\n\n                case 23:\n                  this._highStream.lowStreamConnection = this._lowStream;\n\n                case 24:\n                case \"end\":\n                  return _context152.stop();\n              }\n            }\n          }, _callee152, this, [[15, 20]]);\n        }));\n\n        function _publishLowStream(_x204) {\n          return _publishLowStream2.apply(this, arguments);\n        }\n\n        return _publishLowStream;\n      }()\n    }, {\n      key: \"_createLiveStreamingClient\",\n      value: function _createLiveStreamingClient(a) {\n        var _this146 = this;\n\n        if (!this._joinInfo || !this._appId) return new q(n.INVALID_OPERATION, \"can not create live streaming client, please join channel first\").throw();\n\n        var b = function b() {\n          return new ys(_this146._joinInfo, _this146._config.websocketRetryConfig || Ga, _this146._config.httpRetryConfig || Ga);\n        },\n            c = function c(a) {\n          a.onLiveStreamError = function (a, b) {\n            u.reportApiInvoke(_this146._sessionId, {\n              name: D.ON_LIVE_STREAM_ERROR,\n              options: [a, b],\n              tag: C.TRACER\n            }).onSuccess();\n\n            _this146.emit(R.LIVE_STREAMING_ERROR, a, b);\n          };\n\n          a.onLiveStreamWarning = function (a, b) {\n            u.reportApiInvoke(_this146._sessionId, {\n              name: D.ON_LIVE_STREAM_WARNING,\n              options: [a, b],\n              tag: C.TRACER\n            }).onSuccess();\n\n            _this146.emit(R.LIVE_STREAMING_WARNING, a, b);\n          };\n\n          a.on(Ad.REQUEST_WORKER_MANAGER_LIST, function (a, b, c) {\n            if (!_this146._joinInfo) return c(new q(n.INVALID_OPERATION, \"can not find join info to get worker manager\"));\n            Hj(a, _this146._joinInfo, _this146._axiosCancelSource.token, Ga).then(b).catch(c);\n          });\n        };\n\n        switch (a) {\n          case ua.RAW:\n            return this._liveRawStreamingClient || (this._liveRawStreamingClient = b(), c(this._liveRawStreamingClient)), this._liveRawStreamingClient;\n\n          case ua.TRANSCODE:\n            return this._liveTranscodeStreamingClient || (this._liveTranscodeStreamingClient = b(), c(this._liveTranscodeStreamingClient)), this._liveTranscodeStreamingClient;\n\n          case ua.INJECT:\n            return this._injectStreamingClient || (this._injectStreamingClient = b(), this._injectStreamingClient.on(Ad.REQUEST_WORKER_MANAGER_LIST, function (a, b, c) {\n              if (!_this146._joinInfo) return c(new q(n.INVALID_OPERATION, \"can not find join info to get worker manager\"));\n              Hj(a, _this146._joinInfo, _this146._axiosCancelSource.token, Ga).then(b).catch(c);\n            }), this._injectStreamingClient.onInjectStatusChange = function (a, b, c) {\n              _this146.emit(R.INJECT_STREAM_STATUS, a, b, c);\n            }), this._injectStreamingClient;\n        }\n      }\n    }, {\n      key: \"_createChannelMediaRelayClient\",\n      value: function _createChannelMediaRelayClient() {\n        var _this147 = this;\n\n        return this._joinInfo ? (this._channelMediaRelayClient || (this._channelMediaRelayClient = new As(this._joinInfo, this._clientId, this._config.websocketRetryConfig || Ga, this._config.httpRetryConfig || Ga), this._channelMediaRelayClient.on(\"state\", function (a) {\n          \"RELAY_STATE_FAILURE\" === a && _this147._channelMediaRelayClient && _this147._channelMediaRelayClient.dispose();\n\n          _this147.emit(R.CHANNEL_MEDIA_RELAY_STATE, a);\n        }), this._channelMediaRelayClient.on(\"event\", function (a) {\n          _this147.emit(R.CHANNEL_MEDIA_RELAY_EVENT, a);\n        })), this._channelMediaRelayClient) : new q(n.INVALID_OPERATION, \"can not create channel media relay client, please join channel first\").throw();\n      }\n    }, {\n      key: \"_handleGatewayEvents\",\n      value: function _handleGatewayEvents() {\n        var _this148 = this;\n\n        this._gateway.on(Ja.DISCONNECT_P2P, function () {\n          var a;\n          k.debug(\"[\".concat(_this148._clientId, \"] start full reconnect\"));\n          _this148._highStream && \"disconnected\" !== _this148._highStream.connectionState && (k.debug(\"[\".concat(_this148._clientId, \"] ready to reconnect high stream\")), _this148._highStream.readyToReconnectPC());\n          _this148._lowStream && \"disconnected\" !== _this148._lowStream.connectionState && (k.debug(\"[\".concat(_this148._clientId, \"] ready to reconnect low stream\")), _this148._lowStream.readyToReconnectPC());\n          t(a = _this148._remoteStream).call(a, function (a, c) {\n            var b;\n            k.debug(m(b = \"[\".concat(_this148._clientId, \"] ready to reconnect remote stream \")).call(b, c));\n            a.readyToReconnectPC();\n          });\n        });\n\n        this._gateway.on(Ja.CONNECTION_STATE_CHANGE, function (a, b, c) {\n          var e, f;\n\n          var h = function h() {\n            _this148.emit(R.CONNECTION_STATE_CHANGE, a, b, c);\n          };\n\n          if (k.info(m(e = m(f = \"[\".concat(_this148._clientId, \"] connection state change: \")).call(f, b, \" -> \")).call(e, a)), \"DISCONNECTED\" === a) return _this148._reset(), void h();\n          var l, n;\n          if (\"RECONNECTING\" === a) _this148._highStream && \"connecting\" === _this148._highStream.connectionState && (k.debug(\"[\".concat(_this148._clientId, \"] ready to reconnect high stream\")), _this148._highStream.readyToReconnectPC()), _this148._lowStream && \"connecting\" === _this148._lowStream.connectionState && (k.debug(\"[\".concat(_this148._clientId, \"] ready to reconnect low stream\")), _this148._lowStream.readyToReconnectPC()), t(l = _this148._remoteStream).call(l, function (a, b) {\n            var c;\n            \"connecting\" === a.connectionState && (k.debug(m(c = \"[\".concat(_this148._clientId, \"] ready to reconnect remote stream \")).call(c, b)), a.readyToReconnectPC());\n          }), t(n = _this148._users).call(n, function (a) {\n            a._trust_in_room_ = !1;\n            a._trust_audio_enabled_state_ = !1;\n            a._trust_video_enabled_state_ = !1;\n            a._trust_audio_mute_state_ = !1;\n            a._trust_video_mute_state_ = !1;\n            a._trust_stream_added_state_ = !1;\n          }), _this148._userOfflineTimeout && window.clearTimeout(_this148._userOfflineTimeout), _this148._streamRemovedTimeout && window.clearTimeout(_this148._streamRemovedTimeout), _this148._streamRemovedTimeout = _this148._userOfflineTimeout = void 0;else if (\"CONNECTED\" === a) {\n            var p, q;\n            t(p = _this148._streamFallbackTypeCacheMap).call(p, function (a, b) {\n              _this148._gateway.setStreamFallbackOption(b, a).catch(function (a) {\n                return k.warning(\"[\".concat(_this148._clientId, \"] auto set stream fallback option failed\"), a);\n              });\n            });\n            t(q = _this148._remoteStreamTypeCacheMap).call(q, function (a, b) {\n              _this148._gateway.setRemoteVideoStreamType(b, a).catch(function (a) {\n                return k.warning(\"[\".concat(_this148._clientId, \"] auto set remote stream type failed\"), a);\n              });\n            });\n            _this148._highStream && \"connecting\" === _this148._highStream.connectionState ? _this148._highStream.reconnectPC().then(function () {\n              _this148._lowStream && \"connecting\" === _this148._lowStream.connectionState && _this148._lowStream.reconnectPC().catch(function (a) {\n                k.error(\"[\".concat(_this148._clientId, \"] republish low stream error\"), a.toString());\n\n                _this148.emit(R.ERROR, {\n                  reason: a\n                });\n              });\n            }).catch(function (a) {\n              k.error(\"[\".concat(_this148._clientId, \"] republish high stream error\"), a.toString());\n\n              _this148.emit(R.ERROR, {\n                reason: a\n              });\n            }) : _this148._lowStream && \"connecting\" === _this148._lowStream.connectionState && _this148._lowStream.reconnectPC().catch(function (a) {\n              k.error(\"[\".concat(_this148._clientId, \"] republish low stream error\"), a.toString());\n\n              _this148.emit(R.ERROR, {\n                reason: a\n              });\n            });\n            _this148._userOfflineTimeout = window.setTimeout(function () {\n              var a;\n\n              if (\"CONNECTED\" === _this148.connectionState) {\n                _this148._userOfflineTimeout = void 0;\n                var b = I(a = _this148._users).call(a, function (a) {\n                  return !a._trust_in_room_;\n                });\n                t(b).call(b, function (a) {\n                  var b;\n                  k.debug(m(b = \"[\".concat(_this148._clientId, \"] user offline timeout, emit user offline \")).call(b, a.uid));\n\n                  _this148._handleUserOffline({\n                    uid: a.uid\n                  });\n                });\n              }\n            }, 3E3);\n            _this148._streamRemovedTimeout = window.setTimeout(function () {\n              var a;\n              \"CONNECTED\" === _this148.connectionState && (_this148._streamRemovedTimeout = void 0, t(a = _this148._users).call(a, function (a) {\n                var b, c, e, f, h;\n                a._trust_audio_mute_state_ || (k.debug(m(b = \"[\".concat(_this148._clientId, \"] auto dispatch audio unmute event \")).call(b, a.uid)), _this148._handleMuteStream(a.uid, \"audio\", !1));\n                a._trust_video_mute_state_ || (k.debug(m(c = \"[\".concat(_this148._clientId, \"] auto dispatch video unmute event \")).call(c, a.uid)), _this148._handleMuteStream(a.uid, \"video\", !1));\n                a._trust_audio_enabled_state_ || (k.debug(m(e = \"[\".concat(_this148._clientId, \"] auto dispatch enable local audio \")).call(e, a.uid)), _this148._handleSetStreamLocalEnable(\"audio\", a.uid, !0));\n                !a._trust_video_enabled_state_ && a._video_enabled_ && (k.debug(m(f = \"[\".concat(_this148._clientId, \"] auto dispatch enable local video \")).call(f, a.uid)), _this148._handleSetStreamLocalEnable(\"video\", a.uid, !0));\n                a._trust_stream_added_state_ || (k.debug(m(h = \"[\".concat(_this148._clientId, \"] auto dispatch stream remove \")).call(h, a.uid)), _this148._handleRemoveStream({\n                  uid: a.uid,\n                  uint_id: a._uintid\n                }));\n              }));\n            }, 1E3);\n          }\n          h();\n        });\n\n        this._gateway.on(Ja.REQUEST_NEW_GATEWAY_LIST, function (a, b) {\n          if (!_this148._joinInfo) return b(new q(n.UNEXPECTED_ERROR, \"can not recover, no join info\"));\n          Ud(_this148._joinInfo, _this148._axiosCancelSource.token, _this148._config.httpRetryConfig || Ga).then(function (b) {\n            var c;\n            _this148._joinInfo && (_this148._joinInfo.apResponse = b.gatewayInfo.res);\n            a(z(c = b.gatewayInfo.gatewayAddrs).call(c, function (a) {\n              if (_this148._joinInfo && _this148._joinInfo.proxyServer) {\n                var b, c;\n                a = a.split(\":\");\n                return m(b = m(c = \"wss://\".concat(_this148._joinInfo.proxyServer, \"/ws/?h=\")).call(c, a[0], \"&p=\")).call(b, a[1]);\n              }\n\n              return \"wss://\".concat(a);\n            }));\n          }).catch(b);\n        });\n\n        this._gateway.on(Ja.NETWORK_QUALITY, function (a) {\n          \"normal\" === _this148._networkQualitySensitivity && _this148.emit(R.NETWORK_QUALITY, a);\n        });\n\n        this._gateway.on(Ja.STREAM_TYPE_CHANGE, function (a, b) {\n          _this148.emit(R.STREAM_TYPE_CHANGED, a, b);\n\n          u.reportApiInvoke(_this148._sessionId, {\n            name: D.STREAM_TYPE_CHANGE,\n            options: [a, b],\n            tag: C.TRACER\n          }).onSuccess(A({\n            uid: a,\n            streamType: b\n          }));\n        });\n\n        this._gateway.on(Ja.IS_P2P_DISCONNECTED, function (a) {\n          var b, c, e;\n          var f = [];\n          return _this148._highStream && f.push(_this148._highStream), t(b = _this148._remoteStream).call(b, function (a) {\n            return f.push(a);\n          }), 0 === f.length || 0 === I(f).call(f, function (a) {\n            return \"connected\" === a.connectionState;\n          }).length ? a(!0) : (k.debug(m(c = \"[\".concat(_this148._clientId, \"] \")).call(c, z(e = I(f).call(f, function (a) {\n            return \"connected\" === a.connectionState;\n          })).call(e, function (a) {\n            return a.connectionId;\n          }), \" is connected\")), void a(!1));\n        });\n\n        this._gateway.on(Ja.NEED_RENEW_SESSION, function () {\n          _this148._startSession();\n        });\n\n        this._gateway.signal.on(fa.ON_USER_ONLINE, this._handleUserOnline);\n\n        this._gateway.signal.on(fa.ON_USER_OFFLINE, this._handleUserOffline);\n\n        this._gateway.signal.on(fa.ON_ADD_AUDIO_STREAM, function (a) {\n          return _this148._handleAddAudioOrVideoStream(\"audio\", a.uid, a.uint_id);\n        });\n\n        this._gateway.signal.on(fa.ON_ADD_VIDEO_STREAM, function (a) {\n          return _this148._handleAddAudioOrVideoStream(\"video\", a.uid, a.uint_id);\n        });\n\n        this._gateway.signal.on(fa.ON_REMOVE_STREAM, this._handleRemoveStream);\n\n        this._gateway.signal.on(fa.ON_P2P_LOST, this._handleP2PLost);\n\n        this._gateway.signal.on(fa.MUTE_AUDIO, function (a) {\n          return _this148._handleMuteStream(a.uid, \"audio\", !0);\n        });\n\n        this._gateway.signal.on(fa.UNMUTE_AUDIO, function (a) {\n          return _this148._handleMuteStream(a.uid, \"audio\", !1);\n        });\n\n        this._gateway.signal.on(fa.MUTE_VIDEO, function (a) {\n          return _this148._handleMuteStream(a.uid, \"video\", !0);\n        });\n\n        this._gateway.signal.on(fa.UNMUTE_VIDEO, function (a) {\n          return _this148._handleMuteStream(a.uid, \"video\", !1);\n        });\n\n        this._gateway.signal.on(fa.RECEIVE_METADATA, function (a) {\n          var b = ig(a.metadata);\n\n          _this148.emit(R.RECEIVE_METADATA, a.uid, b);\n        });\n\n        this._gateway.signal.on(fa.ON_DATA_STREAM, function (a) {\n          a.seq && delete a.seq;\n          a.payload = ig(a.payload);\n\n          _this148.emit(R.STREAM_MESSAGE, a.uid, a.payload);\n\n          _this148.onStreamMessage && _this148.onStreamMessage(a);\n        });\n\n        this._gateway.signal.on(fa.ON_CRYPT_ERROR, function () {\n          Qd(function () {\n            k.warning(\"[\".concat(_this148._clientId, \"] on crypt error\"));\n\n            _this148.emit(R.CRYPT_ERROR);\n          }, _this148._sessionId);\n        });\n\n        this._gateway.signal.on(fa.ON_TOKEN_PRIVILEGE_WILL_EXPIRE, this._handleTokenWillExpire);\n\n        this._gateway.signal.on(fa.ON_TOKEN_PRIVILEGE_DID_EXPIRE, function () {\n          k.warning(\"[\".concat(_this148._clientId, \"] received message onTokenPrivilegeDidExpire, please get new token and join again\"));\n\n          _this148._reset();\n\n          _this148._gateway.leave(!0);\n\n          _this148.emit(R.ON_TOKEN_PRIVILEGE_DID_EXPIRE);\n        });\n\n        this._gateway.signal.on(fa.ON_STREAM_FALLBACK_UPDATE, function (a) {\n          var b, c;\n          k.debug(m(b = m(c = \"[\".concat(_this148._clientId, \"] stream fallback peerId: \")).call(c, a.stream_id, \", attr: \")).call(b, a.stream_type));\n\n          _this148.emit(R.STREAM_FALLBACK, a.stream_id, 1 === a.stream_type ? \"fallback\" : \"recover\");\n        });\n\n        this._gateway.signal.on(fa.ON_PUBLISH_STREAM, function (a) {\n          var b;\n          _this148.uid === _this148._uid && (_this148._highStream && _this148._highStream._waitingSuccessResponse && \"connected\" === _this148._highStream.connectionState ? (_this148._highStream.reportPublishEvent(!0, null, A({\n            proxy: a.proxy\n          })), k.info(m(b = \"[\".concat(_this148._clientId, \"] on publish stream, \")).call(b, A(a))), void 0 !== a.proxy && _this148.emit(R.IS_USING_CLOUD_PROXY, !!a.proxy)) : _this148._lowStream ? _this148._lowStream.reportPublishEvent(!0, null, A({\n            proxy: a.proxy\n          })) : k.warning(\"get on_publish_stream message but cannot handle\"));\n        });\n\n        this._gateway.signal.on(fa.ENABLE_LOCAL_VIDEO, function (a) {\n          _this148._handleSetStreamLocalEnable(\"video\", a.uid, !0);\n        });\n\n        this._gateway.signal.on(fa.DISABLE_LOCAL_VIDEO, function (a) {\n          _this148._handleSetStreamLocalEnable(\"video\", a.uid, !1);\n        });\n\n        this._gateway.signal.on(T.REQUEST_TIMEOUT, function (a, b) {\n          if (_this148._joinInfo) switch (a) {\n            case ia.PUBLISH:\n              var c;\n              if (!b) break;\n              a = \"high\" === b.stream_type ? _this148._highStream : _this148._lowStream;\n              if (!a) break;\n              \"offer\" === b.state && u.publish(_this148._joinInfo.sid, {\n                lts: a.startTime,\n                succ: !1,\n                ec: n.TIMEOUT,\n                audio: b.audio,\n                video: b.video,\n                p2pid: b.p2p_id,\n                publishRequestid: a.ID,\n                screenshare: !(!a.videoTrack || -1 === J(c = a.videoTrack._hints).call(c, Yb.SCREEN_TRACK)),\n                audioName: a.audioTrack && (a.audioTrack instanceof ab ? a.audioTrack.getSubTrackLabels().join(\",\") : a.audioTrack.getTrackLabel()),\n                videoName: a.videoTrack && a.videoTrack.getTrackLabel()\n              });\n              break;\n\n            case ia.SUBSCRIBE:\n              (c = _this148._remoteStream.get(b.stream_id)) && b && u.subscribe(_this148._joinInfo.sid, {\n                lts: c.startTime,\n                succ: !1,\n                ec: n.TIMEOUT,\n                audio: !!b.audio,\n                video: !!b.video,\n                peerid: b.stream_id,\n                subscribeRequestid: c.ID,\n                p2pid: c.pc.ID\n              });\n          }\n        });\n      }\n    }, {\n      key: \"connectionState\",\n      get: function get() {\n        return this._gateway.state;\n      }\n    }, {\n      key: \"remoteUsers\",\n      get: function get() {\n        return this._users;\n      }\n    }, {\n      key: \"localTracks\",\n      get: function get() {\n        return this._highStream ? this._highStream.getAllTracks() : [];\n      }\n    }, {\n      key: \"uid\",\n      get: function get() {\n        return this._uid;\n      }\n    }, {\n      key: \"channelName\",\n      get: function get() {\n        return this._channelName;\n      }\n    }, {\n      key: \"isStringUID\",\n      get: function get() {\n        return !!this._joinInfo && !!this._joinInfo.stringUid;\n      }\n    }]);\n\n    return Gd;\n  }(Wa);\n\n  ye([Md({\n    report: u\n  }), mb(\"design:type\", Function), mb(\"design:paramtypes\", [String]), mb(\"design:returntype\", void 0)], Gd.prototype, \"setProxyServer\", null);\n  ye([Md(), mb(\"design:type\", Function), mb(\"design:paramtypes\", [Object]), mb(\"design:returntype\", void 0)], Gd.prototype, \"setTurnServer\", null);\n  ye([Md({\n    report: u\n  }), mb(\"design:type\", Function), mb(\"design:paramtypes\", [Array, String]), mb(\"design:returntype\", void 0)], Gd.prototype, \"setLocalAccessPoints\", null);\n  ye([Md({\n    report: u\n  }), mb(\"design:type\", Function), mb(\"design:paramtypes\", [String, String, Uint8Array]), mb(\"design:returntype\", void 0)], Gd.prototype, \"setEncryptionConfig\", null);\n  ye([bg({\n    report: u\n  }), mb(\"design:type\", Function), mb(\"design:paramtypes\", [Object, Object]), mb(\"design:returntype\", y)], Gd.prototype, \"pickSVCLayer\", null);\n\n  var Gs =\n  /*#__PURE__*/\n  function (_ym2) {\n    _inherits(Gs, _ym2);\n\n    function Gs(a) {\n      var _this149;\n\n      var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Gs);\n\n      _this149 = _possibleConstructorReturn(this, _getPrototypeOf(Gs).call(this));\n      _this149.currentLoopCount = _this149.pausePlayTime = _this149.startPlayOffset = _this149.startPlayTime = 0;\n      _this149._currentState = \"stopped\";\n      _this149.audioBuffer = a;\n      _this149.options = b;\n      _this149.startPlayOffset = _this149.options.startPlayTime || 0;\n      return _this149;\n    }\n\n    _createClass(Gs, [{\n      key: \"createWebAudioDiagram\",\n      value: function createWebAudioDiagram() {\n        return this.context.createGain();\n      }\n    }, {\n      key: \"updateOptions\",\n      value: function updateOptions(a) {\n        \"stopped\" === this.currentState ? (this.options = a, this.startPlayOffset = this.options.startPlayTime || 0) : k.warning(\"can not set audio source options\");\n      }\n    }, {\n      key: \"startProcessAudioBuffer\",\n      value: function startProcessAudioBuffer() {\n        this.sourceNode && this.stopProcessAudioBuffer();\n        this.sourceNode = this.createSourceNode();\n        this.startSourceNode();\n        this.currentState = \"playing\";\n      }\n    }, {\n      key: \"pauseProcessAudioBuffer\",\n      value: function pauseProcessAudioBuffer() {\n        this.sourceNode && \"playing\" === this.currentState && (this.pausePlayTime = this.currentTime, this.sourceNode.onended = null, this.sourceNode.stop(), this.sourceNode.buffer = null, this.sourceNode = this.createSourceNode(), this.currentState = \"paused\");\n      }\n    }, {\n      key: \"seekAudioBuffer\",\n      value: function seekAudioBuffer(a) {\n        this.sourceNode && (this.sourceNode.onended = null, \"playing\" === this.currentState && this.sourceNode.stop(), this.sourceNode = this.createSourceNode(), \"playing\" === this.currentState ? (this.startPlayOffset = a, this.startSourceNode()) : \"paused\" === this.currentState && (this.pausePlayTime = a));\n      }\n    }, {\n      key: \"resumeProcessAudioBuffer\",\n      value: function resumeProcessAudioBuffer() {\n        \"paused\" === this.currentState && this.sourceNode && (this.startPlayOffset = this.pausePlayTime, this.pausePlayTime = 0, this.startSourceNode(), this.currentState = \"playing\");\n      }\n    }, {\n      key: \"stopProcessAudioBuffer\",\n      value: function stopProcessAudioBuffer() {\n        if (this.sourceNode) {\n          this.sourceNode.onended = null;\n\n          try {\n            this.sourceNode.stop();\n          } catch (a) {}\n\n          this.reset();\n        }\n      }\n    }, {\n      key: \"startSourceNode\",\n      value: function startSourceNode() {\n        var a;\n        this.sourceNode && this.sourceNode.buffer && (this.sourceNode.start(0, this.startPlayOffset), this.startPlayTime = this.context.currentTime, this.sourceNode.onended = xa(a = this.handleSourceNodeEnded).call(a, this));\n      }\n    }, {\n      key: \"createSourceNode\",\n      value: function createSourceNode() {\n        var a = this.context.createBufferSource();\n        return a.buffer = this.audioBuffer, a.loop = !!this.options.loop, a.connect(this.outputNode), a;\n      }\n    }, {\n      key: \"handleSourceNodeEnded\",\n      value: function handleSourceNodeEnded() {\n        if (this.currentLoopCount += 1, this.options.cycle && this.options.cycle > this.currentLoopCount) return this.startPlayOffset = 0, this.sourceNode = void 0, void this.startProcessAudioBuffer();\n        this.reset();\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.startPlayOffset = this.options.startPlayTime || 0;\n        this.currentState = \"stopped\";\n        this.sourceNode && (this.sourceNode.disconnect(), this.sourceNode = void 0);\n        this.currentLoopCount = 0;\n      }\n    }, {\n      key: \"currentState\",\n      set: function set(a) {\n        a !== this._currentState && (this._currentState = a, this.emit(Mb.AUDIO_SOURCE_STATE_CHANGE, this._currentState));\n      },\n      get: function get() {\n        return this._currentState;\n      }\n    }, {\n      key: \"duration\",\n      get: function get() {\n        return this.audioBuffer.duration;\n      }\n    }, {\n      key: \"currentTime\",\n      get: function get() {\n        return \"stopped\" === this.currentState ? 0 : \"paused\" === this.currentState ? this.pausePlayTime : (this.context.currentTime - this.startPlayTime + this.startPlayOffset) % this.audioBuffer.duration;\n      }\n    }]);\n\n    return Gs;\n  }(ym);\n\n  var ak = new ba();\n  var Hs = ma.setInterval;\n  var Is = V().name;\n\n  var ze =\n  /*#__PURE__*/\n  function () {\n    function ze(a, b) {\n      _classCallCheck(this, ze);\n\n      this.id = 0;\n      ze.count += 1;\n      this.id = ze.count;\n      this.element = a;\n      this.context = b;\n    }\n\n    _createClass(ze, [{\n      key: \"initPeers\",\n      value: function initPeers() {\n        var _this150 = this;\n\n        this.peerPair = [new RTCPeerConnection(), new RTCPeerConnection()];\n\n        this.peerPair[1].ontrack = function (a) {\n          var b = document.createElement(\"audio\");\n          b.srcObject = new MediaStream([a.track]);\n          b.play();\n          _this150.audioPlayerElement = b;\n        };\n      }\n    }, {\n      key: \"switchSdp\",\n      value: function () {\n        var _switchSdp = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee155() {\n          var a, b, _c26, _e13;\n\n          return _regeneratorRuntime.wrap(function _callee155$(_context155) {\n            while (1) {\n              switch (_context155.prev = _context155.next) {\n                case 0:\n                  if (!this.peerPair) {\n                    _context155.next = 18;\n                    break;\n                  }\n\n                  a =\n                  /*#__PURE__*/\n                  function () {\n                    var _ref52 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee153(_a40, b) {\n                      return _regeneratorRuntime.wrap(function _callee153$(_context153) {\n                        while (1) {\n                          switch (_context153.prev = _context153.next) {\n                            case 0:\n                              if (!(\"offer\" === b)) {\n                                _context153.next = 6;\n                                break;\n                              }\n\n                              _context153.next = 3;\n                              return _a40.createOffer();\n\n                            case 3:\n                              _context153.t0 = _context153.sent;\n                              _context153.next = 9;\n                              break;\n\n                            case 6:\n                              _context153.next = 8;\n                              return _a40.createAnswer();\n\n                            case 8:\n                              _context153.t0 = _context153.sent;\n\n                            case 9:\n                              b = _context153.t0;\n                              _context153.next = 12;\n                              return _a40.setLocalDescription(b);\n\n                            case 12:\n                              return _context153.abrupt(\"return\", \"complete\" === _a40.iceGatheringState ? _a40.localDescription : new y(function (b) {\n                                _a40.onicegatheringstatechange = function () {\n                                  \"complete\" === _a40.iceGatheringState && b(_a40.localDescription);\n                                };\n                              }));\n\n                            case 13:\n                            case \"end\":\n                              return _context153.stop();\n                          }\n                        }\n                      }, _callee153, this);\n                    }));\n\n                    return function a(_x205, _x206) {\n                      return _ref52.apply(this, arguments);\n                    };\n                  }(), b =\n                  /*#__PURE__*/\n                  function () {\n                    var _ref53 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee154(a, b) {\n                      return _regeneratorRuntime.wrap(function _callee154$(_context154) {\n                        while (1) {\n                          switch (_context154.prev = _context154.next) {\n                            case 0:\n                              _context154.next = 2;\n                              return a.setRemoteDescription(b);\n\n                            case 2:\n                              return _context154.abrupt(\"return\", _context154.sent);\n\n                            case 3:\n                            case \"end\":\n                              return _context154.stop();\n                          }\n                        }\n                      }, _callee154, this);\n                    }));\n\n                    return function (_x207, _x208) {\n                      return _ref53.apply(this, arguments);\n                    };\n                  }();\n                  _context155.prev = 2;\n                  _context155.next = 5;\n                  return a(this.peerPair[0], \"offer\");\n\n                case 5:\n                  _c26 = _context155.sent;\n                  _context155.next = 8;\n                  return b(this.peerPair[1], _c26);\n\n                case 8:\n                  _context155.next = 10;\n                  return a(this.peerPair[1], \"answer\");\n\n                case 10:\n                  _e13 = _context155.sent;\n                  _context155.next = 13;\n                  return b(this.peerPair[0], _e13);\n\n                case 13:\n                  _context155.next = 18;\n                  break;\n\n                case 15:\n                  _context155.prev = 15;\n                  _context155.t0 = _context155[\"catch\"](2);\n                  throw new q(n.LOCAL_AEC_ERROR, _context155.t0.toString()).print();\n\n                case 18:\n                case \"end\":\n                  return _context155.stop();\n              }\n            }\n          }, _callee155, this, [[2, 15]]);\n        }));\n\n        function switchSdp() {\n          return _switchSdp.apply(this, arguments);\n        }\n\n        return switchSdp;\n      }()\n    }, {\n      key: \"getTracksFromMediaElement\",\n      value: function () {\n        var _getTracksFromMediaElement = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee156(a) {\n          var b;\n          return _regeneratorRuntime.wrap(function _callee156$(_context156) {\n            while (1) {\n              switch (_context156.prev = _context156.next) {\n                case 0:\n                  if (!this.audioTrack) {\n                    _context156.next = 2;\n                    break;\n                  }\n\n                  return _context156.abrupt(\"return\", this.audioTrack);\n\n                case 2:\n                  _context156.prev = 2;\n                  a instanceof HTMLVideoElement && (a.captureStream ? a.captureStream() : a.mozCaptureStream()), b = this.context.createMediaStreamDestination(), this.context.createMediaElementSource(a).connect(b);\n                  _context156.next = 9;\n                  break;\n\n                case 6:\n                  _context156.prev = 6;\n                  _context156.t0 = _context156[\"catch\"](2);\n                  throw new q(n.LOCAL_AEC_ERROR, _context156.t0.toString()).print();\n\n                case 9:\n                  if (b) {\n                    _context156.next = 11;\n                    break;\n                  }\n\n                  throw new q(n.LOCAL_AEC_ERROR, \"no dest node when local aec\").print();\n\n                case 11:\n                  a = b.stream.getAudioTracks()[0];\n                  return _context156.abrupt(\"return\", (this.audioTrack = a, a));\n\n                case 13:\n                case \"end\":\n                  return _context156.stop();\n              }\n            }\n          }, _callee156, this, [[2, 6]]);\n        }));\n\n        function getTracksFromMediaElement(_x211) {\n          return _getTracksFromMediaElement.apply(this, arguments);\n        }\n\n        return getTracksFromMediaElement;\n      }()\n    }, {\n      key: \"getElement\",\n      value: function getElement() {\n        return this.element;\n      }\n    }, {\n      key: \"startEchoCancellation\",\n      value: function () {\n        var _startEchoCancellation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee157() {\n          var a;\n          return _regeneratorRuntime.wrap(function _callee157$(_context157) {\n            while (1) {\n              switch (_context157.prev = _context157.next) {\n                case 0:\n                  this.context.resume();\n                  this.peerPair && this.close();\n                  this.initPeers();\n                  _context157.next = 5;\n                  return this.getTracksFromMediaElement(this.element);\n\n                case 5:\n                  a = _context157.sent;\n                  this.peerPair && this.peerPair[0].addTrack(a);\n                  _context157.next = 9;\n                  return this.switchSdp();\n\n                case 9:\n                case \"end\":\n                  return _context157.stop();\n              }\n            }\n          }, _callee157, this);\n        }));\n\n        function startEchoCancellation() {\n          return _startEchoCancellation.apply(this, arguments);\n        }\n\n        return startEchoCancellation;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        var a;\n        k.debug(\"close echo cancellation unit, id is\", this.id);\n        this.audioPlayerElement && this.audioPlayerElement.pause();\n        this.peerPair && t(a = this.peerPair).call(a, function (a) {\n          a.close();\n        });\n        this.audioPlayerElement = this.peerPair = void 0;\n      }\n    }]);\n\n    return ze;\n  }();\n\n  ze.count = 0;\n\n  var Zh = function Zh(a, b) {\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(a, b);\n  };\n\n  var Js = window.AudioContext || window.webkitAudioContext;\n\n  var Qn =\n  /*#__PURE__*/\n  function () {\n    function Qn() {\n      _classCallCheck(this, Qn);\n\n      this.units = [];\n    }\n\n    _createClass(Qn, [{\n      key: \"processExternalMediaAEC\",\n      value: function processExternalMediaAEC(a) {\n        var b;\n        if (!this._doesEnvironmentNeedAEC()) return k.debug(\"the system does not need to process local aec\"), -1;\n        this.context || (this.context = new Js());\n        var c = U(b = this.units).call(b, function (b) {\n          return b && b.getElement() === a;\n        });\n        return c || (c = new ze(a, this.context), this.units.push(c)), c.startEchoCancellation(), k.debug(\"start processing local audio echo cancellation, id is\", c.id), c.id;\n      }\n    }, {\n      key: \"_doesEnvironmentNeedAEC\",\n      value: function _doesEnvironmentNeedAEC() {\n        return V().name !== S.SAFARI;\n      }\n    }]);\n\n    return Qn;\n  }();\n\n  (function (a, b, c, e) {\n    var f,\n        h = arguments.length,\n        k = 3 > h ? b : null === e ? e = ca(b, c) : e;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) k = Reflect.decorate(a, b, c, e);else for (var m = a.length - 1; 0 <= m; m--) {\n      (f = a[m]) && (k = (3 > h ? f(k) : 3 < h ? f(b, c, k) : f(b, c)) || k);\n    }\n    return 3 < h && k && Q(b, c, k), k;\n  })([Md({\n    report: u\n  }), Zh(\"design:type\", Function), Zh(\"design:paramtypes\", [HTMLAudioElement]), Zh(\"design:returntype\", Number)], Qn.prototype, \"processExternalMediaAEC\", null);\n\n  var Ks = new Qn();\n  var Rn, Sn, Tn, Un;\n  eb(\"PROCESS_ID\", m(Rn = m(Sn = m(Tn = m(Un = \"process-\".concat(va(8, \"\"), \"-\")).call(Un, va(4, \"\"), \"-\")).call(Tn, va(4, \"\"), \"-\")).call(Sn, va(4, \"\"), \"-\")).call(Rn, va(12, \"\")));\n\n  (function () {\n    var a = V();\n    var b = navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia ? !0 : !1;\n    la.getDisplayMedia = b;\n    la.getStreamFromExtension = a.name === S.CHROME && 34 < Number(a.version);\n\n    la.supportUnifiedPlan = function () {\n      if (!(window.RTCRtpTransceiver && \"currentDirection\" in RTCRtpTransceiver.prototype)) return !1;\n      var a = new RTCPeerConnection(),\n          b = !1;\n\n      try {\n        a.addTransceiver(\"audio\"), b = !0;\n      } catch (f) {}\n\n      return a.close(), b;\n    }();\n\n    la.supportMinBitrate = a.name === S.CHROME || a.name === S.EDGE;\n\n    la.supportSetRtpSenderParameters = function () {\n      var a = V();\n      return window.RTCRtpSender && window.RTCRtpSender.prototype.setParameters && window.RTCRtpSender.prototype.getParameters ? !!Tf() || !(!$c() && !Ee()) || a.name === S.FIREFOX && 64 <= Number(a.version) : !1;\n    }();\n\n    a.name === S.SAFARI && (14 <= Number(a.version) ? la.supportDualStream = !0 : la.supportDualStream = !1);\n\n    la.webAudioMediaStreamDest = function () {\n      var a = V();\n      return a.name === S.SAFARI && 12 > Number(a.version) ? !1 : !0;\n    }();\n\n    la.supportReplaceTrack = window.RTCRtpSender ? \"function\" == typeof RTCRtpSender.prototype.replaceTrack ? !0 : !1 : !1;\n    la.supportWebGL = \"undefined\" != typeof WebGLRenderingContext;\n    la.supportRequestFrame = !!window.CanvasCaptureMediaStreamTrack;\n    Tf() || (la.webAudioWithAEC = !0);\n\n    la.supportShareAudio = function () {\n      var a = V();\n      return (a.os === Na.WIN_10 || a.os === Na.WIN_81 || a.os === Na.WIN_7 || a.os === Na.LINUX || a.os === Na.MAC_OS) && a.name === S.CHROME && 74 <= Number(a.version) ? !0 : !1;\n    }();\n\n    la.supportDualStreamEncoding = function () {\n      var a = V();\n      return \"Safari\" === a.name && 14 <= Number(a.version);\n    }();\n\n    k.info(\"browser compatibility\", A(la), A(a));\n  })();\n\n  var nb = {\n    __CLIENT_LIST__: pc,\n    __TRACK_LIST__: Bc,\n    VERSION: ob,\n    BUILD: \"v4.7.3-0-g0eb931c7(11/16/2021, 7:57:58 PM)\",\n    setParameter: eb,\n    getParameter: function getParameter(a) {\n      return v[a];\n    },\n    getSupportedCodec: function () {\n      var _getSupportedCodec = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee158(a) {\n        var b;\n        return _regeneratorRuntime.wrap(function _callee158$(_context158) {\n          while (1) {\n            switch (_context158.prev = _context158.next) {\n              case 0:\n                b = null;\n                a ? (b = new En({}), b.addStream(a)) : b = new Fn({});\n                _context158.t0 = Oj;\n                _context158.next = 5;\n                return b.createOfferSDP();\n\n              case 5:\n                _context158.t1 = _context158.sent;\n                a = (0, _context158.t0)(_context158.t1);\n                return _context158.abrupt(\"return\", (b.close(), a));\n\n              case 8:\n              case \"end\":\n                return _context158.stop();\n            }\n          }\n        }, _callee158, this);\n      }));\n\n      function getSupportedCodec(_x212) {\n        return _getSupportedCodec.apply(this, arguments);\n      }\n\n      return getSupportedCodec;\n    }(),\n    checkSystemRequirements: function checkSystemRequirements() {\n      var a = u.reportApiInvoke(null, {\n        name: D.CHECK_SYSTEM_REQUIREMENTS,\n        options: [],\n        tag: C.TRACER\n      });\n      var b = !1;\n\n      try {\n        var c = navigator.mediaDevices && navigator.mediaDevices.getUserMedia,\n            e = window.WebSocket;\n        b = !!(window.RTCPeerConnection && c && e);\n      } catch (f) {\n        return k.error(\"check system requirement failed: \", f), !1;\n      }\n\n      c = !1;\n      e = V();\n      e.name === S.CHROME && 58 <= Number(e.version) && (\"WebKit\" !== cb.engine.name || Zn()) && (c = !0);\n      e.name === S.FIREFOX && 56 <= Number(e.version) && (c = !0);\n      e.name === S.OPERA && 45 <= Number(e.version) && (c = !0);\n      e.name === S.SAFARI && 11 <= Number(e.version) && (c = !0);\n      V().name !== S.WECHAT && V().name !== S.QQ || (c = !0);\n      k.debug(\"checkSystemRequirements, api:\", b, \"browser\", c);\n      b = b && c;\n      return a.onSuccess(b), b;\n    },\n    getDevices: function getDevices(a) {\n      return lb.enumerateDevices(!0, !0, a);\n    },\n    getMicrophones: function getMicrophones(a) {\n      return lb.getRecordingDevices(a);\n    },\n    getCameras: function getCameras(a) {\n      return lb.getCamerasDevices(a);\n    },\n    getElectronScreenSources: fj,\n    getPlaybackDevices: function getPlaybackDevices(a) {\n      return lb.getSpeakers(a);\n    },\n    createClient: function createClient() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        codec: \"vp8\",\n        mode: \"rtc\"\n      };\n      var b = u.reportApiInvoke(null, {\n        name: D.CREATE_CLIENT,\n        options: [a],\n        tag: C.TRACER\n      });\n\n      try {\n        fb(a.codec, \"config.codec\", [\"vp8\", \"vp9\", \"av1\", \"h264\"]), fb(a.mode, \"config.mode\", [\"rtc\", \"live\"]), void 0 !== a.proxyServer && Sa(a.proxyServer, \"config.proxyServer\", 1, 1E4), void 0 !== a.turnServer && Yi(a.turnServer), void 0 !== a.httpRetryConfig && Wi(a.httpRetryConfig), void 0 !== a.websocketRetryConfig && Wi(a.websocketRetryConfig), !0;\n      } catch (c) {\n        throw b.onError(c), c;\n      }\n\n      return b.onSuccess(), new Gd(jd({\n        forceWaitGatewayResponse: !0\n      }, a, {\n        role: \"rtc\" === a.mode ? \"host\" : a.role\n      }));\n    },\n    createCameraVideoTrack: function () {\n      var _createCameraVideoTrack = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee159() {\n        var a,\n            b,\n            c,\n            e,\n            f,\n            _args159 = arguments;\n        return _regeneratorRuntime.wrap(function _callee159$(_context159) {\n          while (1) {\n            switch (_context159.prev = _context159.next) {\n              case 0:\n                a = _args159.length > 0 && _args159[0] !== undefined ? _args159[0] : {\n                  encoderConfig: \"480p_1\"\n                };\n                b = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CREATE_CAM_VIDEO_TRACK,\n                  options: [xg({}, a)]\n                }), c = sg(a);\n                e = va(8, \"track-cam-\");\n                f = null;\n                k.info(\"start create camera video track with config\", A(a), \"trackId\", e);\n                _context159.prev = 5;\n                _context159.next = 8;\n                return Fb({\n                  video: c\n                }, e);\n\n              case 8:\n                _context159.t0 = _context159.sent.getVideoTracks()[0];\n\n                if (_context159.t0) {\n                  _context159.next = 11;\n                  break;\n                }\n\n                _context159.t0 = null;\n\n              case 11:\n                f = _context159.t0;\n                _context159.next = 17;\n                break;\n\n              case 14:\n                _context159.prev = 14;\n                _context159.t1 = _context159[\"catch\"](5);\n                throw b.onError(_context159.t1), _context159.t1;\n\n              case 17:\n                if (f) {\n                  _context159.next = 19;\n                  break;\n                }\n\n                return _context159.abrupt(\"return\", (e = new q(n.UNEXPECTED_ERROR, \"can not find track in media stream\"), b.onError(e), e.throw()));\n\n              case 19:\n                a.optimizationMode && yg(e, f, a, a.encoderConfig && bd(a.encoderConfig));\n                a = new ve(f, a, c, a.scalabiltyMode ? Fe(a.scalabiltyMode) : {\n                  numSpatialLayers: 1,\n                  numTemporalLayers: 1\n                }, a.optimizationMode, e);\n                return _context159.abrupt(\"return\", (b.onSuccess(a.getTrackId()), k.info(\"create camera video success, trackId:\", e), a));\n\n              case 22:\n              case \"end\":\n                return _context159.stop();\n            }\n          }\n        }, _callee159, this, [[5, 14]]);\n      }));\n\n      function createCameraVideoTrack() {\n        return _createCameraVideoTrack.apply(this, arguments);\n      }\n\n      return createCameraVideoTrack;\n    }(),\n    createCustomVideoTrack: function createCustomVideoTrack(a) {\n      var b = u.reportApiInvoke(null, {\n        tag: C.TRACER,\n        name: D.CREATE_CUSTOM_VIDEO_TRACK,\n        options: [a]\n      }),\n          c = new ta(a.mediaStreamTrack, {\n        bitrateMax: a.bitrateMax,\n        bitrateMin: a.bitrateMin\n      }, a.scalabiltyMode ? Fe(a.scalabiltyMode) : {\n        numSpatialLayers: 1,\n        numTemporalLayers: 1\n      }, a.optimizationMode);\n      return b.onSuccess(c.getTrackId()), k.info(\"create custom video track success with config\", a, \"trackId\", c.getTrackId()), c;\n    },\n    createScreenVideoTrack: function () {\n      var _createScreenVideoTrack = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee160() {\n        var a,\n            b,\n            c,\n            e,\n            f,\n            h,\n            l,\n            m,\n            _a41,\n            _args160 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee160$(_context160) {\n          while (1) {\n            switch (_context160.prev = _context160.next) {\n              case 0:\n                a = _args160.length > 0 && _args160[0] !== undefined ? _args160[0] : {};\n                b = _args160.length > 1 && _args160[1] !== undefined ? _args160[1] : \"disable\";\n                c = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CREATE_SCREEN_VIDEO_TRACK,\n                  options: [xg({}, a), b]\n                });\n                a.encoderConfig ? \"string\" == typeof a.encoderConfig || a.encoderConfig.width && a.encoderConfig.height || (a.encoderConfig.width = {\n                  max: 1920\n                }, a.encoderConfig.height = {\n                  max: 1080\n                }) : a.encoderConfig = \"1080p_2\";\n                e = {};\n                a.screenSourceType && (e.mediaSource = a.screenSourceType);\n                a.extensionId && Kd() && (e.extensionId = a.extensionId);\n                a.electronScreenSourceId && (e.sourceId = a.electronScreenSourceId);\n                f = a.encoderConfig ? Uf(a.encoderConfig) : null;\n                f = (e.mandatory = {\n                  chromeMediaSource: \"desktop\",\n                  maxWidth: f ? f.width : void 0,\n                  maxHeight: f ? f.height : void 0\n                }, f && f.frameRate && (\"number\" == typeof f.frameRate ? (e.mandatory.maxFrameRate = f.frameRate, e.mandatory.minFrameRate = f.frameRate) : (e.mandatory.maxFrameRate = f.frameRate.max || f.frameRate.ideal || f.frameRate.exact || void 0, e.mandatory.minFrameRate = f.frameRate.min || f.frameRate.ideal || f.frameRate.exact || void 0), e.frameRate = f.frameRate), f && f.width && (e.width = f.width), f && f.height && (e.height = f.height), e);\n                h = va(8, \"track-scr\");\n                l = null;\n                e = null;\n                m = la;\n\n                if (!(!m.supportShareAudio && \"enable\" === b)) {\n                  _context160.next = 16;\n                  break;\n                }\n\n                return _context160.abrupt(\"return\", (a = new q(n.NOT_SUPPORTED, \"your browser or platform is not support share-screen with audio\"), c.onError(a), a.throw()));\n\n              case 16:\n                k.info(\"start create screen video track with config\", a, \"withAudio\", b, \"trackId\", h);\n                _context160.prev = 17;\n                _context160.next = 20;\n                return Fb({\n                  screen: f,\n                  screenAudio: \"auto\" === b ? m.supportShareAudio : \"enable\" === b\n                }, h);\n\n              case 20:\n                _a41 = _context160.sent;\n                l = _a41.getVideoTracks()[0] || null;\n                e = _a41.getAudioTracks()[0] || null;\n                _context160.next = 28;\n                break;\n\n              case 25:\n                _context160.prev = 25;\n                _context160.t0 = _context160[\"catch\"](17);\n                throw c.onError(_context160.t0), _context160.t0;\n\n              case 28:\n                if (l) {\n                  _context160.next = 30;\n                  break;\n                }\n\n                return _context160.abrupt(\"return\", (a = new q(n.UNEXPECTED_ERROR, \"can not find track in media stream\"), c.onError(a), a.throw()));\n\n              case 30:\n                if (!(!e && \"enable\" === b)) {\n                  _context160.next = 32;\n                  break;\n                }\n\n                return _context160.abrupt(\"return\", (l && l.stop(), a = new q(n.SHARE_AUDIO_NOT_ALLOWED), c.onError(a), a.throw()));\n\n              case 32:\n                a.optimizationMode || (a.optimizationMode = \"detail\");\n                a.optimizationMode && (yg(h, l, a, a.encoderConfig && Uf(a.encoderConfig)), a.encoderConfig && \"string\" != typeof a.encoderConfig && (a.encoderConfig.bitrateMin = a.encoderConfig.bitrateMax));\n                a = new ta(l, a.encoderConfig ? Uf(a.encoderConfig) : {}, a.scalabiltyMode ? Fe(a.scalabiltyMode) : {\n                  numSpatialLayers: 1,\n                  numTemporalLayers: 1\n                }, a.optimizationMode, h);\n\n                if (!(a._hints.push(Yb.SCREEN_TRACK), !e)) {\n                  _context160.next = 37;\n                  break;\n                }\n\n                return _context160.abrupt(\"return\", (c.onSuccess(a.getTrackId()), k.info(\"create screen video track success\", \"video:\", a.getTrackId()), a));\n\n              case 37:\n                b = new La(e);\n                return _context160.abrupt(\"return\", (c.onSuccess([a.getTrackId(), b.getTrackId()]), k.info(\"create screen video track success\", \"video:\", a.getTrackId(), \"audio:\", b.getTrackId()), [a, b]));\n\n              case 39:\n              case \"end\":\n                return _context160.stop();\n            }\n          }\n        }, _callee160, this, [[17, 25]]);\n      }));\n\n      function createScreenVideoTrack() {\n        return _createScreenVideoTrack.apply(this, arguments);\n      }\n\n      return createScreenVideoTrack;\n    }(),\n    createMicrophoneAndCameraTracks: function () {\n      var _createMicrophoneAndCameraTracks = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee161() {\n        var a,\n            b,\n            c,\n            e,\n            f,\n            h,\n            l,\n            r,\n            p,\n            t,\n            v,\n            x,\n            y,\n            _a42,\n            z,\n            _args161 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee161$(_context161) {\n          while (1) {\n            switch (_context161.prev = _context161.next) {\n              case 0:\n                a = _args161.length > 0 && _args161[0] !== undefined ? _args161[0] : {};\n                b = _args161.length > 1 && _args161[1] !== undefined ? _args161[1] : {\n                  encoderConfig: \"480p_1\"\n                };\n                h = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CREATE_MIC_AND_CAM_TRACKS,\n                  options: [a, b]\n                }), l = sg(b), r = Mj(a), p = va(8, \"track-mic-\"), t = va(8, \"track-cam-\");\n                v = null, x = null;\n                k.info(m(c = m(e = m(f = \"start create camera video track(\".concat(t, \") and microphone audio track(\")).call(f, p, \") with config, audio: \")).call(e, A(a), \", video: \")).call(c, A(b)));\n                _context161.prev = 5;\n                _context161.next = 8;\n                return Fb({\n                  audio: r,\n                  video: l\n                }, m(y = \"\".concat(p, \"-\")).call(y, t));\n\n              case 8:\n                _a42 = _context161.sent;\n                v = _a42.getAudioTracks()[0];\n                x = _a42.getVideoTracks()[0];\n                _context161.next = 16;\n                break;\n\n              case 13:\n                _context161.prev = 13;\n                _context161.t0 = _context161[\"catch\"](5);\n                throw h.onError(_context161.t0), _context161.t0;\n\n              case 16:\n                if (!(!v || !x)) {\n                  _context161.next = 19;\n                  break;\n                }\n\n                z = new q(n.UNEXPECTED_ERROR, \"can not find tracks in media stream\");\n                return _context161.abrupt(\"return\", (h.onError(z), z.throw()));\n\n              case 19:\n                b.optimizationMode && yg(t, x, b, b.encoderConfig && bd(b.encoderConfig));\n                a = new ne(v, a, r, p);\n                b = new ve(x, b, l, b.scalabiltyMode ? Fe(b.scalabiltyMode) : {\n                  numSpatialLayers: 1,\n                  numTemporalLayers: 1\n                }, b.optimizationMode, t);\n                return _context161.abrupt(\"return\", (h.onSuccess([a.getTrackId(), b.getTrackId()]), k.info(m(z = \"create camera video track(\".concat(t, \") and microphone audio track(\")).call(z, p, \") success\")), [a, b]));\n\n              case 23:\n              case \"end\":\n                return _context161.stop();\n            }\n          }\n        }, _callee161, this, [[5, 13]]);\n      }));\n\n      function createMicrophoneAndCameraTracks() {\n        return _createMicrophoneAndCameraTracks.apply(this, arguments);\n      }\n\n      return createMicrophoneAndCameraTracks;\n    }(),\n    createMicrophoneAudioTrack: function () {\n      var _createMicrophoneAudioTrack = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee162() {\n        var a,\n            b,\n            c,\n            e,\n            f,\n            _args162 = arguments;\n        return _regeneratorRuntime.wrap(function _callee162$(_context162) {\n          while (1) {\n            switch (_context162.prev = _context162.next) {\n              case 0:\n                a = _args162.length > 0 && _args162[0] !== undefined ? _args162[0] : {};\n                b = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CREATE_MIC_AUDIO_TRACK,\n                  options: [a]\n                }), c = Mj(a);\n                e = va(8, \"track-mic-\");\n                f = null;\n                k.info(\"start create microphone audio track with config\", A(a), \"trackId\", e);\n                _context162.prev = 5;\n                _context162.next = 8;\n                return Fb({\n                  audio: c\n                }, e);\n\n              case 8:\n                _context162.t0 = _context162.sent.getAudioTracks()[0];\n\n                if (_context162.t0) {\n                  _context162.next = 11;\n                  break;\n                }\n\n                _context162.t0 = null;\n\n              case 11:\n                f = _context162.t0;\n                _context162.next = 17;\n                break;\n\n              case 14:\n                _context162.prev = 14;\n                _context162.t1 = _context162[\"catch\"](5);\n                throw b.onError(_context162.t1), _context162.t1;\n\n              case 17:\n                if (f) {\n                  _context162.next = 19;\n                  break;\n                }\n\n                return _context162.abrupt(\"return\", (e = new q(n.UNEXPECTED_ERROR, \"can not find track in media stream\"), b.onError(e), e.throw()));\n\n              case 19:\n                a = new ne(f, a, c, e);\n                return _context162.abrupt(\"return\", (b.onSuccess(a.getTrackId()), k.info(\"create microphone audio track success, trackId:\", e), a));\n\n              case 21:\n              case \"end\":\n                return _context162.stop();\n            }\n          }\n        }, _callee162, this, [[5, 14]]);\n      }));\n\n      function createMicrophoneAudioTrack() {\n        return _createMicrophoneAudioTrack.apply(this, arguments);\n      }\n\n      return createMicrophoneAudioTrack;\n    }(),\n    createCustomAudioTrack: function createCustomAudioTrack(a) {\n      var b = u.reportApiInvoke(null, {\n        tag: C.TRACER,\n        name: D.CREATE_CUSTOM_AUDIO_TRACK,\n        options: [a]\n      }),\n          c = new La(a.mediaStreamTrack, a.encoderConfig ? Ge(a.encoderConfig) : {});\n      return k.info(\"create custom audio track success with config\", a, \"trackId\", c.getTrackId()), b.onSuccess(c.getTrackId()), c;\n    },\n    createBufferSourceAudioTrack: function () {\n      var _createBufferSourceAudioTrack = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee163(a) {\n        var b, c, e, f;\n        return _regeneratorRuntime.wrap(function _callee163$(_context163) {\n          while (1) {\n            switch (_context163.prev = _context163.next) {\n              case 0:\n                b = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CREATE_BUFFER_AUDIO_TRACK,\n                  options: [a]\n                }), c = va(8, \"track-buf-\");\n                k.info(\"start create buffer source audio track with config\", A(a), \"trackId\", c);\n                e = a.source;\n\n                if (a.source instanceof AudioBuffer) {\n                  _context163.next = 13;\n                  break;\n                }\n\n                _context163.prev = 4;\n                _context163.next = 7;\n                return Bo(a.source, a.cacheOnlineFile);\n\n              case 7:\n                a.source = _context163.sent;\n                _context163.next = 13;\n                break;\n\n              case 10:\n                _context163.prev = 10;\n                _context163.t0 = _context163[\"catch\"](4);\n                return _context163.abrupt(\"return\", (b.onError(_context163.t0), _context163.t0.throw()));\n\n              case 13:\n                f = new Gs(a.source);\n                a = new Cd(e, f, a.encoderConfig ? Ge(a.encoderConfig) : {}, c);\n                return _context163.abrupt(\"return\", (k.info(\"create buffer source audio track success, trackId:\", c), b.onSuccess(a.getTrackId()), a));\n\n              case 16:\n              case \"end\":\n                return _context163.stop();\n            }\n          }\n        }, _callee163, this, [[4, 10]]);\n      }));\n\n      function createBufferSourceAudioTrack(_x213) {\n        return _createBufferSourceAudioTrack.apply(this, arguments);\n      }\n\n      return createBufferSourceAudioTrack;\n    }(),\n    setLogLevel: function setLogLevel(a) {\n      k.setLogLevel(a);\n    },\n    enableLogUpload: function enableLogUpload() {\n      k.enableLogUpload();\n    },\n    disableLogUpload: function disableLogUpload() {\n      k.disableLogUpload();\n    },\n    createChannelMediaRelayConfiguration: function createChannelMediaRelayConfiguration() {\n      return new Yj();\n    },\n    checkAudioTrackIsActive: function () {\n      var _checkAudioTrackIsActive = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee164(a) {\n        var b,\n            c,\n            e,\n            f,\n            h,\n            l,\n            r,\n            _args164 = arguments;\n        return _regeneratorRuntime.wrap(function _callee164$(_context164) {\n          while (1) {\n            switch (_context164.prev = _context164.next) {\n              case 0:\n                b = _args164.length > 1 && _args164[1] !== undefined ? _args164[1] : 5E3;\n                c = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CHECK_AUDIO_TRACK_IS_ACTIVE,\n                  options: [b]\n                });\n\n                if (a instanceof La || a instanceof xe) {\n                  _context164.next = 5;\n                  break;\n                }\n\n                e = new q(n.INVALID_TRACK, \"the parameter is not a audio track\");\n                return _context164.abrupt(\"return\", (c.onError(e), e.throw()));\n\n              case 5:\n                b && 1E3 > b && (b = 1E3);\n                f = a instanceof La ? a.getTrackLabel() : \"remote_track\";\n                h = e = a.getVolumeLevel(), l = e;\n                r = x();\n                return _context164.abrupt(\"return\", new y(function (e) {\n                  var n = Hs(function () {\n                    var p = a.getVolumeLevel();\n                    h = p > h ? p : h;\n                    l = p < l ? p : l;\n                    p = 1E-4 < h - l;\n                    var q = x() - r;\n\n                    if (p || q > b) {\n                      var t;\n                      clearInterval(n);\n                      q = {\n                        duration: q,\n                        deviceLabel: f,\n                        maxVolumeLevel: h,\n                        result: p\n                      };\n                      k.info(m(t = \"[track-\".concat(a.getTrackId(), \"] check audio track active completed. \")).call(t, A(q)));\n                      c.onSuccess(q);\n                      e(p);\n                    }\n                  }, 200);\n                }));\n\n              case 10:\n              case \"end\":\n                return _context164.stop();\n            }\n          }\n        }, _callee164, this);\n      }));\n\n      function checkAudioTrackIsActive(_x214) {\n        return _checkAudioTrackIsActive.apply(this, arguments);\n      }\n\n      return checkAudioTrackIsActive;\n    }(),\n    checkVideoTrackIsActive: function () {\n      var _checkVideoTrackIsActive = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee165(a) {\n        var b,\n            c,\n            e,\n            f,\n            h,\n            l,\n            r,\n            p,\n            _a43,\n            _args165 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee165$(_context165) {\n          while (1) {\n            switch (_context165.prev = _context165.next) {\n              case 0:\n                b = _args165.length > 1 && _args165[1] !== undefined ? _args165[1] : 5E3;\n                e = u.reportApiInvoke(null, {\n                  tag: C.TRACER,\n                  name: D.CHECK_VIDEO_TRACK_IS_ACTIVE,\n                  options: [b]\n                });\n\n                if (a instanceof ta || a instanceof we) {\n                  _context165.next = 4;\n                  break;\n                }\n\n                return _context165.abrupt(\"return\", (a = new q(n.INVALID_TRACK, \"the parameter is not a video track\"), e.onError(a), a.throw()));\n\n              case 4:\n                b && 1E3 > b && (b = 1E3);\n                f = a instanceof ta ? a.getTrackLabel() : \"remote_track\", h = a.getMediaStreamTrack(!0);\n                l = document.createElement(\"video\");\n                l.style.width = \"1px\";\n                l.style.height = \"1px\";\n                l.setAttribute(\"muted\", \"\");\n                l.muted = !0;\n                l.setAttribute(\"playsinline\", \"\");\n                l.controls = !1;\n                ($c() || Ee()) && (l.style.opacity = \"0.01\", l.style.position = \"fixed\", l.style.left = \"0\", l.style.top = \"0\", document.body.appendChild(l));\n                l.srcObject = new MediaStream([h]);\n                l.play();\n                r = document.createElement(\"canvas\");\n                r.width = 160;\n                r.height = 120;\n                p = h = 0;\n                _context165.prev = 20;\n                _a43 = x();\n                _context165.next = 24;\n                return function (a, b, c, e) {\n                  var f,\n                      h = 0,\n                      l = null;\n                  return new y(function (m, p) {\n                    wb(function () {\n                      f && (f(), m(h));\n                    }, b);\n                    f = dg(function () {\n                      a: {\n                        h > e && f && (f(), m(h));\n                        var b = c.getContext(\"2d\");\n\n                        if (b) {\n                          b.drawImage(a, 0, 0, 160, 120);\n                          b = b.getImageData(0, 0, c.width, c.height);\n                          var r = Math.floor(b.data.length / 3);\n                          if (l) for (var _a44 = 0; _a44 < r; _a44 += 3) {\n                            if (b.data[_a44] !== l[_a44]) {\n                              h += 1;\n                              l = b.data;\n                              break a;\n                            }\n                          }\n                          l = b.data;\n                        } else b = new q(n.UNEXPECTED_ERROR, \"can not get canvas 2d context.\"), k.error(b.toString()), p(b);\n                      }\n                    }, 30);\n                  });\n                }(l, b, r, 4);\n\n              case 24:\n                h = _context165.sent;\n                p = x() - _a43;\n                _context165.next = 31;\n                break;\n\n              case 28:\n                _context165.prev = 28;\n                _context165.t0 = _context165[\"catch\"](20);\n                throw e.onError(_context165.t0), _context165.t0;\n\n              case 31:\n                Is === S.SAFARI && (l.pause(), l.remove());\n                l.srcObject = null;\n                b = 4 < h;\n                f = {\n                  duration: p,\n                  changedPicNum: h,\n                  deviceLabel: f,\n                  result: b\n                };\n                return _context165.abrupt(\"return\", (k.info(m(c = \"[track-\".concat(a.getTrackId(), \"] check video track active completed. \")).call(c, A(f))), e.onSuccess(f), b));\n\n              case 36:\n              case \"end\":\n                return _context165.stop();\n            }\n          }\n        }, _callee165, this, [[20, 28]]);\n      }));\n\n      function checkVideoTrackIsActive(_x215) {\n        return _checkVideoTrackIsActive.apply(this, arguments);\n      }\n\n      return checkVideoTrackIsActive;\n    }(),\n    setArea: function setArea(a) {\n      var b = u.reportApiInvoke(null, {\n        name: D.SET_AREA,\n        options: a,\n        tag: C.TRACER\n      });\n\n      try {\n        var c;\n        var _b35 = [];\n\n        if (\"string\" == typeof a && (_b35 = [a]), Qb(a) && (t(a).call(a, function (a) {\n          if (!Z(hm).call(hm, a)) throw new q(n.INVALID_PARAMS, \"invalid area code\");\n        }), _b35 = a), \"[object Object]\" === Object.prototype.toString.call(a)) {\n          var _a45 = a,\n              _c27 = _a45.areaCode,\n              _e14 = _a45.excludedArea;\n          if (!_c27) throw new q(n.INVALID_PARAMS, \"area code is needed\");\n          a = _c27;\n          \"string\" == typeof _c27 && (a = [_c27]);\n          _b35 = _e14 ? cs(a, _e14) : a;\n        }\n\n        eb(\"AREAS\", _b35);\n\n        var _f10 = function (a) {\n          var b = {\n            CODE: \"\",\n            WEBCS_DOMAIN: [],\n            WEBCS_DOMAIN_BACKUP_LIST: [],\n            PROXY_CS: [],\n            CDS_AP: [],\n            ACCOUNT_REGISTER: [],\n            UAP_AP: [],\n            EVENT_REPORT_DOMAIN: [],\n            EVENT_REPORT_BACKUP_DOMAIN: [],\n            LOG_UPLOAD_SERVER: [],\n            PROXY_SERVER_TYPE3: []\n          };\n          return z(a).call(a, function (a) {\n            var c = nh[a];\n            (a = W(c)) && z(a).call(a, function (a) {\n              var e;\n              \"CODE\" !== a && (b[a] = m(e = b[a]).call(e, c[a]));\n            });\n          }), b;\n        }(_b35);\n\n        z(c = W(_f10)).call(c, function (a) {\n          \"LOG_UPLOAD_SERVER\" === a || \"EVENT_REPORT_DOMAIN\" === a || \"EVENT_REPORT_BACKUP_DOMAIN\" === a || \"PROXY_SERVER_TYPE3\" === a ? eb(a, _f10[a][0]) : eb(a, _f10[a]);\n        });\n        k.debug(\"set area success:\", _b35.join(\",\"));\n      } catch (e) {\n        throw b.onError(e), e;\n      }\n\n      b.onSuccess();\n    },\n    loadModule: function () {\n      var _loadModule = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee166(a, b) {\n        var c;\n        return _regeneratorRuntime.wrap(function _callee166$(_context166) {\n          while (1) {\n            switch (_context166.prev = _context166.next) {\n              case 0:\n                if (!(k.debug(m(c = \"loadModule: \".concat(a.name, \", loadOption: \")).call(c, A(b))), !a.moduleInit)) {\n                  _context166.next = 2;\n                  break;\n                }\n\n                throw k.debug(\"Invalid Plugin\"), new q(n.INVALID_PLUGIN, \"invalid plugin\");\n\n              case 2:\n                _context166.prev = 2;\n                _context166.next = 5;\n                return a.moduleInit({\n                  logger: k,\n                  report: u\n                }, b);\n\n              case 5:\n                _context166.next = 10;\n                break;\n\n              case 7:\n                _context166.prev = 7;\n                _context166.t0 = _context166[\"catch\"](2);\n                throw new q(n.UNEXPECTED_ERROR, \"unexpected error in loadModule\", _context166.t0);\n\n              case 10:\n              case \"end\":\n                return _context166.stop();\n            }\n          }\n        }, _callee166, this, [[2, 7]]);\n      }));\n\n      function loadModule(_x216, _x217) {\n        return _loadModule.apply(this, arguments);\n      }\n\n      return loadModule;\n    }(),\n    processExternalMediaAEC: function processExternalMediaAEC(a) {\n      Ks.processExternalMediaAEC(a);\n    }\n  };\n  return lb.on(qc.CAMERA_DEVICE_CHANGED, function (a) {\n    k.info(\"camera device changed\", A(a));\n    nb.onCameraChanged && nb.onCameraChanged(a);\n  }), lb.on(qc.RECORDING_DEVICE_CHANGED, function (a) {\n    k.info(\"microphone device changed\", A(a));\n    nb.onMicrophoneChanged && nb.onMicrophoneChanged(a);\n  }), lb.on(qc.PLAYOUT_DEVICE_CHANGED, function (a) {\n    k.debug(\"playout device changed\", A(a));\n    nb.onPlaybackDeviceChanged && nb.onPlaybackDeviceChanged(a);\n  }), Bb.onAutoplayFailed = function () {\n    k.info(\"detect audio element autoplay failed\");\n    nb.onAudioAutoplayFailed && nb.onAudioAutoplayFailed();\n  }, da.on(\"autoplay-failed\", function () {\n    k.info(\"detect webaudio autoplay failed\");\n    nb.onAudioAutoplayFailed && nb.onAudioAutoplayFailed();\n  }), kj.on(\"autoplay-failed\", function () {\n    k.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\");\n    nb.onAutoplayFailed ? nb.onAutoplayFailed() : nb.onAudioAutoplayFailed ? k.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\nPlease refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\") : k.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\nIt will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\nPlease refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\");\n  }), window && (window.__ARTC__ = nb), nb;\n});","map":null,"metadata":{},"sourceType":"script"}