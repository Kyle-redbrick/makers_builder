{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/GameViewMore/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"./View\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Common/Util/HTTPRequest\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, props);\n\n    _this.getData = function () {\n      var type = _this.props.match.params.type;\n\n      switch (type) {\n        case 'news':\n          _this.setState({\n            title: '최신 게임'\n          });\n\n          return _this.getNewsGameData();\n\n        case 'weekly':\n          _this.setState({\n            title: '주간 인기 게임'\n          });\n\n          return _this.getWeeklyProjectsByType();\n\n        case 'monthly':\n          _this.setState({\n            title: '월간 인기 게임'\n          }); // TODO : 월간 인기 게임 가져오기\n          // return this.getWeeklyProjectsByType();\n\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.getNewsGameData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n        var project;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return request.getProjectsByType(params ? params : {\n                  type: \"news\",\n                  limit: 20,\n                  offset: 0\n                }).then(function (res) {\n                  return res.json();\n                }).catch(function (e) {\n                  return console.error(e);\n                });\n\n              case 2:\n                project = _context.sent;\n\n                _this.setState({\n                  games: [].concat(_toConsumableArray(_this.state.games), _toConsumableArray(project))\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.getWeeklyProjectsByType = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n        var project;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return request.getWeeklyProjectsByType(params ? params : {\n                  type: \"like\",\n                  limit: 20,\n                  offset: 0\n                }).then(function (res) {\n                  return res.json();\n                }).catch(function (e) {\n                  return console.error(e);\n                });\n\n              case 2:\n                project = _context2.sent;\n\n                _this.setState({\n                  games: [].concat(_toConsumableArray(_this.state.games), _toConsumableArray(project))\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.handleSelectedTab = function (courseType) {\n      // TODO : Tab 선택에 따라 해당하는 course Type만 보여주기\n      if (courseType) {\n        switch (courseType) {\n          case 'all':\n            return _this.setState({\n              selectedTab: 'all',\n              filteredGames: _this.state.games\n            });\n\n          case 'oobc':\n            return _this.setState({\n              selectedTab: 'oobc',\n              filteredGames: _this.state.games\n            });\n\n          case 'js':\n            return _this.setState({\n              selectedTab: 'js',\n              filteredGames: _this.state.games\n            });\n\n          default:\n            break;\n        }\n      }\n    };\n\n    _this.state = {\n      games: [],\n      filteredGames: [],\n      selectedTab: 'all',\n      title: ''\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                window.scrollTo(0, 0);\n                _context3.next = 3;\n                return this.getData();\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          filteredGames = _this$state.filteredGames,\n          games = _this$state.games,\n          title = _this$state.title,\n          selectedTab = _this$state.selectedTab;\n      var handleSelectedTab = this.handleSelectedTab;\n      return React.createElement(View, {\n        intl: this.props.intl,\n        games: filteredGames.length > 0 ? filteredGames : games,\n        title: title,\n        selectedTab: selectedTab,\n        handleSelectedTab: handleSelectedTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default injectIntl(Container);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/GameViewMore/Container.js"],"names":["React","Component","View","injectIntl","request","Container","props","getData","type","match","params","setState","title","getNewsGameData","getWeeklyProjectsByType","getProjectsByType","limit","offset","then","res","json","catch","e","console","error","project","games","state","handleSelectedTab","courseType","selectedTab","filteredGames","window","scrollTo","intl","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport View from \"./View\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Common/Util/HTTPRequest\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      games: [],\n      filteredGames: [],\n      selectedTab: 'all',\n      title: '',\n    };\n  }\n\n  async componentDidMount() {\n    window.scrollTo(0, 0); \n    await this.getData();\n  }\n\n  getData = () => {\n    const { type } = this.props.match.params;\n\n    switch (type) {\n      case 'news':\n        this.setState({ title : '최신 게임' })\n        return this.getNewsGameData();\n      case 'weekly':\n        this.setState({ title : '주간 인기 게임' })\n        return this.getWeeklyProjectsByType();\n      case 'monthly':\n        this.setState({ title : '월간 인기 게임' })\n        // TODO : 월간 인기 게임 가져오기\n        // return this.getWeeklyProjectsByType();\n        break;\n      default:\n        break;\n    }\n  }\n\n  getNewsGameData = async params => {\n    const project = await request\n      .getProjectsByType(params ? params : { type: \"news\", limit: 20, offset: 0 })\n      .then(res => res.json())\n      .catch(e => console.error(e));\n\n    this.setState({\n      games: [...this.state.games, ...project]\n    });\n  };\n\n  getWeeklyProjectsByType = async (params) => {\n    const project = await request\n      .getWeeklyProjectsByType(params ? params : { type: \"like\", limit: 20, offset: 0 })\n      .then(res => res.json())\n      .catch(e => console.error(e));\n\n    this.setState({\n      games: [...this.state.games, ...project]\n    });\n  };\n\n  handleSelectedTab = (courseType) => {\n    // TODO : Tab 선택에 따라 해당하는 course Type만 보여주기\n    if(courseType) {\n      switch (courseType) {\n        case 'all': \n          return this.setState({ selectedTab : 'all', filteredGames: this.state.games});\n        case 'oobc':\n          return this.setState({ selectedTab : 'oobc', filteredGames: this.state.games});\n        case 'js':\n          return this.setState({ selectedTab : 'js', filteredGames: this.state.games});\n        default:\n          break;\n      }\n    }\n  };\n\n  render() {\n    const { filteredGames, games, title, selectedTab } = this.state;\n    const { handleSelectedTab } = this;\n\n    return (\n      <View\n        intl={this.props.intl}\n        games={filteredGames.length > 0 ? filteredGames : games} \n        title={title} \n        selectedTab={selectedTab}\n        handleSelectedTab={handleSelectedTab} \n      />\n    )\n  }\n}\n\nexport default injectIntl(Container);\n"]},"metadata":{},"sourceType":"module"}