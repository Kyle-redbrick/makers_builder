{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder3D/Component/ContextMenu/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as contextMenuActions from \"../../Store/Reducer/contextMenu\";\nimport View from \"./View\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container() {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.onClickContextMenuOutside = function () {\n      _this.props.hideContextMenu();\n    };\n\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"getContextMenuStyle\",\n    value: function getContextMenuStyle(contextMenu) {\n      var validPos = this.getValidPosition(contextMenu);\n      return {\n        top: validPos.y,\n        left: validPos.x\n      };\n    }\n  }, {\n    key: \"getValidPosition\",\n    value: function getValidPosition(contextMenu) {\n      var menus = contextMenu.menus,\n          position = contextMenu.position;\n\n      if (position) {\n        var x = position.x + 12;\n        var y = position.y;\n        var container = document.getElementById(\"contextmenu_container\");\n\n        if (container) {\n          var minX = 0;\n          var maxX = container.offsetWidth;\n          var minY = 0;\n          var maxY = container.offsetHeight - this.getEstimatedContextMenusHeight(menus);\n          if (x < minX) x = minX;\n          if (x > maxX) x = maxX;\n          if (y < minY) y = minY;\n          if (y > maxY) y = maxY;\n        }\n\n        return {\n          x: x,\n          y: y\n        };\n      } else {\n        return {\n          x: 0,\n          y: 0\n        };\n      }\n    }\n  }, {\n    key: \"getEstimatedContextMenusHeight\",\n    value: function getEstimatedContextMenusHeight(menus) {\n      var menuHeight = 42;\n      return menuHeight * menus.length;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var contextMenu = this.props.contextMenu;\n      var menus = contextMenu.menus;\n      var contextMenuOn = menus.length > 0;\n      var contextMenuStyle = this.getContextMenuStyle(contextMenu);\n      return React.createElement(View, {\n        contextMenuOn: contextMenuOn,\n        contextMenuStyle: contextMenuStyle,\n        contextMenus: menus,\n        onClickContextMenuOutside: this.onClickContextMenuOutside,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    contextMenu: state.contextMenu\n  };\n}, {\n  hideContextMenu: contextMenuActions.hideContextMenu\n})(Container);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder3D/Component/ContextMenu/Container.js"],"names":["React","Component","connect","contextMenuActions","View","Container","onClickContextMenuOutside","props","hideContextMenu","contextMenu","validPos","getValidPosition","top","y","left","x","menus","position","container","document","getElementById","minX","maxX","offsetWidth","minY","maxY","offsetHeight","getEstimatedContextMenusHeight","menuHeight","length","contextMenuOn","contextMenuStyle","getContextMenuStyle","state"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,kBAAZ,MAAoC,iCAApC;AACA,OAAOC,IAAP,MAAiB,QAAjB;;IAEMC,S;;;;;;;;;;;;;;;;UAkCJC,yB,GAA4B,YAAM;AAChC,YAAKC,KAAL,CAAWC,eAAX;AACD,K;;;;;;;WAnCD,6BAAoBC,WAApB,EAAiC;AAC/B,UAAMC,QAAQ,GAAG,KAAKC,gBAAL,CAAsBF,WAAtB,CAAjB;AACA,aAAO;AAAEG,QAAAA,GAAG,EAAEF,QAAQ,CAACG,CAAhB;AAAmBC,QAAAA,IAAI,EAAEJ,QAAQ,CAACK;AAAlC,OAAP;AACD;;;WACD,0BAAiBN,WAAjB,EAA8B;AAAA,UACpBO,KADoB,GACAP,WADA,CACpBO,KADoB;AAAA,UACbC,QADa,GACAR,WADA,CACbQ,QADa;;AAE5B,UAAIA,QAAJ,EAAc;AACZ,YAAIF,CAAC,GAAGE,QAAQ,CAACF,CAAT,GAAa,EAArB;AACA,YAAIF,CAAC,GAAGI,QAAQ,CAACJ,CAAjB;AAEA,YAAMK,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,CAAlB;;AACA,YAAIF,SAAJ,EAAe;AACb,cAAMG,IAAI,GAAG,CAAb;AACA,cAAMC,IAAI,GAAGJ,SAAS,CAACK,WAAvB;AACA,cAAMC,IAAI,GAAG,CAAb;AACA,cAAMC,IAAI,GACRP,SAAS,CAACQ,YAAV,GAAyB,KAAKC,8BAAL,CAAoCX,KAApC,CAD3B;AAEA,cAAID,CAAC,GAAGM,IAAR,EAAcN,CAAC,GAAGM,IAAJ;AACd,cAAIN,CAAC,GAAGO,IAAR,EAAcP,CAAC,GAAGO,IAAJ;AACd,cAAIT,CAAC,GAAGW,IAAR,EAAcX,CAAC,GAAGW,IAAJ;AACd,cAAIX,CAAC,GAAGY,IAAR,EAAcZ,CAAC,GAAGY,IAAJ;AACf;;AAED,eAAO;AAAEV,UAAAA,CAAC,EAADA,CAAF;AAAKF,UAAAA,CAAC,EAADA;AAAL,SAAP;AACD,OAlBD,MAkBO;AACL,eAAO;AAAEE,UAAAA,CAAC,EAAE,CAAL;AAAQF,UAAAA,CAAC,EAAE;AAAX,SAAP;AACD;AACF;;;WACD,wCAA+BG,KAA/B,EAAsC;AACpC,UAAMY,UAAU,GAAG,EAAnB;AACA,aAAOA,UAAU,GAAGZ,KAAK,CAACa,MAA1B;AACD;;;WAMD,kBAAS;AAAA,UACCpB,WADD,GACiB,KAAKF,KADtB,CACCE,WADD;AAAA,UAECO,KAFD,GAEWP,WAFX,CAECO,KAFD;AAGP,UAAMc,aAAa,GAAGd,KAAK,CAACa,MAAN,GAAe,CAArC;AACA,UAAME,gBAAgB,GAAG,KAAKC,mBAAL,CAAyBvB,WAAzB,CAAzB;AACA,aACE,oBAAC,IAAD;AACE,QAAA,aAAa,EAAEqB,aADjB;AAEE,QAAA,gBAAgB,EAAEC,gBAFpB;AAGE,QAAA,YAAY,EAAEf,KAHhB;AAIE,QAAA,yBAAyB,EAAE,KAAKV,yBAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAQD;;;;EAnDqBL,S;;AAsDxB,eAAeC,OAAO,CACpB,UAAA+B,KAAK,EAAI;AACP,SAAO;AAAExB,IAAAA,WAAW,EAAEwB,KAAK,CAACxB;AAArB,GAAP;AACD,CAHmB,EAIpB;AAAED,EAAAA,eAAe,EAAEL,kBAAkB,CAACK;AAAtC,CAJoB,CAAP,CAKbH,SALa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as contextMenuActions from \"../../Store/Reducer/contextMenu\";\nimport View from \"./View\";\n\nclass Container extends Component {\n  getContextMenuStyle(contextMenu) {\n    const validPos = this.getValidPosition(contextMenu);\n    return { top: validPos.y, left: validPos.x };\n  }\n  getValidPosition(contextMenu) {\n    const { menus, position } = contextMenu;\n    if (position) {\n      let x = position.x + 12;\n      let y = position.y;\n\n      const container = document.getElementById(\"contextmenu_container\");\n      if (container) {\n        const minX = 0;\n        const maxX = container.offsetWidth;\n        const minY = 0;\n        const maxY =\n          container.offsetHeight - this.getEstimatedContextMenusHeight(menus);\n        if (x < minX) x = minX;\n        if (x > maxX) x = maxX;\n        if (y < minY) y = minY;\n        if (y > maxY) y = maxY;\n      }\n\n      return { x, y };\n    } else {\n      return { x: 0, y: 0 };\n    }\n  }\n  getEstimatedContextMenusHeight(menus) {\n    const menuHeight = 42;\n    return menuHeight * menus.length;\n  }\n\n  onClickContextMenuOutside = () => {\n    this.props.hideContextMenu();\n  };\n\n  render() {\n    const { contextMenu } = this.props;\n    const { menus } = contextMenu;\n    const contextMenuOn = menus.length > 0;\n    const contextMenuStyle = this.getContextMenuStyle(contextMenu);\n    return (\n      <View\n        contextMenuOn={contextMenuOn}\n        contextMenuStyle={contextMenuStyle}\n        contextMenus={menus}\n        onClickContextMenuOutside={this.onClickContextMenuOutside}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => {\n    return { contextMenu: state.contextMenu };\n  },\n  { hideContextMenu: contextMenuActions.hideContextMenu }\n)(Container);\n"]},"metadata":{},"sourceType":"module"}