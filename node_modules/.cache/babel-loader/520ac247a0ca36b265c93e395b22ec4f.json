{"ast":null,"code":"import _objectSpread from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/Layout/DropDown/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { FormattedMessage, injectIntl } from \"react-intl\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport onClickOutside from \"react-onclickoutside\";\nimport * as userInfoActions from \"../../../Store/Reducer/UserInfo\";\nimport locales from \"../../../../locale\";\nimport UserIconWrapper from \"../../UserIconWrapper\";\nimport KRFlag from \"../../../../Image/icon-kr.svg\";\nimport USFlag from \"../../../../Image/icon-us.svg\";\nimport CNFlag from \"../../../../Image/icon-ch.svg\";\nimport GlobalImg from \"../../../../Image/icon-newglobal.svg\";\nimport \"./index.scss\";\n\nvar DDItem = function DDItem(_ref) {\n  var user = _ref.user,\n      text = _ref.text,\n      url = _ref.url,\n      onClick = _ref.onClick,\n      style = _ref.style;\n\n  if (user) {\n    return React.createElement(\"div\", {\n      className: \"DDItem-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"DDItem-user__photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(UserIconWrapper, {\n      iconSrc: user.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"DDItem-user__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, user.name));\n  }\n\n  if (url) {\n    return React.createElement(Link, {\n      to: url,\n      style: {\n        textDecoration: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"DDItem\",\n      style: style,\n      onClick: onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"DDItem__text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, text)));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"DDItem\",\n    onClick: onClick,\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, text === \"KR\" && React.createElement(\"img\", {\n    className: \"kr-flag\",\n    src: KRFlag,\n    alt: \"kr\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), text === \"CN\" && React.createElement(\"img\", {\n    className: \"cn-flag\",\n    src: CNFlag,\n    alt: \"cn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), text === \"US\" && React.createElement(\"img\", {\n    className: \"us-flag\",\n    src: USFlag,\n    alt: \"us\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"DDItem__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, text));\n};\n\nvar DropDown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DropDown, _Component);\n\n  function DropDown(props) {\n    var _this;\n\n    _classCallCheck(this, DropDown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DropDown).call(this, props));\n\n    _this.handleClickOutside = function (e) {\n      _this.setState({\n        isListOpened: false\n      });\n    };\n\n    _this.handleItemClick = function (item) {\n      _this.props.handleSelectItem(item.id);\n\n      _this.setState({\n        selectedItem: item,\n        isListOpened: false\n      });\n    };\n\n    _this.handleToggleList = function () {\n      _this.setState(function (state) {\n        return {\n          isListOpened: !state.isListOpened\n        };\n      });\n    };\n\n    _this.onChangeLanguage = function (language) {\n      if (language.current) return;\n      localStorage.setItem(\"wizLang\", language.locale);\n      window.location.reload();\n    };\n\n    _this.onClickLogout = function () {\n      localStorage.removeItem(\"wizToken\");\n\n      _this.props.updateUserInfo();\n    };\n\n    _this.languages = Object.keys(locales).map(function (locale) {\n      return {\n        locale: locale,\n        current: locale === _this.props.intl.locale,\n        lang: locales[locale][\"ID_HEADER_LANG\"]\n      };\n    });\n    _this.state = {\n      isListOpened: false,\n      selectedItem: null\n    };\n    return _this;\n  }\n\n  _createClass(DropDown, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          type = _this$props.type,\n          user = _this$props.user;\n      var isListOpened = this.state.isListOpened;\n      var style = {\n        DDItem: type === \"lang\" ? {\n          padding: 0\n        } : {\n          padding: \"8px 16px\"\n        }\n      };\n      return React.createElement(\"div\", {\n        className: \"DD \".concat(type === \"lang\" ? \"DD__lang\" : \"DD__user\"),\n        style: style.DD,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"DD__header\",\n        onClick: this.handleToggleList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, type === \"lang\" ? React.createElement(\"span\", {\n        className: \"DDTagName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: GlobalImg,\n        alt: \"\",\n        width: \"24px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \"DD__header__user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(UserIconWrapper, {\n        iconSrc: user.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"DD__body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, isListOpened ? type === \"lang\" ? React.createElement(\"div\", {\n        className: \"DD__list--lang\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.languages.map(function (language, index) {\n        return React.createElement(DDItem, {\n          style: language.current ? {\n            fontWeight: \"bold\"\n          } : _objectSpread({}, style.DDItem),\n          key: index,\n          text: language.lang,\n          onClick: function onClick() {\n            _this2.onChangeLanguage(language);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        });\n      })) : React.createElement(\"div\", {\n        className: \"DD__list--user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(DDItem, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(DDItem, {\n        style: _objectSpread({}, style.DDItem),\n        text: React.createElement(FormattedMessage, {\n          id: \"ID_USERDD_MYPAGE\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }),\n        url: \"/mypage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(DDItem, {\n        style: _objectSpread({}, style.DDItem),\n        text: React.createElement(FormattedMessage, {\n          id: \"ID_USERDD_MYAPK\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }),\n        url: \"/myapk\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(DDItem, {\n        style: _objectSpread({}, style.DDItem),\n        text: React.createElement(FormattedMessage, {\n          id: \"ID_USERDD_ACCOUNT\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }),\n        url: \"/myaccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(DDItem, {\n        style: _objectSpread({}, style.DDItem, {\n          marginBottom: \"24px\"\n        }),\n        text: React.createElement(FormattedMessage, {\n          id: \"ID_USERDD_LOGOUT\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }),\n        onClick: this.onClickLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      })) : \"\"));\n    }\n  }]);\n\n  return DropDown;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userinfo: state.userinfo\n  };\n}, {\n  updateUserInfo: userInfoActions.updateUserInfo\n})(injectIntl(withRouter(onClickOutside(DropDown))));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/Layout/DropDown/index.js"],"names":["React","Component","connect","FormattedMessage","injectIntl","Link","withRouter","onClickOutside","userInfoActions","locales","UserIconWrapper","DDItem","user","text","url","onClick","style","icon","name","textDecoration","KRFlag","CNFlag","USFlag","DropDown","props","handleClickOutside","e","setState","isListOpened","handleItemClick","item","handleSelectItem","id","selectedItem","handleToggleList","state","onChangeLanguage","language","current","localStorage","setItem","locale","window","location","reload","onClickLogout","removeItem","updateUserInfo","languages","Object","keys","map","intl","lang","type","padding","DD","GlobalImg","index","fontWeight","marginBottom","userinfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { FormattedMessage, injectIntl } from \"react-intl\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport onClickOutside from \"react-onclickoutside\";\nimport * as userInfoActions from \"../../../Store/Reducer/UserInfo\";\nimport locales from \"../../../../locale\";\nimport UserIconWrapper from \"../../UserIconWrapper\";\n\nimport KRFlag from \"../../../../Image/icon-kr.svg\";\nimport USFlag from \"../../../../Image/icon-us.svg\"\nimport CNFlag from \"../../../../Image/icon-ch.svg\"\nimport GlobalImg from \"../../../../Image/icon-newglobal.svg\";\nimport \"./index.scss\";\n\nconst DDItem = ({ user, text, url, onClick, style }) => {\n  if (user) {\n    return (\n      <div className=\"DDItem-user\">\n        <div className=\"DDItem-user__photo\">\n          <UserIconWrapper iconSrc={user.icon}/>\n        </div>\n        <div className=\"DDItem-user__name\">\n          {user.name}\n        </div>\n      </div>\n    );\n  }\n\n  if (url) {\n    return (\n      <Link to={url} style={{ textDecoration: \"none\" }}>\n        <div className={`DDItem`} style={style} onClick={onClick}>\n          <div className=\"DDItem__text\">{text}</div>\n        </div>\n      </Link>\n    );\n  }\n\n  \n  return (\n    <div className={`DDItem`} onClick={onClick} style={style}>\n      {text===\"KR\" &&  <img className=\"kr-flag\" src={KRFlag} alt=\"kr\"/>}\n      {text===\"CN\" && <img className=\"cn-flag\" src={CNFlag} alt=\"cn\"/>}\n      {text===\"US\" && <img className=\"us-flag\" src={USFlag} alt=\"us\" />}\n      <div className=\"DDItem__text\">{text}</div>\n    </div>\n  );\n};\n\nclass DropDown extends Component {\n  constructor(props) {\n    super(props);\n    this.languages = Object.keys(locales).map(locale => ({\n      locale,\n      current: locale === this.props.intl.locale,\n      lang: locales[locale][\"ID_HEADER_LANG\"]\n    }));\n    this.state = {\n      isListOpened: false,\n      selectedItem: null\n    };\n  }\n  handleClickOutside = e => {\n    this.setState({\n      isListOpened: false\n    });\n  };\n\n  handleItemClick = item => {\n    this.props.handleSelectItem(item.id);\n    this.setState({ selectedItem: item, isListOpened: false });\n  };\n\n  handleToggleList = () => {\n    this.setState(state => {\n      return { isListOpened: !state.isListOpened };\n    });\n  };\n\n  onChangeLanguage = language => {\n    if (language.current) return;\n    localStorage.setItem(\"wizLang\", language.locale);\n    window.location.reload();\n  };\n\n  onClickLogout = () => {\n    localStorage.removeItem(\"wizToken\");\n    this.props.updateUserInfo();\n  };\n\n  render() {\n    const { type, user } = this.props;\n    let { isListOpened } = this.state;\n\n    const style = {\n      DDItem: type === \"lang\" ? { padding: 0 } : { padding: \"8px 16px\" },\n    };\n\n    return (\n      <div\n        className={`DD ${type === \"lang\" ? \"DD__lang\" : \"DD__user\"}`}\n        style={style.DD}\n      >\n        <div className=\"DD__header\" onClick={this.handleToggleList}>\n          {type === \"lang\" ? (\n            <span className=\"DDTagName\">\n              <img src={GlobalImg} alt=\"\" width=\"24px\" />\n            </span>\n          ) : (\n            <div className=\"DD__header__user\">\n              <UserIconWrapper iconSrc={user.icon} />\n            </div>\n          )}\n        </div>\n        <div className=\"DD__body\">\n          {isListOpened ? (\n            type === \"lang\" ? (\n              <div className=\"DD__list--lang\">\n                {this.languages.map((language, index) => {\n                  return (\n                    <DDItem\n                      style={language.current ? { fontWeight: \"bold\" } : {...style.DDItem}}\n                      key={index}\n                      text={language.lang}\n                      onClick={() => {\n                        this.onChangeLanguage(language);\n                      }}\n                    />\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"DD__list--user\">\n                <DDItem user={user} />\n                <DDItem\n                  style={{\n                    ...style.DDItem\n                  }}\n                  text={<FormattedMessage id=\"ID_USERDD_MYPAGE\" />}\n                  url=\"/mypage\"\n                />\n                <DDItem\n                  style={{\n                    ...style.DDItem\n                  }}\n                  text={<FormattedMessage id=\"ID_USERDD_MYAPK\" />}\n                  url=\"/myapk\"\n                />\n                <DDItem\n                  style={{\n                    ...style.DDItem\n                  }}\n                  text={<FormattedMessage id=\"ID_USERDD_ACCOUNT\" />}\n                  url=\"/myaccount\"\n                />\n                <DDItem\n                  style={{\n                    ...style.DDItem,\n                    marginBottom: \"24px\"\n                  }}\n                  text={<FormattedMessage id=\"ID_USERDD_LOGOUT\" />}\n                  onClick={this.onClickLogout}\n                />\n              </div>\n            )\n          ) : (\n            \"\"\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  state => ({ userinfo: state.userinfo }),\n  {\n    updateUserInfo: userInfoActions.updateUserInfo\n  }\n)(injectIntl(withRouter(onClickOutside(DropDown))));\n"]},"metadata":{},"sourceType":"module"}