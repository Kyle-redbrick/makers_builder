{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Event/OCP2/OnlineCamp/OnlineCampForm/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport PopUp, { showPopUp } from \"../../../../../Common/Component/PopUp\";\nimport * as request from \"../../../../../Common/Util/HTTPRequest\";\nimport \"./index.scss\";\n\nvar OnlineCampForm = /*#__PURE__*/function (_Component) {\n  _inherits(OnlineCampForm, _Component);\n\n  var _super = _createSuper(OnlineCampForm);\n\n  function OnlineCampForm(props) {\n    var _this;\n\n    _classCallCheck(this, OnlineCampForm);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeInput = function (e) {\n      var key = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, key, value));\n\n      _this.hideWarningMessage();\n    };\n\n    _this.onClickRound = function (round) {\n      _this.setState({\n        round: round\n      });\n    };\n\n    _this.onClickApply = function () {\n      _this.trySubmit();\n    };\n\n    _this.trySubmit = function () {\n      if (_this.checkFormValid()) {\n        _this.submit();\n      } else {\n        console.warn(\"invalid form\");\n      }\n    };\n\n    _this.submit = function () {\n      if (_this.isSubmitting) return;\n      var onlineCamp = _this.props.onlineCamp;\n      var params = {\n        name: _this.state.name,\n        phoneNumber: _this.state.contact,\n        onlineCampType: onlineCamp.type,\n        roundNumber: onlineCamp.rounds.indexOf(_this.state.round) + 1,\n        answer1: _this.state.answer1,\n        answer2: _this.state.answer2\n      };\n      _this.isSubmitting = true;\n      request.applyOnlineCamp(params).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          _this.showSubmitted();\n        } else {\n          console.error(json);\n        }\n\n        _this.isSubmitting = false;\n      }).catch(function (err) {\n        console.error(err);\n        _this.isSubmitting = false;\n      });\n    };\n\n    _this.showSubmitted = function () {\n      showPopUp(React.createElement(PopUp.OneButton, {\n        title: \"\\uC2E0\\uCCAD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",\n        subtitle: \"\\uC120\\uC815\\uC790 \\uBC1C\\uD45C\\uB294 11\\uC6D4 3\\uC77C\\uC5D0\\n\\uAC1C\\uBCC4 \\uBB38\\uC790 \\uBA54\\uC138\\uC9C0\\uB85C\\n\\uD655\\uC778\\uD558\\uC2E4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\",\n        buttonName: \"\\uD655\\uC778\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), {\n        darkmode: true\n      });\n    };\n\n    _this.onClickClose = function () {\n      showPopUp();\n    };\n\n    var _onlineCamp = _this.props.onlineCamp;\n    var _round2 = _onlineCamp.rounds[0];\n    _this.state = {\n      name: \"\",\n      contact: \"\",\n      round: _round2,\n      answer1: \"\",\n      answer2: \"\",\n      warningMessage: null\n    };\n    return _this;\n  }\n\n  _createClass(OnlineCampForm, [{\n    key: \"checkFormValid\",\n    value: function checkFormValid() {\n      if (!this.checkNameValid(this.state.name)) return false;\n      if (!this.checkPhoneNumberValid(this.state.contact)) return false;\n      return true;\n    }\n  }, {\n    key: \"checkNameValid\",\n    value: function checkNameValid(name) {\n      var isValid = name !== \"\";\n\n      if (!isValid) {\n        this.showWarningMessage(\"신청자 성함을 입력해주세요.\");\n      }\n\n      return isValid;\n    }\n  }, {\n    key: \"checkPhoneNumberValid\",\n    value: function checkPhoneNumberValid(phoneNum) {\n      if (phoneNum === \"\") {\n        this.showWarningMessage(\"연락 가능한 전화번호를 입력해주세요.\");\n        return false;\n      }\n\n      var isValid = phoneNum.length > 9 && phoneNum.length < 12 && phoneNum.startsWith(\"01\");\n      if (!isValid) this.showWarningMessage(\"전화번호를 정확하게 입력해주세요.\");\n      return isValid;\n    }\n  }, {\n    key: \"showWarningMessage\",\n    value: function showWarningMessage(message) {\n      this.setState({\n        warningMessage: message\n      });\n    }\n  }, {\n    key: \"hideWarningMessage\",\n    value: function hideWarningMessage() {\n      this.setState({\n        warningMessage: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var onlineCamp = this.props.onlineCamp;\n      var _this$state = this.state,\n          name = _this$state.name,\n          contact = _this$state.contact,\n          round = _this$state.round,\n          answer1 = _this$state.answer1,\n          answer2 = _this$state.answer2,\n          warningMessage = _this$state.warningMessage;\n      return React.createElement(\"div\", {\n        className: \"onlineCampForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, onlineCamp.title, \" - \\uC2E0\\uCCAD\\uD558\\uAE30\", React.createElement(\"div\", {\n        className: \"onlineCampForm_closeBtn\",\n        onClick: this.onClickClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"\\uB2EB\\uAE30\")), React.createElement(\"section\", {\n        className: \"onlineCampForm_section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_field_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"\\uC2E0\\uCCAD\\uC790 \\uC131\\uD568\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: name,\n        placeholder: \"신청자 성함을 작성해주세요\",\n        maxLength: \"10\",\n        onChange: this.onChangeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"onlineCampForm_field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_field_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"\\uC5F0\\uB77D \\uAC00\\uB2A5\\uD55C \\uC804\\uD654\\uBC88\\uD638\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"contact\",\n        value: contact,\n        placeholder: \"연락 가능한 전화번호를 입력해주세요\",\n        maxLength: \"20\",\n        onChange: this.onChangeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"onlineCampForm_field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_field_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"\\uC2E0\\uCCAD \\uD68C\\uCC28\"), React.createElement(\"div\", {\n        className: \"onlineCampForm_rounds\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, onlineCamp.rounds.map(function (_round, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"onlineCampForm_round\".concat(_round === round ? \" onlineCampForm_round-current\" : \"\"),\n          onClick: function onClick() {\n            _this2.onClickRound(_round);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, index + 1, \"\\uD68C\\uCC28 (\", _round.dateInfo, \")\");\n      }))), React.createElement(\"div\", {\n        className: \"onlineCampForm_field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_field_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"\\uB0B4\\uAC00 \\uCF54\\uB529 \\uCEA0\\uD504\\uC5D0 \\uAF2D \\uCC38\\uAC00\\uD574\\uC57C\\uD558\\uB294 \\uC774\\uC720\\uB97C \\uC801\\uC5B4\\uC8FC\\uC138\\uC694!\", \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"(\\uCD5C\\uB300 300\\uC790)\")), React.createElement(\"textarea\", {\n        name: \"answer1\",\n        value: answer1,\n        placeholder: \"여기에 입력해주세요\",\n        maxLength: \"300\",\n        onChange: this.onChangeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"onlineCampForm_field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onlineCampForm_field_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"\\uCF54\\uB529 \\uCEA0\\uD504\\uC5D0\\uC11C \\uB9CC\\uB4E4\\uACE0 \\uC2F6\\uC740 \\uAC83\\uC774 \\uC788\\uC73C\\uBA74 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694!\", \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"(\\uCD5C\\uB300 300\\uC790)\")), React.createElement(\"textarea\", {\n        name: \"answer2\",\n        value: answer2,\n        placeholder: \"여기에 입력해주세요\",\n        maxLength: \"300\",\n        onChange: this.onChangeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"onlineCampForm_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, warningMessage && \"* \".concat(warningMessage)), React.createElement(\"div\", {\n        className: \"onlineCampForm_applyBtn\",\n        onClick: this.onClickApply,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"\\uC9C0\\uC6D0\\uD558\\uAE30\")));\n    }\n  }]);\n\n  return OnlineCampForm;\n}(Component);\n\nexport default OnlineCampForm;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Event/OCP2/OnlineCamp/OnlineCampForm/index.js"],"names":["React","Component","PopUp","showPopUp","request","OnlineCampForm","props","onChangeInput","e","key","target","name","value","setState","hideWarningMessage","onClickRound","round","onClickApply","trySubmit","checkFormValid","submit","console","warn","isSubmitting","onlineCamp","params","state","phoneNumber","contact","onlineCampType","type","roundNumber","rounds","indexOf","answer1","answer2","applyOnlineCamp","then","res","json","success","showSubmitted","error","catch","err","darkmode","onClickClose","warningMessage","checkNameValid","checkPhoneNumberValid","isValid","showWarningMessage","phoneNum","length","startsWith","message","title","map","_round","index","dateInfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PopUp, { showPopUp } from \"../../../../../Common/Component/PopUp\";\nimport * as request from \"../../../../../Common/Util/HTTPRequest\";\nimport \"./index.scss\";\n\nclass OnlineCampForm extends Component {\n  constructor(props) {\n    super(props);\n    const { onlineCamp } = this.props;\n    const round = onlineCamp.rounds[0];\n    this.state = {\n      name: \"\",\n      contact: \"\",\n      round,\n      answer1: \"\",\n      answer2: \"\",\n      warningMessage: null\n    };\n  }\n\n  onChangeInput = e => {\n    const key = e.target.name;\n    const value = e.target.value;\n    this.setState({ [key]: value });\n    this.hideWarningMessage();\n  };\n  onClickRound = round => {\n    this.setState({ round });\n  };\n\n  onClickApply = () => {\n    this.trySubmit();\n  };\n  trySubmit = () => {\n    if (this.checkFormValid()) {\n      this.submit();\n    } else {\n      console.warn(\"invalid form\");\n    }\n  };\n  submit = () => {\n    if (this.isSubmitting) return;\n\n    const { onlineCamp } = this.props;\n    const params = {\n      name: this.state.name,\n      phoneNumber: this.state.contact,\n      onlineCampType: onlineCamp.type,\n      roundNumber: onlineCamp.rounds.indexOf(this.state.round) + 1,\n      answer1: this.state.answer1,\n      answer2: this.state.answer2\n    };\n    this.isSubmitting = true;\n    request\n      .applyOnlineCamp(params)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          this.showSubmitted();\n        } else {\n          console.error(json);\n        }\n        this.isSubmitting = false;\n      })\n      .catch(err => {\n        console.error(err);\n        this.isSubmitting = false;\n      });\n  };\n  showSubmitted = () => {\n    showPopUp(\n      <PopUp.OneButton\n        title=\"신청되었습니다.\"\n        subtitle={`선정자 발표는 11월 3일에\\n개별 문자 메세지로\\n확인하실 수 있습니다.`}\n        buttonName=\"확인\"\n      />,\n      { darkmode: true }\n    );\n  };\n\n  checkFormValid() {\n    if (!this.checkNameValid(this.state.name)) return false;\n    if (!this.checkPhoneNumberValid(this.state.contact)) return false;\n    return true;\n  }\n  checkNameValid(name) {\n    const isValid = name !== \"\";\n    if (!isValid) {\n      this.showWarningMessage(\"신청자 성함을 입력해주세요.\");\n    }\n    return isValid;\n  }\n  checkPhoneNumberValid(phoneNum) {\n    if (phoneNum === \"\") {\n      this.showWarningMessage(\"연락 가능한 전화번호를 입력해주세요.\");\n      return false;\n    }\n    const isValid =\n      phoneNum.length > 9 && phoneNum.length < 12 && phoneNum.startsWith(\"01\");\n    if (!isValid) this.showWarningMessage(\"전화번호를 정확하게 입력해주세요.\");\n    return isValid;\n  }\n\n  showWarningMessage(message) {\n    this.setState({ warningMessage: message });\n  }\n  hideWarningMessage() {\n    this.setState({ warningMessage: null });\n  }\n\n  onClickClose = () => {\n    showPopUp();\n  };\n\n  render() {\n    const { onlineCamp } = this.props;\n    const {\n      name,\n      contact,\n      round,\n      answer1,\n      answer2,\n      warningMessage\n    } = this.state;\n    return (\n      <div className=\"onlineCampForm\">\n        <div className=\"onlineCampForm_title\">\n          {onlineCamp.title} - 신청하기\n          <div className=\"onlineCampForm_closeBtn\" onClick={this.onClickClose}>\n            닫기\n          </div>\n        </div>\n        <section className=\"onlineCampForm_section\">\n          <div className=\"onlineCampForm_field\">\n            <div className=\"onlineCampForm_field_title\">신청자 성함</div>\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              placeholder={\"신청자 성함을 작성해주세요\"}\n              maxLength=\"10\"\n              onChange={this.onChangeInput}\n            />\n          </div>\n          <div className=\"onlineCampForm_field\">\n            <div className=\"onlineCampForm_field_title\">\n              연락 가능한 전화번호\n            </div>\n            <input\n              type=\"text\"\n              name=\"contact\"\n              value={contact}\n              placeholder={\"연락 가능한 전화번호를 입력해주세요\"}\n              maxLength=\"20\"\n              onChange={this.onChangeInput}\n            />\n          </div>\n          <div className=\"onlineCampForm_field\">\n            <div className=\"onlineCampForm_field_title\">신청 회차</div>\n            <div className=\"onlineCampForm_rounds\">\n              {onlineCamp.rounds.map((_round, index) => (\n                <div\n                  key={index}\n                  className={`onlineCampForm_round${\n                    _round === round ? \" onlineCampForm_round-current\" : \"\"\n                  }`}\n                  onClick={() => {\n                    this.onClickRound(_round);\n                  }}\n                >\n                  {index + 1}회차 ({_round.dateInfo})\n                </div>\n              ))}\n            </div>\n          </div>\n          <div className=\"onlineCampForm_field\">\n            <div className=\"onlineCampForm_field_title\">\n              내가 코딩 캠프에 꼭 참가해야하는 이유를 적어주세요!{` `}\n              <span>(최대 300자)</span>\n            </div>\n            <textarea\n              name=\"answer1\"\n              value={answer1}\n              placeholder={\"여기에 입력해주세요\"}\n              maxLength=\"300\"\n              onChange={this.onChangeInput}\n            />\n          </div>\n          <div className=\"onlineCampForm_field\">\n            <div className=\"onlineCampForm_field_title\">\n              코딩 캠프에서 만들고 싶은 것이 있으면 적어주세요!{` `}\n              <span>(최대 300자)</span>\n            </div>\n            <textarea\n              name=\"answer2\"\n              value={answer2}\n              placeholder={\"여기에 입력해주세요\"}\n              maxLength=\"300\"\n              onChange={this.onChangeInput}\n            />\n          </div>\n          <div className=\"onlineCampForm_warning\">\n            {warningMessage && `* ${warningMessage}`}\n          </div>\n          <div className=\"onlineCampForm_applyBtn\" onClick={this.onClickApply}>\n            지원하기\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default OnlineCampForm;\n"]},"metadata":{},"sourceType":"module"}