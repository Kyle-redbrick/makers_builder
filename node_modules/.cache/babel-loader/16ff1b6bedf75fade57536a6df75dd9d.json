{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/FindLoginId/index.js\";\nimport React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport Validate from \"../../Util/Validate\";\nimport { showPopUp } from \"../PopUp\";\nimport FindLoginIdResult from \"../FindLoginIdResult\";\nimport \"./index.scss\";\n\nvar FindLoginId =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FindLoginId, _Component);\n\n  function FindLoginId(props) {\n    var _this;\n\n    _classCallCheck(this, FindLoginId);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FindLoginId).call(this, props));\n\n    _this.onChangeInput = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var _Validate$email = Validate.email(value),\n          result = _Validate$email.result,\n          id = _Validate$email.id;\n\n      if (result) {\n        var _this$setState;\n\n        _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"warning\", \"\"), _this$setState));\n      } else {\n        var _this$setState2;\n\n        _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, name, value), _defineProperty(_this$setState2, \"warning\", _this.props.intl.formatMessage({\n          id: id\n        })), _this$setState2));\n      }\n    };\n\n    _this.onClickSendEmail = function () {\n      if (_this.state.email === \"\" || _this.state.warning !== \"\") return;\n\n      _this.setState({\n        warning: _this.props.intl.formatMessage({\n          id: \"ID_VALIDATE_EMAIL_TRY\"\n        })\n      });\n\n      request.sendEmailFindId({\n        verifiedEmail: _this.state.email\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var success = json.success,\n            statusCode = json.statusCode;\n\n        if (success) {\n          _this.props.dismiss();\n\n          showPopUp(React.createElement(FindLoginIdResult, {\n            history: _this.props.history,\n            verifiedEmail: _this.state.email,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }), {\n            darkmode: !_this.props.isBuilder,\n            mobileFullscreen: true\n          });\n        } else {\n          if (statusCode === 404) {\n            _this.setState({\n              warning: _this.props.intl.formatMessage({\n                id: \"ID_VALIDATE_EMAIL_NOT_EXIST\"\n              })\n            });\n          } else {\n            _this.setState({\n              warning: _this.props.intl.formatMessage({\n                id: \"ID_REPORT_POPUP_FAIL_MSG\"\n              })\n            });\n          }\n        }\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      warning: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(FindLoginId, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formatMessage = this.props.intl.formatMessage;\n      return React.createElement(\"div\", {\n        className: \"findlogin-id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"findlogin-id__title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNIN_FORGOT_ID\"\n      })), React.createElement(\"div\", {\n        className: \"findlogin-id__desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_FIND_LOGIN_ID_DESC\"\n      })), React.createElement(\"div\", {\n        className: \"findlogin-id__desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_EMAIL\"\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"findlogin-id__input\",\n        name: \"email\",\n        type: \"text\",\n        placeholder: \"ex) wizlab@wizschool.io\",\n        onChange: this.onChangeInput,\n        onKeyDown: function onKeyDown(e) {\n          if (e.keyCode === 13) _this2.onClickSendEmail();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"findlogin-id__input-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.warning), React.createElement(\"button\", {\n        className: \"findlogin-id__button\",\n        onClick: this.onClickSendEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_EMAIL_SEND_BTN\"\n      })));\n    }\n  }]);\n\n  return FindLoginId;\n}(Component);\n\nexport default injectIntl(FindLoginId);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/FindLoginId/index.js"],"names":["React","Component","injectIntl","request","Validate","showPopUp","FindLoginIdResult","FindLoginId","props","onChangeInput","e","target","name","value","email","result","id","setState","intl","formatMessage","onClickSendEmail","state","warning","sendEmailFindId","verifiedEmail","then","res","json","success","statusCode","dismiss","history","darkmode","isBuilder","mobileFullscreen","keyCode"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport Validate from \"../../Util/Validate\";\nimport { showPopUp } from \"../PopUp\";\nimport FindLoginIdResult from \"../FindLoginIdResult\";\nimport \"./index.scss\";\n\nclass FindLoginId extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      email: \"\",\n      warning: \"\"\n    };\n  }\n\n  onChangeInput = e => {\n    const { name, value } = e.target;\n    const { result, id } = Validate.email(value)\n    if(result){\n      this.setState({ [name]: value, warning: \"\" });\n    } else {\n      this.setState({ [name]: value, warning: this.props.intl.formatMessage({ id: id }) });\n    }\n  };\n\n  onClickSendEmail = () => {\n    if(this.state.email === \"\" || this.state.warning !== \"\") return\n    this.setState({ warning: this.props.intl.formatMessage({ id: \"ID_VALIDATE_EMAIL_TRY\" }) });\n\n    request\n      .sendEmailFindId({ verifiedEmail: this.state.email })\n      .then(res => res.json())\n      .then(json => {\n        const {success , statusCode} = json\n        if(success) {\n          this.props.dismiss();\n          showPopUp(<FindLoginIdResult history={this.props.history} verifiedEmail={this.state.email}/>, {\n            darkmode: !this.props.isBuilder,\n            mobileFullscreen: true\n          });\n        } else {\n          if(statusCode === 404) {\n            this.setState({ warning: this.props.intl.formatMessage({ id: \"ID_VALIDATE_EMAIL_NOT_EXIST\" }) });\n          } else {\n            this.setState({ warning: this.props.intl.formatMessage({ id: \"ID_REPORT_POPUP_FAIL_MSG\" }) });\n          }\n        }\n      })\n  }\n\n  render() {\n    const { formatMessage } = this.props.intl;\n    return (\n      <div className=\"findlogin-id\">\n        <div className=\"findlogin-id__title\">\n          {formatMessage({ id: \"ID_SIGNIN_FORGOT_ID\" })}\n        </div>\n        <div className=\"findlogin-id__desc\">\n          {formatMessage({ id: \"ID_FIND_LOGIN_ID_DESC\" })}\n        </div>\n        <div className=\"findlogin-id__desc\">\n          {formatMessage({ id: \"ID_SIGNUP_EMAIL\" })}\n        </div>\n        <div>\n          <input \n            className=\"findlogin-id__input\"\n            name=\"email\" \n            type=\"text\" \n            placeholder=\"ex) wizlab@wizschool.io\"\n            onChange={this.onChangeInput}\n            onKeyDown={e => {\n              if (e.keyCode === 13) this.onClickSendEmail();\n            }}\n          />\n        </div>\n        <div className=\"findlogin-id__input-warning\">{this.state.warning}</div>\n        <button className=\"findlogin-id__button\" onClick={this.onClickSendEmail}>{formatMessage({ id: \"ID_EMAIL_SEND_BTN\" })}</button>\n    </div>\n    )\n  }\n}\n\nexport default injectIntl(FindLoginId);\n"]},"metadata":{},"sourceType":"module"}