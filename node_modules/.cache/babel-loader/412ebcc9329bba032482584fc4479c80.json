{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/PopUp/EmailAuthPopup/index.js\",\n    _this2 = this;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport moment from \"moment\";\nimport React, { Component } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport Validate from \"../../../Util/Validate\";\nimport Field from \"../../Field\";\nimport \"./index.scss\";\nimport * as request from \"../../../Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../\";\n\nvar EmailAuthPopup = /*#__PURE__*/function (_Component) {\n  _inherits(EmailAuthPopup, _Component);\n\n  var _super = _createSuper(EmailAuthPopup);\n\n  function EmailAuthPopup(props) {\n    var _this;\n\n    _classCallCheck(this, EmailAuthPopup);\n\n    _this = _super.call(this, props);\n\n    _this.onSubmit = function () {\n      request.sendVerifyEmail({\n        receiverEmail: _this.state.pendingEmail\n      }).catch(function (error) {\n        return console.error(error);\n      });\n\n      _this.setState({\n        emailSent: true\n      }, function () {\n        _this.props.handlePendingVerify(_this.state.pendingEmail);\n      });\n    };\n\n    _this.showAlert = function (_ref) {\n      var titleId = _ref.titleId,\n          subtitleId = _ref.subtitleId,\n          buttonNameId = _ref.buttonNameId;\n      var intl = _this.props.intl;\n      showPopUp( /*#__PURE__*/React.createElement(PopUp.OneButton, {\n        title: intl.formatMessage({\n          id: titleId\n        }),\n        subtitle: intl.formatMessage({\n          id: subtitleId\n        }),\n        buttonName: intl.formatMessage({\n          id: buttonNameId\n        }),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.onChange = function (id, value) {\n      _this.setState(_defineProperty({}, id, value));\n    };\n\n    _this.state = {\n      emailSent: false,\n      pendingEmail: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(EmailAuthPopup, [{\n    key: \"emailWarningId\",\n    get: function get() {\n      return Validate.email(this.state.pendingEmail).id;\n    }\n  }, {\n    key: \"isOverAge14\",\n    get: function get() {\n      var birth = this.props.userInfo.birth;\n      var years = moment().diff(birth, \"years\");\n      return years >= 14;\n    }\n  }, {\n    key: \"getVerifyToken\",\n    value: function getVerifyToken() {\n      var search = this.props.location.search;\n      var param = new URLSearchParams(search);\n      var token = param.get(\"verifyToken\");\n      return token;\n    }\n  }, {\n    key: \"render\",\n    value: // onClickBack = () => {\n    //   this.setState({ emailSent: false })\n    // }\n    function render() {\n      var isOverAge14 = this.isOverAge14,\n          emailWarningId = this.emailWarningId,\n          onChange = this.onChange,\n          onSubmit = this.onSubmit;\n      var _this$state = this.state,\n          pendingEmail = _this$state.pendingEmail,\n          emailSent = _this$state.emailSent;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"email-auth-popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, emailSent ? /*#__PURE__*/React.createElement(EmailConfirm, {\n        email: pendingEmail,\n        onConfirm: this.props.dismiss,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }) : /*#__PURE__*/React.createElement(EmailRegister, {\n        email: pendingEmail,\n        isOverAge14: isOverAge14,\n        emailWarningId: emailWarningId,\n        onChange: onChange,\n        onSubmit: onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }));\n    }\n  }]);\n\n  return EmailAuthPopup;\n}(Component);\n\nexport default EmailAuthPopup;\n\nvar EmailRegister = function EmailRegister(props) {\n  var email = props.email,\n      isOverAge14 = props.isOverAge14,\n      onChange = props.onChange,\n      onSubmit = props.onSubmit,\n      emailWarningId = props.emailWarningId;\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email-auth-popup__title\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, isOverAge14 ? /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_EMAIL_VERIFY_REGISTER_TITLE1\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_EMAIL_VERIFY_REGISTER_TITLE2\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"email-auth-popup__message\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, isOverAge14 ? /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_EMAIL_VERIFY_REGISTER_DESC1\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_EMAIL_VERIFY_REGISTER_DESC2\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Field.Text, {\n    id: \"pendingEmail\",\n    value: email,\n    onChange: onChange,\n    warning: email && emailWarningId && /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: emailWarningId,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }),\n    placeholder: \"Ex) wizlab@wizschool.io\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"email-auth-popup__button enable--\".concat(email && !emailWarningId ? true : false),\n    onClick: onSubmit,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_EMAIL_VERIFY_REGISTER_BTN\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar EmailConfirm = function EmailConfirm(props) {\n  var email = props.email,\n      onConfirm = props.onConfirm;\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email-auth-popup__title\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_EMAIL_VERIFY_CONFIRM_TITLE\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"email-auth-popup__message\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_MY_ACCOUNT_CONFIRM_POPUP_MSG\",\n    values: {\n      email: email\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email-auth-popup__confirm\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onConfirm,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_CONFIRM\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/PopUp/EmailAuthPopup/index.js"],"names":["moment","React","Component","FormattedMessage","Validate","Field","request","PopUp","showPopUp","EmailAuthPopup","props","onSubmit","sendVerifyEmail","receiverEmail","state","pendingEmail","catch","error","console","setState","emailSent","handlePendingVerify","showAlert","titleId","subtitleId","buttonNameId","intl","formatMessage","id","onChange","value","email","birth","userInfo","years","diff","search","location","param","URLSearchParams","token","get","isOverAge14","emailWarningId","dismiss","EmailRegister","EmailConfirm","onConfirm"],"mappings":"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","sourcesContent":["import moment from \"moment\";\nimport React, { Component } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport Validate from \"../../../Util/Validate\";\nimport Field from \"../../Field\";\nimport \"./index.scss\";\nimport * as request from \"../../../Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../\"\n\nclass EmailAuthPopup extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      emailSent: false,\n      pendingEmail: \"\"\n    }\n  }\n\n  get emailWarningId() {\n    return Validate.email(this.state.pendingEmail).id;\n  }\n\n  get isOverAge14() {\n    const birth = this.props.userInfo.birth;\n    const years = moment().diff(birth, \"years\");\n    return years >= 14;\n  }\n\n  getVerifyToken() {\n    const search = this.props.location.search;\n    const param = new URLSearchParams(search);\n    const token = param.get(\"verifyToken\");\n    return token;\n  }\n\n  onSubmit = () => {\n    request.sendVerifyEmail({ receiverEmail: this.state.pendingEmail })\n      .catch(error => console.error(error));\n\n    this.setState({ emailSent: true }, () => {\n      this.props.handlePendingVerify(this.state.pendingEmail);\n    });\n  }\n\n  showAlert = ({ titleId, subtitleId, buttonNameId }) => {\n    const { intl } = this.props;\n    showPopUp(\n      <PopUp.OneButton\n        title={intl.formatMessage({ id: titleId })}\n        subtitle={intl.formatMessage({ id: subtitleId })}\n        buttonName={intl.formatMessage({ id: buttonNameId })}\n      />\n    )\n  }\n\n  onChange = (id, value) => {\n    this.setState({ [id]: value })\n  }\n\n  // onClickBack = () => {\n  //   this.setState({ emailSent: false })\n  // }\n\n  render() {\n    const { isOverAge14, emailWarningId, onChange, onSubmit } = this;\n    const { pendingEmail, emailSent } = this.state;\n    return (\n      <div className=\"email-auth-popup\">\n        {emailSent\n          ? <EmailConfirm\n            email={pendingEmail}\n            onConfirm={this.props.dismiss}\n          />\n          : <EmailRegister\n            email={pendingEmail}\n            isOverAge14={isOverAge14}\n            emailWarningId={emailWarningId}\n            onChange={onChange}\n            onSubmit={onSubmit}\n          />}\n      </div>\n    )\n  }\n}\n\nexport default EmailAuthPopup;\n\nconst EmailRegister = props => {\n  const { email, isOverAge14, onChange, onSubmit, emailWarningId } = props;\n  return (\n    <React.Fragment>\n      <div className=\"email-auth-popup__title\">\n        {isOverAge14\n          ? <FormattedMessage id=\"ID_EMAIL_VERIFY_REGISTER_TITLE1\" />\n          : <FormattedMessage id=\"ID_EMAIL_VERIFY_REGISTER_TITLE2\" />\n        }\n      </div>\n      <p className=\"email-auth-popup__message\">\n        {isOverAge14\n          ? <FormattedMessage id=\"ID_EMAIL_VERIFY_REGISTER_DESC1\" />\n          : <FormattedMessage id=\"ID_EMAIL_VERIFY_REGISTER_DESC2\" />\n        }\n      </p>\n      <Field.Text\n        id=\"pendingEmail\"\n        value={email}\n        onChange={onChange}\n        warning={email && emailWarningId && (\n          <FormattedMessage id={emailWarningId} />\n        )}\n        placeholder=\"Ex) wizlab@wizschool.io\"\n      />\n      <button\n        className={`email-auth-popup__button enable--${(email && !emailWarningId) ? true : false}`}\n        onClick={onSubmit}\n      >\n        <FormattedMessage id=\"ID_EMAIL_VERIFY_REGISTER_BTN\" />\n      </button>\n    </React.Fragment>\n  )\n}\n\nconst EmailConfirm = props => {\n  const { email, onConfirm } = props;\n  return (\n    <React.Fragment>\n      <div className=\"email-auth-popup__title\">\n        <FormattedMessage id=\"ID_EMAIL_VERIFY_CONFIRM_TITLE\" />\n      </div>\n      <p className=\"email-auth-popup__message\">\n        <FormattedMessage id=\"ID_MY_ACCOUNT_CONFIRM_POPUP_MSG\" values={{ email }} />\n      </p>\n      <div className=\"email-auth-popup__confirm\">\n        <button onClick={onConfirm}>\n          <FormattedMessage id=\"ID_CONFIRM\" />\n        </button>\n      </div>\n    </React.Fragment>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}