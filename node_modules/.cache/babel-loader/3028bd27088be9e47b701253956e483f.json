{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/RightBar/Container.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport View from \"./View\";\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, props));\n    _this.state = {\n      unReadMsgCount: 0\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var unReadMsgCount = 0;\n      Object.keys(this.props.rooms).forEach(function (id) {\n        unReadMsgCount += _this2.props.rooms[id].unReadMsgCount;\n      });\n\n      if (unReadMsgCount !== this.state.unReadMsgCount) {\n        this.setState({\n          unReadMsgCount: unReadMsgCount\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var unReadMsgCount = this.state.unReadMsgCount;\n      var _this$props = this.props,\n          popupStates = _this$props.popupStates,\n          handleSelectTab = _this$props.handleSelectTab,\n          handleChangeZIndex = _this$props.handleChangeZIndex,\n          pageType = _this$props.pageType,\n          liveProps = _this$props.liveProps,\n          intl = _this$props.intl,\n          editorMode = _this$props.editorMode,\n          isTutor = _this$props.isTutor,\n          isShowAnimationPopup = _this$props.isShowAnimationPopup,\n          organization = _this$props.organization;\n      return React.createElement(View, {\n        pageType: pageType,\n        popupStates: popupStates,\n        handleSelectTab: handleSelectTab,\n        handleChangeZIndex: handleChangeZIndex,\n        liveProps: liveProps,\n        unReadMsgCount: unReadMsgCount,\n        intl: intl,\n        editorMode: editorMode,\n        isTutor: isTutor,\n        isShowAnimationPopup: isShowAnimationPopup,\n        organization: organization,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    rooms: state.chat.rooms,\n    selectedRoomId: state.chat.selectedRoomId,\n    editorMode: state.scene.editorMode,\n    organization: state.userinfo.organization\n  };\n}, {})(injectIntl(Container));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/RightBar/Container.js"],"names":["React","Component","connect","injectIntl","View","Container","props","state","unReadMsgCount","Object","keys","rooms","forEach","id","setState","popupStates","handleSelectTab","handleChangeZIndex","pageType","liveProps","intl","editorMode","isTutor","isShowAnimationPopup","organization","chat","selectedRoomId","scene","userinfo"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAOC,IAAP,MAAiB,QAAjB;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KAAb;AAFiB;AAGlB;;;;yCACoB;AAAA;;AACnB,UAAIA,cAAc,GAAG,CAArB;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKJ,KAAL,CAAWK,KAAvB,EAA8BC,OAA9B,CAAsC,UAAAC,EAAE,EAAI;AAC1CL,QAAAA,cAAc,IAAI,MAAI,CAACF,KAAL,CAAWK,KAAX,CAAiBE,EAAjB,EAAqBL,cAAvC;AACD,OAFD;;AAGA,UAAIA,cAAc,KAAK,KAAKD,KAAL,CAAWC,cAAlC,EAAkD;AAChD,aAAKM,QAAL,CAAc;AAAEN,UAAAA,cAAc,EAAdA;AAAF,SAAd;AACD;AACF;;;6BAEQ;AAAA,UACCA,cADD,GACoB,KAAKD,KADzB,CACCC,cADD;AAAA,wBAaH,KAAKF,KAbF;AAAA,UAGLS,WAHK,eAGLA,WAHK;AAAA,UAILC,eAJK,eAILA,eAJK;AAAA,UAKLC,kBALK,eAKLA,kBALK;AAAA,UAMLC,QANK,eAMLA,QANK;AAAA,UAOLC,SAPK,eAOLA,SAPK;AAAA,UAQLC,IARK,eAQLA,IARK;AAAA,UASLC,UATK,eASLA,UATK;AAAA,UAULC,OAVK,eAULA,OAVK;AAAA,UAWLC,oBAXK,eAWLA,oBAXK;AAAA,UAYLC,YAZK,eAYLA,YAZK;AAcP,aACE,oBAAC,IAAD;AACE,QAAA,QAAQ,EAAEN,QADZ;AAEE,QAAA,WAAW,EAAEH,WAFf;AAGE,QAAA,eAAe,EAAEC,eAHnB;AAIE,QAAA,kBAAkB,EAAEC,kBAJtB;AAKE,QAAA,SAAS,EAAEE,SALb;AAME,QAAA,cAAc,EAAEX,cANlB;AAOE,QAAA,IAAI,EAAEY,IAPR;AAQE,QAAA,UAAU,EAAEC,UARd;AASE,QAAA,OAAO,EAAEC,OATX;AAUE,QAAA,oBAAoB,EAAEC,oBAVxB;AAWE,QAAA,YAAY,EAAEC,YAXhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAeD;;;;EA5CqBvB,S;;AA+CxB,eAAeC,OAAO,CACpB,UAAAK,KAAK;AAAA,SAAK;AACRI,IAAAA,KAAK,EAAEJ,KAAK,CAACkB,IAAN,CAAWd,KADV;AAERe,IAAAA,cAAc,EAAEnB,KAAK,CAACkB,IAAN,CAAWC,cAFnB;AAGRL,IAAAA,UAAU,EAAEd,KAAK,CAACoB,KAAN,CAAYN,UAHhB;AAIRG,IAAAA,YAAY,EAAEjB,KAAK,CAACqB,QAAN,CAAeJ;AAJrB,GAAL;AAAA,CADe,EAOpB,EAPoB,CAAP,CAQbrB,UAAU,CAACE,SAAD,CARG,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport View from \"./View\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { unReadMsgCount: 0 };\n  }\n  componentDidUpdate() {\n    let unReadMsgCount = 0;\n    Object.keys(this.props.rooms).forEach(id => {\n      unReadMsgCount += this.props.rooms[id].unReadMsgCount;\n    });\n    if (unReadMsgCount !== this.state.unReadMsgCount) {\n      this.setState({ unReadMsgCount });\n    }\n  }\n\n  render() {\n    const { unReadMsgCount } = this.state;\n    const {\n      popupStates,\n      handleSelectTab,\n      handleChangeZIndex,\n      pageType,\n      liveProps,\n      intl,\n      editorMode,\n      isTutor,\n      isShowAnimationPopup,\n      organization\n    } = this.props;\n    return (\n      <View\n        pageType={pageType}\n        popupStates={popupStates}\n        handleSelectTab={handleSelectTab}\n        handleChangeZIndex={handleChangeZIndex}\n        liveProps={liveProps}\n        unReadMsgCount={unReadMsgCount}\n        intl={intl}\n        editorMode={editorMode}\n        isTutor={isTutor}\n        isShowAnimationPopup={isShowAnimationPopup}\n        organization={organization}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    rooms: state.chat.rooms,\n    selectedRoomId: state.chat.selectedRoomId,\n    editorMode: state.scene.editorMode,\n    organization: state.userinfo.organization\n  }),\n  {}\n)(injectIntl(Container));\n"]},"metadata":{},"sourceType":"module"}