{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _taggedTemplateLiteral from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8,\n    _templateObject9,\n    _templateObject10,\n    _templateObject11,\n    _templateObject12,\n    _templateObject13,\n    _templateObject14,\n    _templateObject15,\n    _templateObject16,\n    _templateObject17,\n    _templateObject18,\n    _templateObject19,\n    _templateObject20,\n    _templateObject21,\n    _templateObject22,\n    _templateObject23,\n    _templateObject24,\n    _templateObject25,\n    _templateObject26,\n    _templateObject27,\n    _templateObject28,\n    _templateObject29,\n    _templateObject30,\n    _templateObject31,\n    _templateObject32,\n    _templateObject33,\n    _templateObject34,\n    _templateObject35,\n    _templateObject36,\n    _this = this,\n    _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/LMS/Sections/Questions.js\";\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport styled from \"@emotion/styled\";\nimport { getQnas } from \"../api\";\nimport { Question } from \"../../../models\";\nimport Button from \"../Components/Button\";\nimport Title from \"../Components/Title\";\nimport { COLOR } from \"./../Constants\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport { FormattedMessage } from \"react-intl\";\nvar Self = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\" flex: 1;\\n  padding-bottom: 100px;\\n\\n  @media screen and (max-width: 1169px){\\n    width: 88.33vw;\\n    margin: 0 auto;\\n  }\\n\"])));\nvar StyledLink = styled(Link)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  font-size: 0;\\n\"])));\nvar StyledTitle = styled(Title)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  padding-top: 10px;\\n  margin-bottom: 0;\\n  align-items: flex-end;\\n\\n  @media screen and (max-width: 1169px){\\n    padding-top: 0;\\n    align-items: center;\\n  }\\n\"])));\nvar TitleText = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  flex: 1;\\n\\n  @media screen and (max-width: 1169px){\\n    font-size: 24px;\\n  }\\n\"])));\nvar TitleButton = styled(Button)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n\\n  @media screen and (max-width: 1169px){\\n    width: 120px;\\n    height: 40px;\\n    font-size: 14px;\\n    font-weight: 500\\n  }\\n\"])), COLOR.ORANGE);\nvar PrevButton = styled(Button)(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  width: 92px;\\n  height: 34px;\\n  margin-right: 28px;\\n  border-radius: 17px;\\n  color: rgba(255, 255, 255, 0.5);\\n  background-color: #1a1a1a;\\n\"])));\nvar NextButton = styled(Button)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  width: 92px;\\n  height: 34px;\\n  margin-left: 28px;\\n  border-radius: 17px;\\n  background-color: rgba(255, 255, 255, 0.3);\\n\"])));\nvar PageButton = styled(Button)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  width: 44px;\\n  height: 34px;\\n  margin: 0 0 0 10px;\\n  /* padding: 11px 17px 9px 18px; */\\n  border-radius: 17px;\\n  background-color: \", \";\\n\"])), function (props) {\n  return props.active ? COLOR.ORANGE : \"rgba(255, 255, 255, 0.2)\";\n});\nvar PaginationWrap = styled.div(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  /* align-items: center; */\\n  margin: 39px 0 67px 0;\\n\"])));\nvar EmptyQuestions = styled.div(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n  padding-top: 51.5px;\\n  padding-bottom: 118px;\\n  text-align: center;\\n\"])));\nvar EmptyIcon = styled.img(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  width: 150px;\\n  margin-bottom: 20px;\\n\"])));\nvar EmptyTitle = styled.div(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  font-size: 22px;\\n  font-weight: 500;\\n  line-height: 1;\\n  color: rgba(255, 255, 255, 0.5);\\n  margin-bottom: 20px;\\n\"])));\nvar EmptyDesc = styled.div(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n  width: 296px;\\n  margin: 0 auto;\\n  font-size: 16px;\\n  line-height: 1.56;\\n  color: rgba(255, 255, 255, 0.5);\\n\"])));\nvar StyledQuestions = styled.div(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\\n  margin-bottom: 16px;\\n\"])));\nvar StyledQuestion = styled.div(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n  height: 52px;\\n  display: flex;\\n  align-items: center;\\n  border-bottom: solid 1px rgba(255, 255, 255, 0.2);\\n\"]))); // const QuestionId = styled.div`\n//   width: 72px;\n//   font-size: 16px;\n//   line-height: 1.38;\n//   text-align: center;\n//   color: rgba(255, 255, 255, 0.5);\n// `;\n\nvar QuestionType = styled.div(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\n  width: 72px;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  text-align: center;\\n  color: rgba(255, 255, 255, 0.5);\\n  margin-left: 16px;\\n\\n  @media screen and (max-width: 1169px){\\n    width: 63px;\\n    margin-left: 0;\\n  }\\n\"])));\nvar QuestionTitle = styled.div(_templateObject17 || (_templateObject17 = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: #fff;\\n  margin-left: 25px;\\n\\n  @media screen and (max-width: 1169px){\\n    max-width: calc(100% - 63px - 100px); // 63px: \\uD0C0\\uC785, 100px: \\uB2F5\\uBCC0 \\uC0C1\\uD0DC\\n    margin-left: 16px;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\"])));\nvar QuestionLink = styled(Link)(_templateObject18 || (_templateObject18 = _taggedTemplateLiteral([\"\\n  color: inherit;\\n  text-decoration: none;\\n  /* max-width: 870px;\\n  overflow: hidden;\\n  padding-right: 1rem;\\n  position: relative;\\n\\n  &:after {\\n    position: absolute;\\n    content: \\\"...\\\";\\n  } */\\n\"])));\nvar QuestionCreatedAt = styled.div(_templateObject19 || (_templateObject19 = _taggedTemplateLiteral([\"\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: rgba(255, 255, 255, 0.5);\\n  width: 138px;\\n\\n  @media screen and (max-width: 1169px){\\n    display: none;\\n  }\\n\"])));\nvar StyledQuestionReplied = styled.div(_templateObject20 || (_templateObject20 = _taggedTemplateLiteral([\"\\n  width: 150px;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: rgba(255, 255, 255, 0.5);\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  padding: 0 25px;\\n\\n  @media screen and (max-width: 1169px){\\n    width: 100px;\\n    padding: 0 0 0 20px;\\n  }\\n\"])));\nvar QuestionRepliedIcon = styled.div(_templateObject21 || (_templateObject21 = _taggedTemplateLiteral([\"\\n  width: 10px;\\n  height: 10px;\\n  margin-right: 5px;\\n  background-color: \", \";\\n  border-radius: 5px;\\n\"])), function (props) {\n  return props.active ? COLOR.MINT : \"rgba(255, 255, 255, 0.2)\";\n}); // const More = styled.div`\n//   width: 52px;\n//   height: 52px;\n//   cursor: pointer;\n//   background-size: contain;\n//   background-repeat: no-repeat;\n//   background-position: center;\n//   background-image: url(${IMAGE.ICON_MORE});\n//   margin: 0 auto;\n// `;\n\nvar NewTag = styled.span(_templateObject22 || (_templateObject22 = _taggedTemplateLiteral([\"\\n  width: 27px;\\n  height: 22px;\\n  font-size: 11px;\\n  font-weight: bold;\\n  line-height: 2;\\n  letter-spacing: 0.6px;\\n  text-align: center;\\n  color: \", \";\\n  margin-left: 10px;\\n\"])), COLOR.ORANGE);\nvar TypeSelect = styled.div(_templateObject23 || (_templateObject23 = _taggedTemplateLiteral([\"\\n  width: 120px;\\n  height: 52px;\\n  padding: 16px;\\n  border-radius: 10px;\\n  background-color: #1c1c1c;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: \", \";\\n  position: relative;\\n  cursor: pointer;\\n  margin-right: 10px;\\n\\n  @media screen and (max-width: 1169px){\\n    display: none;\\n  }\\n\"])), COLOR.ORANGE);\nvar MobileTypeSelect = styled.button(_templateObject24 || (_templateObject24 = _taggedTemplateLiteral([\"\\n  display: none;\\n\\n  @media screen and (max-width: 1169px){\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin-right: 10px;\\n    width: 40px;\\n    height: 40px;\\n    border-radius: 10px;\\n    background-color: #252525;\\n    border: none;\\n    outline: none;\\n  }\\n\"])));\nvar MobileTypeIcon = styled.img(_templateObject25 || (_templateObject25 = _taggedTemplateLiteral([\"\\n  width: 34px;\\n  height: 34px;\\n\"])));\nvar IconSelect = styled.div(_templateObject26 || (_templateObject26 = _taggedTemplateLiteral([\"\\n  width: 20px;\\n  height: 20px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: \", \";\\n  position: absolute;\\n  right: 16px;\\n  top: 16px;\\n\"])), function (props) {\n  return props.active ? \"url(\".concat(IMAGE.ICON_SELECT_OPEN, \")\") : \"url(\".concat(IMAGE.ICON_SELECT, \")\");\n});\nvar SelectOptions = styled.div(_templateObject27 || (_templateObject27 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 62px;\\n  left: 0;\\n  width: 100%;\\n  padding: 10px;\\n  border-radius: 16px;\\n  box-shadow: 0 20px 50px 0 rgba(0, 0, 0, 0.5);\\n  background-color: #1c1c1c;\\n  z-index: 10;\\n  display: \", \";\\n\"])), function (props) {\n  return props.active ? 'block' : 'none';\n});\nvar Option = styled.div(_templateObject28 || (_templateObject28 = _taggedTemplateLiteral([\"\\n  padding: 14px 16px 12px;\\n  border-radius: 10px;\\n  font-size: 16px;\\n  line-height: 1.5;\\n  color: #fff;\\n  border-radius: 10px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: rgba(255, 255, 255, 0.05);\\n  }\\n\\n  \", \"\\n\"])), function (props) {\n  return props.selected && \"\\n    background-color: rgba(255, 255, 255, 0.05);\\n\\n    @media screen and (max-width: 1169px){\\n      background-color: #1c1c1c;\\n      color: #ff6f44;\\n    }\\n  \";\n});\nvar DeletedQuestionMessage = styled.div(_templateObject29 || (_templateObject29 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: rgba(255, 255, 255, 0.5);\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"])));\nvar MobileFilterWrap = styled.div(_templateObject30 || (_templateObject30 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  z-index: 10; // \\uBAA8\\uBC14\\uC77C \\uACF5\\uD1B5 \\uBA54\\uB274 \\uAC00\\uB9AC\\uAE30 \\uC704\\uD568\\n  top: 50px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 100%;\\n  height: calc(100% - 50px);\\n  padding-top: 20px;\\n  background: #000000;\\n  color: #ffffff;\\n\"])));\nvar MobileFilterTop = styled.div(_templateObject31 || (_templateObject31 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: calc(100% - 42px);\\n  margin: 0 auto;\\n\"])));\nvar BackBtn = styled.img(_templateObject32 || (_templateObject32 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  width: 32px;\\n  height: 32px;\\n  cursor: pointer;\\n\"])));\nvar MobileFilterTitle = styled.div(_templateObject33 || (_templateObject33 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  font-size: 24px;\\n  font-weight: bold;\\n  line-height: 1.33;\\n  text-align: center;\\n\"])));\nvar MobileFilterBody = styled.div(_templateObject34 || (_templateObject34 = _taggedTemplateLiteral([\"\\n  width: calc(100% - 42px);\\n  margin: 0 auto;\\n\"])));\nvar MobileFilterOption = styled.div(_templateObject35 || (_templateObject35 = _taggedTemplateLiteral([\"\\n  padding: 19.5px 0;\\n\\n  &:nth-child(2){\\n    border-top: solid 1px rgba(255, 255, 255, 0.2);\\n  }\\n\"])));\nvar MobileFilterSubTitle = styled.div(_templateObject36 || (_templateObject36 = _taggedTemplateLiteral([\"\\n  line-height: 50px;\\n  padding-left: 12px;\\n  font-size: 18px;\\n  font-weight: 500;\\n\"])));\n\nvar QuestionReplied = function QuestionReplied(_ref) {\n  var _ref$replied = _ref.replied,\n      replied = _ref$replied === void 0 ? false : _ref$replied;\n  return /*#__PURE__*/React.createElement(StyledQuestionReplied, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(QuestionRepliedIcon, {\n    active: replied,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }\n  }), replied ? /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_ANSWERED\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_UNANSWERED\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }\n  }));\n};\n\nvar QuestionSection = function QuestionSection(_ref2) {\n  var question = _ref2.question;\n  return /*#__PURE__*/React.createElement(StyledQuestion, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(QuestionType, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }\n  }, question.type === \"tech\" ? /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_TECH\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_STUDY\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(QuestionTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 7\n    }\n  }, question.isDeleted ? /*#__PURE__*/React.createElement(DeletedQuestionMessage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  }, \"(This question has been deleted by the manager)\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(QuestionLink, {\n    to: \"/lms/questions/detail/\".concat(question.id),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 13\n    }\n  }, question.title), isNew24(question.createdAt, Date.now()) && /*#__PURE__*/React.createElement(NewTag, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 57\n    }\n  }, \"New\"))), /*#__PURE__*/React.createElement(QuestionCreatedAt, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }\n  }, question.formattedCreatedAt()), /*#__PURE__*/React.createElement(QuestionReplied, {\n    replied: !!question.reply,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar QuestionPagination = function QuestionPagination(_ref3) {\n  var page = _ref3.page,\n      pageCount = _ref3.pageCount,\n      onChange = _ref3.onChange;\n  var PER_PAGE = 5;\n  var pagination = buildPagination(page, pageCount, PER_PAGE);\n  return /*#__PURE__*/React.createElement(PaginationWrap, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PrevButton, {\n    onClick: function onClick() {\n      if (page === 1) return;\n      onChange(page - 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_PREV\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 9\n    }\n  })), pagination.map(function (num) {\n    return /*#__PURE__*/React.createElement(PageButton, {\n      key: num,\n      active: num === page,\n      onClick: function onClick() {\n        return onChange(num);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }\n    }, num);\n  }), /*#__PURE__*/React.createElement(NextButton, {\n    onClick: function onClick() {\n      if (page === pageCount) return;\n      onChange(page + 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_NEXT\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar ALL = /*#__PURE__*/React.createElement(FormattedMessage, {\n  id: \"ID_ALL\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 455,\n    columnNumber: 13\n  }\n});\nvar ANSWERED = /*#__PURE__*/React.createElement(FormattedMessage, {\n  id: \"ID_QNA_QUESTION_ANSWERED\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 456,\n    columnNumber: 18\n  }\n});\nvar UNANSWERED = /*#__PURE__*/React.createElement(FormattedMessage, {\n  id: \"ID_QNA_QUESTION_UNANSWERED\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 20\n  }\n});\nvar ORDER_BY_CREATED = /*#__PURE__*/React.createElement(FormattedMessage, {\n  id: \"ID_QNA_ORDER_CREATE\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 458,\n    columnNumber: 26\n  }\n});\nvar ORDER_BY_UPDATED = /*#__PURE__*/React.createElement(FormattedMessage, {\n  id: \"ID_QNA_ORDER_UPDATE\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 459,\n    columnNumber: 26\n  }\n});\nvar REPLY_STATUS = [ALL, ANSWERED, UNANSWERED];\nvar SORT_TYPE = [ORDER_BY_CREATED, ORDER_BY_UPDATED];\n\nvar QuestionsPage = function QuestionsPage(_ref4) {\n  var props = _extends({}, _ref4);\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1]; // const [offset, setOffset] = useState(10);\n\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      questions = _useState4[0],\n      setQuestions = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      questionsCount = _useState6[0],\n      setQuestionsCount = _useState6[1];\n\n  var _useState7 = useState({\n    reply: false,\n    sort: false\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showOptions = _useState8[0],\n      setShowOptions = _useState8[1];\n\n  var _useState9 = useState(ALL),\n      _useState10 = _slicedToArray(_useState9, 2),\n      replyStatus = _useState10[0],\n      setReplyStatus = _useState10[1];\n\n  var _useState11 = useState(ORDER_BY_UPDATED),\n      _useState12 = _slicedToArray(_useState11, 2),\n      sortType = _useState12[0],\n      setSortType = _useState12[1];\n\n  var PAGE_SIZE = 10;\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isMobileFilterOn = _useState14[0],\n      setIsMobileFilterOn = _useState14[1];\n\n  useEffect(function () {\n    fetch();\n  }, [page]);\n  useEffect(function () {\n    setShowOptions(_objectSpread({}, showOptions, {\n      reply: false\n    }));\n    fetch();\n  }, [replyStatus]);\n  useEffect(function () {\n    setShowOptions(_objectSpread({}, showOptions, {\n      sort: false\n    }));\n    fetch();\n  }, [sortType]);\n  var fetch = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var params, _questions;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            params = {\n              offset: Number(page - 1) * Number(PAGE_SIZE),\n              limit: Number(PAGE_SIZE),\n              userId: props.userId,\n              order: [\"\", ALL, ORDER_BY_CREATED].includes(sortType) ? \"createdAt\" : \"updatedAt\",\n              reply: [\"\", ALL].includes(replyStatus) ? \"all\" : replyStatus === ANSWERED ? \"complete\" : \"ready\"\n            };\n            _context.next = 3;\n            return getQnas(params);\n\n          case 3:\n            _questions = _context.sent;\n            setQuestionsCount(_questions.count);\n            setQuestions(_questions.rows.map(function (q) {\n              return new Question(q);\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [page, setQuestions, questions, sortType, replyStatus]);\n  var toggleOptions = useCallback(function (type, isShow) {\n    setShowOptions(_objectSpread({}, showOptions, _defineProperty({}, type, !isShow)));\n  }, [showOptions]);\n\n  var handleChangeReplyStatus = function handleChangeReplyStatus(status) {\n    setReplyStatus(status);\n  };\n\n  var handleChangeSortType = function handleChangeSortType(type) {\n    setSortType(type);\n  };\n\n  return /*#__PURE__*/React.createElement(Self, Object.assign({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 5\n    }\n  }), isMobileFilterOn ? /*#__PURE__*/React.createElement(MobileFilterWrap, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MobileFilterTop, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BackBtn, {\n    src: IMAGE.ICON_BACK,\n    onClick: function onClick() {\n      setIsMobileFilterOn(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MobileFilterTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 13\n    }\n  }, \"\\uD544\\uD130\")), /*#__PURE__*/React.createElement(MobileFilterBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MobileFilterOption, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MobileFilterSubTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_RESULT\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 17\n    }\n  })), REPLY_STATUS.map(function (status, i) {\n    return /*#__PURE__*/React.createElement(Option, {\n      onClick: function onClick() {\n        return handleChangeReplyStatus(status);\n      },\n      selected: replyStatus === status,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 17\n      }\n    }, status);\n  })), /*#__PURE__*/React.createElement(MobileFilterOption, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MobileFilterSubTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_SORT\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 17\n    }\n  })), SORT_TYPE.map(function (type, i) {\n    return /*#__PURE__*/React.createElement(Option, {\n      onClick: function onClick() {\n        return handleChangeSortType(type);\n      },\n      selected: sortType === type,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 17\n      }\n    }, type);\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TitleText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_LMS_QUESTION\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TypeSelect, {\n    selected: replyStatus !== \"\",\n    onClick: function onClick() {\n      return toggleOptions(\"reply\", showOptions.reply);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_RESULT\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IconSelect, {\n    active: showOptions.reply,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SelectOptions, {\n    active: showOptions.reply,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 15\n    }\n  }, REPLY_STATUS.map(function (status, i) {\n    return /*#__PURE__*/React.createElement(Option, {\n      onClick: function onClick() {\n        return handleChangeReplyStatus(status);\n      },\n      selected: replyStatus === status,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 19\n      }\n    }, status);\n  }))), /*#__PURE__*/React.createElement(TypeSelect, {\n    selected: sortType !== \"\",\n    onClick: function onClick() {\n      return toggleOptions(\"sort\", showOptions.sort);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_QUESTION_SORT\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IconSelect, {\n    active: showOptions.sort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SelectOptions, {\n    active: showOptions.sort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 15\n    }\n  }, SORT_TYPE.map(function (type, i) {\n    return /*#__PURE__*/React.createElement(Option, {\n      onClick: function onClick() {\n        return handleChangeSortType(type);\n      },\n      selected: sortType === type,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 19\n      }\n    }, type);\n  }))), /*#__PURE__*/React.createElement(MobileTypeSelect, {\n    onClick: function onClick() {\n      return setIsMobileFilterOn(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MobileTypeIcon, {\n    src: IMAGE.MOBILE_QUESTION_FILTER,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(StyledLink, {\n    to: \"/lms/questions/new\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TitleButton, {\n    width: 150,\n    height: 50,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_WRITE_QUESTION_TITLE\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 17\n    }\n  })))), questions.length ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledQuestions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 15\n    }\n  }, questions.map(function (question, i) {\n    return /*#__PURE__*/React.createElement(QuestionSection, {\n      question: question,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 19\n      }\n    });\n  })), /*#__PURE__*/React.createElement(QuestionPagination, {\n    page: page,\n    pageCount: Math.ceil(questionsCount / PAGE_SIZE),\n    onChange: setPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(EmptyQuestions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EmptyIcon, {\n    alt: \"\\uC9C8\\uBB38\\uD558\\uAE30 \\uC544\\uC774\\uCF58\",\n    src: IMAGE.ICON_NOTE,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(EmptyTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_IS_NEW_QUESTION\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(EmptyDesc, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_ABOUT_QUETION\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_QNA_DO_QUETION\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default connect(function (state) {\n  return {\n    userId: state.userinfo.id\n  };\n}, {})(QuestionsPage);\n\nfunction isNew24(targetTime, nowDate) {\n  return moment(nowDate).isBefore(moment(targetTime).add(24, \"hours\"));\n}\n\n;\n\nfunction buildPagination(page, pages, perPage) {\n  var a = Math.floor(page / perPage);\n  var pageNumbers = Array(pages).fill(1).map(function (num, i) {\n    return num + i;\n  }); // 총 페이지가 페이지 사이즈보다 작을 때\n\n  if (pages <= perPage) {\n    return pageNumbers.slice(0, perPage); // 현재 페이지가 페이지 사이즈보다 크고 총 페이지에서 현재 페이지를 뺀 값이 페이지 사이즈 보다 작을 때\n  } else if (page > perPage && pages - page < perPage) {\n    return pageNumbers.slice(a * perPage, pages); // 현재 페이지와 페이지 사이즈가 같을 때\n  } else if (page % perPage === 0) {\n    return pageNumbers.slice((a - 1) * perPage, a * perPage); // 현재 페이지가 페이지 사이즈보다 클 때\n  } else if (page > a * perPage) {\n    return pageNumbers.slice(a * perPage, (a + 1) * perPage);\n  }\n}\n\n;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/LMS/Sections/Questions.js"],"names":["React","useCallback","useEffect","useState","Link","connect","moment","styled","getQnas","Question","Button","Title","COLOR","IMAGE","FormattedMessage","Self","div","StyledLink","StyledTitle","TitleText","TitleButton","ORANGE","PrevButton","NextButton","PageButton","props","active","PaginationWrap","EmptyQuestions","EmptyIcon","img","EmptyTitle","EmptyDesc","StyledQuestions","StyledQuestion","QuestionType","QuestionTitle","QuestionLink","QuestionCreatedAt","StyledQuestionReplied","QuestionRepliedIcon","MINT","NewTag","span","TypeSelect","MobileTypeSelect","button","MobileTypeIcon","IconSelect","ICON_SELECT_OPEN","ICON_SELECT","SelectOptions","Option","selected","DeletedQuestionMessage","MobileFilterWrap","MobileFilterTop","BackBtn","MobileFilterTitle","MobileFilterBody","MobileFilterOption","MobileFilterSubTitle","QuestionReplied","replied","QuestionSection","question","type","isDeleted","id","title","isNew24","createdAt","Date","now","formattedCreatedAt","reply","QuestionPagination","page","pageCount","onChange","PER_PAGE","pagination","buildPagination","map","num","ALL","ANSWERED","UNANSWERED","ORDER_BY_CREATED","ORDER_BY_UPDATED","REPLY_STATUS","SORT_TYPE","QuestionsPage","setPage","questions","setQuestions","questionsCount","setQuestionsCount","sort","showOptions","setShowOptions","replyStatus","setReplyStatus","sortType","setSortType","PAGE_SIZE","isMobileFilterOn","setIsMobileFilterOn","fetch","params","offset","Number","limit","userId","order","includes","_questions","count","rows","q","toggleOptions","isShow","handleChangeReplyStatus","status","handleChangeSortType","ICON_BACK","i","MOBILE_QUESTION_FILTER","length","Math","ceil","ICON_NOTE","state","userinfo","targetTime","nowDate","isBefore","add","pages","perPage","a","floor","pageNumbers","Array","fill","slice"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport styled from \"@emotion/styled\";\nimport { getQnas } from \"../api\";\nimport { Question } from \"../../../models\";\n\nimport Button from \"../Components/Button\";\nimport Title from \"../Components/Title\";\n\nimport { COLOR } from \"./../Constants\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport { FormattedMessage } from \"react-intl\";\n\nconst Self = styled.div` flex: 1;\n  padding-bottom: 100px;\n\n  @media screen and (max-width: 1169px){\n    width: 88.33vw;\n    margin: 0 auto;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  font-size: 0;\n`;\n\nconst StyledTitle = styled(Title)`\n  padding-top: 10px;\n  margin-bottom: 0;\n  align-items: flex-end;\n\n  @media screen and (max-width: 1169px){\n    padding-top: 0;\n    align-items: center;\n  }\n`;\n\nconst TitleText = styled.div`\n  flex: 1;\n\n  @media screen and (max-width: 1169px){\n    font-size: 24px;\n  }\n`;\n\nconst TitleButton = styled(Button)`\n  background-color: ${COLOR.ORANGE};\n\n  @media screen and (max-width: 1169px){\n    width: 120px;\n    height: 40px;\n    font-size: 14px;\n    font-weight: 500\n  }\n`;\n\nconst PrevButton = styled(Button)`\n  width: 92px;\n  height: 34px;\n  margin-right: 28px;\n  border-radius: 17px;\n  color: rgba(255, 255, 255, 0.5);\n  background-color: #1a1a1a;\n`\n\nconst NextButton = styled(Button)`\n  width: 92px;\n  height: 34px;\n  margin-left: 28px;\n  border-radius: 17px;\n  background-color: rgba(255, 255, 255, 0.3);\n`\nconst PageButton = styled(Button)`\n  width: 44px;\n  height: 34px;\n  margin: 0 0 0 10px;\n  /* padding: 11px 17px 9px 18px; */\n  border-radius: 17px;\n  background-color: ${(props) => (props.active ? COLOR.ORANGE : \"rgba(255, 255, 255, 0.2)\")};\n`\n\nconst PaginationWrap = styled.div`\n  display: flex;\n  justify-content: center;\n  /* align-items: center; */\n  margin: 39px 0 67px 0;\n`\n\nconst EmptyQuestions = styled.div`\n  padding-top: 51.5px;\n  padding-bottom: 118px;\n  text-align: center;\n`;\n\nconst EmptyIcon = styled.img`\n  width: 150px;\n  margin-bottom: 20px;\n`;\n\nconst EmptyTitle = styled.div`\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 1;\n  color: rgba(255, 255, 255, 0.5);\n  margin-bottom: 20px;\n`;\n\nconst EmptyDesc = styled.div`\n  width: 296px;\n  margin: 0 auto;\n  font-size: 16px;\n  line-height: 1.56;\n  color: rgba(255, 255, 255, 0.5);\n`;\n\nconst StyledQuestions = styled.div`\n  margin-bottom: 16px;\n`;\n\nconst StyledQuestion = styled.div`\n  height: 52px;\n  display: flex;\n  align-items: center;\n  border-bottom: solid 1px rgba(255, 255, 255, 0.2);\n`;\n\n// const QuestionId = styled.div`\n//   width: 72px;\n//   font-size: 16px;\n//   line-height: 1.38;\n//   text-align: center;\n//   color: rgba(255, 255, 255, 0.5);\n// `;\n\nconst QuestionType = styled.div`\n  width: 72px;\n  font-size: 16px;\n  line-height: 1.38;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.5);\n  margin-left: 16px;\n\n  @media screen and (max-width: 1169px){\n    width: 63px;\n    margin-left: 0;\n  }\n`;\n\nconst QuestionTitle = styled.div`\n  flex: 1;\n  font-size: 16px;\n  line-height: 1.38;\n  color: #fff;\n  margin-left: 25px;\n\n  @media screen and (max-width: 1169px){\n    max-width: calc(100% - 63px - 100px); // 63px: 타입, 100px: 답변 상태\n    margin-left: 16px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\nconst QuestionLink = styled(Link)`\n  color: inherit;\n  text-decoration: none;\n  /* max-width: 870px;\n  overflow: hidden;\n  padding-right: 1rem;\n  position: relative;\n\n  &:after {\n    position: absolute;\n    content: \"...\";\n  } */\n`;\n\nconst QuestionCreatedAt = styled.div`\n  font-size: 16px;\n  line-height: 1.38;\n  color: rgba(255, 255, 255, 0.5);\n  width: 138px;\n\n  @media screen and (max-width: 1169px){\n    display: none;\n  }\n`;\n\nconst StyledQuestionReplied = styled.div`\n  width: 150px;\n  font-size: 16px;\n  line-height: 1.38;\n  color: rgba(255, 255, 255, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0 25px;\n\n  @media screen and (max-width: 1169px){\n    width: 100px;\n    padding: 0 0 0 20px;\n  }\n`;\n\nconst QuestionRepliedIcon = styled.div`\n  width: 10px;\n  height: 10px;\n  margin-right: 5px;\n  background-color: ${(props) => (props.active ? COLOR.MINT : \"rgba(255, 255, 255, 0.2)\")};\n  border-radius: 5px;\n`;\n\n// const More = styled.div`\n//   width: 52px;\n//   height: 52px;\n//   cursor: pointer;\n//   background-size: contain;\n//   background-repeat: no-repeat;\n//   background-position: center;\n//   background-image: url(${IMAGE.ICON_MORE});\n//   margin: 0 auto;\n// `;\n\nconst NewTag = styled.span`\n  width: 27px;\n  height: 22px;\n  font-size: 11px;\n  font-weight: bold;\n  line-height: 2;\n  letter-spacing: 0.6px;\n  text-align: center;\n  color: ${COLOR.ORANGE};\n  margin-left: 10px;\n`\n\nconst TypeSelect = styled.div`\n  width: 120px;\n  height: 52px;\n  padding: 16px;\n  border-radius: 10px;\n  background-color: #1c1c1c;\n  font-size: 16px;\n  line-height: 1.38;\n  color: ${COLOR.ORANGE};\n  position: relative;\n  cursor: pointer;\n  margin-right: 10px;\n\n  @media screen and (max-width: 1169px){\n    display: none;\n  }\n`\n\nconst MobileTypeSelect = styled.button`\n  display: none;\n\n  @media screen and (max-width: 1169px){\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 10px;\n    width: 40px;\n    height: 40px;\n    border-radius: 10px;\n    background-color: #252525;\n    border: none;\n    outline: none;\n  }\n`;\n\nconst MobileTypeIcon = styled.img`\n  width: 34px;\n  height: 34px;\n`;\n\nconst IconSelect = styled.div`\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: ${props => props.active ? `url(${IMAGE.ICON_SELECT_OPEN})` : `url(${IMAGE.ICON_SELECT})`};\n  position: absolute;\n  right: 16px;\n  top: 16px;\n`\n\nconst SelectOptions = styled.div`\n  position: absolute;\n  top: 62px;\n  left: 0;\n  width: 100%;\n  padding: 10px;\n  border-radius: 16px;\n  box-shadow: 0 20px 50px 0 rgba(0, 0, 0, 0.5);\n  background-color: #1c1c1c;\n  z-index: 10;\n  display: ${(props) => props.active ? 'block' : 'none'};\n`\n\nconst Option = styled.div`\n  padding: 14px 16px 12px;\n  border-radius: 10px;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #fff;\n  border-radius: 10px;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n\n  ${(props) => props.selected && `\n    background-color: rgba(255, 255, 255, 0.05);\n\n    @media screen and (max-width: 1169px){\n      background-color: #1c1c1c;\n      color: #ff6f44;\n    }\n  `}\n`\nconst DeletedQuestionMessage = styled.div`\n  width: 100%;\n  font-size: 16px;\n  line-height: 1.38;\n  color: rgba(255, 255, 255, 0.5);\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst MobileFilterWrap = styled.div`\n  position: absolute;\n  z-index: 10; // 모바일 공통 메뉴 가리기 위함\n  top: 50px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100%;\n  height: calc(100% - 50px);\n  padding-top: 20px;\n  background: #000000;\n  color: #ffffff;\n`;\n\nconst MobileFilterTop = styled.div`\n  position: relative;\n  width: calc(100% - 42px);\n  margin: 0 auto;\n`;\nconst BackBtn = styled.img`\n  position: absolute;\n  left: 0;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n`;\nconst MobileFilterTitle = styled.div`\n  width: 100%;\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 1.33;\n  text-align: center;\n`;\nconst MobileFilterBody = styled.div`\n  width: calc(100% - 42px);\n  margin: 0 auto;\n`;\nconst MobileFilterOption = styled.div`\n  padding: 19.5px 0;\n\n  &:nth-child(2){\n    border-top: solid 1px rgba(255, 255, 255, 0.2);\n  }\n`;\nconst MobileFilterSubTitle = styled.div`\n  line-height: 50px;\n  padding-left: 12px;\n  font-size: 18px;\n  font-weight: 500;\n`;\n\nconst QuestionReplied = ({ replied = false }) => {\n  return (\n    <StyledQuestionReplied>\n      <QuestionRepliedIcon active={replied} />\n      {\n        replied ? \n        <FormattedMessage id=\"ID_QNA_QUESTION_ANSWERED\"/> : \n        <FormattedMessage id=\"ID_QNA_QUESTION_UNANSWERED\"/>\n      }\n    </StyledQuestionReplied>\n  );\n};\n\nconst QuestionSection = ({ question }) => {\n  return (\n    <StyledQuestion>\n      <QuestionType>\n        {\n          question.type === \"tech\" ? \n            <FormattedMessage id=\"ID_QNA_QUESTION_TECH\"/> : \n            <FormattedMessage id=\"ID_QNA_QUESTION_STUDY\"/>\n        }\n      </QuestionType>\n      <QuestionTitle>\n        {question.isDeleted ? (\n          <DeletedQuestionMessage>(This question has been deleted by the manager)</DeletedQuestionMessage>\n        ) : (\n          <>\n            <QuestionLink to={`/lms/questions/detail/${question.id}`}>{question.title}</QuestionLink>\n            {isNew24(question.createdAt, Date.now()) && <NewTag>New</NewTag>}\n          </>\n        )}\n      </QuestionTitle>\n      <QuestionCreatedAt>{question.formattedCreatedAt()}</QuestionCreatedAt>\n      <QuestionReplied replied={!!question.reply} />\n    </StyledQuestion>\n  );\n};\n\nconst QuestionPagination = ({ page, pageCount, onChange }) => {\n  const PER_PAGE = 5\n\n  const pagination = buildPagination(page, pageCount, PER_PAGE)\n\n  return (\n    <PaginationWrap>\n      <PrevButton onClick={() => {\n        if (page === 1) return \n        onChange(page - 1)\n      }}>\n        <FormattedMessage id=\"ID_QNA_PREV\"/>\n      </PrevButton>\n      {pagination.map(num => (\n        <PageButton\n          key={num}\n          active={num === page}\n          onClick={() => onChange(num)}\n        >{num}\n        </PageButton>\n      ))}\n      <NextButton onClick={() => {\n        if (page === pageCount) return\n        onChange(page + 1)\n      }}>\n        <FormattedMessage id=\"ID_QNA_NEXT\"/>\n      </NextButton>\n    </PaginationWrap>\n  )\n}\n\nconst ALL = <FormattedMessage id=\"ID_ALL\"/>;\nconst ANSWERED = <FormattedMessage id=\"ID_QNA_QUESTION_ANSWERED\"/>;\nconst UNANSWERED = <FormattedMessage id=\"ID_QNA_QUESTION_UNANSWERED\"/>;\nconst ORDER_BY_CREATED = <FormattedMessage id=\"ID_QNA_ORDER_CREATE\"/>;\nconst ORDER_BY_UPDATED = <FormattedMessage id=\"ID_QNA_ORDER_UPDATE\"/>\n\nconst REPLY_STATUS = [\n  ALL,\n  ANSWERED,\n  UNANSWERED\n];\n\nconst SORT_TYPE = [\n  ORDER_BY_CREATED,\n  ORDER_BY_UPDATED\n];\n\nconst QuestionsPage = ({ ...props }) => {\n  const [page, setPage] = useState(1);\n  // const [offset, setOffset] = useState(10);\n  const [questions, setQuestions] = useState([]);\n  const [questionsCount, setQuestionsCount] = useState(0);\n  const [showOptions, setShowOptions] = useState({\n    reply: false,\n    sort: false\n  });\n  const [replyStatus, setReplyStatus] = useState(ALL);\n  const [sortType, setSortType] = useState(ORDER_BY_UPDATED);\n  const PAGE_SIZE = 10;\n  const [isMobileFilterOn, setIsMobileFilterOn] = useState(\"\");\n\n  useEffect(\n    () => {\n      fetch();\n    },\n    [page]\n  );\n\n  useEffect(() => {\n    setShowOptions({ ...showOptions, reply: false });\n    fetch();\n  }, [replyStatus])\n\n  useEffect(() => {\n    setShowOptions({ ...showOptions, sort: false });\n    fetch();\n  }, [sortType])\n\n  const fetch = useCallback(\n    async () => {\n      let params = {\n        offset: Number(page - 1) * Number(PAGE_SIZE),\n        limit: Number(PAGE_SIZE),\n        userId: props.userId,\n        order: [\"\", ALL, ORDER_BY_CREATED].includes(sortType) ? \"createdAt\" : \"updatedAt\",\n        reply: [\"\", ALL].includes(replyStatus) ? \"all\" : replyStatus === ANSWERED ? \"complete\" : \"ready\"\n      }\n\n      const _questions = await getQnas(params);\n\n      setQuestionsCount(_questions.count);\n      setQuestions(_questions.rows.map((q) => new Question(q)));\n    },\n    [page, setQuestions, questions, sortType, replyStatus]\n  );\n\n  const toggleOptions = useCallback((type, isShow) => {\n    setShowOptions({ ...showOptions, [type]: !isShow });\n  }, [showOptions]);\n\n  const handleChangeReplyStatus = status => {\n    setReplyStatus(status);\n  }\n\n  const handleChangeSortType = type => {\n    setSortType(type);\n  }\n\n  return (\n    <Self {...props}>\n      {isMobileFilterOn ? (\n        <MobileFilterWrap>\n          <MobileFilterTop>\n            <BackBtn src={IMAGE.ICON_BACK} onClick={() => {setIsMobileFilterOn(false)}}/>\n            <MobileFilterTitle>필터</MobileFilterTitle>\n          </MobileFilterTop>\n          <MobileFilterBody>\n            <MobileFilterOption>\n              <MobileFilterSubTitle>\n                <FormattedMessage id=\"ID_QNA_QUESTION_RESULT\"/>\n              </MobileFilterSubTitle>\n              {REPLY_STATUS.map((status, i) => (\n                <Option\n                  onClick={() => handleChangeReplyStatus(status)}\n                  selected={replyStatus === status}\n                  key={i}\n                >\n                  {status}\n                </Option>\n              ))}\n            </MobileFilterOption>\n            <MobileFilterOption>\n              <MobileFilterSubTitle>\n                <FormattedMessage id=\"ID_QNA_QUESTION_SORT\"/>\n              </MobileFilterSubTitle>\n              {SORT_TYPE.map((type, i) => (\n                <Option\n                  onClick={() => handleChangeSortType(type)}\n                  selected={sortType === type}\n                  key={i}\n                >\n                  {type}\n                </Option>\n              ))}\n            </MobileFilterOption>\n          </MobileFilterBody>\n        </MobileFilterWrap>\n        ) : (\n        <>\n          <StyledTitle>\n            <TitleText>\n              <FormattedMessage id=\"ID_LMS_QUESTION\"/>\n            </TitleText>\n            {/* 답변 상태 선택 */}\n            <TypeSelect\n              selected={replyStatus !== \"\"}\n              onClick={() => toggleOptions(\"reply\", showOptions.reply)}\n            >\n              <FormattedMessage id=\"ID_QNA_QUESTION_RESULT\"/>\n              <IconSelect active={showOptions.reply} />\n              <SelectOptions active={showOptions.reply}>\n                {REPLY_STATUS.map((status, i) => (\n                  <Option\n                    onClick={() => handleChangeReplyStatus(status)}\n                    selected={replyStatus === status}\n                    key={i}\n                  >\n                    {status}\n                  </Option>\n                ))}\n              </SelectOptions>\n            </TypeSelect>\n            {/* 정렬 선택 */}\n            <TypeSelect\n              selected={sortType !== \"\"}\n              onClick={() => toggleOptions(\"sort\", showOptions.sort)}\n            >\n              <FormattedMessage id=\"ID_QNA_QUESTION_SORT\"/>\n              <IconSelect active={showOptions.sort} />\n              <SelectOptions active={showOptions.sort}>\n                {SORT_TYPE.map((type, i) => (\n                  <Option\n                    onClick={() => handleChangeSortType(type)}\n                    selected={sortType === type}\n                    key={i}\n                  >\n                    {type}\n                  </Option>\n                ))}\n              </SelectOptions>\n            </TypeSelect>\n            {/* mobile 답변 상태, 정렬 선택 화면 열기 필터 버튼 */}\n            <MobileTypeSelect onClick={() => setIsMobileFilterOn(true)}>\n              <MobileTypeIcon src={IMAGE.MOBILE_QUESTION_FILTER}/>\n            </MobileTypeSelect>\n            <StyledLink to=\"/lms/questions/new\">\n              <TitleButton width={150} height={50}>\n                <FormattedMessage id=\"ID_QNA_WRITE_QUESTION_TITLE\"/>\n              </TitleButton>\n            </StyledLink>\n          </StyledTitle>\n\n          {questions.length ? (\n            <>\n              <StyledQuestions>\n                {questions.map((question, i) => (\n                  <QuestionSection question={question} key={i}/>\n                ))}\n              </StyledQuestions>\n\n              <QuestionPagination\n                page={page}\n                pageCount={Math.ceil(questionsCount / PAGE_SIZE)}\n                onChange={setPage}\n              />\n            </>\n          ) : (\n            <EmptyQuestions>\n              <EmptyIcon alt=\"질문하기 아이콘\" src={IMAGE.ICON_NOTE} />\n              <EmptyTitle>\n                <FormattedMessage id=\"ID_QNA_IS_NEW_QUESTION\"/>\n              </EmptyTitle>\n              <EmptyDesc>\n                <FormattedMessage id=\"ID_QNA_ABOUT_QUETION\"/>\n                <br />\n                <FormattedMessage id=\"ID_QNA_DO_QUETION\"/>\n              </EmptyDesc>\n            </EmptyQuestions>\n          )}\n        </>\n      )}\n    </Self>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    userId: state.userinfo.id,\n  }),\n  {}\n)(QuestionsPage);\n\nfunction isNew24(targetTime, nowDate) {\n  return moment(nowDate).isBefore(moment(targetTime).add(24, \"hours\"));\n};\n\nfunction buildPagination(page, pages, perPage) {\n  const a = Math.floor(page / perPage);\n  const pageNumbers = Array(pages)\n    .fill(1)\n    .map((num, i) => num + i);\n\n  // 총 페이지가 페이지 사이즈보다 작을 때\n  if (pages <= perPage) {\n    return pageNumbers.slice(0, perPage);\n    // 현재 페이지가 페이지 사이즈보다 크고 총 페이지에서 현재 페이지를 뺀 값이 페이지 사이즈 보다 작을 때\n  } else if (page > perPage && pages - page < perPage) {\n    return pageNumbers.slice(a * perPage, pages);\n    // 현재 페이지와 페이지 사이즈가 같을 때\n  } else if (page % perPage === 0) {\n    return pageNumbers.slice((a - 1) * perPage, a * perPage);\n    // 현재 페이지가 페이지 사이즈보다 클 때\n  } else if (page > a * perPage) {\n    return pageNumbers.slice(a * perPage, (a + 1) * perPage);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}