{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/LMS/Sections/QuestionUpdate.js\";\n\nfunction _templateObject21() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n\"]);\n\n  _templateObject21 = function _templateObject21() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  line-height: 1.57;\\n  color: #9e9e9e;\\n\"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  width: 870px;\\n  height: 56px;\\n  margin: 10px 0 0;\\n  padding: 10px 20px 10px 10px;\\n  border-radius: 10px;\\n  background-color: rgba(255, 255, 255, 0.1);\\n\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 253px;\\n  height: 22px;\\n  margin: 7px 478px 15px 10px;\\n  font-size: 14px;\\n  line-height: 1.57;\\n  color: rgba(255, 255, 255, 0.5);\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 14px;\\n  margin: 11px 0 9px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  color: #ffffff;\\n  line-height: 14px;\\n  pointer-events: none;\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 12px;\\n  height: 12px;\\n  /* object-fit: contain; */\\n  background-size: auto;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: url(\", \");\\n  cursor: pointer;\\n  margin-right: 22px;\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 20px;\\n  height: 16px;\\n  /* background-color: rgba(255, 255, 255, 0.5); */\\n  background-size: auto;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: url(\", \");\\n  border-radius: 3px;\\n  pointer-events: none;\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n  width: 129px;\\n  height: 34px;\\n  margin: 0 10px 10px 0;\\n  padding: 0 12px 0 3px;\\n  border-radius: 10px;\\n  background-color: rgba(255, 255, 255, 0.3);\\n  cursor: pointer;\\n  /* pointer-events: none; */\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: right;\\n  padding-top: 10px;\\n\\n  @media screen and (max-width: 1334px){\\n    text-align: center;\\n    margin-bottom: 30px;\\n  }\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 156px;\\n  padding: 16px;\\n  border-radius: 10px;\\n  background-color: #1c1c1c;\\n  border: none;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: #fff;\\n  resize: none;\\n  overflow: auto;\\n  font-family: \\\"Noto Sans KR\\\", sans-serif;\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &::placeholder {\\n    color: #9e9e9e;\\n  }\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 14px 16px 12px;\\n  border-radius: 10px;\\n  font-size: 16px;\\n  line-height: 1.5;\\n  color: #fff;\\n  border-radius: 10px;\\n  cursor: pointer;\\n\\n  \", \"\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 62px;\\n  left: 0;\\n  width: 100%;\\n  padding: 10px;\\n  border-radius: 16px;\\n  box-shadow: 0 20px 50px 0 rgba(0, 0, 0, 0.5);\\n  background-color: #1c1c1c;\\n  z-index: 10;\\n  display: \", \";\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 20px;\\n  height: 20px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: url(\", \");\\n  position: absolute;\\n  right: 16px;\\n  top: 16px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 52px;\\n  padding: 16px;\\n  border-radius: 10px;\\n  background-color: #1c1c1c;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: \", \";\\n  position: relative;\\n  cursor: pointer;\\n\\n  @media screen and (max-width: 1334px){\\n    height: auto;\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 16px 16px 14px;\\n  border-radius: 10px;\\n  background-color: #1c1c1c;\\n  border: none;\\n  font-size: 16px;\\n  line-height: 1.38;\\n  color: #fff;\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &::placeholder {\\n    color: #9e9e9e;\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-bottom: 20px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 32px;\\n  height: 32px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-image: url(\", \");\\n  position: absolute;\\n  left: 0;\\n  bottom: 19.5px;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 22px;\\n  font-weight: bold;\\n  line-height: 1.45;\\n  text-align: center;\\n  color: #fff;\\n  padding-top: 28px;\\n  padding-bottom: 19.5px;\\n  border-bottom: solid 1px rgba(255, 255, 255, 0.2);\\n  margin-bottom: 19.5px;\\n  position: relative;\\n\\n  @media screen and (max-width: 1334px){\\n    padding-top: 0;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1; \\n\\n  @media screen and (max-width: 1334px){\\n    width: 88.33vw;\\n    margin: 0 auto;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport styled from \"@emotion/styled\";\nimport { putQna } from \"../api\";\nimport * as request from \"../../../Common/Util/HTTPRequest\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\nimport Button from \"../Components/Button\";\nimport { COLOR } from \"./../Constants\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport AlertPopup from \"../Components/AlertPopup\";\nvar Self = styled.div(_templateObject());\nvar Title = styled.h2(_templateObject2());\nvar PageBack = styled.div(_templateObject3(), IMAGE.ICON_BACK);\nvar Form = styled.form(_templateObject4());\nvar FormGroup = styled.div(_templateObject5());\nvar TitleInput = styled.input(_templateObject6());\nvar TypeSelect = styled.div(_templateObject7(), function (props) {\n  return props.selected ? '#fff' : COLOR.ORANGE;\n});\nvar IconSelect = styled.div(_templateObject8(), IMAGE.ICON_SELECT);\nvar SelectOptions = styled.div(_templateObject9(), function (props) {\n  return props.active ? 'block' : 'none';\n});\nvar Option = styled.div(_templateObject10(), function (props) {\n  return props.selected && \"\\n    background-color: rgba(255, 255, 255, 0.05);\\n  \";\n});\nvar ContentTextArea = styled.textarea(_templateObject11());\nvar ButtonWrap = styled.div(_templateObject12());\nvar InputWrap = styled.div(_templateObject13());\nvar ImgIcon = styled.img(_templateObject14(), IMAGE.ICON_IMAGE);\nvar DeleteIcon = styled.img(_templateObject15(), IMAGE.ICON_DELETE);\nvar ButtonText = styled.div(_templateObject16());\nvar HelperText = styled.div(_templateObject17());\nvar UploadFile = styled.div(_templateObject18());\nvar TextWrap = styled.div(_templateObject19());\nvar UploadFileText = styled.span(_templateObject20());\nvar SubmitButton = styled(Button)(_templateObject21(), COLOR.ORANGE);\nvar TYPES = [\"(학습 질문) 코딩하면서 궁금한 게 있어요\", \"(기술 질문) 홈페이지 작동이 잘 안되는 것 같아요\"];\nvar popupConfig = {\n  dismissButton: false,\n  dismissOverlay: true,\n  defaultPadding: false,\n  darkmode: true,\n  mobileFullscreen: true,\n  overflow: true\n};\n\nvar File = function File(props) {\n  var id = props.id,\n      accept = props.accept,\n      values = props.values,\n      _onChange = props.onChange;\n  var fileInputRef = useRef();\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: id,\n    ref: fileInputRef,\n    type: \"file\",\n    accept: accept,\n    onChange: function onChange(e) {\n      if (values.length === 4) {\n        alert(\"최대 업로드 가능한 파일은 4개입니다.\");\n        return;\n      }\n\n      var selectedFile = e.target.files[0];\n      if (!selectedFile) return;\n      var size = formatBytes(selectedFile.size);\n      var data = new FormData();\n      data.append(\"file\", selectedFile);\n      request.dreamUpload(data).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          _onChange([].concat(_toConsumableArray(values), [{\n            url: \"/\" + json.key,\n            size: size\n          }]));\n        } else {\n          throw json;\n        }\n      }).catch(function (err) {\n        alert(JSON.stringify(err));\n      });\n    },\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }), React.createElement(InputWrap, {\n    onClick: function onClick() {\n      fileInputRef.current.click();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, React.createElement(ImgIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }), React.createElement(ButtonText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, \"\\uC774\\uBBF8\\uC9C0 \\uC5C5\\uB85C\\uB4DC\")));\n};\n\nvar QnaUpdate = function QnaUpdate(_ref) {\n  var item = _ref.item,\n      props = _objectWithoutProperties(_ref, [\"item\"]);\n\n  var history = useHistory();\n\n  var _useState = useState({\n    content: item.content,\n    title: item.title,\n    type: item.type === \"learning\" ? TYPES[0] : TYPES[1]\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      qnaForm = _useState2[0],\n      setQnaForm = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showOptions = _useState4[0],\n      setShowOptions = _useState4[1];\n\n  var _useState5 = useState(item.imageJSON ? JSON.parse(item.imageJSON) : []),\n      _useState6 = _slicedToArray(_useState5, 2),\n      images = _useState6[0],\n      setImages = _useState6[1];\n\n  var handleSubmitUpdate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return putQna(_objectSpread({}, qnaForm, {\n                type: qnaForm.type.includes(\"학습\") ? \"learning\" : \"tech\",\n                questionId: item.id,\n                imageJSON: images.length ? JSON.stringify(images.map(function (image) {\n                  return image;\n                })) : null\n              }));\n\n            case 3:\n              result = _context.sent;\n              history.push(\"/lms/questions\");\n              return _context.abrupt(\"return\", result);\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              window.alert(\"네트워크 에러입니다.\");\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function handleSubmitUpdate() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleChangeQnaForm = function handleChangeQnaForm(e) {\n    setQnaForm(_objectSpread({}, qnaForm, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var handleChangeType = function handleChangeType(type) {\n    setQnaForm(_objectSpread({}, qnaForm, {\n      type: type\n    }));\n    setShowOptions(false);\n  };\n\n  var goBack = useCallback(function () {\n    history.goBack();\n  }, [history]);\n  var toggleOptions = useCallback(function () {\n    setShowOptions(!showOptions);\n  }, [showOptions]);\n\n  var deleteUploadImage = function deleteUploadImage(index) {\n    setImages(images.filter(function (_, i) {\n      return i !== index;\n    }));\n  };\n\n  return React.createElement(Self, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368\n    },\n    __self: this\n  }), React.createElement(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369\n    },\n    __self: this\n  }, React.createElement(PageBack, {\n    onClick: goBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370\n    },\n    __self: this\n  }), \"\\uC9C8\\uBB38\\uD558\\uAE30\"), React.createElement(Form, {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      Popup.showPopUp(React.createElement(AlertPopup, {\n        message: \"\\uC9C8\\uBB38\\uC744 \\uC218\\uC815\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n        onSubmit: function onSubmit() {\n          return handleSubmitUpdate();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }), popupConfig);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373\n    },\n    __self: this\n  }, \" \", React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383\n    },\n    __self: this\n  }, React.createElement(TypeSelect, {\n    selected: qnaForm.type !== \"\",\n    onClick: toggleOptions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384\n    },\n    __self: this\n  }, qnaForm.type || '질문 유형을 선택해주세요', React.createElement(IconSelect, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389\n    },\n    __self: this\n  }), React.createElement(SelectOptions, {\n    active: showOptions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390\n    },\n    __self: this\n  }, TYPES.map(function (type) {\n    return React.createElement(Option, {\n      key: type,\n      onClick: function onClick() {\n        return handleChangeType(type);\n      },\n      selected: qnaForm.type === type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, type);\n  })))), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403\n    },\n    __self: this\n  }, React.createElement(TitleInput, {\n    name: \"title\",\n    value: qnaForm.title,\n    onChange: handleChangeQnaForm,\n    placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412\n    },\n    __self: this\n  }, React.createElement(ContentTextArea, {\n    name: \"content\",\n    value: qnaForm.content,\n    onChange: handleChangeQnaForm,\n    placeholder: \"\\uC9C8\\uBB38 \\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421\n    },\n    __self: this\n  }, React.createElement(File, {\n    values: images,\n    onChange: setImages,\n    accept: \".jpg,.jpeg,.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }), React.createElement(HelperText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423\n    },\n    __self: this\n  }, \"* \\uC774\\uBBF8\\uC9C0\\uB294 \\uCD5C\\uB300 4\\uAC1C\\uAE4C\\uC9C0 \\uC5C5\\uB85C\\uB4DC \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\")), images.length && images.map(function (image, index) {\n    return React.createElement(UploadFile, {\n      key: index,\n      onClick: function onClick() {\n        return deleteUploadImage(index);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }), React.createElement(TextWrap, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(UploadFileText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, image.url.replace(\"/\", \"\")), React.createElement(UploadFileText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, image.size)));\n  }), React.createElement(ButtonWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436\n    },\n    __self: this\n  }, React.createElement(SubmitButton, {\n    type: \"submit\",\n    width: 150,\n    height: 50,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }, \"\\uC218\\uC815\"))));\n};\n\nexport default connect(function (state) {\n  return {\n    userId: state.userinfo.id,\n    email: state.userinfo.email\n  };\n}, {})(QnaUpdate);\n\nfunction formatBytes(bytes) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (bytes === 0) return '0 Bytes';\n  var k = 1024;\n  var dm = decimals < 0 ? 0 : decimals;\n  var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  var i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/LMS/Sections/QuestionUpdate.js"],"names":["React","useCallback","useRef","useState","useHistory","connect","styled","putQna","request","Popup","Button","COLOR","IMAGE","AlertPopup","Self","div","Title","h2","PageBack","ICON_BACK","Form","form","FormGroup","TitleInput","input","TypeSelect","props","selected","ORANGE","IconSelect","ICON_SELECT","SelectOptions","active","Option","ContentTextArea","textarea","ButtonWrap","InputWrap","ImgIcon","img","ICON_IMAGE","DeleteIcon","ICON_DELETE","ButtonText","HelperText","UploadFile","TextWrap","UploadFileText","span","SubmitButton","TYPES","popupConfig","dismissButton","dismissOverlay","defaultPadding","darkmode","mobileFullscreen","overflow","File","id","accept","values","onChange","fileInputRef","e","length","alert","selectedFile","target","files","size","formatBytes","data","FormData","append","dreamUpload","then","res","json","success","url","key","catch","err","JSON","stringify","current","click","QnaUpdate","item","history","content","title","type","qnaForm","setQnaForm","showOptions","setShowOptions","imageJSON","parse","images","setImages","handleSubmitUpdate","includes","questionId","map","image","result","push","window","handleChangeQnaForm","name","value","handleChangeType","goBack","toggleOptions","deleteUploadImage","index","filter","_","i","preventDefault","showPopUp","replace","state","userId","userinfo","email","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\"; import styled from \"@emotion/styled\";\nimport { putQna } from \"../api\";\nimport * as request from \"../../../Common/Util/HTTPRequest\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\n\nimport Button from \"../Components/Button\";\n\nimport { COLOR } from \"./../Constants\";\nimport { IMAGE } from \"./../Constants/Images\";\nimport AlertPopup from \"../Components/AlertPopup\"\n\nconst Self = styled.div`\n  flex: 1; \n\n  @media screen and (max-width: 1334px){\n    width: 88.33vw;\n    margin: 0 auto;\n  }\n`;\n\nconst Title = styled.h2`\n  font-size: 22px;\n  font-weight: bold;\n  line-height: 1.45;\n  text-align: center;\n  color: #fff;\n  padding-top: 28px;\n  padding-bottom: 19.5px;\n  border-bottom: solid 1px rgba(255, 255, 255, 0.2);\n  margin-bottom: 19.5px;\n  position: relative;\n\n  @media screen and (max-width: 1334px){\n    padding-top: 0;\n  }\n`\n\nconst PageBack = styled.div`\n  width: 32px;\n  height: 32px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${IMAGE.ICON_BACK});\n  position: absolute;\n  left: 0;\n  bottom: 19.5px;\n  cursor: pointer;\n`\n\nconst Form = styled.form``;\n\nconst FormGroup = styled.div`\n  display: flex;\n  margin-bottom: 20px;\n`\n\nconst TitleInput = styled.input`\n  width: 100%;\n  padding: 16px 16px 14px;\n  border-radius: 10px;\n  background-color: #1c1c1c;\n  border: none;\n  font-size: 16px;\n  line-height: 1.38;\n  color: #fff;\n\n  &:focus {\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #9e9e9e;\n  }\n`;\n\nconst TypeSelect = styled.div`\n  width: 100%;\n  height: 52px;\n  padding: 16px;\n  border-radius: 10px;\n  background-color: #1c1c1c;\n  font-size: 16px;\n  line-height: 1.38;\n  color: ${(props) => props.selected ? '#fff' : COLOR.ORANGE};\n  position: relative;\n  cursor: pointer;\n\n  @media screen and (max-width: 1334px){\n    height: auto;\n  }\n`\n\nconst IconSelect = styled.div`\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${IMAGE.ICON_SELECT});\n  position: absolute;\n  right: 16px;\n  top: 16px;\n`\n\nconst SelectOptions = styled.div`\n  position: absolute;\n  top: 62px;\n  left: 0;\n  width: 100%;\n  padding: 10px;\n  border-radius: 16px;\n  box-shadow: 0 20px 50px 0 rgba(0, 0, 0, 0.5);\n  background-color: #1c1c1c;\n  z-index: 10;\n  display: ${(props) => props.active ? 'block' : 'none'};\n`\n\nconst Option = styled.div`\n  padding: 14px 16px 12px;\n  border-radius: 10px;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #fff;\n  border-radius: 10px;\n  cursor: pointer;\n\n  ${(props) => props.selected && `\n    background-color: rgba(255, 255, 255, 0.05);\n  `}\n`\n\nconst ContentTextArea = styled.textarea`\n  width: 100%;\n  height: 156px;\n  padding: 16px;\n  border-radius: 10px;\n  background-color: #1c1c1c;\n  border: none;\n  font-size: 16px;\n  line-height: 1.38;\n  color: #fff;\n  resize: none;\n  overflow: auto;\n  font-family: \"Noto Sans KR\", sans-serif;\n\n  &:focus {\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #9e9e9e;\n  }\n`;\n\nconst ButtonWrap = styled.div`\n  text-align: right;\n  padding-top: 10px;\n\n  @media screen and (max-width: 1334px){\n    text-align: center;\n    margin-bottom: 30px;\n  }\n`\n\nconst InputWrap = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 129px;\n  height: 34px;\n  margin: 0 10px 10px 0;\n  padding: 0 12px 0 3px;\n  border-radius: 10px;\n  background-color: rgba(255, 255, 255, 0.3);\n  cursor: pointer;\n  /* pointer-events: none; */\n`\nconst ImgIcon = styled.img`\n  width: 20px;\n  height: 16px;\n  /* background-color: rgba(255, 255, 255, 0.5); */\n  background-size: auto;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${IMAGE.ICON_IMAGE});\n  border-radius: 3px;\n  pointer-events: none;\n`\nconst DeleteIcon = styled.img`\n  width: 12px;\n  height: 12px;\n  /* object-fit: contain; */\n  background-size: auto;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(${IMAGE.ICON_DELETE});\n  cursor: pointer;\n  margin-right: 22px;\n`\n\nconst ButtonText = styled.div`\n  height: 14px;\n  margin: 11px 0 9px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #ffffff;\n  line-height: 14px;\n  pointer-events: none;\n`\nconst HelperText = styled.div`\n  width: 253px;\n  height: 22px;\n  margin: 7px 478px 15px 10px;\n  font-size: 14px;\n  line-height: 1.57;\n  color: rgba(255, 255, 255, 0.5);\n`\nconst UploadFile = styled.div`\n  display: flex;\n  align-items: center;\n  width: 870px;\n  height: 56px;\n  margin: 10px 0 0;\n  padding: 10px 20px 10px 10px;\n  border-radius: 10px;\n  background-color: rgba(255, 255, 255, 0.1);\n`\nconst TextWrap = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n`\nconst UploadFileText = styled.span`\n  font-size: 14px;\n  line-height: 1.57;\n  color: #9e9e9e;\n`\nconst SubmitButton = styled(Button)`\n  background-color: ${COLOR.ORANGE};\n`;\n\nconst TYPES = [\n  \"(학습 질문) 코딩하면서 궁금한 게 있어요\",\n  \"(기술 질문) 홈페이지 작동이 잘 안되는 것 같아요\"\n];\n\n\nconst popupConfig = {\n  dismissButton: false,\n  dismissOverlay: true,\n  defaultPadding: false,\n  darkmode: true,\n  mobileFullscreen: true,\n  overflow: true,\n}\n\nconst File = props => {\n  const { id, accept, values, onChange } = props;\n  const fileInputRef = useRef();\n  return (\n    <div>\n      <input\n        id={id}\n        ref={fileInputRef}\n        type=\"file\"\n        accept={accept}\n        onChange={e => {\n          if (values.length === 4) {\n            alert(\"최대 업로드 가능한 파일은 4개입니다.\");\n            return;\n          }\n          const selectedFile = e.target.files[0];\n          if (!selectedFile) return;\n\n          let size = formatBytes(selectedFile.size)\n\n          const data = new FormData();\n          data.append(\"file\", selectedFile);\n          request\n            .dreamUpload(data)\n            .then(res => res.json())\n            .then(json => {\n              if (json.success) {\n                onChange([...values, { url: \"/\" + json.key, size }]);\n              } else {\n                throw json;\n              }\n            })\n            .catch(err => {\n              alert(JSON.stringify(err));\n            });\n        }}\n        hidden\n      />\n      <InputWrap\n        onClick={() => {\n          fileInputRef.current.click();\n        }}\n      >\n        <ImgIcon />\n        <ButtonText>이미지 업로드</ButtonText>\n      </InputWrap>\n    </div>\n  );\n}\n\nconst QnaUpdate = ({ item, ...props}) => {\n  let history = useHistory();\n\n  const [qnaForm, setQnaForm] = useState({\n    content: item.content,\n    title: item.title,\n    type: item.type === \"learning\" ? TYPES[0] : TYPES[1],\n  });\n\n  const [showOptions, setShowOptions] = useState(false);\n  const [images, setImages] = useState(item.imageJSON ? JSON.parse(item.imageJSON) : []);\n\n  const handleSubmitUpdate = async () => {\n\n    try {\n      const result = await putQna({\n        ...qnaForm,\n        type: qnaForm.type.includes(\"학습\") ? \"learning\" : \"tech\",\n        questionId: item.id,\n        imageJSON: images.length ? JSON.stringify(images.map(image => image)) : null\n      });\n\n      history.push(\"/lms/questions\");\n      return result;\n    } catch (error) {\n      window.alert(\"네트워크 에러입니다.\");\n    }\n  };\n\n  const handleChangeQnaForm = (e) => {\n    setQnaForm({\n      ...qnaForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleChangeType = (type) => {\n    setQnaForm({\n      ...qnaForm,\n      type,\n    });\n\n    setShowOptions(false);\n  };\n\n  const goBack = useCallback(() => {\n    history.goBack();\n  }, [history]);\n\n  const toggleOptions = useCallback(() => {\n    setShowOptions(!showOptions);\n  }, [showOptions]);\n\n  const deleteUploadImage = index => {\n    setImages(images.filter((_, i) => i !== index))\n  }\n\n  return (\n    <Self {...props}>\n      <Title>\n        <PageBack onClick={goBack} />\n        질문하기\n      </Title>\n      <Form onSubmit={e => {\n        e.preventDefault();\n        Popup.showPopUp(\n          <AlertPopup\n            message=\"질문을 수정하시겠습니까?\"\n            onSubmit={() => handleSubmitUpdate()}\n          />,\n          popupConfig\n        );\n      }\n      }> <FormGroup>\n          <TypeSelect\n            selected={qnaForm.type !== \"\"}\n            onClick={toggleOptions}\n          >\n            {qnaForm.type || '질문 유형을 선택해주세요'}\n            <IconSelect />\n            <SelectOptions active={showOptions}>\n              {TYPES.map((type) => (\n                <Option\n                  key={type}\n                  onClick={() => handleChangeType(type)}\n                  selected={qnaForm.type === type}\n                >\n                  {type}\n                </Option>\n              ))}\n            </SelectOptions>\n          </TypeSelect>\n        </FormGroup>\n        <FormGroup>\n          <TitleInput\n            name=\"title\"\n            value={qnaForm.title}\n            onChange={handleChangeQnaForm}\n            placeholder=\"제목을 입력해주세요\"\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <ContentTextArea\n            name=\"content\"\n            value={qnaForm.content}\n            onChange={handleChangeQnaForm}\n            placeholder=\"질문 내용을 입력해주세요\"\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <File values={images} onChange={setImages} accept=\".jpg,.jpeg,.png\" />\n          <HelperText>* 이미지는 최대 4개까지 업로드 가능합니다.</HelperText>\n        </FormGroup>\n        {images.length && (\n          images.map((image, index) => (\n            <UploadFile key={index} onClick={() => deleteUploadImage(index)}>\n              <DeleteIcon />\n              <TextWrap>\n                <UploadFileText>{image.url.replace(\"/\", \"\")}</UploadFileText>\n                <UploadFileText>{image.size}</UploadFileText>\n              </TextWrap>\n            </UploadFile>\n          ))\n        )}\n        <ButtonWrap>\n          <SubmitButton type=\"submit\" width={150} height={50}>수정</SubmitButton>\n        </ButtonWrap>\n      </Form>\n    </Self>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    userId: state.userinfo.id,\n    email: state.userinfo.email\n  }),\n  {}\n)(QnaUpdate);\n\n\nfunction formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}"]},"metadata":{},"sourceType":"module"}