{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/SignUp/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport Markdown from \"react-markdown\";\nimport sha256 from \"../../Util/SHA256\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport * as TrackingUtil from \"../../Util/TrackingUtil\";\nimport { DEFAULT_PROFILE_IMAGES } from \"../../Util/Constant\";\nimport * as userInfoActions from \"../../Store/Reducer/UserInfo\";\nimport PopUp, { showPopUp } from \"../PopUp\";\nimport SignIn from \"../SignIn\";\nimport \"./index.scss\";\nimport terms from \"./Agreements/terms\";\nimport privacy from \"./Agreements/privacy\";\nimport advertisement from \"./Agreements/advertisement\";\nimport arrowImg from \"../../../Image/signup_arrow.svg\";\n\nvar SignUp = /*#__PURE__*/function (_Component) {\n  _inherits(SignUp, _Component);\n\n  var _super = _createSuper(SignUp);\n\n  function SignUp(props) {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      TrackingUtil.kakaoPixelPageView(\"signUp\");\n    };\n\n    _this.checkEmailFormat = function () {\n      return _this.state.email && _this.state.email.length > 4;\n    };\n\n    _this.checkPasswordFormat = function () {\n      return _this.state.password.length >= 6;\n    };\n\n    _this.checkPasswordIdentical = function () {\n      return _this.state.password === _this.state.password_re;\n    };\n\n    _this.checkNameFormat = function () {\n      return _this.state.name.length >= 2;\n    };\n\n    _this.onChangeInput = function (e) {\n      var formatMessage = _this.props.intl.formatMessage;\n      var _e$target = e.target,\n          id = _e$target.id,\n          value = _e$target.value;\n\n      _this.setState(_defineProperty({}, id, value), function () {\n        switch (id) {\n          case \"email\":\n            if (_this.checkEmailFormat() || value === \"\") {\n              _this.setState({\n                warning_email: \"\"\n              });\n            } else {\n              _this.setState({\n                warning_email: formatMessage({\n                  id: \"ID_SIGNUP_WARNING_EMAIL_FORMAT\"\n                })\n              });\n            }\n\n            break;\n\n          case \"password\":\n          case \"password_re\":\n            if (_this.checkPasswordFormat()) {\n              if (_this.checkPasswordIdentical() || _this.state.password_re === \"\") {\n                _this.setState({\n                  warning_password: \"\"\n                });\n              } else {\n                _this.setState({\n                  warning_password: formatMessage({\n                    id: \"ID_SIGNUP_WARNING_PW_RE\"\n                  })\n                });\n              }\n            } else if (value === \"\") {\n              _this.setState({\n                warning_password: \"\"\n              });\n            } else {\n              _this.setState({\n                warning_password: formatMessage({\n                  id: \"ID_SIGNUP_WARNING_PW_FORMAT\"\n                })\n              });\n            }\n\n            break;\n\n          case \"name\":\n            if (_this.checkNameFormat() || value === \"\") {\n              _this.setState({\n                warning_name: \"\"\n              });\n            } else {\n              _this.setState({\n                warning_name: formatMessage({\n                  id: \"ID_SIGNUP_WARNING_NAME_FORMAT\"\n                })\n              });\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      });\n    };\n\n    _this.onClickAgree = function (id) {\n      var _this$setState2;\n\n      var dismissButton = document.getElementById(\"popup_dismissbtn\");\n      if (dismissButton) dismissButton.hidden = false;\n\n      _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, id, true), _defineProperty(_this$setState2, \"warning_agreement\", \"\"), _defineProperty(_this$setState2, \"agreement\", null), _this$setState2));\n    };\n\n    _this.onClickAgreement = function (id) {\n      var _this$setState3;\n\n      var agreed = _this.state[id];\n\n      _this.setState((_this$setState3 = {}, _defineProperty(_this$setState3, id, !agreed), _defineProperty(_this$setState3, \"warning_agreement\", \"\"), _defineProperty(_this$setState3, \"agreement\", null), _this$setState3));\n    };\n\n    _this.onClickShowAgreement = function (id) {\n      var agreement = _this.agreements.find(function (agreement) {\n        return agreement.id === id;\n      });\n\n      var contents = document.getElementById(\"popup_contents\");\n      var scrollable = document.getElementById(\"popup_scrollable\");\n      var dismissButton = document.getElementById(\"popup_dismissbtn\");\n      if (contents) contents.scrollTo(0, 0);\n      if (scrollable) scrollable.scrollTo(0, 0);\n      if (dismissButton) dismissButton.hidden = true;\n\n      _this.setState({\n        agreement: agreement\n      });\n    };\n\n    _this.onClickSignUp = function (e) {\n      e.preventDefault();\n      var formatMessage = _this.props.intl.formatMessage;\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          password_re = _this$state.password_re,\n          name = _this$state.name,\n          agreed_terms = _this$state.agreed_terms,\n          agreed_privacy = _this$state.agreed_privacy,\n          agreed_advertisement = _this$state.agreed_advertisement;\n\n      if (email === \"\") {\n        _this.setState({\n          warning_email: formatMessage({\n            id: \"ID_SIGNUP_WARNING_EMAIL_EMPTY\"\n          })\n        });\n\n        return;\n      }\n\n      if (password === \"\") {\n        _this.setState({\n          warning_password: formatMessage({\n            id: \"ID_SIGNUP_WARNING_PW_EMPTY\"\n          })\n        });\n\n        return;\n      }\n\n      if (password_re === \"\") {\n        _this.setState({\n          warning_password: formatMessage({\n            id: \"ID_SIGNUP_WARNING_PW_RE_EMPTY\"\n          })\n        });\n\n        return;\n      }\n\n      if (name === \"\") {\n        _this.setState({\n          warning_name: formatMessage({\n            id: \"ID_SIGNUP_WARNING_NAME_EMPTY\"\n          })\n        });\n\n        return;\n      }\n\n      if (!agreed_terms || !agreed_privacy) {\n        _this.setState({\n          warning_agreement: formatMessage({\n            id: \"ID_SIGNUP_WARNING_AGREEMENT\"\n          })\n        });\n\n        return;\n      }\n\n      if (_this.checkEmailFormat() && _this.checkPasswordFormat() && _this.checkPasswordIdentical() && _this.checkNameFormat()) {\n        var params = {\n          email: email,\n          password: sha256(password),\n          phone: \"\",\n          name: name,\n          icon: DEFAULT_PROFILE_IMAGES[Math.floor(Math.random() * Math.floor(DEFAULT_PROFILE_IMAGES.length))],\n          isMarketingAgreement: agreed_advertisement\n        };\n        request.signup(params).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          if (json.status === 409) {\n            _this.setState({\n              warning_email: formatMessage({\n                id: \"ID_SIGNUP_WARNING_EMAIL_USED\"\n              })\n            });\n          } else if (json.status === 406) {\n            _this.setState({\n              warning_name: formatMessage({\n                id: \"ID_MYPAGE_NAME_USERNAME_OFFICIAL_WARNING\"\n              })\n            });\n          } else if (json.user) {\n            // TrackingUtil.sendGAEvent(\n            //   { category: \"Signup\", action: \"Signup_Success\" },\n            //   email\n            // );\n            // TrackingUtil.kakaoPixelEvent(\"signup\");\n            TrackingUtil.kakaoPixelPageView(\"completeRegistration\");\n            TrackingUtil.sendGTMEvent(\"Signup_Success\");\n            /*\n            author : john@wizscool.io\n            date : 2020.07.01\n            */\n\n            /* test Case1 */\n            // let bizSpring = document.createElement(\"script\");\n            // bizSpring._TRK_PI = \"RGR\";\n            // bizSpring._TRK_SX = \"\";\n            // bizSpring._TRK_AG = \"\";\n\n            /* test Case2 */\n            // window.setBizSpring();\n\n            request.login({\n              email: email,\n              password: sha256(password)\n            }).then(function (res) {\n              return res.json();\n            }).then(function (json) {\n              // TrackingUtil.sendGAEvent(\n              //   { category: \"Login\", action: \"Login_Success\" },\n              //   email\n              // );\n              TrackingUtil.sendGTMEvent(\"Login_Success\");\n              localStorage.setItem(\"wizToken\", json.token);\n\n              _this.props.updateUserInfo(json.user);\n            });\n            showPopUp(React.createElement(PopUp.OneButton, {\n              title: formatMessage({\n                id: \"ID_SIGNUP_SIGNED_TITLE\"\n              }),\n              buttonName: formatMessage({\n                id: \"ID_SIGNUP_SIGNED_CONFIRM\"\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 284\n              },\n              __self: this\n            }), {\n              darkmode: !_this.props.isBuilder\n            });\n          }\n        });\n      }\n    };\n\n    _this.onClickSignIn = function (e) {\n      e.preventDefault();\n      showPopUp(React.createElement(SignIn, {\n        isBuilder: _this.props.isBuilder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }), {\n        store: _this.props.store,\n        darkmode: !_this.props.isBuilder,\n        mobileFullscreen: true\n      });\n    };\n\n    _this.locale = props.intl.locale;\n\n    if (_this.locale === \"zh\") {\n      _this.locale = \"zh-CN\";\n    }\n\n    _this.agreements = [{\n      id: \"agreed_terms\",\n      title: _this.props.intl.formatMessage({\n        id: \"ID_SIGNUP_TERMS_AGREEMENT_TERMSOFUSE\"\n      }),\n      text: terms\n    }, {\n      id: \"agreed_privacy\",\n      title: _this.props.intl.formatMessage({\n        id: \"ID_SIGNUP_TERMS_AGREEMENT_PRIVACY\"\n      }),\n      text: privacy\n    }, {\n      id: \"agreed_advertisement\",\n      title: _this.props.intl.formatMessage({\n        id: \"ID_SIGNUP_TERMS_AGREEMENT_AD\"\n      }),\n      text: advertisement\n    }];\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      password_re: \"\",\n      name: \"\",\n      warning_email: \"\",\n      warning_password: \"\",\n      warning_name: \"\",\n      warning_agreement: \"\",\n      agreement: null,\n      agreed_terms: true,\n      agreed_privacy: true,\n      agreed_advertisement: true\n    };\n\n    if (_this.props.isBuilder) {\n      require(\"./index_builder.scss\");\n    }\n\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formatMessage = this.props.intl.formatMessage;\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          password_re = _this$state2.password_re,\n          name = _this$state2.name,\n          warning_email = _this$state2.warning_email,\n          warning_password = _this$state2.warning_password,\n          warning_name = _this$state2.warning_name,\n          warning_agreement = _this$state2.warning_agreement,\n          agreement = _this$state2.agreement;\n      var agreements = this.agreements,\n          onChangeInput = this.onChangeInput,\n          onClickAgree = this.onClickAgree,\n          onClickAgreement = this.onClickAgreement,\n          onClickShowAgreement = this.onClickShowAgreement,\n          onClickSignUp = this.onClickSignUp,\n          onClickSignIn = this.onClickSignIn;\n      return agreement ? React.createElement(\"div\", {\n        className: \"agreement\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"agreement_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, agreement.title), React.createElement(\"div\", {\n        className: \"agreement_text agreement_text-\".concat(agreement.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(Markdown, {\n        source: agreement.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"popup_button\",\n        onClick: function onClick() {\n          onClickAgree(agreement.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_AGREE\"\n      }))) : React.createElement(\"div\", {\n        className: \"signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup_title signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_TITLE\"\n      })), React.createElement(\"div\", {\n        className: \"signup_input_wrapper signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup_input_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_EMAIL\"\n      }), React.createElement(\"span\", {\n        className: \"signup_input_title_dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, \"*\")), React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning_email !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"email\",\n        placeholder: formatMessage({\n          id: \"ID_SIGNUP_EMAIL_PLACEHOLDER\"\n        }),\n        value: email,\n        onChange: onChangeInput,\n        type: \"text\",\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"popup_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, warning_email), React.createElement(\"div\", {\n        className: \"signup_input_wrapper signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup_input_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_PW\"\n      }), React.createElement(\"span\", {\n        className: \"signup_input_title_dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, \"*\")), React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning_password !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"password\",\n        type: \"password\",\n        placeholder: formatMessage({\n          id: \"ID_SIGNUP_PW_PLACEHOLDER\"\n        }),\n        value: password,\n        onChange: onChangeInput,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"signup_input_wrapper signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup_input_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_PW_RE\"\n      }), React.createElement(\"span\", {\n        className: \"signup_input_title_dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"*\")), React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning_password !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"password_re\",\n        type: \"password\",\n        placeholder: formatMessage({\n          id: \"ID_SIGNUP_PW_RE_PLACEHOLDER\"\n        }),\n        value: password_re,\n        onChange: onChangeInput,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"popup_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, warning_password), React.createElement(\"div\", {\n        className: \"signup_input_wrapper signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup_input_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_NAME\"\n      }), React.createElement(\"span\", {\n        className: \"signup_input_title_dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, \"*\")), React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning_name !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"name\",\n        placeholder: formatMessage({\n          id: \"ID_SIGNUP_NAME_PLACEHOLDER\"\n        }),\n        value: name,\n        onChange: onChangeInput,\n        type: \"text\",\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"popup_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, warning_name), React.createElement(\"div\", {\n        className: \"signup_agreements signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, agreements.map(function (agreement, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"signup_agreement\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 428\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"signup_agreement_box \".concat(warning_agreement !== \"\" && !_this2.state[agreement.id] && agreement.id !== \"agreed_advertisement\" ? \"signup_agreement_box-warning\" : \"\"),\n          onClick: function onClick() {\n            onClickAgreement(agreement.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 429\n          },\n          __self: this\n        }, _this2.state[agreement.id] && React.createElement(\"div\", {\n          className: \"signup_agreement_box_inner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 442\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"signup_agreement_title\",\n          onClick: function onClick() {\n            onClickAgreement(agreement.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }, agreement.title), React.createElement(\"img\", {\n          className: \"signup_agreement_arrow\",\n          src: arrowImg,\n          alt: \"arrow\",\n          onClick: function onClick() {\n            onClickShowAgreement(agreement.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 453\n          },\n          __self: this\n        }));\n      })), React.createElement(\"div\", {\n        className: \"popup_warning popup_warning-agreement signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, warning_agreement), React.createElement(\"div\", {\n        className: \"signup_msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_DESC\"\n      })), React.createElement(\"button\", {\n        className: \"popup_button popup_button-singup\",\n        onClick: onClickSignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_SIGNUP\"\n      })), React.createElement(\"div\", {\n        className: \"signup_link_wrapper signup__padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup_link_desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_SIGNIN_DESC\"\n      })), React.createElement(\"div\", {\n        className: \"signup_link\",\n        onClick: onClickSignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, formatMessage({\n        id: \"ID_SIGNUP_SIGNIN\"\n      })))));\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport default connect(undefined, {\n  updateUserInfo: userInfoActions.updateUserInfo\n})(injectIntl(SignUp));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/SignUp/index.js"],"names":["React","Component","connect","injectIntl","Markdown","sha256","request","TrackingUtil","DEFAULT_PROFILE_IMAGES","userInfoActions","PopUp","showPopUp","SignIn","terms","privacy","advertisement","SignUp","props","componentDidMount","kakaoPixelPageView","checkEmailFormat","state","email","length","checkPasswordFormat","password","checkPasswordIdentical","password_re","checkNameFormat","name","onChangeInput","e","formatMessage","intl","target","id","value","setState","warning_email","warning_password","warning_name","onClickAgree","dismissButton","document","getElementById","hidden","onClickAgreement","agreed","onClickShowAgreement","agreement","agreements","find","contents","scrollable","scrollTo","onClickSignUp","preventDefault","agreed_terms","agreed_privacy","agreed_advertisement","warning_agreement","params","phone","icon","Math","floor","random","isMarketingAgreement","signup","then","res","json","status","user","sendGTMEvent","login","localStorage","setItem","token","updateUserInfo","darkmode","isBuilder","onClickSignIn","store","mobileFullscreen","locale","title","text","require","map","index","arrowImg","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport Markdown from \"react-markdown\";\n\nimport sha256 from \"../../Util/SHA256\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport * as TrackingUtil from \"../../Util/TrackingUtil\";\nimport { DEFAULT_PROFILE_IMAGES } from \"../../Util/Constant\";\nimport * as userInfoActions from \"../../Store/Reducer/UserInfo\";\nimport PopUp, { showPopUp } from \"../PopUp\";\nimport SignIn from \"../SignIn\";\nimport \"./index.scss\";\n\nimport terms from \"./Agreements/terms\";\nimport privacy from \"./Agreements/privacy\";\nimport advertisement from \"./Agreements/advertisement\";\nimport arrowImg from \"../../../Image/signup_arrow.svg\";\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.locale = props.intl.locale;\n    if (this.locale === \"zh\") {\n      this.locale = \"zh-CN\";\n    }\n    this.agreements = [\n      {\n        id: \"agreed_terms\",\n        title: this.props.intl.formatMessage({\n          id: \"ID_SIGNUP_TERMS_AGREEMENT_TERMSOFUSE\"\n        }),\n        text: terms\n      },\n      {\n        id: \"agreed_privacy\",\n        title: this.props.intl.formatMessage({\n          id: \"ID_SIGNUP_TERMS_AGREEMENT_PRIVACY\"\n        }),\n        text: privacy\n      },\n      {\n        id: \"agreed_advertisement\",\n        title: this.props.intl.formatMessage({\n          id: \"ID_SIGNUP_TERMS_AGREEMENT_AD\"\n        }),\n        text: advertisement\n      }\n    ];\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      password_re: \"\",\n      name: \"\",\n\n      warning_email: \"\",\n      warning_password: \"\",\n      warning_name: \"\",\n      warning_agreement: \"\",\n\n      agreement: null,\n      agreed_terms: true,\n      agreed_privacy: true,\n      agreed_advertisement: true\n    };\n    if (this.props.isBuilder) {\n      require(\"./index_builder.scss\");\n    }\n  }\n\n  componentDidMount = () => {\n    TrackingUtil.kakaoPixelPageView(\"signUp\");\n  };\n\n  checkEmailFormat = () => {\n    return this.state.email && this.state.email.length > 4;\n  };\n  checkPasswordFormat = () => {\n    return this.state.password.length >= 6;\n  };\n  checkPasswordIdentical = () => {\n    return this.state.password === this.state.password_re;\n  };\n  checkNameFormat = () => {\n    return this.state.name.length >= 2;\n  };\n  \n  onChangeInput = e => {\n    const { formatMessage } = this.props.intl;\n    const { id, value } = e.target;\n    this.setState({ [id]: value }, () => {\n      switch (id) {\n        case \"email\":\n          if (this.checkEmailFormat() || value === \"\") {\n            this.setState({ warning_email: \"\" });\n          } else {\n            this.setState({\n              warning_email: formatMessage({\n                id: \"ID_SIGNUP_WARNING_EMAIL_FORMAT\"\n              })\n            });\n          }\n          break;\n        case \"password\":\n        case \"password_re\":\n          if (this.checkPasswordFormat()) {\n            if (\n              this.checkPasswordIdentical() ||\n              this.state.password_re === \"\"\n            ) {\n              this.setState({ warning_password: \"\" });\n            } else {\n              this.setState({\n                warning_password: formatMessage({\n                  id: \"ID_SIGNUP_WARNING_PW_RE\"\n                })\n              });\n            }\n          } else if (value === \"\") {\n            this.setState({ warning_password: \"\" });\n          } else {\n            this.setState({\n              warning_password: formatMessage({\n                id: \"ID_SIGNUP_WARNING_PW_FORMAT\"\n              })\n            });\n          }\n          break;\n        case \"name\":\n          if (this.checkNameFormat() || value === \"\") {\n            this.setState({ warning_name: \"\" });\n          } else {\n            this.setState({\n              warning_name: formatMessage({\n                id: \"ID_SIGNUP_WARNING_NAME_FORMAT\"\n              })\n            });\n          }\n          break;\n        default:\n          break;\n      }\n    });\n  };\n\n  onClickAgree = id => {\n    const dismissButton = document.getElementById(\"popup_dismissbtn\");\n    if (dismissButton) dismissButton.hidden = false;\n    this.setState({ [id]: true, warning_agreement: \"\", agreement: null });\n  };\n  onClickAgreement = id => {\n    const agreed = this.state[id];\n    this.setState({ [id]: !agreed, warning_agreement: \"\", agreement: null });\n  };\n  onClickShowAgreement = id => {\n    const agreement = this.agreements.find(agreement => agreement.id === id);\n    const contents = document.getElementById(\"popup_contents\");\n    const scrollable = document.getElementById(\"popup_scrollable\");\n    const dismissButton = document.getElementById(\"popup_dismissbtn\");\n    if (contents) contents.scrollTo(0, 0);\n    if (scrollable) scrollable.scrollTo(0, 0);\n    if (dismissButton) dismissButton.hidden = true;\n    this.setState({ agreement });\n  };\n\n  onClickSignUp = e => {\n    e.preventDefault();\n    const { formatMessage } = this.props.intl;\n    const {\n      email,\n      password,\n      password_re,\n      name,\n      agreed_terms,\n      agreed_privacy,\n      agreed_advertisement\n    } = this.state;\n    if (email === \"\") {\n      this.setState({\n        warning_email: formatMessage({ id: \"ID_SIGNUP_WARNING_EMAIL_EMPTY\" })\n      });\n      return;\n    }\n    if (password === \"\") {\n      this.setState({\n        warning_password: formatMessage({ id: \"ID_SIGNUP_WARNING_PW_EMPTY\" })\n      });\n      return;\n    }\n    if (password_re === \"\") {\n      this.setState({\n        warning_password: formatMessage({\n          id: \"ID_SIGNUP_WARNING_PW_RE_EMPTY\"\n        })\n      });\n      return;\n    }\n    if (name === \"\") {\n      this.setState({\n        warning_name: formatMessage({ id: \"ID_SIGNUP_WARNING_NAME_EMPTY\" })\n      });\n      return;\n    }\n    if (!agreed_terms || !agreed_privacy) {\n      this.setState({\n        warning_agreement: formatMessage({ id: \"ID_SIGNUP_WARNING_AGREEMENT\" })\n      });\n      return;\n    }\n    \n    if (\n      this.checkEmailFormat() &&\n      this.checkPasswordFormat() &&\n      this.checkPasswordIdentical() &&\n      this.checkNameFormat()\n    ) {\n      let params = {\n        email,\n        password: sha256(password),\n        phone: \"\",\n        name,\n        icon:\n          DEFAULT_PROFILE_IMAGES[\n            Math.floor(\n              Math.random() * Math.floor(DEFAULT_PROFILE_IMAGES.length)\n            )\n          ],\n        isMarketingAgreement: agreed_advertisement\n      };\n      \n      request\n        .signup(params)\n        .then(res => res.json())\n        .then(json => {\n          if (json.status === 409) {\n            this.setState({\n              warning_email: formatMessage({\n                id: \"ID_SIGNUP_WARNING_EMAIL_USED\"\n              })\n            });\n          } else if (json.status === 406) {\n            this.setState({\n              warning_name: formatMessage({\n                id: \"ID_MYPAGE_NAME_USERNAME_OFFICIAL_WARNING\"\n              })\n            });\n          } else if (json.user) {\n            // TrackingUtil.sendGAEvent(\n            //   { category: \"Signup\", action: \"Signup_Success\" },\n            //   email\n            // );\n            // TrackingUtil.kakaoPixelEvent(\"signup\");\n            TrackingUtil.kakaoPixelPageView(\"completeRegistration\");\n            TrackingUtil.sendGTMEvent(\"Signup_Success\");\n\n            /*\n            author : john@wizscool.io\n            date : 2020.07.01\n            */\n            /* test Case1 */\n            // let bizSpring = document.createElement(\"script\");\n            // bizSpring._TRK_PI = \"RGR\";\n            // bizSpring._TRK_SX = \"\";\n            // bizSpring._TRK_AG = \"\";\n\n            /* test Case2 */\n            // window.setBizSpring();\n\n            request\n              .login({ email, password: sha256(password) })\n              .then(res => res.json())\n              .then(json => {\n                // TrackingUtil.sendGAEvent(\n                //   { category: \"Login\", action: \"Login_Success\" },\n                //   email\n                // );\n                TrackingUtil.sendGTMEvent(\"Login_Success\");\n                localStorage.setItem(\"wizToken\", json.token);\n                this.props.updateUserInfo(json.user);\n              });\n\n            showPopUp(\n              <PopUp.OneButton\n                title={formatMessage({ id: \"ID_SIGNUP_SIGNED_TITLE\" })}\n                buttonName={formatMessage({ id: \"ID_SIGNUP_SIGNED_CONFIRM\" })}\n              />,\n              { darkmode: !this.props.isBuilder }\n            );\n          }\n        });\n    }\n  };\n  onClickSignIn = e => {\n    e.preventDefault();\n    showPopUp(<SignIn isBuilder={this.props.isBuilder} />, {\n      store: this.props.store,\n      darkmode: !this.props.isBuilder,\n      mobileFullscreen: true\n    });\n  };\n\n  render() {\n    const { formatMessage } = this.props.intl;\n    const {\n      email,\n      password,\n      password_re,\n      name,\n      warning_email,\n      warning_password,\n      warning_name,\n      warning_agreement,\n      agreement\n    } = this.state;\n    const {\n      agreements,\n      onChangeInput,\n      onClickAgree,\n      onClickAgreement,\n      onClickShowAgreement,\n      onClickSignUp,\n      onClickSignIn\n    } = this;\n\n    return agreement ? (\n      <div className=\"agreement\">\n        <div className=\"agreement_title\">{agreement.title}</div>\n        <div className={`agreement_text agreement_text-${agreement.id}`}>\n          <Markdown source={agreement.text} />\n        </div>\n        <button\n          className=\"popup_button\"\n          onClick={() => {\n            onClickAgree(agreement.id);\n          }}\n        >\n          {formatMessage({ id: \"ID_SIGNUP_AGREE\" })}\n        </button>\n      </div>\n    ) : (\n      <div className=\"signup\">\n        <form autoComplete=\"off\">\n          <div className=\"signup_title signup__padding\">\n            {formatMessage({ id: \"ID_SIGNUP_TITLE\" })}\n          </div>\n\n          {/* ===== 이메일 =================================== */}\n          <div className=\"signup_input_wrapper signup__padding\">\n            <div className=\"signup_input_title\">\n              {formatMessage({ id: \"ID_SIGNUP_EMAIL\" })}\n              <span className=\"signup_input_title_dot\">*</span>\n            </div>\n            <input\n              className={`popup_input ${\n                warning_email !== \"\" ? \"popup_input-warning\" : \"\"\n              }`}\n              id=\"email\"\n              placeholder={formatMessage({ id: \"ID_SIGNUP_EMAIL_PLACEHOLDER\" })}\n              value={email}\n              onChange={onChangeInput}\n              type=\"text\"\n              autoComplete=\"off\"\n            />\n          </div>\n          <div className=\"popup_warning\">{warning_email}</div>\n\n          {/* ===== 비밀번호 =================================== */}\n          <div className=\"signup_input_wrapper signup__padding\">\n            <div className=\"signup_input_title\">\n              {formatMessage({ id: \"ID_SIGNUP_PW\" })}\n              <span className=\"signup_input_title_dot\">*</span>\n            </div>\n            <input\n              className={`popup_input ${\n                warning_password !== \"\" ? \"popup_input-warning\" : \"\"\n              }`}\n              id=\"password\"\n              type=\"password\"\n              placeholder={formatMessage({ id: \"ID_SIGNUP_PW_PLACEHOLDER\" })}\n              value={password}\n              onChange={onChangeInput}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div className=\"signup_input_wrapper signup__padding\">\n            <div className=\"signup_input_title\">\n              {formatMessage({ id: \"ID_SIGNUP_PW_RE\" })}\n              <span className=\"signup_input_title_dot\">*</span>\n            </div>\n            <input\n              className={`popup_input ${\n                warning_password !== \"\" ? \"popup_input-warning\" : \"\"\n              }`}\n              id=\"password_re\"\n              type=\"password\"\n              placeholder={formatMessage({ id: \"ID_SIGNUP_PW_RE_PLACEHOLDER\" })}\n              value={password_re}\n              onChange={onChangeInput}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div className=\"popup_warning\">{warning_password}</div>\n\n          {/* ===== 이름 =================================== */}\n          <div className=\"signup_input_wrapper signup__padding\">\n            <div className=\"signup_input_title\">\n              {formatMessage({ id: \"ID_SIGNUP_NAME\" })}\n              <span className=\"signup_input_title_dot\">*</span>\n            </div>\n            <input\n              className={`popup_input ${\n                warning_name !== \"\" ? \"popup_input-warning\" : \"\"\n              }`}\n              id=\"name\"\n              placeholder={formatMessage({ id: \"ID_SIGNUP_NAME_PLACEHOLDER\" })}\n              value={name}\n              onChange={onChangeInput}\n              type=\"text\"\n              autoComplete=\"off\"\n            />\n          </div>\n          <div className=\"popup_warning\">{warning_name}</div>\n\n          {/* ===== 이용약관 =================================== */}\n          <div className=\"signup_agreements signup__padding\">\n            {agreements.map((agreement, index) => (\n              <div key={index} className=\"signup_agreement\">\n                <div\n                  className={`signup_agreement_box ${\n                    warning_agreement !== \"\" &&\n                    !this.state[agreement.id] &&\n                    agreement.id !== \"agreed_advertisement\"\n                      ? \"signup_agreement_box-warning\"\n                      : \"\"\n                  }`}\n                  onClick={() => {\n                    onClickAgreement(agreement.id);\n                  }}\n                >\n                  {this.state[agreement.id] && (\n                    <div className=\"signup_agreement_box_inner\" />\n                  )}\n                </div>\n                <div\n                  className=\"signup_agreement_title\"\n                  onClick={() => {\n                    onClickAgreement(agreement.id);\n                  }}\n                >\n                  {agreement.title}\n                </div>\n                <img\n                  className=\"signup_agreement_arrow\"\n                  src={arrowImg}\n                  alt=\"arrow\"\n                  onClick={() => {\n                    onClickShowAgreement(agreement.id);\n                  }}\n                />\n              </div>\n            ))}\n          </div>\n          <div className=\"popup_warning popup_warning-agreement signup__padding\">\n            {warning_agreement}\n          </div>\n\n          <div className=\"signup_msg\">\n            {formatMessage({ id: \"ID_SIGNUP_DESC\" })}\n          </div>\n\n          <button\n            className=\"popup_button popup_button-singup\"\n            onClick={onClickSignUp}\n          >\n            {formatMessage({ id: \"ID_SIGNUP_SIGNUP\" })}\n          </button>\n          <div className=\"signup_link_wrapper signup__padding\">\n            <div className=\"signup_link_desc\">\n              {formatMessage({ id: \"ID_SIGNUP_SIGNIN_DESC\" })}\n            </div>\n            <div className=\"signup_link\" onClick={onClickSignIn}>\n              {formatMessage({ id: \"ID_SIGNUP_SIGNIN\" })}\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  undefined,\n  {\n    updateUserInfo: userInfoActions.updateUserInfo\n  }\n)(injectIntl(SignUp));\n"]},"metadata":{},"sourceType":"module"}