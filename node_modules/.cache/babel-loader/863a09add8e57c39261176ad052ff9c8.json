{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/astroboy/src/Page/DreamEditor/Editor/Field/index.js\";\nimport React, { useRef } from \"react\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport \"./index.scss\";\n\nfunction Base(props) {\n  var id = props.id,\n      type = props.type,\n      title = props.title,\n      comment = props.comment,\n      children = props.children;\n  return React.createElement(\"div\", {\n    className: \"dreamEditor_editor_field dreamEditor_editor_field-\".concat(id, \" dreamEditor_editor_field-\").concat(type),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dreamEditor_editor_field_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, title), React.createElement(\"div\", {\n    className: \"dreamEditor_editor_field_body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, children, comment && React.createElement(\"div\", {\n    className: \"dreamEditor_editor_field_comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, comment)));\n}\n\nfunction Input(props) {\n  var id = props.id,\n      _props$type = props.type,\n      type = _props$type === void 0 ? \"text\" : _props$type,\n      placeholder = props.placeholder,\n      value = props.value,\n      _onChange = props.onChange,\n      children = props.children;\n  return React.createElement(Base, Object.assign({}, props, {\n    type: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: type,\n    placeholder: placeholder,\n    value: value,\n    onChange: function onChange(e) {\n      _onChange(e.currentTarget.value, id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }), children);\n}\n\nfunction Textarea(props) {\n  var id = props.id,\n      placeholder = props.placeholder,\n      value = props.value,\n      _onChange2 = props.onChange;\n  return React.createElement(Base, Object.assign({}, props, {\n    type: \"textarea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"textarea\", {\n    placeholder: placeholder,\n    value: value,\n    onChange: function onChange(e) {\n      _onChange2(e.currentTarget.value, id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }));\n}\n\nfunction Select(props) {\n  var id = props.id,\n      value = props.value,\n      options = props.options,\n      _onChange3 = props.onChange;\n  return React.createElement(Base, Object.assign({}, props, {\n    type: \"select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"select\", {\n    value: value,\n    onChange: function onChange(e) {\n      _onChange3(e.currentTarget.value, id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, options.map(function (option, id) {\n    return React.createElement(\"option\", {\n      key: id,\n      value: option.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, option.label);\n  })));\n}\n\nfunction File(props) {\n  var id = props.id,\n      accept = props.accept,\n      value = props.value,\n      _onChange4 = props.onChange;\n  var fileInputRef = useRef();\n  return React.createElement(Base, Object.assign({}, props, {\n    type: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    id: id,\n    ref: fileInputRef,\n    type: \"file\",\n    accept: accept,\n    onChange: function onChange(e) {\n      var selectedFile = e.target.files[0];\n      if (!selectedFile) return;\n      var data = new FormData();\n      data.append(\"file\", selectedFile);\n      request.dreamUpload(data).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          _onChange4(\"/\" + json.key, id);\n        } else {\n          throw json;\n        }\n      }).catch(function (err) {\n        alert(JSON.stringify(err));\n      });\n    },\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: function onClick() {\n      fileInputRef.current.click();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"\\uC5C5\\uB85C\\uB4DC\"), value && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, value, React.createElement(\"img\", {\n    src: value.toDreamclassS3URL(),\n    alt: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })));\n}\n\nfunction OnOff(props) {\n  var id = props.id,\n      isOn = props.value,\n      onChange = props.onChange;\n  return React.createElement(Base, Object.assign({}, props, {\n    type: \"onoff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"onoff onoff-\".concat(isOn ? \"on\" : \"off\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"onoff_background\",\n    onClick: function onClick() {\n      onChange(!isOn, id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"onoff_thumb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }))));\n}\n\nvar Field = {\n  Base: Base,\n  Input: Input,\n  Textarea: Textarea,\n  Select: Select,\n  File: File,\n  OnOff: OnOff\n};\nexport default Field;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/astroboy/src/Page/DreamEditor/Editor/Field/index.js"],"names":["React","useRef","request","Base","props","id","type","title","comment","children","Input","placeholder","value","onChange","e","currentTarget","Textarea","Select","options","map","option","label","File","accept","fileInputRef","selectedFile","target","files","data","FormData","append","dreamUpload","then","res","json","success","key","catch","err","alert","JSON","stringify","current","click","toDreamclassS3URL","OnOff","isOn","Field"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport \"./index.scss\";\n\nfunction Base(props) {\n  const { id, type, title, comment, children } = props;\n  return (\n    <div\n      className={`dreamEditor_editor_field dreamEditor_editor_field-${id} dreamEditor_editor_field-${type}`}\n    >\n      <div className=\"dreamEditor_editor_field_title\">{title}</div>\n      <div className=\"dreamEditor_editor_field_body\">\n        {children}\n        {comment && (\n          <div className=\"dreamEditor_editor_field_comment\">{comment}</div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction Input(props) {\n  const { id, type = \"text\", placeholder, value, onChange, children } = props;\n  return (\n    <Base {...props} type=\"input\">\n      <input\n        type={type}\n        placeholder={placeholder}\n        value={value}\n        onChange={e => {\n          onChange(e.currentTarget.value, id);\n        }}\n      />\n      {children}\n    </Base>\n  );\n}\n\nfunction Textarea(props) {\n  const { id, placeholder, value, onChange } = props;\n  return (\n    <Base {...props} type=\"textarea\">\n      <textarea\n        placeholder={placeholder}\n        value={value}\n        onChange={e => {\n          onChange(e.currentTarget.value, id);\n        }}\n      />\n    </Base>\n  );\n}\n\nfunction Select(props) {\n  const { id, value, options, onChange } = props;\n  return (\n    <Base {...props} type=\"select\">\n      <select\n        value={value}\n        onChange={e => {\n          onChange(e.currentTarget.value, id);\n        }}\n      >\n        {options.map((option, id) => (\n          <option key={id} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n    </Base>\n  );\n}\n\nfunction File(props) {\n  const { id, accept, value, onChange } = props;\n  const fileInputRef = useRef();\n  return (\n    <Base {...props} type=\"file\">\n      <input\n        id={id}\n        ref={fileInputRef}\n        type=\"file\"\n        accept={accept}\n        onChange={e => {\n          const selectedFile = e.target.files[0];\n          if (!selectedFile) return;\n\n          const data = new FormData();\n          data.append(\"file\", selectedFile);\n          request\n            .dreamUpload(data)\n            .then(res => res.json())\n            .then(json => {\n              if (json.success) {\n                onChange(\"/\" + json.key, id);\n              } else {\n                throw json;\n              }\n            })\n            .catch(err => {\n              alert(JSON.stringify(err));\n            });\n        }}\n        hidden\n      />\n      <button\n        onClick={() => {\n          fileInputRef.current.click();\n        }}\n      >\n        업로드\n      </button>\n      {value && (\n        <span>\n          {value}\n          <img src={value.toDreamclassS3URL()} alt={value} />\n        </span>\n      )}\n    </Base>\n  );\n}\n\nfunction OnOff(props) {\n  const { id, value: isOn, /*title_on, title_off,*/ onChange } = props;\n  return (\n    <Base {...props} type=\"onoff\">\n      <div className={`onoff onoff-${isOn ? \"on\" : \"off\"}`}>\n        <div\n          className=\"onoff_background\"\n          onClick={() => {\n            onChange(!isOn, id);\n          }}\n        >\n          <div className=\"onoff_thumb\" />\n        </div>\n      </div>\n    </Base>\n  );\n}\n\nconst Field = {\n  Base,\n  Input,\n  Textarea,\n  Select,\n  File,\n  OnOff\n};\nexport default Field;\n"]},"metadata":{},"sourceType":"module"}