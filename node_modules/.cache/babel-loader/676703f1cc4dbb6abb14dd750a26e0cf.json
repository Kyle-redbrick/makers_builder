{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Event/OCP2/Challenge/Container.js\";\nimport React, { Component } from \"react\";\nimport View from \"./View\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../../../../Common/Component/PopUp\";\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.getNewProjects();\n\n      _this.getPopularProjects();\n    };\n\n    _this.handleNewsTab = function (type) {\n      _this.setState({\n        newsType: type,\n        newsPage: 0,\n        news: []\n      }, function () {\n        _this.getNewProjects();\n      });\n    };\n\n    _this.handlePopularsTab = function (type) {\n      _this.setState({\n        popularsType: type,\n        popularsPage: 0,\n        populars: []\n      }, function () {\n        _this.getPopularProjects();\n      });\n    };\n\n    _this.getNewProjects = function () {\n      var _this$state = _this.state,\n          news = _this$state.news,\n          newsType = _this$state.newsType,\n          newsPage = _this$state.newsPage,\n          limit = _this$state.limit;\n      request.getOcp2ChallengeNews({\n        type: newsType,\n        limit: limit,\n        offset: limit * newsPage\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this.setState({\n          news: news.concat(json)\n        });\n      });\n    };\n\n    _this.handleNewsMore = function () {\n      var newsPage = _this.state.newsPage;\n\n      _this.setState({\n        newsPage: newsPage + 1\n      }, function () {\n        _this.getNewProjects();\n      });\n    };\n\n    _this.handlePopularsMore = function () {\n      var popularsPage = _this.state.popularsPage;\n\n      _this.setState({\n        popularsPage: popularsPage + 1\n      }, function () {\n        _this.getPopularProjects();\n      });\n    };\n\n    _this.getPopularProjects = function () {\n      var _this$state2 = _this.state,\n          populars = _this$state2.populars,\n          popularsType = _this$state2.popularsType,\n          popularsPage = _this$state2.popularsPage,\n          limit = _this$state2.limit;\n      request.getOcp2ChallengePopulars({\n        type: popularsType,\n        limit: limit,\n        offset: limit * popularsPage\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this.setState({\n          populars: populars.concat(json)\n        });\n      });\n    };\n\n    _this.openFinished = function () {\n      showPopUp(React.createElement(PopUp.OneButton, {\n        title: \"챌린지 참여기간이 아닙니다.\",\n        buttonName: \"확인\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true\n      });\n    };\n\n    _this.tabType = {\n      all: \"전체\",\n      text: \"텍스트 코딩\",\n      block: \"블록 코딩\"\n    };\n    _this.state = {\n      news: [],\n      newsType: \"all\",\n      newsPage: 0,\n      populars: [],\n      popularsType: \"all\",\n      popularsPage: 0,\n      limit: 10\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          news = _this$state3.news,\n          newsType = _this$state3.newsType,\n          newsPage = _this$state3.newsPage,\n          populars = _this$state3.populars,\n          popularsType = _this$state3.popularsType,\n          popularsPage = _this$state3.popularsPage,\n          limit = _this$state3.limit;\n      var handleNewsTab = this.handleNewsTab,\n          tabType = this.tabType,\n          handlePopularsTab = this.handlePopularsTab,\n          handleNewsMore = this.handleNewsMore,\n          handlePopularsMore = this.handlePopularsMore,\n          openFinished = this.openFinished;\n      var isNewsShowMore = limit * (newsPage + 1) === news.length;\n      var isPopularsShowMore = limit * (popularsPage + 1) === populars.length;\n      return React.createElement(View, {\n        news: news,\n        populars: populars,\n        tabType: tabType,\n        handleNewsTab: handleNewsTab,\n        handlePopularsTab: handlePopularsTab,\n        handleNewsMore: handleNewsMore,\n        newsType: newsType,\n        newsPage: newsPage,\n        popularsType: popularsType,\n        popularsPage: popularsPage,\n        handlePopularsMore: handlePopularsMore,\n        limit: limit,\n        isNewsShowMore: isNewsShowMore,\n        isPopularsShowMore: isPopularsShowMore,\n        openFinished: openFinished,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userinfo: state.userinfo\n  };\n}, {})(injectIntl(Container));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Event/OCP2/Challenge/Container.js"],"names":["React","Component","View","connect","injectIntl","request","PopUp","showPopUp","Container","props","componentDidMount","getNewProjects","getPopularProjects","handleNewsTab","type","setState","newsType","newsPage","news","handlePopularsTab","popularsType","popularsPage","populars","state","limit","getOcp2ChallengeNews","offset","then","res","json","concat","handleNewsMore","handlePopularsMore","getOcp2ChallengePopulars","openFinished","darkmode","dismissButton","dismissOverlay","tabType","all","text","block","isNewsShowMore","length","isPopularsShowMore","userinfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport View from \"./View\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport PopUp, { showPopUp } from \"../../../../Common/Component/PopUp\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.tabType = { all: \"전체\", text: \"텍스트 코딩\", block: \"블록 코딩\" };\n\n    this.state = {\n      news: [],\n      newsType: \"all\",\n      newsPage: 0,\n      populars: [],\n      popularsType: \"all\",\n      popularsPage: 0,\n      limit: 10\n    };\n  }\n  componentDidMount = () => {\n    this.getNewProjects();\n    this.getPopularProjects();\n  };\n\n  handleNewsTab = type => {\n    this.setState(\n      {\n        newsType: type,\n        newsPage: 0,\n        news: []\n      },\n      () => {\n        this.getNewProjects();\n      }\n    );\n  };\n  handlePopularsTab = type => {\n    this.setState({ popularsType: type, popularsPage: 0, populars: [] }, () => {\n      this.getPopularProjects();\n    });\n  };\n\n  getNewProjects = () => {\n    const { news, newsType, newsPage, limit } = this.state;\n    request\n      .getOcp2ChallengeNews({\n        type: newsType,\n        limit: limit,\n        offset: limit * newsPage\n      })\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          news: news.concat(json)\n        });\n      });\n  };\n\n  handleNewsMore = () => {\n    const { newsPage } = this.state;\n    this.setState({ newsPage: newsPage + 1 }, () => {\n      this.getNewProjects();\n    });\n  };\n\n  handlePopularsMore = () => {\n    const { popularsPage } = this.state;\n    this.setState({ popularsPage: popularsPage + 1 }, () => {\n      this.getPopularProjects();\n    });\n  };\n\n  getPopularProjects = () => {\n    const { populars, popularsType, popularsPage, limit } = this.state;\n\n    request\n      .getOcp2ChallengePopulars({\n        type: popularsType,\n        limit: limit,\n        offset: limit * popularsPage\n      })\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          populars: populars.concat(json)\n        });\n      });\n  };\n\n  openFinished = () => {\n    showPopUp(\n      <PopUp.OneButton\n        title={\"챌린지 참여기간이 아닙니다.\"}\n        buttonName={\"확인\"}\n      />,\n      {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true\n      }\n    );\n  };\n\n  render() {\n    const {\n      news,\n      newsType,\n      newsPage,\n      populars,\n      popularsType,\n      popularsPage,\n      limit\n    } = this.state;\n    const {\n      handleNewsTab,\n      tabType,\n      handlePopularsTab,\n      handleNewsMore,\n      handlePopularsMore,\n      openFinished\n    } = this;\n    let isNewsShowMore = limit * (newsPage + 1) === news.length;\n    let isPopularsShowMore = limit * (popularsPage + 1) === populars.length;\n    return (\n      <View\n        news={news}\n        populars={populars}\n        tabType={tabType}\n        handleNewsTab={handleNewsTab}\n        handlePopularsTab={handlePopularsTab}\n        handleNewsMore={handleNewsMore}\n        newsType={newsType}\n        newsPage={newsPage}\n        popularsType={popularsType}\n        popularsPage={popularsPage}\n        handlePopularsMore={handlePopularsMore}\n        limit={limit}\n        isNewsShowMore={isNewsShowMore}\n        isPopularsShowMore={isPopularsShowMore}\n        openFinished={openFinished}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({ userinfo: state.userinfo }),\n  {}\n)(injectIntl(Container));\n"]},"metadata":{},"sourceType":"module"}