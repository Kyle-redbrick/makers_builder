{"ast":null,"code":"import _objectSpread from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/astroboy/src/Page/Builder/Component/OCP2/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as userInfoActions from \"../../../../Common/Store/Reducer/UserInfo\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport * as OcpToken from \"../../../../Common/Util/OcpToken\";\nimport { URL, VCTYPE } from \"../../../../Common/Util/Constant\";\nimport Popup, { showPopUp } from \"../../../../Common/Component/PopUp\";\nimport Print from \"../../../../Common/Component/OCPCertification\";\nimport store from \"../../Store\";\nimport Videoclass from \"../Videoclass\";\nimport \"./index.scss\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(_props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, _props);\n    _this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _this.getMyOcp();\n\n            case 3:\n              if (_this.state.maxOcpLevel < _this.props.videoclass.level) {\n                _this.handleChangeLevel(_this.state.maxOcpLevel);\n              }\n\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 9:\n              window.addEventListener(\"resize\", _this.resizeEventContent);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    _this.componentWillUnmount = function () {\n      window.removeEventListener(\"resize\", _this.resizeEventContent);\n    };\n\n    _this.componentDidUpdate = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(prevProps) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(_this.props.userinfo.email && !prevProps.userinfo.email)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.next = 3;\n                return _this.getMyOcp();\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                if (!(!_this.props.userinfo.email && prevProps.userinfo.email)) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 8;\n                return _this.getMyOcp();\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.handleChangeLevel = function (level) {\n      _this.props.history.replace(\"./\".concat(level));\n\n      window.location.reload();\n    };\n\n    _this.getMyOcp = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res, json, currentData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.props.userinfo.email || _this.guest)) {\n                _context3.next = 10;\n                break;\n              }\n\n              _context3.next = 3;\n              return request.getMyOcp2(_objectSpread({}, _this.props.userinfo.email ? {\n                email: _this.props.userinfo.email\n              } : {\n                guestId: _this.guest && _this.guest.id\n              }, {\n                type: _this.type\n              }));\n\n            case 3:\n              res = _context3.sent;\n              _context3.next = 6;\n              return res.json();\n\n            case 6:\n              json = _context3.sent;\n\n              if (!json) {\n                _this.setState({\n                  maxOcpLevel: 1\n                });\n              } else {\n                currentData = json.find(function (element) {\n                  return element.grade === _this.grade;\n                });\n\n                _this.setState({\n                  maxOcpLevel: Number(currentData ? currentData.level : 0) + 1\n                });\n              }\n\n              _context3.next = 11;\n              break;\n\n            case 10:\n              _this.setState({\n                maxOcpLevel: 1\n              });\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    _this.onEnterEndStage = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(_this.state.maxOcpLevel < _this.props.videoclass.level + 1)) {\n                _context4.next = 12;\n                break;\n              }\n\n              if (!_this.props.userinfo.email) {\n                _context4.next = 6;\n                break;\n              }\n\n              _context4.next = 4;\n              return request.updateMyOcpLevel2({\n                email: _this.props.userinfo.email,\n                level: _this.props.videoclass.level,\n                grade: _this.grade,\n                type: _this.type\n              });\n\n            case 4:\n              _context4.next = 12;\n              break;\n\n            case 6:\n              if (_this.guest) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 9;\n              return OcpToken.addOcpUser(_this.props.userinfo.email, _this.grade, _this.type);\n\n            case 9:\n              _this.guest = localStorage.getItem(\"ocpId\") && JSON.parse(localStorage.getItem(\"ocpId\"));\n\n            case 10:\n              _context4.next = 12;\n              return request.updateMyOcpLevel2({\n                guestId: _this.guest && _this.guest.id,\n                level: _this.props.videoclass.level,\n                grade: _this.grade,\n                type: _this.type\n              });\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    _this.checkLastLevelInGrade = function () {\n      return _this.props.videoclass.level === 10;\n    };\n\n    _this.endStageButtonAction = function () {\n      if (_this.props.videoclass.level < 10) {\n        _this.handleChangeLevel(_this.props.videoclass.level + 1);\n      } else {\n        _this.props.history.push(\"../../../../codingparty\");\n      }\n    };\n\n    _this.showPrintPopup = function () {\n      showPopUp(React.createElement(Popup.TwoButton, {\n        title: \"\\uC778\\uC99D\\uC11C\\uB97C \\uCD9C\\uB825\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n        subtitle: \"\\uC704\\uC988\\uB7A9 \\uD68C\\uC6D0\\uC740 \\uC5B8\\uC81C\\uB4E0\\uC9C0\\n\\uCD9C\\uB825\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\n(\\uBE44\\uD68C\\uC6D0 3\\uC2DC\\uAC04 \\uC774\\uB0B4\\uB9CC \\uAC00\\uB2A5)\",\n        cancelButtonName: \"\\uC544\\uB2C8\\uC624\",\n        confirmButtonName: \"\\uB124\",\n        confirmAction: function confirmAction() {\n          return _this.handleCertification();\n        },\n        cancelAction: _this.printCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), {\n        store: store,\n        dismissOverlay: true\n      });\n    };\n\n    _this.handleCertification = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var name, organization, res, guest, callback;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!_this.props.userinfo.email) {\n                _context5.next = 4;\n                break;\n              }\n\n              if (_this.props.userinfo.organization) {\n                name = _this.props.userinfo.name;\n                organization = _this.props.userinfo.organization;\n              } else {\n                showPopUp(React.createElement(Popup.OneInput, {\n                  title: \"\\uD559\\uAD50\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n                  buttonName: \"\\uD655\\uC778\",\n                  inputLimit: 10,\n                  buttonAction: function buttonAction(org) {\n                    return callback(org);\n                  },\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 158\n                  },\n                  __self: this\n                }), {\n                  store: store,\n                  dismissOverlay: true\n                });\n              }\n\n              _context5.next = 11;\n              break;\n\n            case 4:\n              _context5.next = 6;\n              return request.getOcpUser2({\n                guestId: _this.guest && _this.guest.id\n              });\n\n            case 6:\n              res = _context5.sent;\n              _context5.next = 9;\n              return res.json();\n\n            case 9:\n              guest = _context5.sent;\n\n              if (guest) {\n                if (!(guest.name && guest.organization)) {\n                  showPopUp(React.createElement(Popup.TwoInput, {\n                    title: \"\\uD559\\uAD50\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n                    buttonName: \"\\uD655\\uC778\",\n                    inputTitle1: \"\\uC774\\uB984\",\n                    inputTitle2: \"\\uD559\\uAD50\",\n                    inputLimit1: 8,\n                    inputLimit2: 10,\n                    buttonAction: function buttonAction(org, name) {\n                      return callback(org, name);\n                    },\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 175\n                    },\n                    __self: this\n                  }), {\n                    store: store,\n                    dismissOverlay: true\n                  });\n                } else {\n                  name = guest.name;\n                  organization = guest.organization;\n                }\n              }\n\n            case 11:\n              if (name && organization) {\n                showPopUp(React.createElement(Print, {\n                  organization: organization.substring(0, 10),\n                  grade: _this.grade,\n                  type: _this.type,\n                  name: name.substring(0, 8),\n                  callback: _this.printCallback,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 195\n                  },\n                  __self: this\n                }), {\n                  store: store\n                });\n              }\n\n              callback = function callback(org) {\n                var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.userinfo.name;\n                showPopUp(React.createElement(Print, {\n                  organization: org,\n                  grade: _this.grade,\n                  type: _this.type,\n                  name: name,\n                  callback: _this.printCallback,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 207\n                  },\n                  __self: this\n                }), {\n                  store: store\n                });\n                request.updateOcpUser2({\n                  guestId: _this.guest && _this.guest.id,\n                  email: _this.props.userinfo.email,\n                  name: name,\n                  organization: org\n                });\n\n                _this.props.updateUserInfo();\n              };\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    _this.printCallback = function () {\n      request.updateMyOcpPrint2(_this.props.userinfo.email ? {\n        email: _this.props.userinfo.email,\n        grade: _this.grade,\n        type: _this.type\n      } : {\n        guestId: _this.guest && _this.guest.id,\n        grade: _this.grade,\n        type: _this.type\n      });\n    };\n\n    _this.setVideoclassRef = function (ref) {\n      _this.videoclass = ref;\n      var setVideoclassRef = _this.props.setVideoclassRef;\n\n      if (setVideoclassRef) {\n        setVideoclassRef(ref);\n      }\n    };\n\n    _this.showEventContent = function () {\n      var EventContent = _this.createEventContent;\n\n      var events = _this.getOcpS2Events();\n\n      _this.showVideoclassEventContent(React.createElement(EventContent, {\n        events: events,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }));\n    };\n\n    _this.showVideoclassEventContent = function (content) {\n      if (!_this.videoclass) return;\n\n      _this.videoclass.showCustomContent(content, _this.resizeEventContent);\n    };\n\n    _this.createEventContent = function (props) {\n      var events = props.events;\n      return React.createElement(\"div\", {\n        className: \"videoclass_customContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"videoclass_ocp2Events_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"videoclass_ocp2Events\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, events.map(function (event, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"videoclass_ocp2Event\",\n          onClick: function onClick() {\n            window.open(event.linkURL, \"_blank\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: event.imgSrc,\n          alt: \"event\".concat(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }));\n      }))));\n    };\n\n    _this.getOcpS2Events = function () {\n      return [{\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-0.png\"),\n        linkURL: \"\".concat(URL.ORIGIN, \"event/codingparty/challenge\")\n      }, {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-1.png\"),\n        linkURL: \"\".concat(URL.ORIGIN, \"event/codingparty/signup\")\n      }, {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-2.png\"),\n        linkURL: \"\".concat(URL.ORIGIN, \"event/codingparty/review\")\n      }, {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-3.png\"),\n        linkURL: \"\".concat(URL.ORIGIN, \"event/codingparty/onlinecamp\")\n      }];\n    };\n\n    _this.resizeEventContent = function () {\n      var customContent = document.getElementsByClassName(\"videoclass_customContent\")[0];\n      var contentContainer = document.getElementsByClassName(\"videoclass_ocp2Events_container\")[0];\n      var videoclassContent = document.getElementsByClassName(\"vc_content\")[0];\n\n      if (customContent && contentContainer && videoclassContent) {\n        var contentRect = videoclassContent.getBoundingClientRect();\n\n        if (contentRect.width / contentRect.height > 16 / 9) {\n          var desiredWidth = contentRect.height * 16 / 9;\n          customContent.style.width = \"\".concat(desiredWidth, \"px\");\n          customContent.style.height = \"\".concat(contentRect.height, \"px\");\n          customContent.style.paddingTop = \"unset\";\n        } else {\n          customContent.style.width = \"100%\";\n          customContent.style.height = \"auto\";\n          customContent.style.paddingTop = \"calc(9 / 16 * 100%)\";\n        }\n      }\n    };\n\n    _this.showSignUpEventMessage = function () {\n      var messages = _this.getEgoMessages();\n\n      var signUpEventMessage = messages[messages.length - 1];\n\n      _this.showVideoclassEgoMessages([signUpEventMessage]);\n    };\n\n    _this.showRandomEventMessage = function () {\n      var egoMessage = _this.getRandomEgoMessage();\n\n      _this.showVideoclassEgoMessages([egoMessage]);\n    };\n\n    _this.showVideoclassEgoMessages = function (egoMessages) {\n      if (!_this.videoclass) return;\n\n      _this.videoclass.egoSay(egoMessages, 30000);\n    };\n\n    _this.getRandomEgoMessage = function () {\n      var egoMessages = _this.getEgoMessages();\n\n      var randomIndex = Math.round(Math.random() * (egoMessages.length - 1));\n      return egoMessages[randomIndex];\n    };\n\n    _this.getEgoMessages = function () {\n      var messages = [{\n        type: VCTYPE.EGO.COMPONENT,\n        data: _this.createEgoEventComponent({\n          decsription: \"미션이 끝나고 나면,\\n미션 후기 작성 이벤트에도 꼭 참여해줘!\",\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-0.png\"),\n          linkURL: \"\".concat(URL.ORIGIN, \"codingParty?type=\").concat(_this.type, \"&grade=\").concat(_this.grade),\n          name: \"commentEvent\"\n        })\n      }, // {\n      //   type: VCTYPE.EGO.COMPONENT,\n      //   data: this.createEgoEventComponent({\n      //     decsription:\n      //       \"또 다른 게임을 만들고 싶니?\\n위즈랩 온라인 캠프에 참여해봐!\",\n      //     imgSrc: require(\"../../../../Image/ego_event_ocpS2-1.png\"),\n      //     linkURL: `${URL.ORIGIN}event/codingparty/onlinecamp`,\n      //     name: \"wizlabCampEvent\"\n      //   })\n      // },\n      {\n        type: VCTYPE.EGO.COMPONENT,\n        data: _this.createEgoEventComponent({\n          decsription: \"개발자 튜터와 1:1로\\n게임 개발 배우지 않을래?\",\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-2.png\"),\n          linkURL: \"\".concat(URL.WIZLIVE, \"/wizlabPromotion/3/\"),\n          name: \"wizliveEvent\"\n        })\n      }, {\n        type: VCTYPE.EGO.COMPONENT,\n        data: _this.createEgoEventComponent({\n          decsription: \"\\uB108\\uB9CC\\uC758 \\uBA4B\\uC9C4 \\uC791\\uD488\\uC744 \\uB9CC\\uB4E4\\uC5B4\\uBD10!\\n\\\"\\uD06C\\uB9AC\\uC5D0\\uC774\\uD130 \\uCC4C\\uB9B0\\uC9C0\\\"\\uC5D0\\uC11C \\uC0C1\\uD488\\uC774 \\uAE30\\uB2E4\\uB824!\",\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-4.png\"),\n          linkURL: \"\".concat(URL.ORIGIN, \"event/codingparty/challenge\"),\n          name: \"createChallengeEvent\"\n        })\n      }];\n\n      if (!_this.props.email) {\n        messages.push({\n          type: VCTYPE.EGO.COMPONENT,\n          data: _this.createEgoEventComponent({\n            decsription: \"위즈랩 신규회원 가입하면\\n선물을 준대!\",\n            imgSrc: require(\"../../../../Image/ego_event_ocpS2-3.png\"),\n            linkURL: \"\".concat(URL.ORIGIN, \"event/codingparty/signup\"),\n            name: \"signupEvent\"\n          })\n        });\n      }\n\n      return messages;\n    };\n\n    _this.createEgoEventComponent = function (_ref6) {\n      var decsription = _ref6.decsription,\n          imgSrc = _ref6.imgSrc,\n          linkURL = _ref6.linkURL,\n          name = _ref6.name;\n      return React.createElement(\"div\", {\n        className: \"ego_event\",\n        onClick: function onClick(e) {\n          if (e.preventDefault) e.preventDefault();\n          if (e.stopPropagation) e.stopPropagation();\n          window.open(linkURL, \"_blank\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ego_event_desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, decsription), React.createElement(\"img\", {\n        src: imgSrc,\n        alt: \"event\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ego_event_detail \".concat(name),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"\\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"));\n    };\n\n    var _props$match$params = _props.match.params,\n        grade = _props$match$params.grade,\n        type = _props$match$params.type;\n    _this.type = type ? type : _this.props.match.path.split(\"/\")[2];\n    _this.grade = grade;\n    _this.guest = localStorage.getItem(\"ocpId\") && JSON.parse(localStorage.getItem(\"ocpId\"));\n    _this.state = {\n      maxOcpLevel: undefined\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"checkEventReceiver\",\n    value: function checkEventReceiver() {\n      var email = this.props.email;\n\n      if (!email) {\n        return true;\n      }\n\n      var excludeEmails = [];\n\n      if (excludeEmails.includes(email)) {\n        return false;\n      }\n\n      if (email.endsWith(\"@wizschool.io\")) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          zIndex = _this$props.zIndex,\n          showModal = _this$props.showModal,\n          handleSelectTab = _this$props.handleSelectTab,\n          _handleChangeZIndex = _this$props.handleChangeZIndex;\n      var maxOcpLevel = this.state.maxOcpLevel;\n      var endStageButtonId = this.props.videoclass.level < 10 ? \"ID_VIDEOCLASS_ENDSTEP_DEFAULT\" : \"ID_VIDEOCLASS_TO_HOME\";\n      return React.createElement(Videoclass, {\n        setRef: this.setVideoclassRef,\n        zIndex: zIndex,\n        showModal: showModal,\n        handleSelectTab: handleSelectTab,\n        handleChangeZIndex: function handleChangeZIndex() {\n          _handleChangeZIndex(\"ocp\");\n        },\n        videoclass: this.props.videoclass,\n        maxOcpLevel: maxOcpLevel,\n        onEndStage: this.onEnterEndStage,\n        endStageButtonAction: this.endStageButtonAction,\n        endStageButtonId: endStageButtonId,\n        fixed: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userinfo: state.userinfo,\n    email: state.userinfo.email,\n    videoclass: state.project.videoclass\n  };\n}, {\n  updateUserInfo: userInfoActions.updateUserInfo\n})(withRouter(Container));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/astroboy/src/Page/Builder/Component/OCP2/Container.js"],"names":["React","Component","withRouter","connect","userInfoActions","request","OcpToken","URL","VCTYPE","Popup","showPopUp","Print","store","Videoclass","Container","props","componentDidMount","getMyOcp","state","maxOcpLevel","videoclass","level","handleChangeLevel","console","error","window","addEventListener","resizeEventContent","componentWillUnmount","removeEventListener","componentDidUpdate","prevProps","userinfo","email","history","replace","location","reload","guest","getMyOcp2","guestId","id","type","res","json","setState","currentData","find","element","grade","Number","onEnterEndStage","updateMyOcpLevel2","addOcpUser","localStorage","getItem","JSON","parse","checkLastLevelInGrade","endStageButtonAction","push","showPrintPopup","handleCertification","printCallback","dismissOverlay","organization","name","org","callback","getOcpUser2","substring","updateOcpUser2","updateUserInfo","updateMyOcpPrint2","setVideoclassRef","ref","showEventContent","EventContent","createEventContent","events","getOcpS2Events","showVideoclassEventContent","content","showCustomContent","map","event","index","open","linkURL","imgSrc","require","ORIGIN","customContent","document","getElementsByClassName","contentContainer","videoclassContent","contentRect","getBoundingClientRect","width","height","desiredWidth","style","paddingTop","showSignUpEventMessage","messages","getEgoMessages","signUpEventMessage","length","showVideoclassEgoMessages","showRandomEventMessage","egoMessage","getRandomEgoMessage","egoMessages","egoSay","randomIndex","Math","round","random","EGO","COMPONENT","data","createEgoEventComponent","decsription","WIZLIVE","e","preventDefault","stopPropagation","match","params","path","split","undefined","excludeEmails","includes","endsWith","zIndex","showModal","handleSelectTab","handleChangeZIndex","endStageButtonId","project"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport * as userInfoActions from \"../../../../Common/Store/Reducer/UserInfo\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport * as OcpToken from \"../../../../Common/Util/OcpToken\";\nimport { URL, VCTYPE } from \"../../../../Common/Util/Constant\";\nimport Popup, { showPopUp } from \"../../../../Common/Component/PopUp\";\nimport Print from \"../../../../Common/Component/OCPCertification\";\n\nimport store from \"../../Store\";\nimport Videoclass from \"../Videoclass\";\nimport \"./index.scss\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    const { grade, type } = props.match.params;\n    this.type = type ? type : this.props.match.path.split(\"/\")[2];\n    this.grade = grade;\n    this.guest =\n      localStorage.getItem(\"ocpId\") &&\n      JSON.parse(localStorage.getItem(\"ocpId\"));\n    this.state = { maxOcpLevel: undefined };\n  }\n\n  componentDidMount = async () => {\n    try {\n      /** check my stage  && set max level */\n      await this.getMyOcp();\n      if (this.state.maxOcpLevel < this.props.videoclass.level) {\n        this.handleChangeLevel(this.state.maxOcpLevel);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    window.addEventListener(\"resize\", this.resizeEventContent);\n  };\n  componentWillUnmount = () => {\n    window.removeEventListener(\"resize\", this.resizeEventContent);\n  };\n  componentDidUpdate = async prevProps => {\n    if (this.props.userinfo.email && !prevProps.userinfo.email) {\n      await this.getMyOcp();\n    } else if (!this.props.userinfo.email && prevProps.userinfo.email) {\n      await this.getMyOcp();\n    }\n  };\n  handleChangeLevel = level => {\n    this.props.history.replace(`./${level}`);\n    window.location.reload();\n  };\n\n  getMyOcp = async () => {\n    if (this.props.userinfo.email || this.guest) {\n      let res = await request.getMyOcp2({\n        ...(this.props.userinfo.email\n          ? { email: this.props.userinfo.email }\n          : { guestId: this.guest && this.guest.id }),\n        type: this.type\n      });\n      let json = await res.json();\n      if (!json) {\n        this.setState({\n          maxOcpLevel: 1\n        });\n      } else {\n        let currentData = json.find(element => element.grade === this.grade);\n        this.setState({\n          maxOcpLevel: Number(currentData ? currentData.level : 0) + 1\n        });\n      }\n    } else {\n      this.setState({\n        maxOcpLevel: 1\n      });\n    }\n  };\n  /* end */\n  onEnterEndStage = async () => {\n    // max레벨을 업데이트 해야할때만 request 보냄\n    if (this.state.maxOcpLevel < this.props.videoclass.level + 1) {\n      if (this.props.userinfo.email) {\n        await request.updateMyOcpLevel2({\n          email: this.props.userinfo.email,\n          level: this.props.videoclass.level,\n          grade: this.grade,\n          type: this.type\n        });\n      } else {\n        if (!this.guest) {\n          await OcpToken.addOcpUser(\n            this.props.userinfo.email,\n            this.grade,\n            this.type\n          );\n          this.guest =\n            localStorage.getItem(\"ocpId\") &&\n            JSON.parse(localStorage.getItem(\"ocpId\"));\n        }\n        await request.updateMyOcpLevel2({\n          guestId: this.guest && this.guest.id,\n          level: this.props.videoclass.level,\n          grade: this.grade,\n          type: this.type\n        });\n      }\n    }\n\n    // if (this.checkLastLevelInGrade()) {\n    //   this.showPrintPopup();\n    //   this.showEventContent();\n    // } else {\n    //   if (this.props.videoclass.level === 1 && !this.props.email) {\n    //     this.showSignUpEventMessage();\n    //   } else {\n    //     if (this.checkEventReceiver()) {\n    //       this.showRandomEventMessage();\n    //     }\n    //   }\n    // }\n  };\n  checkLastLevelInGrade = () => {\n    return this.props.videoclass.level === 10;\n  };\n  endStageButtonAction = () => {\n    if (this.props.videoclass.level < 10) {\n      this.handleChangeLevel(this.props.videoclass.level + 1);\n    } else {\n      this.props.history.push(\"../../../../codingparty\");\n    }\n  };\n\n  /* print */\n  showPrintPopup = () => {\n    showPopUp(\n      <Popup.TwoButton\n        title=\"인증서를 출력하시겠습니까?\"\n        subtitle={`위즈랩 회원은 언제든지\\n출력할 수 있습니다.\\n(비회원 3시간 이내만 가능)`}\n        cancelButtonName=\"아니오\"\n        confirmButtonName=\"네\"\n        confirmAction={() => this.handleCertification()}\n        cancelAction={this.printCallback}\n      />,\n      { store, dismissOverlay: true }\n    );\n  };\n\n  handleCertification = async () => {\n    let name, organization;\n    if (this.props.userinfo.email) {\n      if (this.props.userinfo.organization) {\n        name = this.props.userinfo.name;\n        organization = this.props.userinfo.organization;\n      } else {\n        showPopUp(\n          <Popup.OneInput\n            title=\"학교를 입력해주세요\"\n            buttonName=\"확인\"\n            inputLimit={10}\n            buttonAction={org => callback(org)}\n          />,\n          { store, dismissOverlay: true }\n        );\n      }\n    } else {\n      const res = await request.getOcpUser2({\n        guestId: this.guest && this.guest.id\n      });\n      const guest = await res.json();\n      if (guest) {\n        if (!(guest.name && guest.organization)) {\n          showPopUp(\n            <Popup.TwoInput\n              title=\"학교를 입력해주세요\"\n              buttonName=\"확인\"\n              inputTitle1=\"이름\"\n              inputTitle2=\"학교\"\n              inputLimit1={8}\n              inputLimit2={10}\n              buttonAction={(org, name) => callback(org, name)}\n            />,\n            { store, dismissOverlay: true }\n          );\n        } else {\n          name = guest.name;\n          organization = guest.organization;\n        }\n      }\n    }\n\n    if (name && organization) {\n      showPopUp(\n        <Print\n          organization={organization.substring(0, 10)}\n          grade={this.grade}\n          type={this.type}\n          name={name.substring(0, 8)}\n          callback={this.printCallback}\n        />,\n        { store }\n      );\n    }\n    const callback = (org, name = this.props.userinfo.name) => {\n      showPopUp(\n        <Print\n          organization={org}\n          grade={this.grade}\n          type={this.type}\n          name={name}\n          callback={this.printCallback}\n        />,\n        { store }\n      );\n\n      request.updateOcpUser2({\n        guestId: this.guest && this.guest.id,\n        email: this.props.userinfo.email,\n        name: name,\n        organization: org\n      });\n      this.props.updateUserInfo();\n    };\n  };\n\n  printCallback = () => {\n    request.updateMyOcpPrint2(\n      this.props.userinfo.email\n        ? {\n            email: this.props.userinfo.email,\n            grade: this.grade,\n            type: this.type\n          }\n        : {\n            guestId: this.guest && this.guest.id,\n            grade: this.grade,\n            type: this.type\n          }\n    );\n  };\n\n  setVideoclassRef = ref => {\n    this.videoclass = ref;\n    const { setVideoclassRef } = this.props;\n    if (setVideoclassRef) {\n      setVideoclassRef(ref);\n    }\n  };\n  showEventContent = () => {\n    const EventContent = this.createEventContent;\n    const events = this.getOcpS2Events();\n    this.showVideoclassEventContent(<EventContent events={events} />);\n  };\n  showVideoclassEventContent = content => {\n    if (!this.videoclass) return;\n    this.videoclass.showCustomContent(content, this.resizeEventContent);\n  };\n  createEventContent = props => {\n    const { events } = props;\n    return (\n      <div className=\"videoclass_customContent\">\n        <div className=\"videoclass_ocp2Events_container\">\n          <div className=\"videoclass_ocp2Events\">\n            {events.map((event, index) => (\n              <div\n                key={index}\n                className=\"videoclass_ocp2Event\"\n                onClick={() => {\n                  window.open(event.linkURL, \"_blank\");\n                }}\n              >\n                <img src={event.imgSrc} alt={`event${index}`} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n  getOcpS2Events = () => {\n    return [\n      {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-0.png\"),\n        linkURL: `${URL.ORIGIN}event/codingparty/challenge`\n      },\n      {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-1.png\"),\n        linkURL: `${URL.ORIGIN}event/codingparty/signup`\n      },\n      {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-2.png\"),\n        linkURL: `${URL.ORIGIN}event/codingparty/review`\n      },\n      {\n        imgSrc: require(\"../../../../Image/videoclass_event_ocpS2-3.png\"),\n        linkURL: `${URL.ORIGIN}event/codingparty/onlinecamp`\n      }\n    ];\n  };\n  resizeEventContent = () => {\n    const customContent = document.getElementsByClassName(\n      \"videoclass_customContent\"\n    )[0];\n    const contentContainer = document.getElementsByClassName(\n      \"videoclass_ocp2Events_container\"\n    )[0];\n    const videoclassContent = document.getElementsByClassName(\"vc_content\")[0];\n    if (customContent && contentContainer && videoclassContent) {\n      const contentRect = videoclassContent.getBoundingClientRect();\n      if (contentRect.width / contentRect.height > 16 / 9) {\n        const desiredWidth = (contentRect.height * 16) / 9;\n        customContent.style.width = `${desiredWidth}px`;\n        customContent.style.height = `${contentRect.height}px`;\n        customContent.style.paddingTop = \"unset\";\n      } else {\n        customContent.style.width = \"100%\";\n        customContent.style.height = \"auto\";\n        customContent.style.paddingTop = \"calc(9 / 16 * 100%)\";\n      }\n    }\n  };\n\n  checkEventReceiver() {\n    const { email } = this.props;\n    if (!email) {\n      return true;\n    }\n\n    const excludeEmails = [];\n    if (excludeEmails.includes(email)) {\n      return false;\n    }\n\n    if (email.endsWith(\"@wizschool.io\")) {\n      return false;\n    }\n\n    return true;\n  }\n  showSignUpEventMessage = () => {\n    const messages = this.getEgoMessages();\n    const signUpEventMessage = messages[messages.length - 1];\n    this.showVideoclassEgoMessages([signUpEventMessage]);\n  };\n  showRandomEventMessage = () => {\n    const egoMessage = this.getRandomEgoMessage();\n    this.showVideoclassEgoMessages([egoMessage]);\n  };\n  showVideoclassEgoMessages = egoMessages => {\n    if (!this.videoclass) return;\n    this.videoclass.egoSay(egoMessages, 30000);\n  };\n  getRandomEgoMessage = () => {\n    const egoMessages = this.getEgoMessages();\n    const randomIndex = Math.round(Math.random() * (egoMessages.length - 1));\n    return egoMessages[randomIndex];\n  };\n  getEgoMessages = () => {\n    const messages = [\n      {\n        type: VCTYPE.EGO.COMPONENT,\n        data: this.createEgoEventComponent({\n          decsription:\n            \"미션이 끝나고 나면,\\n미션 후기 작성 이벤트에도 꼭 참여해줘!\",\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-0.png\"),\n          linkURL: `${URL.ORIGIN}codingParty?type=${this.type}&grade=${\n            this.grade\n          }`,\n          name: \"commentEvent\"\n        })\n      },\n      // {\n      //   type: VCTYPE.EGO.COMPONENT,\n      //   data: this.createEgoEventComponent({\n      //     decsription:\n      //       \"또 다른 게임을 만들고 싶니?\\n위즈랩 온라인 캠프에 참여해봐!\",\n      //     imgSrc: require(\"../../../../Image/ego_event_ocpS2-1.png\"),\n      //     linkURL: `${URL.ORIGIN}event/codingparty/onlinecamp`,\n      //     name: \"wizlabCampEvent\"\n      //   })\n      // },\n      {\n        type: VCTYPE.EGO.COMPONENT,\n        data: this.createEgoEventComponent({\n          decsription: \"개발자 튜터와 1:1로\\n게임 개발 배우지 않을래?\",\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-2.png\"),\n          linkURL: `${URL.WIZLIVE}/wizlabPromotion/3/`,\n          name: \"wizliveEvent\"\n        })\n      },\n      {\n        type: VCTYPE.EGO.COMPONENT,\n        data: this.createEgoEventComponent({\n          decsription: `너만의 멋진 작품을 만들어봐!\\n\"크리에이터 챌린지\"에서 상품이 기다려!`,\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-4.png\"),\n          linkURL: `${URL.ORIGIN}event/codingparty/challenge`,\n          name: \"createChallengeEvent\"\n        })\n      }\n    ];\n    if (!this.props.email) {\n      messages.push({\n        type: VCTYPE.EGO.COMPONENT,\n        data: this.createEgoEventComponent({\n          decsription: \"위즈랩 신규회원 가입하면\\n선물을 준대!\",\n          imgSrc: require(\"../../../../Image/ego_event_ocpS2-3.png\"),\n          linkURL: `${URL.ORIGIN}event/codingparty/signup`,\n          name: \"signupEvent\"\n        })\n      });\n    }\n    return messages;\n  };\n  createEgoEventComponent = ({ decsription, imgSrc, linkURL, name }) => {\n    return (\n      <div\n        className=\"ego_event\"\n        onClick={e => {\n          if (e.preventDefault) e.preventDefault();\n          if (e.stopPropagation) e.stopPropagation();\n          window.open(linkURL, \"_blank\");\n        }}\n      >\n        <div className=\"ego_event_desc\">{decsription}</div>\n        <img src={imgSrc} alt=\"event\" />\n        <div className={`ego_event_detail ${name}`}>자세히 보기</div>\n      </div>\n    );\n  };\n\n  render() {\n    const {\n      zIndex,\n      showModal,\n      handleSelectTab,\n      handleChangeZIndex\n    } = this.props;\n    const { maxOcpLevel } = this.state;\n    const endStageButtonId =\n      this.props.videoclass.level < 10\n        ? \"ID_VIDEOCLASS_ENDSTEP_DEFAULT\"\n        : \"ID_VIDEOCLASS_TO_HOME\";\n    return (\n      <Videoclass\n        setRef={this.setVideoclassRef}\n        zIndex={zIndex}\n        showModal={showModal}\n        handleSelectTab={handleSelectTab}\n        handleChangeZIndex={() => {\n          handleChangeZIndex(\"ocp\");\n        }}\n        videoclass={this.props.videoclass}\n        maxOcpLevel={maxOcpLevel}\n        onEndStage={this.onEnterEndStage}\n        endStageButtonAction={this.endStageButtonAction}\n        endStageButtonId={endStageButtonId}\n        fixed={true}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    userinfo: state.userinfo,\n    email: state.userinfo.email,\n    videoclass: state.project.videoclass\n  }),\n  { updateUserInfo: userInfoActions.updateUserInfo }\n)(withRouter(Container));\n"]},"metadata":{},"sourceType":"module"}