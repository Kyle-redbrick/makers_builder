{"ast":null,"code":"import _slicedToArray from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/astroboy/src/Page/CourseDetail/Components/IntroPopup.js\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  cursor: pointer;\\n  width: 64px;\\n  height: 64px;\\n  background-image: url(\", \");\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -32px;\\n  margin-top: -32px;\\n\\n  \", \" \\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  min-width: 100%;\\n  height: 321px;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%) translateY(-50%);\\n  transform: translateX(-50%) translateY(-50%);\\n  outline: none;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 321px;\\n  position: relative;\\n  overflow: hidden;\\n  border-radius: 16px 16px 0 0;\\n  overflow: hidden;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 370px;\\n  height: 56px;\\n  border-radius: 10px;\\n  background-color: #ff6f44;\\n  border: none;\\n  font-size: 20px;\\n  font-weight: bold;\\n  line-height: 1.2;\\n  letter-spacing: 0.38px;\\n  cursor: pointer;\\n  color: #fff;\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 30px 20px 40px;\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 570px;\\n  box-shadow: 0 20px 50px 0 rgba(0, 0, 0, 0.5);\\n  background-color: #1c1c1c;\\n  border-radius: 16px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport styled from \"@emotion/styled\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\nimport IMAGE from \"./../Constants/Images\"; // import { Bar } from \"recharts\";\n\nvar Self = styled.div(_templateObject());\nvar Content = styled.div(_templateObject2());\nvar Button = styled.button(_templateObject3());\nvar LearnVideoWrap = styled.div(_templateObject4());\nvar Video = styled.video(_templateObject5());\nvar VideoSource = styled.source(_templateObject6());\nvar PlayButton = styled.div(_templateObject7(), IMAGE.ICON_PLAY, function (props) {\n  return props.playing && \"\\n    display: none;\\n  \";\n});\n\nvar IntroPopup = function IntroPopup(_ref) {\n  var id = _ref.id,\n      url = _ref.url,\n      type = _ref.type;\n  var videoRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      playing = _useState2[0],\n      setPlaying = _useState2[1];\n\n  useEffect(function () {\n    playVideo();\n    return function () {\n      setPlaying(false);\n    };\n  }, []);\n  var goToLearn = useCallback(function () {\n    localStorage.setItem(\"didIntroPopup_\".concat(type), true);\n    Popup.hidePopUp();\n    window.open(url, \"_blank\");\n  }, [Popup.hidePopUp]);\n  var playVideo = useCallback(function () {\n    videoRef.current.play();\n    setPlaying(true);\n  }, [videoRef]);\n\n  var videoSrc = function videoSrc(type) {\n    if (type === \"oobc\") return \"/oobc_intro.mp4\";\n    if (type === \"javascript\") return \"/js_intro.mp4\";\n    if (type === \"python\") return \"/python_intro.mp4\";\n    if (type === \"learning_oobc_c1\") return \"/oobc_outro.mp4\";\n    if (type === \"learning_js_c1\") return \"/js_outro.mp4\";\n    if (type === \"learning_python_c1\") return \"/python_outro.mp4\";\n    return \"\";\n  };\n\n  var buttonText = function buttonText() {\n    if (type === \"learning_oobc_c1\") return React.createElement(FormattedMessage, {\n      id: \"ID_COURSE_DETAIL_SKIP_LEAVE_BTN\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    });\n    if (type === \"learning_js_c1\") return React.createElement(FormattedMessage, {\n      id: \"ID_COURSE_DETAIL_SKIP_LEAVE_BTN\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    });\n    if (type === \"learning_python_c1\") return React.createElement(FormattedMessage, {\n      id: \"ID_COURSE_DETAIL_SKIP_LEAVE_BTN\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    });\n    return React.createElement(FormattedMessage, {\n      id: \"ID_COURSE_DETAIL_SKIP_BTN\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    });\n  };\n\n  return React.createElement(Self, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(LearnVideoWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(Video, {\n    controls: true,\n    ref: videoRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(VideoSource, {\n    src: videoSrc(type).toDreamclassS3URL(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })), React.createElement(PlayButton, {\n    playing: playing,\n    onClick: playVideo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(Content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"button\",\n    onClick: goToLearn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, buttonText())));\n};\n\nexport default IntroPopup;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/astroboy/src/Page/CourseDetail/Components/IntroPopup.js"],"names":["React","useCallback","useEffect","useRef","useState","FormattedMessage","styled","Popup","IMAGE","Self","div","Content","Button","button","LearnVideoWrap","Video","video","VideoSource","source","PlayButton","ICON_PLAY","props","playing","IntroPopup","id","url","type","videoRef","setPlaying","playVideo","goToLearn","localStorage","setItem","hidePopUp","window","open","current","play","videoSrc","buttonText","toDreamclassS3URL"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport styled from \"@emotion/styled\";\nimport * as Popup from \"../../../Common/Component/PopUp\";\n\nimport IMAGE from \"./../Constants/Images\";\n// import { Bar } from \"recharts\";\n\nconst Self = styled.div`\n  position: relative;\n  width: 570px;\n  box-shadow: 0 20px 50px 0 rgba(0, 0, 0, 0.5);\n  background-color: #1c1c1c;\n  border-radius: 16px;\n`;\n\nconst Content = styled.div`\n  padding: 30px 20px 40px;\n  text-align: center;\n`\n\nconst Button = styled.button`\n  width: 370px;\n  height: 56px;\n  border-radius: 10px;\n  background-color: #ff6f44;\n  border: none;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 1.2;\n  letter-spacing: 0.38px;\n  cursor: pointer;\n  color: #fff;\n\n  &:focus {\n    outline: none;\n  }\n`\n\nconst LearnVideoWrap = styled.div`\n  height: 321px;\n  position: relative;\n  overflow: hidden;\n  border-radius: 16px 16px 0 0;\n  overflow: hidden;\n`\n\nconst Video = styled.video`\n  min-width: 100%;\n  height: 321px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  outline: none;\n`\n\nconst VideoSource = styled.source``\n\nconst PlayButton = styled.div`\n  position: absolute;\n  cursor: pointer;\n  width: 64px;\n  height: 64px;\n  background-image: url(${IMAGE.ICON_PLAY});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  top: 50%;\n  left: 50%;\n  margin-left: -32px;\n  margin-top: -32px;\n\n  ${(props) => props.playing && `\n    display: none;\n  `} \n`\n\nconst IntroPopup = ({ id, url, type }) => {\n  const videoRef = useRef();\n  const [playing, setPlaying] = useState(false);\n\n  useEffect(() => {\n    playVideo();\n\n    return () => {\n      setPlaying(false);\n    }\n  }, []);\n\n  const goToLearn = useCallback(\n    () => {\n      localStorage.setItem(`didIntroPopup_${type}`, true);\n\n      Popup.hidePopUp();\n      window.open(url, \"_blank\");\n    },\n    [Popup.hidePopUp]\n  );\n\n  const playVideo = useCallback(() => {\n    videoRef.current.play();\n    setPlaying(true);\n  }, [videoRef]);\n  \n  const videoSrc = (type) => {\n    if (type === \"oobc\") return \"/oobc_intro.mp4\";\n    if (type === \"javascript\") return \"/js_intro.mp4\";\n    if (type === \"python\") return \"/python_intro.mp4\";\n    if (type === \"learning_oobc_c1\") return \"/oobc_outro.mp4\"; \n    if (type === \"learning_js_c1\") return \"/js_outro.mp4\"; \n    if (type === \"learning_python_c1\") return \"/python_outro.mp4\"; \n    return \"\";\n  }\n\n  const buttonText = () => {\n    if (type === \"learning_oobc_c1\") return <FormattedMessage id=\"ID_COURSE_DETAIL_SKIP_LEAVE_BTN\" />\n    if (type === \"learning_js_c1\") return <FormattedMessage id=\"ID_COURSE_DETAIL_SKIP_LEAVE_BTN\" />\n    if (type === \"learning_python_c1\") return <FormattedMessage id=\"ID_COURSE_DETAIL_SKIP_LEAVE_BTN\" />\n    return <FormattedMessage id=\"ID_COURSE_DETAIL_SKIP_BTN\" />\n  }\n\n  return (\n    <Self>\n      <LearnVideoWrap>\n        <Video controls={true} ref={videoRef}>\n          <VideoSource src={videoSrc(type).toDreamclassS3URL()} />\n        </Video>\n        <PlayButton playing={playing} onClick={playVideo} />\n      </LearnVideoWrap>\n      <Content>\n          <Button type=\"button\" onClick={goToLearn}>{buttonText()}</Button>\n      </Content>\n    </Self>\n  );\n};\n\nexport default IntroPopup;\n"]},"metadata":{},"sourceType":"module"}