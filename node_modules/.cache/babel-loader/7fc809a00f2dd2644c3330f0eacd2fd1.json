{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/SignInLegacy/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as userInfoActions from \"../../Store/Reducer/UserInfo\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport sha256 from \"../../Util/SHA256\";\nimport PopUp, { showPopUp } from \"../PopUp\";\nimport SignUp from \"../SignUp\";\nimport logoImg from \"../../../Image/wizlab_logo.svg\";\nimport * as TrackingUtil from \"../../Util/TrackingUtil\";\nimport \"./index.scss\";\n\nvar SignIn = /*#__PURE__*/function (_Component) {\n  _inherits(SignIn, _Component);\n\n  var _super = _createSuper(SignIn);\n\n  function SignIn(props) {\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeInput = function (e) {\n      var _this$setState;\n\n      var _e$target = e.target,\n          id = _e$target.id,\n          value = _e$target.value;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, id, value), _defineProperty(_this$setState, \"warning\", \"\"), _this$setState));\n    };\n\n    _this.onClickSignIn = function () {\n      var formatMessage = _this.props.intl.formatMessage;\n\n      _this.setState({\n        warning: \"\"\n      }, function () {\n        var _this$state = _this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n        var params = {\n          email: email,\n          password: sha256(password)\n        };\n        request.login(params).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          if (json.status === 403) {\n            _this.setState({\n              warning: formatMessage({\n                id: \"ID_SIGNIN_CHECK_EMAILPW\"\n              })\n            });\n          } else {\n            // TrackingUtil.sendGAEvent(\n            //   {\n            //     category: \"Login\",\n            //     action: \"Login_Success\"\n            //   },\n            //   this.props.email\n            // );\n            TrackingUtil.sendGTMEvent(\"Login_Success\");\n            localStorage.setItem(\"wizToken\", json.token);\n\n            _this.props.updateUserInfo(json.user);\n\n            _this.props.dismiss(); // window.location.reload();\n\n          }\n        });\n      });\n    };\n\n    _this.onClickForgotPw = function () {\n      // showPopUp(<ForgotPw isBuilder={this.props.isBuilder} />, {\n      //   darkmode: !this.props.isBuilder,\n      //   mobileFullscreen: true\n      // });\n      // TODO: temp\n      showPopUp( /*#__PURE__*/React.createElement(PopUp.OneButton, {\n        title: \"\\uC8C4\\uC1A1\\uD569\\uB2C8\\uB2E4.\",\n        subtitle: \"\\uC704\\uC988\\uB7A9 \\uD68C\\uC6D0 \\uC815\\uCC45 \\uBCC0\\uACBD\\uC73C\\uB85C \\uC778\\uD574 \\n\\uC544\\uC774\\uB514/\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\\uB97C \\uC774\\uC6A9\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\n\\uBE60\\uB978 \\uC2DC\\uC77C \\uB0B4\\uC5D0 \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\n        \\uC6B4\\uC601\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD558\\uACA0\\uC2B5\\uB2C8\\uB2E4. \\n\\uC544\\uC774\\uB514/\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\\uB97C \\uC704\\uD574\\uC11C \\uC704\\uC988\\uB7A9 \\uACE0\\uAC1D\\uC13C\\uD130(wizlab@wizschool.io)\\uB85C \\uC5F0\\uB77D\\uD574\\uC8FC\\uC138\\uC694.\",\n        buttonName: \"\\uD655\\uC778\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }\n      }), {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true\n      });\n    };\n\n    _this.onClickSignUp = function () {\n      showPopUp( /*#__PURE__*/React.createElement(SignUp, {\n        history: _this.props.history,\n        isBuilder: _this.props.isBuilder,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }), {\n        darkmode: !_this.props.isBuilder,\n        mobileFullscreen: true\n      });\n    };\n\n    _this.onClickForgotEmail = function () {\n      // showPopUp(<ForgotEmail isBuilder={this.props.isBuilder} />, {\n      //   darkmode: !this.props.isBuilder,\n      //   mobileFullscreen: true\n      // });\n      // TODO: temp\n      showPopUp( /*#__PURE__*/React.createElement(PopUp.OneButton, {\n        title: \"\\uC8C4\\uC1A1\\uD569\\uB2C8\\uB2E4.\",\n        subtitle: \"\\uC704\\uC988\\uB7A9 \\uD68C\\uC6D0 \\uC815\\uCC45 \\uBCC0\\uACBD\\uC73C\\uB85C \\uC778\\uD574 \\n\\uC544\\uC774\\uB514/\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\\uB97C \\uC774\\uC6A9\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\n\\uBE60\\uB978 \\uC2DC\\uC77C \\uB0B4\\uC5D0 \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\n        \\uC6B4\\uC601\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD558\\uACA0\\uC2B5\\uB2C8\\uB2E4. \\n\\uC544\\uC774\\uB514/\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\\uB97C \\uC704\\uD574\\uC11C \\uC704\\uC988\\uB7A9 \\uACE0\\uAC1D\\uC13C\\uD130(wizlab@wizschool.io)\\uB85C \\uC5F0\\uB77D\\uD574\\uC8FC\\uC138\\uC694.\",\n        buttonName: \"\\uD655\\uC778\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }\n      }), {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      warning: \"\"\n    };\n\n    if (_this.props.isBuilder) {\n      require(\"./index_builder.scss\");\n    }\n\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"render\",\n    value: function render() {\n      var formatMessage = this.props.intl.formatMessage;\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          warning = _this$state2.warning;\n      var onChangeInput = this.onChangeInput,\n          onClickSignIn = this.onClickSignIn,\n          onClickForgotPw = this.onClickForgotPw,\n          onClickSignUp = this.onClickSignUp,\n          onClickForgotEmail = this.onClickForgotEmail;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"signin_logo\",\n        src: logoImg,\n        alt: \"logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }), formatMessage({\n        id: \"ID_SIGNIN\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_input_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_input_title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_ID\"\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"email\",\n        placeholder: formatMessage({\n          id: \"ID_SIGNIN_EMAIL_ID_PLACEHOLDER\"\n        }),\n        value: email,\n        onChange: onChangeInput,\n        onKeyDown: function onKeyDown(e) {\n          if (e.keyCode === 13) onClickSignIn();\n        },\n        type: \"text\",\n        autoComplete: \"off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_input_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_input_title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_PW\"\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"popup_input \".concat(warning !== \"\" ? \"popup_input-warning\" : \"\"),\n        id: \"password\",\n        type: \"password\",\n        placeholder: formatMessage({\n          id: \"ID_SIGNIN_PW_PLACEHOLDER\"\n        }),\n        value: password,\n        onChange: onChangeInput,\n        onKeyDown: function onKeyDown(e) {\n          if (e.keyCode === 13) onClickSignIn();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link_desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_FORGOTPW_DESC\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link\",\n        onClick: onClickForgotPw,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_FORGOTPW\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link_desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_FORGOT_ID_DESC\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link\",\n        onClick: onClickForgotEmail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_FORGOT_ID\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link_wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link_desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_SIGNUP_DESC\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin_link\",\n        onClick: onClickSignUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_SIGNUP\"\n      }))), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"popup_button\",\n        onClick: onClickSignIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }\n      }, formatMessage({\n        id: \"ID_SIGNIN_CONFIRM\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"popup_warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }\n      }, warning));\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\nexport default connect(undefined, {\n  updateUserInfo: userInfoActions.updateUserInfo\n})(injectIntl(SignIn));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/SignInLegacy/index.js"],"names":["React","Component","connect","injectIntl","userInfoActions","request","sha256","PopUp","showPopUp","SignUp","TrackingUtil","SignIn","props","onChangeInput","e","target","id","value","setState","onClickSignIn","formatMessage","intl","warning","state","email","password","params","login","then","res","json","status","sendGTMEvent","localStorage","setItem","token","updateUserInfo","user","dismiss","onClickForgotPw","darkmode","dismissButton","dismissOverlay","onClickSignUp","history","isBuilder","mobileFullscreen","onClickForgotEmail","require","logoImg","keyCode","undefined"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAO,KAAKC,eAAZ,MAAiC,8BAAjC;AACA,OAAO,KAAKC,OAAZ,MAAyB,wBAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,UAAjC;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,OAAO,KAAKC,YAAZ,MAA8B,yBAA9B;AACA,OAAO,cAAP;;IAEMC,M;;;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAYnBC,aAZmB,GAYH,UAAAC,CAAC,EAAI;AAAA;;AAAA,sBACGA,CAAC,CAACC,MADL;AAAA,UACXC,EADW,aACXA,EADW;AAAA,UACPC,KADO,aACPA,KADO;;AAEnB,YAAKC,QAAL,uDAAiBF,EAAjB,EAAsBC,KAAtB,8CAAsC,EAAtC;AACD,KAfkB;;AAAA,UAgBnBE,aAhBmB,GAgBH,YAAM;AAAA,UACZC,aADY,GACM,MAAKR,KAAL,CAAWS,IADjB,CACZD,aADY;;AAEpB,YAAKF,QAAL,CAAc;AAAEI,QAAAA,OAAO,EAAE;AAAX,OAAd,EAA+B,YAAM;AAAA,0BACP,MAAKC,KADE;AAAA,YAC3BC,KAD2B,eAC3BA,KAD2B;AAAA,YACpBC,QADoB,eACpBA,QADoB;AAEnC,YAAMC,MAAM,GAAG;AAAEF,UAAAA,KAAK,EAALA,KAAF;AAASC,UAAAA,QAAQ,EAAEnB,MAAM,CAACmB,QAAD;AAAzB,SAAf;AAEApB,QAAAA,OAAO,CACJsB,KADH,CACSD,MADT,EAEGE,IAFH,CAEQ,UAAAC,GAAG;AAAA,iBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,SAFX,EAGGF,IAHH,CAGQ,UAAAE,IAAI,EAAI;AACZ,cAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvB,kBAAKb,QAAL,CAAc;AACZI,cAAAA,OAAO,EAAEF,aAAa,CAAC;AAAEJ,gBAAAA,EAAE,EAAE;AAAN,eAAD;AADV,aAAd;AAGD,WAJD,MAIO;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACAN,YAAAA,YAAY,CAACsB,YAAb,CAA0B,eAA1B;AAEAC,YAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,IAAI,CAACK,KAAtC;;AACA,kBAAKvB,KAAL,CAAWwB,cAAX,CAA0BN,IAAI,CAACO,IAA/B;;AACA,kBAAKzB,KAAL,CAAW0B,OAAX,GAZK,CAaL;;AACD;AACF,SAvBH;AAwBD,OA5BD;AA6BD,KA/CkB;;AAAA,UAgDnBC,eAhDmB,GAgDD,YAAM;AACtB;AACA;AACA;AACA;AACA;AACA/B,MAAAA,SAAS,eACP,oBAAC,KAAD,CAAO,SAAP;AACE,QAAA,KAAK,EAAC,iCADR;AAEE,QAAA,QAAQ,2iBAFV;AAIE,QAAA,UAAU,EAAC,cAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADO,EAOP;AACEgC,QAAAA,QAAQ,EAAE,IADZ;AAEEC,QAAAA,aAAa,EAAE,KAFjB;AAGEC,QAAAA,cAAc,EAAE;AAHlB,OAPO,CAAT;AAaD,KAnEkB;;AAAA,UAoEnBC,aApEmB,GAoEH,YAAM;AACpBnC,MAAAA,SAAS,eAAC,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,MAAKI,KAAL,CAAWgC,OAA5B;AAAqC,QAAA,SAAS,EAAE,MAAKhC,KAAL,CAAWiC,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAD,EAA2E;AAClFL,QAAAA,QAAQ,EAAE,CAAC,MAAK5B,KAAL,CAAWiC,SAD4D;AAElFC,QAAAA,gBAAgB,EAAE;AAFgE,OAA3E,CAAT;AAID,KAzEkB;;AAAA,UA0EnBC,kBA1EmB,GA0EE,YAAM;AACzB;AACA;AACA;AACA;AACA;AACAvC,MAAAA,SAAS,eACP,oBAAC,KAAD,CAAO,SAAP;AACE,QAAA,KAAK,EAAC,iCADR;AAEE,QAAA,QAAQ,2iBAFV;AAIE,QAAA,UAAU,EAAC,cAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADO,EAOP;AACEgC,QAAAA,QAAQ,EAAE,IADZ;AAEEC,QAAAA,aAAa,EAAE,KAFjB;AAGEC,QAAAA,cAAc,EAAE;AAHlB,OAPO,CAAT;AAaD,KA7FkB;;AAEjB,UAAKnB,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXH,MAAAA,OAAO,EAAE;AAHE,KAAb;;AAKA,QAAI,MAAKV,KAAL,CAAWiC,SAAf,EAA0B;AACxBG,MAAAA,OAAO,CAAC,sBAAD,CAAP;AACD;;AATgB;AAUlB;;;;WAqFD,kBAAS;AAAA,UACC5B,aADD,GACmB,KAAKR,KAAL,CAAWS,IAD9B,CACCD,aADD;AAAA,yBAE8B,KAAKG,KAFnC;AAAA,UAECC,KAFD,gBAECA,KAFD;AAAA,UAEQC,QAFR,gBAEQA,QAFR;AAAA,UAEkBH,OAFlB,gBAEkBA,OAFlB;AAAA,UAILT,aAJK,GASH,IATG,CAILA,aAJK;AAAA,UAKLM,aALK,GASH,IATG,CAKLA,aALK;AAAA,UAMLoB,eANK,GASH,IATG,CAMLA,eANK;AAAA,UAOLI,aAPK,GASH,IATG,CAOLA,aAPK;AAAA,UAQLI,kBARK,GASH,IATG,CAQLA,kBARK;AAWP,0BACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,GAAG,EAAEE,OAAlC;AAA2C,QAAA,GAAG,EAAC,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEG7B,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CAFhB,CADF,eAKE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGI,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CADF,eAIE;AACE,QAAA,SAAS,wBACPM,OAAO,KAAK,EAAZ,GAAiB,qBAAjB,GAAyC,EADlC,CADX;AAIE,QAAA,EAAE,EAAC,OAJL;AAKE,QAAA,WAAW,EAAEF,aAAa,CAAC;AAAEJ,UAAAA,EAAE,EAAE;AAAN,SAAD,CAL5B;AAME,QAAA,KAAK,EAAEQ,KANT;AAOE,QAAA,QAAQ,EAAEX,aAPZ;AAQE,QAAA,SAAS,EAAE,mBAAAC,CAAC,EAAI;AACd,cAAIA,CAAC,CAACoC,OAAF,KAAc,EAAlB,EAAsB/B,aAAa;AACpC,SAVH;AAWE,QAAA,IAAI,EAAC,MAXP;AAYE,QAAA,YAAY,EAAC,KAZf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CALF,eAwBE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CADF,eAIE;AACE,QAAA,SAAS,wBACPM,OAAO,KAAK,EAAZ,GAAiB,qBAAjB,GAAyC,EADlC,CADX;AAIE,QAAA,EAAE,EAAC,UAJL;AAKE,QAAA,IAAI,EAAC,UALP;AAME,QAAA,WAAW,EAAEF,aAAa,CAAC;AAAEJ,UAAAA,EAAE,EAAE;AAAN,SAAD,CAN5B;AAOE,QAAA,KAAK,EAAES,QAPT;AAQE,QAAA,QAAQ,EAAEZ,aARZ;AASE,QAAA,SAAS,EAAE,mBAAAC,CAAC,EAAI;AACd,cAAIA,CAAC,CAACoC,OAAF,KAAc,EAAlB,EAAsB/B,aAAa;AACpC,SAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAxBF,eA0CE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,OAAO,EAAEuB,eAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGnB,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CAJF,CA1CF,eAkDE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGI,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,OAAO,EAAE+B,kBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG3B,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CAJF,CAlDF,eA0DE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGI,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,OAAO,EAAE2B,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGvB,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CAJF,CA1DF,eAkEE;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,OAAO,EAAEG,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,aAAa,CAAC;AAAEJ,QAAAA,EAAE,EAAE;AAAN,OAAD,CADhB,CAlEF,eAqEE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCM,OAAhC,CArEF,CADF;AAyED;;;;EApLkBrB,S;;AAuLrB,eAAeC,OAAO,CACpBiD,SADoB,EAEpB;AACEf,EAAAA,cAAc,EAAEhC,eAAe,CAACgC;AADlC,CAFoB,CAAP,CAKbjC,UAAU,CAACQ,MAAD,CALG,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport * as userInfoActions from \"../../Store/Reducer/UserInfo\";\nimport * as request from \"../../Util/HTTPRequest\";\nimport sha256 from \"../../Util/SHA256\";\nimport PopUp, { showPopUp } from \"../PopUp\";\nimport SignUp from \"../SignUp\";\nimport logoImg from \"../../../Image/wizlab_logo.svg\";\nimport * as TrackingUtil from \"../../Util/TrackingUtil\";\nimport \"./index.scss\";\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      warning: \"\"\n    };\n    if (this.props.isBuilder) {\n      require(\"./index_builder.scss\");\n    }\n  }\n\n  onChangeInput = e => {\n    const { id, value } = e.target;\n    this.setState({ [id]: value, warning: \"\" });\n  };\n  onClickSignIn = () => {\n    const { formatMessage } = this.props.intl;\n    this.setState({ warning: \"\" }, () => {\n      const { email, password } = this.state;\n      const params = { email, password: sha256(password) };\n\n      request\n        .login(params)\n        .then(res => res.json())\n        .then(json => {\n          if (json.status === 403) {\n            this.setState({\n              warning: formatMessage({ id: \"ID_SIGNIN_CHECK_EMAILPW\" })\n            });\n          } else {\n            // TrackingUtil.sendGAEvent(\n            //   {\n            //     category: \"Login\",\n            //     action: \"Login_Success\"\n            //   },\n            //   this.props.email\n            // );\n            TrackingUtil.sendGTMEvent(\"Login_Success\");\n\n            localStorage.setItem(\"wizToken\", json.token);\n            this.props.updateUserInfo(json.user);\n            this.props.dismiss();\n            // window.location.reload();\n          }\n        });\n    });\n  };\n  onClickForgotPw = () => {\n    // showPopUp(<ForgotPw isBuilder={this.props.isBuilder} />, {\n    //   darkmode: !this.props.isBuilder,\n    //   mobileFullscreen: true\n    // });\n    // TODO: temp\n    showPopUp(\n      <PopUp.OneButton\n        title=\"죄송합니다.\"\n        subtitle={`위즈랩 회원 정책 변경으로 인해 \\n아이디/비밀번호 찾기를 이용할 수 없습니다. \\n빠른 시일 내에 정상적으로 \n        운영할 수 있도록 하겠습니다. \\n아이디/비밀번호 찾기를 위해서 위즈랩 고객센터(wizlab@wizschool.io)로 연락해주세요.`}\n        buttonName=\"확인\"\n      />,\n      {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true\n      }\n    );\n  };\n  onClickSignUp = () => {\n    showPopUp(<SignUp history={this.props.history} isBuilder={this.props.isBuilder} />, {\n      darkmode: !this.props.isBuilder,\n      mobileFullscreen: true\n    });\n  };\n  onClickForgotEmail = () => {\n    // showPopUp(<ForgotEmail isBuilder={this.props.isBuilder} />, {\n    //   darkmode: !this.props.isBuilder,\n    //   mobileFullscreen: true\n    // });\n    // TODO: temp\n    showPopUp(\n      <PopUp.OneButton\n        title=\"죄송합니다.\"\n        subtitle={`위즈랩 회원 정책 변경으로 인해 \\n아이디/비밀번호 찾기를 이용할 수 없습니다. \\n빠른 시일 내에 정상적으로 \n        운영할 수 있도록 하겠습니다. \\n아이디/비밀번호 찾기를 위해서 위즈랩 고객센터(wizlab@wizschool.io)로 연락해주세요.`}\n        buttonName=\"확인\"\n      />,\n      {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true\n      }\n    );\n  };\n\n  render() {\n    const { formatMessage } = this.props.intl;\n    const { email, password, warning } = this.state;\n    const {\n      onChangeInput,\n      onClickSignIn,\n      onClickForgotPw,\n      onClickSignUp,\n      onClickForgotEmail\n    } = this;\n\n    return (\n      <div className=\"signin\">\n        <div className=\"signin_title\">\n          <img className=\"signin_logo\" src={logoImg} alt=\"logo\" />\n          {formatMessage({ id: \"ID_SIGNIN\" })}\n        </div>\n        <div className=\"signin_input_wrapper\">\n          <div className=\"signin_input_title\">\n            {formatMessage({ id: \"ID_SIGNIN_ID\" })}\n          </div>\n          <input\n            className={`popup_input ${\n              warning !== \"\" ? \"popup_input-warning\" : \"\"\n            }`}\n            id=\"email\"\n            placeholder={formatMessage({ id: \"ID_SIGNIN_EMAIL_ID_PLACEHOLDER\" })}\n            value={email}\n            onChange={onChangeInput}\n            onKeyDown={e => {\n              if (e.keyCode === 13) onClickSignIn();\n            }}\n            type=\"text\"\n            autoComplete=\"off\"\n          />\n        </div>\n        <div className=\"signin_input_wrapper\">\n          <div className=\"signin_input_title\">\n            {formatMessage({ id: \"ID_SIGNIN_PW\" })}\n          </div>\n          <input\n            className={`popup_input ${\n              warning !== \"\" ? \"popup_input-warning\" : \"\"\n            }`}\n            id=\"password\"\n            type=\"password\"\n            placeholder={formatMessage({ id: \"ID_SIGNIN_PW_PLACEHOLDER\" })}\n            value={password}\n            onChange={onChangeInput}\n            onKeyDown={e => {\n              if (e.keyCode === 13) onClickSignIn();\n            }}\n          />\n        </div>\n        <div className=\"signin_link_wrapper\">\n          <div className=\"signin_link_desc\">\n            {formatMessage({ id: \"ID_SIGNIN_FORGOTPW_DESC\" })}\n          </div>\n          <div className=\"signin_link\" onClick={onClickForgotPw}>\n            {formatMessage({ id: \"ID_SIGNIN_FORGOTPW\" })}\n          </div>\n        </div>\n        <div className=\"signin_link_wrapper\">\n          <div className=\"signin_link_desc\">\n            {formatMessage({ id: \"ID_SIGNIN_FORGOT_ID_DESC\" })}\n          </div>\n          <div className=\"signin_link\" onClick={onClickForgotEmail}>\n            {formatMessage({ id: \"ID_SIGNIN_FORGOT_ID\" })}\n          </div>\n        </div>\n        <div className=\"signin_link_wrapper\">\n          <div className=\"signin_link_desc\">\n            {formatMessage({ id: \"ID_SIGNIN_SIGNUP_DESC\" })}\n          </div>\n          <div className=\"signin_link\" onClick={onClickSignUp}>\n            {formatMessage({ id: \"ID_SIGNIN_SIGNUP\" })}\n          </div>\n        </div>\n        <button className=\"popup_button\" onClick={onClickSignIn}>\n          {formatMessage({ id: \"ID_SIGNIN_CONFIRM\" })}\n        </button>\n        <div className=\"popup_warning\">{warning}</div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  undefined,\n  {\n    updateUserInfo: userInfoActions.updateUserInfo\n  }\n)(injectIntl(SignIn));\n"]},"metadata":{},"sourceType":"module"}