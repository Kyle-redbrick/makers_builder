{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/PopUp/OneInput/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport \"./index.scss\";\n\nvar OneInputPopUp = /*#__PURE__*/function (_Component) {\n  _inherits(OneInputPopUp, _Component);\n\n  var _super = _createSuper(OneInputPopUp);\n\n  function OneInputPopUp(props) {\n    var _this;\n\n    _classCallCheck(this, OneInputPopUp);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      if (_this.props.enterToConfirm) {\n        window.addEventListener(\"keyup\", _this.onClickEnter);\n      }\n    };\n\n    _this.componentWillUnmount = function () {\n      window.removeEventListener(\"keyup\", _this.onClickEnter);\n    };\n\n    _this.onClickEnter = function (e) {\n      var _this$props = _this.props,\n          dismiss = _this$props.dismiss,\n          buttonAction = _this$props.buttonAction;\n\n      if (e.keyCode === 13) {\n        if (_this.state.inputWarning === false) {\n          if (buttonAction) buttonAction(_this.inputRef.current.value);\n          if (dismiss) dismiss();\n        } else {\n          _this.setState({\n            warning: true\n          });\n        }\n      }\n    };\n\n    _this.checkInputLength = function (e) {\n      var inputLimit = _this.props.inputLimit;\n\n      _this.setState({\n        warning: false\n      });\n\n      if (inputLimit) {\n        if (e.target.value.length > inputLimit) _this.setState({\n          inputWarning: true\n        });else _this.setState({\n          inputWarning: false\n        });\n      }\n    };\n\n    _this.state = {\n      inputWarning: _this.props.inputLimit ? undefined : false,\n      warning: _this.props.inputLimit ? undefined : false\n    };\n    _this.inputRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(OneInputPopUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          image = _this$props2.image,\n          title = _this$props2.title,\n          titleId = _this$props2.titleId,\n          subtitle = _this$props2.subtitle,\n          subtitleId = _this$props2.subtitleId,\n          defaultInput = _this$props2.defaultInput,\n          placeholder = _this$props2.placeholder,\n          buttonName = _this$props2.buttonName,\n          buttonNameId = _this$props2.buttonNameId,\n          buttonAction = _this$props2.buttonAction,\n          intl = _this$props2.intl,\n          dismiss = _this$props2.dismiss,\n          inputLimit = _this$props2.inputLimit;\n      var _this$state = this.state,\n          inputWarning = _this$state.inputWarning,\n          warning = _this$state.warning;\n      return React.createElement(\"div\", {\n        className: \"popup_oneinput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, image && React.createElement(\"img\", {\n        className: \"oneInputIcon\",\n        src: image,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"popup_header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, title || (titleId ? intl.formatMessage({\n        id: titleId\n      }) : \"title\")), (subtitle || subtitleId) && React.createElement(\"div\", {\n        className: \"popup_subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, subtitle || (subtitleId ? intl.formatMessage({\n        id: subtitleId\n      }) : \"subtitle\")), React.createElement(\"input\", {\n        className: \"popup_input popup_input-oneinput\",\n        defaultValue: defaultInput,\n        placeholder: placeholder,\n        ref: this.inputRef,\n        onChange: this.checkInputLength,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), inputWarning && React.createElement(\"div\", {\n        className: \"input_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, intl.formatMessage({\n        id: \"ID_ONE_INPUT_POPUP_WARNING\"\n      }, {\n        inputLimit: inputLimit\n      })), React.createElement(\"button\", {\n        className: \"popup_button popup_button-oneinput\",\n        onClick: function onClick() {\n          if (inputWarning === false) {\n            if (dismiss) dismiss();\n            if (buttonAction) buttonAction(_this2.inputRef.current.value);\n          } else {\n            _this2.setState({\n              warning: true\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, buttonName || (buttonNameId ? intl.formatMessage({\n        id: buttonNameId\n      }) : \"confirm\")), React.createElement(\"button\", {\n        className: \"popup_dismiss_button\",\n        onClick: function onClick() {\n          if (dismiss) dismiss();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, intl.formatMessage({\n        id: \"ID_ONE_INPUT_POPUP_CANCLE_BTN\"\n      })), warning && React.createElement(\"div\", {\n        className: \"input_warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, intl.formatMessage({\n        id: \"ID_ONE_INPUT_POPUP_WARNING2\"\n      })));\n    }\n  }]);\n\n  return OneInputPopUp;\n}(Component);\n\nexport default injectIntl(OneInputPopUp);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/PopUp/OneInput/index.js"],"names":["React","Component","injectIntl","OneInputPopUp","props","componentDidMount","enterToConfirm","window","addEventListener","onClickEnter","componentWillUnmount","removeEventListener","e","dismiss","buttonAction","keyCode","state","inputWarning","inputRef","current","value","setState","warning","checkInputLength","inputLimit","target","length","undefined","createRef","image","title","titleId","subtitle","subtitleId","defaultInput","placeholder","buttonName","buttonNameId","intl","formatMessage","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport \"./index.scss\";\n\nclass OneInputPopUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputWarning: this.props.inputLimit ? undefined : false,\n      warning: this.props.inputLimit ? undefined : false\n    };\n    this.inputRef = React.createRef();\n  }\n  componentDidMount = () => {\n    if (this.props.enterToConfirm) {\n      window.addEventListener(\"keyup\", this.onClickEnter);\n    }\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"keyup\", this.onClickEnter);\n  };\n\n  onClickEnter = e => {\n    const { dismiss, buttonAction } = this.props;\n    if (e.keyCode === 13) {\n      if (this.state.inputWarning === false) {\n        if (buttonAction) buttonAction(this.inputRef.current.value);\n        if (dismiss) dismiss();\n      } else {\n        this.setState({ warning: true });\n      }\n    }\n  };\n\n  checkInputLength = e => {\n    const { inputLimit } = this.props;\n    this.setState({ warning: false });\n    if (inputLimit) {\n      if (e.target.value.length > inputLimit)\n        this.setState({\n          inputWarning: true\n        });\n      else this.setState({ inputWarning: false });\n    }\n  };\n\n  render() {\n    const {\n      image,\n      title,\n      titleId,\n      subtitle,\n      subtitleId,\n      defaultInput,\n      placeholder,\n      buttonName,\n      buttonNameId,\n      buttonAction,\n      intl,\n      dismiss,\n      inputLimit\n    } = this.props;\n    const { inputWarning, warning } = this.state;\n    return (\n      <div className=\"popup_oneinput\">\n        {image && <img className=\"oneInputIcon\" src={image} alt=\"\"/>}\n        <div className=\"popup_header\">\n          {title || (titleId ? intl.formatMessage({ id: titleId }) : \"title\")}\n        </div>\n        {(subtitle || subtitleId) && (\n          <div className=\"popup_subtitle\">\n            {subtitle ||\n              (subtitleId\n                ? intl.formatMessage({ id: subtitleId })\n                : \"subtitle\")}\n          </div>\n        )}\n        <input\n          className=\"popup_input popup_input-oneinput\"\n          defaultValue={defaultInput}\n          placeholder={placeholder}\n          ref={this.inputRef}\n          onChange={this.checkInputLength}\n        />\n        {inputWarning && (\n          <div className=\"input_warning\">\n            {intl.formatMessage({ id: \"ID_ONE_INPUT_POPUP_WARNING\" }, { inputLimit: inputLimit })}\n          </div>\n        )}\n        <button\n          className=\"popup_button popup_button-oneinput\"\n          onClick={() => {\n            if (inputWarning === false) {\n              if (dismiss) dismiss();\n              if (buttonAction) buttonAction(this.inputRef.current.value);\n            } else {\n              this.setState({ warning: true });\n            }\n          }}\n        >\n          {buttonName ||\n            (buttonNameId\n              ? intl.formatMessage({ id: buttonNameId })\n              : \"confirm\")}\n        </button>\n        <button \n          className=\"popup_dismiss_button\"\n          onClick={() => {\n            if (dismiss) dismiss();\n            }\n          }>\n          {intl.formatMessage({ id: \"ID_ONE_INPUT_POPUP_CANCLE_BTN\"})}\n        </button>\n        {warning && (\n          <div className=\"input_warning\">\n            {intl.formatMessage({ id: \"ID_ONE_INPUT_POPUP_WARNING2\"})}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(OneInputPopUp);\n"]},"metadata":{},"sourceType":"module"}