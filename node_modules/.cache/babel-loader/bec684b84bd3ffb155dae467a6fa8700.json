{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/OOBCEditor/Component/Block/index.js\";\nimport React from \"react\";\nimport Localization from \"../../Localization\";\nimport { CATEGORY, BLOCK } from \"../../OOBC/type\";\nimport OOBC from \"../../OOBC\";\nimport \"./index.scss\";\nimport editDefault from \"../../Image/edit-default.svg\";\nimport editTouched from \"../../Image/edit-touched.svg\";\nexport var BlockGroup = function BlockGroup(props) {\n  var block = props.block;\n\n  switch (block.type) {\n    case CATEGORY.CALLBACK:\n      return React.createElement(React.Fragment, null);\n\n    case CATEGORY.OPERATOR:\n      if (block.data === \"!\") {\n        return getLogicalNotBlockGroup(props);\n      } else {\n        return getOperatorBlockGroup(props);\n      }\n\n    default:\n      return getDefaultBlockGroup(props);\n  }\n};\n\nfunction getDefaultBlockGroup(props) {\n  var context = props.context,\n      block = props.block,\n      currentBlock = props.currentBlock,\n      onClickBlock = props.onClickBlock,\n      onClickConstantBlockEdit = props.onClickConstantBlockEdit;\n  var blockElement = React.createElement(Block, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }));\n  var childsElement = block.children && block.children.map(function (child) {\n    return React.createElement(BlockGroup, {\n      key: child.id,\n      context: context,\n      block: child,\n      currentBlock: currentBlock,\n      onClickBlock: onClickBlock,\n      onClickConstantBlockEdit: onClickConstantBlockEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    });\n  });\n  return React.createElement(React.Fragment, null, blockElement, childsElement);\n}\n\nfunction getOperatorBlockGroup(props) {\n  var context = props.context,\n      block = props.block,\n      currentBlock = props.currentBlock,\n      onClickBlock = props.onClickBlock,\n      onClickConstantBlockEdit = props.onClickConstantBlockEdit;\n  var blockElement = React.createElement(Block, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }));\n  return React.createElement(React.Fragment, null, React.createElement(BlockGroup, {\n    context: context,\n    block: block.children[0],\n    currentBlock: currentBlock,\n    onClickBlock: onClickBlock,\n    onClickConstantBlockEdit: onClickConstantBlockEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), blockElement, React.createElement(BlockGroup, {\n    context: context,\n    block: block.children[1],\n    currentBlock: currentBlock,\n    onClickBlock: onClickBlock,\n    onClickConstantBlockEdit: onClickConstantBlockEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }));\n}\n\nfunction getLogicalNotBlockGroup(props) {\n  var context = props.context,\n      block = props.block,\n      currentBlock = props.currentBlock,\n      onClickBlock = props.onClickBlock,\n      onClickConstantBlockEdit = props.onClickConstantBlockEdit;\n  var blockElement = React.createElement(Block, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }));\n  return React.createElement(React.Fragment, null, blockElement, React.createElement(BlockGroup, {\n    context: context,\n    block: block.children[0],\n    currentBlock: currentBlock,\n    onClickBlock: onClickBlock,\n    onClickConstantBlockEdit: onClickConstantBlockEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }));\n}\n\nexport var Block = function Block(props) {\n  var context = props.context,\n      block = props.block,\n      currentBlock = props.currentBlock,\n      disabled = props.disabled,\n      onClickBlock = props.onClickBlock,\n      onClickConstantBlockEdit = props.onClickConstantBlockEdit;\n  var current = block === currentBlock;\n  var blockClassName = getClassNameFor(block);\n  var backgroundElement = getBackgroundElementOf(block);\n  var contentsElement = getContentElementOf(block, context);\n  var showEditElement = isEditable(block) && block === currentBlock;\n  return React.createElement(\"div\", {\n    id: \"oobceditor_block-\".concat(block.id),\n    className: \"oobceditor_block oobceditor_block-\".concat(block.state.toLowerCase(), \" oobceditor_block-\").concat(blockClassName).concat(current ? \" oobceditor_block-current\" : \"\").concat(disabled ? \" oobceditor_block-disabled\" : \"\"),\n    onClick: function onClick(e) {\n      if (e.preventDefault) e.preventDefault();\n      if (e.stopPropagation) e.stopPropagation();\n      onClickBlock(block);\n    },\n    onContextMenu: function onContextMenu(e) {\n      if (e.preventDefault) e.preventDefault();\n      if (e.stopPropagation) e.stopPropagation();\n    },\n    onTouchStart: function onTouchStart(e) {\n      e.target.classList.add(\"oobceditor_block-touched\");\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      e.target.classList.remove(\"oobceditor_block-touched\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, backgroundElement, contentsElement, showEditElement && React.createElement(EditElement, {\n    block: block,\n    onClickEdit: function onClickEdit() {\n      onClickConstantBlockEdit(block);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }));\n};\n\nfunction getBackgroundElementOf(block) {\n  if (block.category === CATEGORY.CALLBACK) return null;\n  var backgroundSrcKey = getBackgroundSrcKeyOf(block);\n\n  if (isStretchableBlock(block)) {\n    return React.createElement(\"div\", {\n      className: \"oobceditor_block_background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"oobceditor_block_background_img oobceditor_block_background_img-left\",\n      src: require(\"../../Image/BlockBackground/block_\".concat(backgroundSrcKey, \"-left.png\")),\n      alt: \"background-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"oobceditor_block_background_img oobceditor_block_background_img-center\",\n      style: {\n        backgroundImage: \"url(\".concat(require(\"../../Image/BlockBackground/block_\".concat(backgroundSrcKey, \"-center.png\")), \")\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"oobceditor_block_background_img oobceditor_block_background_img-right\",\n      src: require(\"../../Image/BlockBackground/block_\".concat(backgroundSrcKey, \"-right.png\")),\n      alt: \"background-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }));\n  } else {\n    var extension = backgroundSrcKey === \"empty\" ? \"svg\" : \"png\";\n\n    var backgroundImg = block.backgroundImg || require(\"../../Image/BlockBackground/block_\".concat(backgroundSrcKey, \".\").concat(extension));\n\n    return React.createElement(\"div\", {\n      className: \"oobceditor_block_background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"oobceditor_block_background_img\",\n      src: backgroundImg,\n      alt: \"background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }));\n  }\n}\n\nfunction getBackgroundSrcKeyOf(block) {\n  var category = block.category;\n  var backgroundSrcKey = category ? category[0].toLowerCase() + category.slice(1) : \"empty\";\n\n  if (category === CATEGORY.ACTION) {\n    var onActions = [\"onOverlap\", \"onOverlapOnce\", \"onKey\", \"onKeyUp\", \"onTouch\", \"onTouchUp\", \"onOut\", \"onFrame\", \"onTouch\", \"onTouchUp\", \"onSignal\", \"onSwipe\", \"onShake\", \"speak\"];\n\n    if (onActions.includes(block.data)) {\n      backgroundSrcKey = \"onAction\";\n    }\n  }\n\n  return backgroundSrcKey;\n}\n\nfunction isStretchableBlock(block) {\n  return [CATEGORY.GAMEOBJECT, CATEGORY.PROPERTY, CATEGORY.CONSTANT, CATEGORY.VARIABLE, CATEGORY.UTIL, CATEGORY.ACTION].includes(block.category);\n}\n\nfunction getContentElementOf(block, context) {\n  var contents;\n\n  switch (block.category) {\n    case CATEGORY.GAMEOBJECT:\n      contents = getContentOfGameObject(block, context);\n      break;\n\n    case CATEGORY.PROPERTY:\n      contents = getContentOfPropety(block);\n      break;\n\n    case CATEGORY.ACTION:\n      contents = getContentOfAction(block);\n      break;\n\n    case CATEGORY.CONSTANT:\n      contents = getContentOfConstant(block);\n      break;\n\n    default:\n      contents = getDefaultContentElementOf(block);\n      break;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, contents);\n}\n\nfunction getDefaultContentElementOf(block) {\n  var displayData = block.data;\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, displayData);\n}\n\nfunction getContentOfGameObject(gameObject, context) {\n  var className = getClassNameFor(gameObject);\n  var content;\n\n  switch (gameObject.type) {\n    case BLOCK.TEXT:\n      content = getContentOfText(gameObject);\n      break;\n\n    case BLOCK.SOUND:\n      content = getContentOfSound(gameObject);\n      break;\n\n    default:\n      content = getContentOfDefaultGameObject(gameObject, context);\n      break;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_sprite oobceditor_block_contents_sprite-\".concat(className),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, content);\n}\n\nfunction getContentOfDefaultGameObject(gameObject, context) {\n  var gameObjectName = gameObject.data;\n  var thumbnailSrc = gameObject.thumbnailSrc;\n\n  if (!thumbnailSrc) {\n    var gameObjectsInfo = context && context.getGameObjectInfoWithName(gameObjectName);\n    thumbnailSrc = gameObjectsInfo && gameObjectsInfo.thumbnailSrc;\n  }\n\n  var copyId = getGameObjectCopyId(gameObject);\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    className: \"oobceditor_block_contents_sprite_img\",\n    src: thumbnailSrc,\n    alt: gameObjectName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }), copyId && React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_sprite_copyId\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, copyId));\n}\n\nfunction getContentOfText(text) {\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    className: \"oobceditor_block_contents_sprite_img\",\n    src: require(\"../../Image/GameObject/block_sprite_text.png\"),\n    alt: text.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_sprite_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, text.data));\n}\n\nfunction getContentOfSound(sound) {\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    className: \"oobceditor_block_contents_sprite_img\",\n    src: require(\"../../Image/GameObject/block_sprite_sound.png\"),\n    alt: sound.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_sprite_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  }, sound.data));\n}\n\nfunction getContentOfPropety(property) {\n  var formatMessageId = \"ID_OOBC_BLOCK_PROPERTY_\" + property.data.toUpperCase();\n  var localizedProperty = Localization.formatWithId(formatMessageId);\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, localizedProperty);\n}\n\nfunction getContentOfAction(action) {\n  var actionName = action.data;\n  var formatMessageId = \"ID_OOBC_BLOCK_ACTION_\" + actionName.toUpperCase();\n  var localizedAction = Localization.formatWithId(formatMessageId);\n  var actionImgSrc;\n\n  try {\n    actionImgSrc = require(\"../../Image/Action/action_\".concat(actionName, \".svg\"));\n  } catch (_unused) {}\n\n  return React.createElement(React.Fragment, null, actionImgSrc && React.createElement(\"img\", {\n    className: \"oobceditor_block_contents_img\",\n    src: actionImgSrc,\n    alt: actionName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\".concat(actionImgSrc ? \" oobceditor_block_contents_title-action\" : \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359\n    },\n    __self: this\n  }, localizedAction));\n}\n\nfunction getContentOfConstant(constant) {\n  var content;\n\n  switch (constant.type) {\n    case BLOCK.NUMBERBLOCK:\n      content = getContentOfNumber(constant);\n      break;\n\n    case BLOCK.STRINGBLOCK:\n      content = getContentOfString(constant);\n      break;\n\n    case BLOCK.SCENE:\n      content = getContentOfScene(constant);\n      break;\n\n    case BLOCK.ANIMATION:\n      content = getContentOfAnimation(constant);\n      break;\n\n    case BLOCK.DIRECTION:\n      content = getContentOfDirection(constant);\n      break;\n\n    case BLOCK.KEY:\n      content = getContentOfKey(constant);\n      break;\n\n    case BLOCK.POSITION:\n      content = getContentOfPosition(constant);\n      break;\n\n    case BLOCK.RANDOM:\n      content = getContentOfRandom(constant);\n      break;\n\n    case BLOCK.TOUCH:\n      content = getContentOfTouch(constant);\n      break;\n\n    case BLOCK.TIME:\n      content = getContentOfTime(constant);\n      break;\n\n    default:\n      content = getContentOfDefaultConstant(constant);\n      break;\n  }\n\n  return content;\n}\n\nfunction getContentOfDefaultConstant(constant) {\n  var displayConstant = constant.data;\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412\n    },\n    __self: this\n  }, displayConstant);\n}\n\nfunction getContentOfString(string) {\n  var displayString = string.data;\n\n  if (displayString === null) {\n    displayString = Localization.formatWithId(\"ID_OOBC_BLOCK_STRING_DEFAULT\");\n  }\n\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420\n    },\n    __self: this\n  }, displayString);\n}\n\nfunction getContentOfNumber(number) {\n  var displayNumber = number.data;\n\n  if (displayNumber === null) {\n    displayNumber = Localization.formatWithId(\"ID_OOBC_BLOCK_NUMBER_DEFAULT\");\n  }\n\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427\n    },\n    __self: this\n  }, displayNumber);\n}\n\nfunction getContentOfScene(scene) {\n  var displayScene = Localization.locale === \"zh\" ? \"画面\" : \"scene\";\n  displayScene += scene.data.split(\"scene\")[1];\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432\n    },\n    __self: this\n  }, displayScene);\n}\n\nfunction getContentOfAnimation(animation) {\n  var animationName = animation.data;\n\n  if (Localization.locale === \"zh\") {\n    animationName = zhAnimationNames[animationName] || animationName;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439\n    },\n    __self: this\n  }, animationName);\n}\n\nvar zhAnimationNames = {\n  attack: \"攻击\",\n  back_attack: \"背面_攻击\",\n  back_fly: \"背面_飞行\",\n  back_fly_idle: \"背面_飞行_空闲\",\n  back_idle: \"背面_空闲\",\n  back_move: \"背面_移动\",\n  back_run: \"背面_奔跑\",\n  back_walk: \"背面_走路\",\n  blue: \"蓝色\",\n  close: \"关闭\",\n  death: \"阵亡\",\n  error: \"错误\",\n  fail: \"失败\",\n  fail_b: \"失败_b\",\n  falling: \"掉落\",\n  fly: \"飞行\",\n  front_attack: \"正面_攻击\",\n  front_fly: \"正面_飞行\",\n  front_fly_idle: \"正面_飞行_空闲\",\n  front_idle: \"正面_空闲\",\n  fx: \"特效\",\n  happy: \"开心\",\n  heart: \"爱心\",\n  hit: \"撞击\",\n  idle: \"空闲\",\n  jump: \"跳跃\",\n  left_fly: \"向左飞行\",\n  left_hit: \"左_撞击\",\n  left_victory: \"左_胜利\",\n  move: \"移动\",\n  open: \"打开\",\n  purple: \"紫色\",\n  red: \"红色\",\n  right_fly: \"向右飞行\",\n  right_hit: \"右_撞击\",\n  right_victory: \"右_胜利\",\n  run: \"奔跑\",\n  run_sad: \"奔跑_伤心\",\n  save: \"救助\",\n  seat: \"坐下\",\n  shoot: \"发射\",\n  side_attack: \"侧面_攻击\",\n  side_fly: \"侧面_飞行\",\n  side_fly_idle: \"侧面_飞行_空闲\",\n  side_flyattack: \"侧向飞行\",\n  side_idle: \"侧面_空闲\",\n  side_jump: \"侧面_跳跃\",\n  side_move: \"侧面_移动\",\n  side_run: \"侧向奔跑\",\n  side_walk: \"侧面_走路\",\n  skill: \"技能\",\n  skill_a: \"技能_a\",\n  skill_b: \"技能_b\",\n  skill_c: \"技能_c\",\n  skyblue: \"天蓝色\",\n  stop_a: \"停止_a\",\n  stop_b: \"停止_b\",\n  tap: \"轻拍\",\n  up: \"上\",\n  victory: \"胜利\",\n  walk: \"走路\",\n  walk2: \"走路2\",\n  white: \"白色\"\n};\n\nfunction getContentOfDirection(direction) {\n  var directionName = direction.data;\n  var directionImgSrc;\n\n  try {\n    directionImgSrc = require(\"../../Image/Direction/direction_\".concat(directionName, \".svg\"));\n  } catch (err) {}\n\n  if (Localization.locale === \"zh\") {\n    directionName = {\n      up: \"上\",\n      down: \"下\",\n      left: \"左\",\n      right: \"右\"\n    }[directionName];\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    className: \"oobceditor_block_contents_img\",\n    src: directionImgSrc,\n    alt: directionName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title oobceditor_block_contents_title-direction\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524\n    },\n    __self: this\n  }, directionName));\n}\n\nfunction getContentOfKey(key) {\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531\n    },\n    __self: this\n  }, key.data || \"key\");\n}\n\nfunction getContentOfPosition(position) {\n  var _position$data = position.data,\n      x = _position$data.x,\n      y = _position$data.y;\n  var displayPosition = \"X:\".concat(x, \" Y:\").concat(y);\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537\n    },\n    __self: this\n  }, displayPosition);\n}\n\nfunction getContentOfRandom(random) {\n  var displayRandom = Localization.formatWithId(\"ID_OOBC_BLOCK_CONSTANT_RANDOM\");\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544\n    },\n    __self: this\n  }, displayRandom);\n}\n\nfunction getContentOfTouch(touch) {\n  var displayTouch = Localization.formatWithId(\"ID_OOBC_BLOCK_CONSTANT_TOUCH\");\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548\n    },\n    __self: this\n  }, displayTouch);\n}\n\nfunction getContentOfTime(time) {\n  var displayTime = Localization.formatWithId(\"ID_OOBC_BLOCK_CONSTANT_TIME\");\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_contents_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552\n    },\n    __self: this\n  }, displayTime);\n}\n\nfunction getClassNameFor(block) {\n  var loweredFirst = block.type[0].toLowerCase() + block.type.slice(1);\n  return loweredFirst;\n}\n\nfunction getGameObjectCopyId(gameObject) {\n  var gameObjectName = gameObject.data;\n  var matches = gameObjectName.match(/(?<=\\()\\d+(?=\\))/g);\n\n  if (matches) {\n    return parseInt(matches[0]);\n  } else {\n    return null;\n  }\n}\n\nfunction isEditable(block) {\n  return [BLOCK.NUMBERBLOCK, BLOCK.STRINGBLOCK, BLOCK.KEY, BLOCK.POSITION].includes(block.type);\n}\n\nfunction EditElement(props) {\n  var block = props.block,\n      onClickEdit = props.onClickEdit;\n  return React.createElement(\"div\", {\n    className: \"oobceditor_block_edit\",\n    onClick: function onClick(e) {\n      if (e.preventDefault) e.preventDefault();\n      if (e.stopPropagation) e.stopPropagation();\n      onClickEdit(block);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"oobceditor_block_edit_img\",\n    src: editDefault,\n    alt: \"edit\",\n    onTouchStart: function onTouchStart(e) {\n      e.target.src = editTouched;\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      e.target.src = editDefault;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585\n    },\n    __self: this\n  }));\n}\n\nexport var AddVarBlock = function AddVarBlock(props) {\n  var block = new OOBC.Variable({\n    state: OOBC.TYPE.STATE.PROTOTYPE,\n    data: \"+\"\n  });\n  return React.createElement(Block, {\n    block: block,\n    onClickBlock: props.onClickBlock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605\n    },\n    __self: this\n  });\n};","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/OOBCEditor/Component/Block/index.js"],"names":["React","Localization","CATEGORY","BLOCK","OOBC","BlockGroup","props","block","type","CALLBACK","OPERATOR","data","getLogicalNotBlockGroup","getOperatorBlockGroup","getDefaultBlockGroup","context","currentBlock","onClickBlock","onClickConstantBlockEdit","blockElement","childsElement","children","map","child","id","Block","disabled","current","blockClassName","getClassNameFor","backgroundElement","getBackgroundElementOf","contentsElement","getContentElementOf","showEditElement","isEditable","state","toLowerCase","e","preventDefault","stopPropagation","target","classList","add","remove","category","backgroundSrcKey","getBackgroundSrcKeyOf","isStretchableBlock","require","backgroundImage","extension","backgroundImg","slice","ACTION","onActions","includes","GAMEOBJECT","PROPERTY","CONSTANT","VARIABLE","UTIL","contents","getContentOfGameObject","getContentOfPropety","getContentOfAction","getContentOfConstant","getDefaultContentElementOf","displayData","gameObject","className","content","TEXT","getContentOfText","SOUND","getContentOfSound","getContentOfDefaultGameObject","gameObjectName","thumbnailSrc","gameObjectsInfo","getGameObjectInfoWithName","copyId","getGameObjectCopyId","text","sound","property","formatMessageId","toUpperCase","localizedProperty","formatWithId","action","actionName","localizedAction","actionImgSrc","constant","NUMBERBLOCK","getContentOfNumber","STRINGBLOCK","getContentOfString","SCENE","getContentOfScene","ANIMATION","getContentOfAnimation","DIRECTION","getContentOfDirection","KEY","getContentOfKey","POSITION","getContentOfPosition","RANDOM","getContentOfRandom","TOUCH","getContentOfTouch","TIME","getContentOfTime","getContentOfDefaultConstant","displayConstant","string","displayString","number","displayNumber","scene","displayScene","locale","split","animation","animationName","zhAnimationNames","attack","back_attack","back_fly","back_fly_idle","back_idle","back_move","back_run","back_walk","blue","close","death","error","fail","fail_b","falling","fly","front_attack","front_fly","front_fly_idle","front_idle","fx","happy","heart","hit","idle","jump","left_fly","left_hit","left_victory","move","open","purple","red","right_fly","right_hit","right_victory","run","run_sad","save","seat","shoot","side_attack","side_fly","side_fly_idle","side_flyattack","side_idle","side_jump","side_move","side_run","side_walk","skill","skill_a","skill_b","skill_c","skyblue","stop_a","stop_b","tap","up","victory","walk","walk2","white","direction","directionName","directionImgSrc","err","down","left","right","key","position","x","y","displayPosition","random","displayRandom","touch","displayTouch","time","displayTime","loweredFirst","matches","match","parseInt","EditElement","onClickEdit","editDefault","src","editTouched","AddVarBlock","Variable","TYPE","STATE","PROTOTYPE"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Localization from \"../../Localization\";\nimport { CATEGORY, BLOCK } from \"../../OOBC/type\";\nimport OOBC from \"../../OOBC\";\nimport \"./index.scss\";\n\nimport editDefault from \"../../Image/edit-default.svg\";\nimport editTouched from \"../../Image/edit-touched.svg\";\n\nexport const BlockGroup = props => {\n  const { block } = props;\n  switch (block.type) {\n    case CATEGORY.CALLBACK:\n      return <></>;\n    case CATEGORY.OPERATOR:\n      if (block.data === \"!\") {\n        return getLogicalNotBlockGroup(props);\n      } else {\n        return getOperatorBlockGroup(props);\n      }\n    default:\n      return getDefaultBlockGroup(props);\n  }\n};\n\nfunction getDefaultBlockGroup(props) {\n  const {\n    context,\n    block,\n    currentBlock,\n    onClickBlock,\n    onClickConstantBlockEdit\n  } = props;\n  const blockElement = <Block {...props} />;\n  const childsElement =\n    block.children &&\n    block.children.map(child => (\n      <BlockGroup\n        key={child.id}\n        context={context}\n        block={child}\n        currentBlock={currentBlock}\n        onClickBlock={onClickBlock}\n        onClickConstantBlockEdit={onClickConstantBlockEdit}\n      />\n    ));\n  return (\n    <>\n      {blockElement}\n      {childsElement}\n    </>\n  );\n}\nfunction getOperatorBlockGroup(props) {\n  const {\n    context,\n    block,\n    currentBlock,\n    onClickBlock,\n    onClickConstantBlockEdit\n  } = props;\n  const blockElement = <Block {...props} />;\n  return (\n    <>\n      <BlockGroup\n        context={context}\n        block={block.children[0]}\n        currentBlock={currentBlock}\n        onClickBlock={onClickBlock}\n        onClickConstantBlockEdit={onClickConstantBlockEdit}\n      />\n      {blockElement}\n      <BlockGroup\n        context={context}\n        block={block.children[1]}\n        currentBlock={currentBlock}\n        onClickBlock={onClickBlock}\n        onClickConstantBlockEdit={onClickConstantBlockEdit}\n      />\n    </>\n  );\n}\nfunction getLogicalNotBlockGroup(props) {\n  const {\n    context,\n    block,\n    currentBlock,\n    onClickBlock,\n    onClickConstantBlockEdit\n  } = props;\n  const blockElement = <Block {...props} />;\n  return (\n    <>\n      {blockElement}\n      <BlockGroup\n        context={context}\n        block={block.children[0]}\n        currentBlock={currentBlock}\n        onClickBlock={onClickBlock}\n        onClickConstantBlockEdit={onClickConstantBlockEdit}\n      />\n    </>\n  );\n}\n\nexport const Block = props => {\n  const {\n    context,\n    block,\n    currentBlock,\n    disabled,\n    onClickBlock,\n    onClickConstantBlockEdit\n  } = props;\n  const current = block === currentBlock;\n  const blockClassName = getClassNameFor(block);\n  const backgroundElement = getBackgroundElementOf(block);\n  const contentsElement = getContentElementOf(block, context);\n  const showEditElement = isEditable(block) && block === currentBlock;\n  return (\n    <div\n      id={`oobceditor_block-${block.id}`}\n      className={`oobceditor_block oobceditor_block-${block.state.toLowerCase()} oobceditor_block-${blockClassName}${\n        current ? \" oobceditor_block-current\" : \"\"\n      }${disabled ? \" oobceditor_block-disabled\" : \"\"}`}\n      onClick={e => {\n        if (e.preventDefault) e.preventDefault();\n        if (e.stopPropagation) e.stopPropagation();\n        onClickBlock(block);\n      }}\n      onContextMenu={e => {\n        if (e.preventDefault) e.preventDefault();\n        if (e.stopPropagation) e.stopPropagation();\n      }}\n      onTouchStart={e => {\n        e.target.classList.add(\"oobceditor_block-touched\");\n      }}\n      onTouchEnd={e => {\n        e.target.classList.remove(\"oobceditor_block-touched\");\n      }}\n    >\n      {backgroundElement}\n      {contentsElement}\n      {showEditElement && (\n        <EditElement\n          block={block}\n          onClickEdit={() => {\n            onClickConstantBlockEdit(block);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction getBackgroundElementOf(block) {\n  if (block.category === CATEGORY.CALLBACK) return null;\n\n  let backgroundSrcKey = getBackgroundSrcKeyOf(block);\n  if (isStretchableBlock(block)) {\n    return (\n      <div className=\"oobceditor_block_background\">\n        <img\n          className=\"oobceditor_block_background_img oobceditor_block_background_img-left\"\n          src={require(`../../Image/BlockBackground/block_${backgroundSrcKey}-left.png`)}\n          alt=\"background-left\"\n        />\n        <div\n          className=\"oobceditor_block_background_img oobceditor_block_background_img-center\"\n          style={{\n            backgroundImage: `url(${require(`../../Image/BlockBackground/block_${backgroundSrcKey}-center.png`)})`\n          }}\n        />\n        <img\n          className=\"oobceditor_block_background_img oobceditor_block_background_img-right\"\n          src={require(`../../Image/BlockBackground/block_${backgroundSrcKey}-right.png`)}\n          alt=\"background-right\"\n        />\n      </div>\n    );\n  } else {\n    const extension = backgroundSrcKey === \"empty\" ? \"svg\" : \"png\";\n    const backgroundImg = block.backgroundImg || require(`../../Image/BlockBackground/block_${backgroundSrcKey}.${extension}`);\n    return (\n      <div className=\"oobceditor_block_background\">\n        <img\n          className=\"oobceditor_block_background_img\"\n          src={backgroundImg}\n          alt=\"background\"\n        />\n      </div>\n    );\n  }\n}\nfunction getBackgroundSrcKeyOf(block) {\n  const category = block.category;\n  let backgroundSrcKey = category\n    ? category[0].toLowerCase() + category.slice(1)\n    : \"empty\";\n\n  if (category === CATEGORY.ACTION) {\n    const onActions = [\n      \"onOverlap\",\n      \"onOverlapOnce\",\n      \"onKey\",\n      \"onKeyUp\",\n      \"onTouch\",\n      \"onTouchUp\",\n      \"onOut\",\n      \"onFrame\",\n      \"onTouch\",\n      \"onTouchUp\",\n      \"onSignal\",\n      \"onSwipe\",\n      \"onShake\",\n      \"speak\"\n    ];\n    if (onActions.includes(block.data)) {\n      backgroundSrcKey = \"onAction\";\n    }\n  }\n\n  return backgroundSrcKey;\n}\nfunction isStretchableBlock(block) {\n  return [\n    CATEGORY.GAMEOBJECT,\n    CATEGORY.PROPERTY,\n    CATEGORY.CONSTANT,\n    CATEGORY.VARIABLE,\n    CATEGORY.UTIL,\n    CATEGORY.ACTION\n  ].includes(block.category);\n}\n\nfunction getContentElementOf(block, context) {\n  let contents;\n  switch (block.category) {\n    case CATEGORY.GAMEOBJECT:\n      contents = getContentOfGameObject(block, context);\n      break;\n    case CATEGORY.PROPERTY:\n      contents = getContentOfPropety(block);\n      break;\n    case CATEGORY.ACTION:\n      contents = getContentOfAction(block);\n      break;\n    case CATEGORY.CONSTANT:\n      contents = getContentOfConstant(block);\n      break;\n    default:\n      contents = getDefaultContentElementOf(block);\n      break;\n  }\n  return <div className=\"oobceditor_block_contents\">{contents}</div>;\n}\nfunction getDefaultContentElementOf(block) {\n  const displayData = block.data;\n  return <div className=\"oobceditor_block_contents_title\">{displayData}</div>;\n}\n\nfunction getContentOfGameObject(gameObject, context) {\n  const className = getClassNameFor(gameObject);\n\n  let content;\n  switch (gameObject.type) {\n    case BLOCK.TEXT:\n      content = getContentOfText(gameObject);\n      break;\n    case BLOCK.SOUND:\n      content = getContentOfSound(gameObject);\n      break;\n    default:\n      content = getContentOfDefaultGameObject(gameObject, context);\n      break;\n  }\n\n  return (\n    <div\n      className={`oobceditor_block_contents_sprite oobceditor_block_contents_sprite-${className}`}\n    >\n      {content}\n    </div>\n  );\n}\nfunction getContentOfDefaultGameObject(gameObject, context) {\n  const gameObjectName = gameObject.data;\n  let thumbnailSrc = gameObject.thumbnailSrc;\n  if (!thumbnailSrc) {\n    const gameObjectsInfo =\n      context && context.getGameObjectInfoWithName(gameObjectName);\n    thumbnailSrc = gameObjectsInfo && gameObjectsInfo.thumbnailSrc;\n  }\n  const copyId = getGameObjectCopyId(gameObject);\n  return (\n    <>\n      <img\n        className=\"oobceditor_block_contents_sprite_img\"\n        src={thumbnailSrc}\n        alt={gameObjectName}\n      />\n      {copyId && (\n        <div className=\"oobceditor_block_contents_sprite_copyId\">{copyId}</div>\n      )}\n    </>\n  );\n}\nfunction getContentOfText(text) {\n  return (\n    <>\n      <img\n        className=\"oobceditor_block_contents_sprite_img\"\n        src={require(\"../../Image/GameObject/block_sprite_text.png\")}\n        alt={text.data}\n      />\n      <div className=\"oobceditor_block_contents_sprite_title\">{text.data}</div>\n    </>\n  );\n}\nfunction getContentOfSound(sound) {\n  return (\n    <>\n      <img\n        className=\"oobceditor_block_contents_sprite_img\"\n        src={require(\"../../Image/GameObject/block_sprite_sound.png\")}\n        alt={sound.data}\n      />\n      <div className=\"oobceditor_block_contents_sprite_title\">{sound.data}</div>\n    </>\n  );\n}\n\nfunction getContentOfPropety(property) {\n  const formatMessageId =\n    \"ID_OOBC_BLOCK_PROPERTY_\" + property.data.toUpperCase();\n  const localizedProperty = Localization.formatWithId(formatMessageId);\n  return (\n    <div className=\"oobceditor_block_contents_title\">{localizedProperty}</div>\n  );\n}\n\nfunction getContentOfAction(action) {\n  const actionName = action.data;\n  const formatMessageId = \"ID_OOBC_BLOCK_ACTION_\" + actionName.toUpperCase();\n  const localizedAction = Localization.formatWithId(formatMessageId);\n  let actionImgSrc;\n  try {\n    actionImgSrc = require(`../../Image/Action/action_${actionName}.svg`);\n  } catch {}\n  return (\n    <>\n      {actionImgSrc && (\n        <img\n          className=\"oobceditor_block_contents_img\"\n          src={actionImgSrc}\n          alt={actionName}\n        />\n      )}\n      <div\n        className={`oobceditor_block_contents_title${\n          actionImgSrc ? \" oobceditor_block_contents_title-action\" : \"\"\n        }`}\n      >\n        {localizedAction}\n      </div>\n    </>\n  );\n}\n\nfunction getContentOfConstant(constant) {\n  let content;\n  switch (constant.type) {\n    case BLOCK.NUMBERBLOCK:\n      content = getContentOfNumber(constant);\n      break;\n    case BLOCK.STRINGBLOCK:\n      content = getContentOfString(constant);\n      break;\n    case BLOCK.SCENE:\n      content = getContentOfScene(constant);\n      break;\n    case BLOCK.ANIMATION:\n      content = getContentOfAnimation(constant);\n      break;\n    case BLOCK.DIRECTION:\n      content = getContentOfDirection(constant);\n      break;\n    case BLOCK.KEY:\n      content = getContentOfKey(constant);\n      break;\n    case BLOCK.POSITION:\n      content = getContentOfPosition(constant);\n      break;\n    case BLOCK.RANDOM:\n      content = getContentOfRandom(constant);\n      break;\n    case BLOCK.TOUCH:\n      content = getContentOfTouch(constant);\n      break;\n    case BLOCK.TIME:\n      content = getContentOfTime(constant);\n      break;\n    default:\n      content = getContentOfDefaultConstant(constant);\n      break;\n  }\n  return content;\n}\nfunction getContentOfDefaultConstant(constant) {\n  const displayConstant = constant.data;\n  return (\n    <div className=\"oobceditor_block_contents_title\">{displayConstant}</div>\n  );\n}\nfunction getContentOfString(string) {\n  let displayString = string.data;\n  if (displayString === null) {\n    displayString = Localization.formatWithId(\"ID_OOBC_BLOCK_STRING_DEFAULT\");\n  }\n  return <div className=\"oobceditor_block_contents_title\">{displayString}</div>;\n}\nfunction getContentOfNumber(number) {\n  let displayNumber = number.data;\n  if (displayNumber === null) {\n    displayNumber = Localization.formatWithId(\"ID_OOBC_BLOCK_NUMBER_DEFAULT\");\n  }\n  return <div className=\"oobceditor_block_contents_title\">{displayNumber}</div>;\n}\nfunction getContentOfScene(scene) {\n  let displayScene = Localization.locale === \"zh\" ? \"画面\" : \"scene\";\n  displayScene += scene.data.split(\"scene\")[1];\n  return <div className=\"oobceditor_block_contents_title\">{displayScene}</div>;\n}\nfunction getContentOfAnimation(animation) {\n  let animationName = animation.data;\n  if (Localization.locale === \"zh\") {\n    animationName = zhAnimationNames[animationName] || animationName;\n  }\n  return <div className=\"oobceditor_block_contents_title\">{animationName}</div>;\n}\nconst zhAnimationNames = {\n  attack: \"攻击\",\n  back_attack: \"背面_攻击\",\n  back_fly: \"背面_飞行\",\n  back_fly_idle: \"背面_飞行_空闲\",\n  back_idle: \"背面_空闲\",\n  back_move: \"背面_移动\",\n  back_run: \"背面_奔跑\",\n  back_walk: \"背面_走路\",\n  blue: \"蓝色\",\n  close: \"关闭\",\n  death: \"阵亡\",\n  error: \"错误\",\n  fail: \"失败\",\n  fail_b: \"失败_b\",\n  falling: \"掉落\",\n  fly: \"飞行\",\n  front_attack: \"正面_攻击\",\n  front_fly: \"正面_飞行\",\n  front_fly_idle: \"正面_飞行_空闲\",\n  front_idle: \"正面_空闲\",\n  fx: \"特效\",\n  happy: \"开心\",\n  heart: \"爱心\",\n  hit: \"撞击\",\n  idle: \"空闲\",\n  jump: \"跳跃\",\n  left_fly: \"向左飞行\",\n  left_hit: \"左_撞击\",\n  left_victory: \"左_胜利\",\n  move: \"移动\",\n  open: \"打开\",\n  purple: \"紫色\",\n  red: \"红色\",\n  right_fly: \"向右飞行\",\n  right_hit: \"右_撞击\",\n  right_victory: \"右_胜利\",\n  run: \"奔跑\",\n  run_sad: \"奔跑_伤心\",\n  save: \"救助\",\n  seat: \"坐下\",\n  shoot: \"发射\",\n  side_attack: \"侧面_攻击\",\n  side_fly: \"侧面_飞行\",\n  side_fly_idle: \"侧面_飞行_空闲\",\n  side_flyattack: \"侧向飞行\",\n  side_idle: \"侧面_空闲\",\n  side_jump: \"侧面_跳跃\",\n  side_move: \"侧面_移动\",\n  side_run: \"侧向奔跑\",\n  side_walk: \"侧面_走路\",\n  skill: \"技能\",\n  skill_a: \"技能_a\",\n  skill_b: \"技能_b\",\n  skill_c: \"技能_c\",\n  skyblue: \"天蓝色\",\n  stop_a: \"停止_a\",\n  stop_b: \"停止_b\",\n  tap: \"轻拍\",\n  up: \"上\",\n  victory: \"胜利\",\n  walk: \"走路\",\n  walk2: \"走路2\",\n  white: \"白色\"\n};\nfunction getContentOfDirection(direction) {\n  let directionName = direction.data;\n  let directionImgSrc;\n  try {\n    directionImgSrc = require(`../../Image/Direction/direction_${directionName}.svg`);\n  } catch (err) {}\n  if (Localization.locale === \"zh\") {\n    directionName = { up: \"上\", down: \"下\", left: \"左\", right: \"右\" }[\n      directionName\n    ];\n  }\n  return (\n    <>\n      <img\n        className=\"oobceditor_block_contents_img\"\n        src={directionImgSrc}\n        alt={directionName}\n      />\n      <div className=\"oobceditor_block_contents_title oobceditor_block_contents_title-direction\">\n        {directionName}\n      </div>\n    </>\n  );\n}\nfunction getContentOfKey(key) {\n  return <div className=\"oobceditor_block_contents_title\">{key.data || \"key\"}</div>;\n}\nfunction getContentOfPosition(position) {\n  const { x, y } = position.data;\n  const displayPosition = `X:${x} Y:${y}`;\n  return (\n    <div className=\"oobceditor_block_contents_title\">{displayPosition}</div>\n  );\n}\nfunction getContentOfRandom(random) {\n  let displayRandom = Localization.formatWithId(\n    \"ID_OOBC_BLOCK_CONSTANT_RANDOM\"\n  );\n  return <div className=\"oobceditor_block_contents_title\">{displayRandom}</div>;\n}\nfunction getContentOfTouch(touch) {\n  let displayTouch = Localization.formatWithId(\"ID_OOBC_BLOCK_CONSTANT_TOUCH\");\n  return <div className=\"oobceditor_block_contents_title\">{displayTouch}</div>;\n}\nfunction getContentOfTime(time) {\n  let displayTime = Localization.formatWithId(\"ID_OOBC_BLOCK_CONSTANT_TIME\");\n  return <div className=\"oobceditor_block_contents_title\">{displayTime}</div>;\n}\n\nfunction getClassNameFor(block) {\n  const loweredFirst = block.type[0].toLowerCase() + block.type.slice(1);\n  return loweredFirst;\n}\nfunction getGameObjectCopyId(gameObject) {\n  const gameObjectName = gameObject.data;\n  const matches = gameObjectName.match(/(?<=\\()\\d+(?=\\))/g);\n  if(matches) {\n    return parseInt(matches[0]);\n  } else {\n    return null;\n  }\n}\n\nfunction isEditable(block) {\n  return [BLOCK.NUMBERBLOCK, BLOCK.STRINGBLOCK, BLOCK.KEY, BLOCK.POSITION].includes(\n    block.type\n  );\n}\nfunction EditElement(props) {\n  const { block, onClickEdit } = props;\n  return (\n    <div\n      className=\"oobceditor_block_edit\"\n      onClick={e => {\n        if (e.preventDefault) e.preventDefault();\n        if (e.stopPropagation) e.stopPropagation();\n        onClickEdit(block);\n      }}\n    >\n      <img\n        className=\"oobceditor_block_edit_img\"\n        src={editDefault}\n        alt=\"edit\"\n        onTouchStart={e => {\n          e.target.src = editTouched;\n        }}\n        onTouchEnd={e => {\n          e.target.src = editDefault;\n        }}\n      />\n    </div>\n  );\n}\n\nexport const AddVarBlock = props => {\n  const block = new OOBC.Variable({\n    state: OOBC.TYPE.STATE.PROTOTYPE,\n    data: \"+\"\n  });\n  return <Block block={block} onClickBlock={props.onClickBlock} />;\n};\n"]},"metadata":{},"sourceType":"module"}