{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/Layout/Notification/View.js\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport UserIconWrapper from \"../../../../Common/Component/UserIconWrapper\";\nimport { FormattedMessage } from \"react-intl\";\nimport closeImg from \"../../../../Image/x-3.svg\";\nimport \"./index.scss\";\nexport default function View(props) {\n  var notifications = props.notifications,\n      handleOnClickMore = props.handleOnClickMore,\n      handleOnClickItem = props.handleOnClickItem,\n      isListEnded = props.isListEnded,\n      onClickNotification = props.onClickNotification;\n  return React.createElement(\"div\", {\n    className: \"NotiPopup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"NotiClose\",\n    src: closeImg,\n    alt: \"close\",\n    onClick: onClickNotification,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"NotiContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, notifications.map(function (noti, index) {\n    var icon = getIcon(noti);\n    var message = getMessage(noti);\n    var createdAt = moment(noti.createdAt).format(\"YYYY-MM-DD HH:mm\");\n    var clickable = isClickable(noti);\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"NotiItem \".concat(clickable && \"NotiItemCursor\"),\n      onClick: function onClick() {\n        return handleOnClickItem(noti);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, icon.type === \"user\" ? React.createElement(\"div\", {\n      className: \"NotiItemIcon NotiItemUsericon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(UserIconWrapper, {\n      iconSrc: icon.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"NotiItemIcon NotiItemProjecticon\",\n      style: {\n        backgroundImage: \"url('\".concat(icon.icon, \"')\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"NotiItemInfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"NotiItemMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, message), React.createElement(\"div\", {\n      className: \"NotiItemDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, createdAt)));\n  }), !isListEnded && notifications.length > 0 && React.createElement(\"div\", {\n    className: \"NotiItemMore\",\n    onClick: handleOnClickMore,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"ID_NOTI_MORE\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), notifications.length === 0 && React.createElement(\"div\", {\n    className: \"NotiEmpty\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"ID_NOTI_EMPTY\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))));\n}\n\nfunction getMessage(noti) {\n  var type = noti.type,\n      message = noti.message,\n      targetUser = noti.targetUser,\n      targetProject = noti.targetProject;\n\n  switch (type) {\n    case \"notice\":\n      return message;\n\n    case \"publishedComment\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \").concat(targetProject ? targetProject.name : \"\", \"\\uC571\\uC5D0 \\uB313\\uAE00\\uC744 \\uB0A8\\uACBC\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"publishedReply\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \").concat(targetProject ? targetProject.name : \"\", \"\\uC571\\uC5D0 \\uB300\\uB313\\uAE00\\uC744 \\uB0A8\\uACBC\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"articleComment\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \").concat(noti.targetCommunityArticle ? noti.targetCommunityArticle.title : \"\", \"\\uAC8C\\uC2DC\\uAE00\\uC5D0 \\uB313\\uAE00\\uC744 \\uB0A8\\uACBC\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"articleReply\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \").concat(noti.targetCommunityArticle ? noti.targetCommunityArticle.title : \"\", \"\\uAC8C\\uC2DC\\uAE00\\uC5D0 \\uB300\\uB313\\uAE00\\uC744 \\uB0A8\\uACBC\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"like\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \").concat(targetProject ? targetProject.name : \"\", \"\\uC571\\uC5D0 \\uC88B\\uC544\\uC694\\uB97C \\uB0A8\\uACBC\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"playCount\":\n      return \"\".concat(targetProject ? targetProject.name : \"\", \"\\uC571\\uC758 \\uD50C\\uB808\\uC774 \\uC218\\uAC00 \").concat(message, \"\\uC744 \\uB3CC\\uD30C\\uD588\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"subscribe\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \\uAD6C\\uB3C5\\uC744 \\uC2DC\\uC791\\uD588\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"newApp\":\n      return \"\".concat(targetUser ? targetUser.name : \"\", \"\\uB2D8\\uC774 \\uC0C8 \\uC571 \").concat(targetProject ? targetProject.name : \"\", \"\\uC744 \\uB4F1\\uB85D\\uD588\\uC2B5\\uB2C8\\uB2E4.\");\n\n    case \"custom\":\n      return message;\n\n    default:\n      return \"현재 버전에서 지원하지 않습니다. 앱을 업데이트 해주세요.\";\n  }\n}\n\nfunction getIcon(noti) {\n  var type = noti.type,\n      targetUser = noti.targetUser,\n      targetProject = noti.targetProject;\n\n  try {\n    switch (type) {\n      case \"publishedComment\":\n      case \"publishedReply\":\n      case \"articleComment\":\n      case \"articleReply\":\n      case \"like\":\n      case \"subscribe\":\n        return {\n          icon: targetUser.icon,\n          type: \"user\"\n        };\n\n      case \"newApp\":\n      case \"playCount\":\n        return {\n          icon: targetProject.icon,\n          type: \"project\"\n        };\n\n      default:\n        return {\n          icon: \"https://wizschool-images.s3.ap-northeast-2.amazonaws.com/wizschool_noti_logo.png\",\n          type: \"default\"\n        };\n    }\n  } catch (e) {\n    return {\n      icon: \"https://wizschool-images.s3.ap-northeast-2.amazonaws.com/wizschool_noti_logo.png\",\n      type: \"default\"\n    };\n  }\n}\n\nfunction isClickable(noti) {\n  // const { type } = noti;\n  // switch (type) {\n  //   case \"publishedComment\":\n  //   case \"publishedReply\":\n  //   case \"articleComment\":\n  //   case \"articleReply\":\n  //   case \"like\":\n  //   case \"subscribe\":\n  //   case \"newApp\":\n  //   case \"playCount\":\n  //   ca\n  //     return true;\n  //   default:\n  //     return false;\n  // }\n  return true;\n}","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Component/Layout/Notification/View.js"],"names":["React","moment","UserIconWrapper","FormattedMessage","View","props","notifications","handleOnClickMore","handleOnClickItem","isListEnded","onClickNotification","closeImg","map","noti","index","icon","getIcon","message","getMessage","createdAt","format","clickable","isClickable","type","backgroundImage","length","targetUser","targetProject","name","targetCommunityArticle","title","e"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,eAAP,MAA4B,8CAA5B;AACA,SAASC,gBAAT,QAAiC,YAAjC;;AAEA,OAAO,cAAP;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA,MAEhCC,aAFgC,GAO9BD,KAP8B,CAEhCC,aAFgC;AAAA,MAGhCC,iBAHgC,GAO9BF,KAP8B,CAGhCE,iBAHgC;AAAA,MAIhCC,iBAJgC,GAO9BH,KAP8B,CAIhCG,iBAJgC;AAAA,MAKhCC,WALgC,GAO9BJ,KAP8B,CAKhCI,WALgC;AAAA,MAMhCC,mBANgC,GAO9BL,KAP8B,CAMhCK,mBANgC;AASlC,SACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,WADZ;AAEE,IAAA,GAAG,EAAEC,QAFP;AAGE,IAAA,GAAG,EAAC,OAHN;AAIE,IAAA,OAAO,EAAED,mBAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,aAAa,CAACM,GAAd,CAAkB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAClC,QAAMC,IAAI,GAAGC,OAAO,CAACH,IAAD,CAApB;AACA,QAAMI,OAAO,GAAGC,UAAU,CAACL,IAAD,CAA1B;AACA,QAAMM,SAAS,GAAGlB,MAAM,CAACY,IAAI,CAACM,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,kBAA9B,CAAlB;AACA,QAAMC,SAAS,GAAGC,WAAW,CAACT,IAAD,CAA7B;AACA,WACE;AACE,MAAA,GAAG,EAAEC,KADP;AAEE,MAAA,SAAS,qBAAcO,SAAS,IAAI,gBAA3B,CAFX;AAGE,MAAA,OAAO,EAAE;AAAA,eAAMb,iBAAiB,CAACK,IAAD,CAAvB;AAAA,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGE,IAAI,CAACQ,IAAL,KAAc,MAAd,GACC;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,OAAO,EAAER,IAAI,CAACA,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADD,GAKC;AACE,MAAA,SAAS,EAAC,kCADZ;AAEE,MAAA,KAAK,EAAE;AAAES,QAAAA,eAAe,iBAAUT,IAAI,CAACA,IAAf;AAAjB,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,EAgBE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BE,OAA9B,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BE,SAA/B,CAFF,CAhBF,CADF;AAuBD,GA5BA,CADH,EA8BG,CAACV,WAAD,IAAgBH,aAAa,CAACmB,MAAd,GAAuB,CAAvC,IACC;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,OAAO,EAAElB,iBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA/BJ,EAmCGD,aAAa,CAACmB,MAAd,KAAyB,CAAzB,IACC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,eAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CApCJ,CAPF,CADF;AAmDD;;AAED,SAASP,UAAT,CAAoBL,IAApB,EAA0B;AAAA,MAChBU,IADgB,GAC6BV,IAD7B,CAChBU,IADgB;AAAA,MACVN,OADU,GAC6BJ,IAD7B,CACVI,OADU;AAAA,MACDS,UADC,GAC6Bb,IAD7B,CACDa,UADC;AAAA,MACWC,aADX,GAC6Bd,IAD7B,CACWc,aADX;;AAExB,UAAQJ,IAAR;AACE,SAAK,QAAL;AACE,aAAON,OAAP;;AACF,SAAK,kBAAL;AACE,uBAAUS,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC,0BACED,aAAa,GAAGA,aAAa,CAACC,IAAjB,GAAwB,EADvC;;AAGF,SAAK,gBAAL;AACE,uBAAUF,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC,0BACED,aAAa,GAAGA,aAAa,CAACC,IAAjB,GAAwB,EADvC;;AAGF,SAAK,gBAAL;AACE,uBAAUF,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC,0BACEf,IAAI,CAACgB,sBAAL,GAA8BhB,IAAI,CAACgB,sBAAL,CAA4BC,KAA1D,GAAkE,EADpE;;AAGF,SAAK,cAAL;AACE,uBAAUJ,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC,0BACEf,IAAI,CAACgB,sBAAL,GAA8BhB,IAAI,CAACgB,sBAAL,CAA4BC,KAA1D,GAAkE,EADpE;;AAGF,SAAK,MAAL;AACE,uBAAUJ,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC,0BACED,aAAa,GAAGA,aAAa,CAACC,IAAjB,GAAwB,EADvC;;AAGF,SAAK,WAAL;AACE,uBACED,aAAa,GAAGA,aAAa,CAACC,IAAjB,GAAwB,EADvC,0DAEaX,OAFb;;AAGF,SAAK,WAAL;AACE,uBAAUS,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC;;AACF,SAAK,QAAL;AACE,uBAAUF,UAAU,GAAGA,UAAU,CAACE,IAAd,GAAqB,EAAzC,wCACED,aAAa,GAAGA,aAAa,CAACC,IAAjB,GAAwB,EADvC;;AAGF,SAAK,QAAL;AACE,aAAOX,OAAP;;AACF;AACE,aAAO,kCAAP;AApCJ;AAsCD;;AAED,SAASD,OAAT,CAAiBH,IAAjB,EAAuB;AAAA,MACbU,IADa,GACuBV,IADvB,CACbU,IADa;AAAA,MACPG,UADO,GACuBb,IADvB,CACPa,UADO;AAAA,MACKC,aADL,GACuBd,IADvB,CACKc,aADL;;AAErB,MAAI;AACF,YAAQJ,IAAR;AACE,WAAK,kBAAL;AACA,WAAK,gBAAL;AACA,WAAK,gBAAL;AACA,WAAK,cAAL;AACA,WAAK,MAAL;AACA,WAAK,WAAL;AACE,eAAO;AAAER,UAAAA,IAAI,EAAEW,UAAU,CAACX,IAAnB;AAAyBQ,UAAAA,IAAI,EAAE;AAA/B,SAAP;;AACF,WAAK,QAAL;AACA,WAAK,WAAL;AACE,eAAO;AAAER,UAAAA,IAAI,EAAEY,aAAa,CAACZ,IAAtB;AAA4BQ,UAAAA,IAAI,EAAE;AAAlC,SAAP;;AACF;AACE,eAAO;AACLR,UAAAA,IAAI,EACF,kFAFG;AAGLQ,UAAAA,IAAI,EAAE;AAHD,SAAP;AAZJ;AAkBD,GAnBD,CAmBE,OAAOQ,CAAP,EAAU;AACV,WAAO;AACLhB,MAAAA,IAAI,EACF,kFAFG;AAGLQ,MAAAA,IAAI,EAAE;AAHD,KAAP;AAKD;AACF;;AAED,SAASD,WAAT,CAAqBT,IAArB,EAA2B;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAO,IAAP;AACD","sourcesContent":["import React from \"react\";\nimport moment from \"moment\";\nimport UserIconWrapper from \"../../../../Common/Component/UserIconWrapper\";\nimport { FormattedMessage } from \"react-intl\";\nimport closeImg from \"../../../../Image/x-3.svg\";\nimport \"./index.scss\";\n\nexport default function View(props) {\n  const {\n    notifications,\n    handleOnClickMore,\n    handleOnClickItem,\n    isListEnded,\n    onClickNotification\n  } = props;\n\n  return (\n    <div className=\"NotiPopup\">\n      <img\n        className=\"NotiClose\"\n        src={closeImg}\n        alt=\"close\"\n        onClick={onClickNotification}\n      />\n      <div className=\"NotiContent\">\n        {notifications.map((noti, index) => {\n          const icon = getIcon(noti);\n          const message = getMessage(noti);\n          const createdAt = moment(noti.createdAt).format(\"YYYY-MM-DD HH:mm\");\n          const clickable = isClickable(noti);\n          return (\n            <div\n              key={index}\n              className={`NotiItem ${clickable && \"NotiItemCursor\"}`}\n              onClick={() => handleOnClickItem(noti)}\n            >\n              {icon.type === \"user\" ? (\n                <div className=\"NotiItemIcon NotiItemUsericon\">\n                  <UserIconWrapper iconSrc={icon.icon} />\n                </div>\n              ) : (\n                <div\n                  className=\"NotiItemIcon NotiItemProjecticon\"\n                  style={{ backgroundImage: `url('${icon.icon}')` }}\n                />\n              )}\n\n              <div className=\"NotiItemInfo\">\n                <div className=\"NotiItemMsg\">{message}</div>\n                <div className=\"NotiItemDate\">{createdAt}</div>\n              </div>\n            </div>\n          );\n        })}\n        {!isListEnded && notifications.length > 0 && (\n          <div className=\"NotiItemMore\" onClick={handleOnClickMore}>\n            <FormattedMessage id=\"ID_NOTI_MORE\" />\n          </div>\n        )}\n        {notifications.length === 0 && (\n          <div className=\"NotiEmpty\">\n            <FormattedMessage id=\"ID_NOTI_EMPTY\" />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction getMessage(noti) {\n  const { type, message, targetUser, targetProject } = noti;\n  switch (type) {\n    case \"notice\":\n      return message;\n    case \"publishedComment\":\n      return `${targetUser ? targetUser.name : \"\"}님이 ${\n        targetProject ? targetProject.name : \"\"\n      }앱에 댓글을 남겼습니다.`;\n    case \"publishedReply\":\n      return `${targetUser ? targetUser.name : \"\"}님이 ${\n        targetProject ? targetProject.name : \"\"\n      }앱에 대댓글을 남겼습니다.`;\n    case \"articleComment\":\n      return `${targetUser ? targetUser.name : \"\"}님이 ${\n        noti.targetCommunityArticle ? noti.targetCommunityArticle.title : \"\"\n      }게시글에 댓글을 남겼습니다.`;\n    case \"articleReply\":\n      return `${targetUser ? targetUser.name : \"\"}님이 ${\n        noti.targetCommunityArticle ? noti.targetCommunityArticle.title : \"\"\n      }게시글에 대댓글을 남겼습니다.`;\n    case \"like\":\n      return `${targetUser ? targetUser.name : \"\"}님이 ${\n        targetProject ? targetProject.name : \"\"\n      }앱에 좋아요를 남겼습니다.`;\n    case \"playCount\":\n      return `${\n        targetProject ? targetProject.name : \"\"\n      }앱의 플레이 수가 ${message}을 돌파했습니다.`;\n    case \"subscribe\":\n      return `${targetUser ? targetUser.name : \"\"}님이 구독을 시작했습니다.`;\n    case \"newApp\":\n      return `${targetUser ? targetUser.name : \"\"}님이 새 앱 ${\n        targetProject ? targetProject.name : \"\"\n      }을 등록했습니다.`;\n    case \"custom\":\n      return message;\n    default:\n      return \"현재 버전에서 지원하지 않습니다. 앱을 업데이트 해주세요.\";\n  }\n}\n\nfunction getIcon(noti) {\n  const { type, targetUser, targetProject } = noti;\n  try {\n    switch (type) {\n      case \"publishedComment\":\n      case \"publishedReply\":\n      case \"articleComment\":\n      case \"articleReply\":\n      case \"like\":\n      case \"subscribe\":\n        return { icon: targetUser.icon, type: \"user\" };\n      case \"newApp\":\n      case \"playCount\":\n        return { icon: targetProject.icon, type: \"project\" };\n      default:\n        return {\n          icon:\n            \"https://wizschool-images.s3.ap-northeast-2.amazonaws.com/wizschool_noti_logo.png\",\n          type: \"default\"\n        };\n    }\n  } catch (e) {\n    return {\n      icon:\n        \"https://wizschool-images.s3.ap-northeast-2.amazonaws.com/wizschool_noti_logo.png\",\n      type: \"default\"\n    };\n  }\n}\n\nfunction isClickable(noti) {\n  // const { type } = noti;\n  // switch (type) {\n  //   case \"publishedComment\":\n  //   case \"publishedReply\":\n  //   case \"articleComment\":\n  //   case \"articleReply\":\n  //   case \"like\":\n  //   case \"subscribe\":\n  //   case \"newApp\":\n  //   case \"playCount\":\n  //   ca\n  //     return true;\n  //   default:\n  //     return false;\n  // }\n  return true;\n}\n"]},"metadata":{},"sourceType":"module"}