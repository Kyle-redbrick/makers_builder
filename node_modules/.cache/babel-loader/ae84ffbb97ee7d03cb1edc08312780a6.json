{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/jimmy/Documents/Wizschool/astroboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/astroboy/src/Page/MyAPK/Components/APKsharePopup/index.js\";\nimport React, { useState } from \"react\";\nimport \"./index.scss\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport QRCode from \"qrcode.react\";\nimport QRBackImg from \"../../../../Image/builder/group-43.svg\";\nimport kakaoImg from \"../../../../Image/kakao-talk.svg\";\nimport linkImg from \"../../../../Image/link.svg\";\nimport PhoneDropDown from \"../../../../Common/Component/QRPopup/PhoneDropDown\";\nimport PopUp, { showPopUp } from \"../../../../Common/Component/PopUp\";\n\nvar APKSharePopup = function APKSharePopup(props) {\n  var apk = props.apk,\n      userName = props.userName;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      phoneNum = _useState2[0],\n      setPhoneNum = _useState2[1];\n\n  var _useState3 = useState(\"+82\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      countryCode = _useState4[0],\n      setCountryCode = _useState4[1];\n\n  var handleCountryChange = function handleCountryChange(countryCode) {\n    setCountryCode(countryCode);\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    setPhoneNum(e.target.value);\n  };\n\n  var getIsPhoneNumValid = function getIsPhoneNumValid() {\n    return phoneNum && phoneNum.length >= 11;\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, appName, params, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (getIsPhoneNumValid()) {\n                _context.next = 3;\n                break;\n              }\n\n              showPopUp(React.createElement(PopUp.OneButton, {\n                title: \"핸드폰 번호를 확인해주세요.\",\n                buttonName: \"닫기\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 31\n                },\n                __self: this\n              }));\n              return _context.abrupt(\"return\");\n\n            case 3:\n              url = apk.apkVersion.apkUrl;\n              appName = apk.apkVersion.appName;\n              params = {\n                countryCode: countryCode,\n                localNumber: phoneNum,\n                url: url,\n                appName: appName,\n                name: userName\n              };\n              _context.next = 8;\n              return request.smsApkDownloadLink(params);\n\n            case 8:\n              res = _context.sent;\n              _context.next = 11;\n              return res.json();\n\n            case 11:\n              res = _context.sent;\n\n              if (res.success) {\n                showPopUp(React.createElement(PopUp.OneButton, {\n                  title: \"sms가 전송되었습니다.\",\n                  buttonName: \"확인\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 54\n                  },\n                  __self: this\n                }));\n              } else {\n                showPopUp(React.createElement(PopUp.OneButton, {\n                  title: \"sms 전송에 실패했습니다.\",\n                  buttonName: \"확인\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 58\n                  },\n                  __self: this\n                }));\n              }\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var shareKakao = function shareKakao() {\n    var url = apk.apkVersion.apkUrl;\n    var appName = apk.apkVersion.appName;\n    var appIcon = apk.apkVersion.appIcon;\n    var params = {\n      appLink: apk.apkVersion.apkUrl ? url.split(\"/\")[3] : \"\",\n      projectLink: \"game?pId=\".concat(apk.pId),\n      img: appIcon,\n      name: userName,\n      appName: appName\n    };\n    window.Kakao.Link.sendCustom({\n      templateId: 42344,\n      templateArgs: params,\n      fail: function fail(error) {\n        console.error(\"error :\", error);\n      }\n    });\n  };\n\n  var copyLink = function copyLink() {\n    var url = apk.apkVersion.apkUrl;\n    var textarea = document.createElement(\"textarea\");\n    textarea.value = url;\n    document.body.appendChild(textarea);\n    textarea.select();\n    textarea.setSelectionRange(0, 9999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(textarea);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"apkSharePopup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"apkSharePopup__inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"apkSharePopup__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"\\\"\".concat(apk.apkVersion.appName, \"\\\" \\uACF5\\uC720\\uD558\\uAE30\")), React.createElement(\"div\", {\n    className: \"apkSharePopup__top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"top__qrcode\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"qrcode__code\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: QRBackImg,\n    className: \"code__backImg\",\n    alt: \"qr back\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(QRCode, {\n    className: \"code__img\",\n    value: apk.apkVersion.apkUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"qrcode__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"\\uD734\\uB300\\uD3F0\\uC73C\\uB85C QR\\uCF54\\uB4DC\\uB97C \\uCC0D\\uC73C\\uBA74, \\n      \\uBC14\\uB85C \\uB2E4\\uC6B4\\uB85C\\uB4DC \\uB429\\uB2C8\\uB2E4.\"))), React.createElement(\"div\", {\n    className: \"apkSharePopup__middle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"middle__line\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"\\uB610\\uB294\"), \" \", React.createElement(\"div\", {\n    className: \"middle__line\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"apkSharePopup__bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bottom__phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(PhoneDropDown, {\n    phoneNum: phoneNum,\n    countryCode: countryCode,\n    handleSelectItem: handleCountryChange,\n    handleInputChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"PhoneDD__submitBtn\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"bottom__button bottom__kakao\",\n    onClick: shareKakao,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: kakaoImg,\n    alt: \"kakao\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), \"\\uCE74\\uCE74\\uC624\\uD1A1\\uC73C\\uB85C \\uACF5\\uC720\\uD558\\uAE30\"), React.createElement(\"div\", {\n    className: \"bottom__button bottom__link\",\n    onClick: copyLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: linkImg,\n    className: \"link__img\",\n    alt: \"copy\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), \"\\uB2E4\\uC6B4\\uB85C\\uB4DC \\uB9C1\\uD06C \\uBCF5\\uC0AC\\uD558\\uAE30\"), React.createElement(\"div\", {\n    className: \"bottom__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"\\uFF65\\uACF5\\uC720\\uC2DC, APK \\uB2E4\\uC6B4\\uB85C\\uB4DC \\uB9C1\\uD06C\\uAC00 \\uACF5\\uC720\\uB429\\uB2C8\\uB2E4.\\n\\uFF65\\uC571 \\uC124\\uCE58\\uB97C \\uC704\\uD574\\uC11C \\uB514\\uBC14\\uC774\\uC2A4\\uC5D0\\uC11C\\n\\u201C\\uCD9C\\uCC98\\uB97C \\uC54C \\uC218 \\uC5C6\\uB294 \\uC571 \\uC124\\uCE58\\u201D \\uD65C\\uC131\\uD654\\uAC00 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"))));\n};\n\nexport default APKSharePopup;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/astroboy/src/Page/MyAPK/Components/APKsharePopup/index.js"],"names":["React","useState","request","QRCode","PhoneDropDown","PopUp","showPopUp","APKSharePopup","props","apk","userName","phoneNum","setPhoneNum","countryCode","setCountryCode","handleCountryChange","handleInputChange","e","target","value","getIsPhoneNumValid","length","handleSubmit","url","apkVersion","apkUrl","appName","params","localNumber","name","smsApkDownloadLink","res","json","success","shareKakao","appIcon","appLink","split","projectLink","pId","img","window","Kakao","Link","sendCustom","templateId","templateArgs","fail","error","console","copyLink","textarea","document","createElement","body","appendChild","select","setSelectionRange","execCommand","removeChild","QRBackImg","kakaoImg","linkImg"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./index.scss\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport QRCode from \"qrcode.react\";\nimport QRBackImg from \"../../../../Image/builder/group-43.svg\";\nimport kakaoImg from \"../../../../Image/kakao-talk.svg\";\nimport linkImg from \"../../../../Image/link.svg\";\nimport PhoneDropDown from \"../../../../Common/Component/QRPopup/PhoneDropDown\";\nimport PopUp, { showPopUp } from \"../../../../Common/Component/PopUp\";\n\nconst APKSharePopup = props => {\n  const { apk, userName } = props;\n\n  const [phoneNum, setPhoneNum] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"+82\");\n  const handleCountryChange = countryCode => {\n    setCountryCode(countryCode);\n  };\n\n  const handleInputChange = e => {\n    setPhoneNum(e.target.value);\n  };\n\n  const getIsPhoneNumValid = () => {\n    return phoneNum && phoneNum.length >= 11;\n  };\n\n  const handleSubmit = async () => {\n    if (!getIsPhoneNumValid()) {\n      showPopUp(\n        <PopUp.OneButton\n          title={\"핸드폰 번호를 확인해주세요.\"}\n          buttonName={\"닫기\"}\n        />\n      );\n      return;\n    }\n\n    let url = apk.apkVersion.apkUrl;\n    let appName = apk.apkVersion.appName;\n\n    const params = {\n      countryCode,\n      localNumber: phoneNum,\n      url,\n      appName,\n      name: userName\n    };\n\n    let res = await request.smsApkDownloadLink(params);\n    res = await res.json();\n    if (res.success) {\n      showPopUp(\n        <PopUp.OneButton title={\"sms가 전송되었습니다.\"} buttonName={\"확인\"} />\n      );\n    } else {\n      showPopUp(\n        <PopUp.OneButton\n          title={\"sms 전송에 실패했습니다.\"}\n          buttonName={\"확인\"}\n        />\n      );\n    }\n  };\n\n  const shareKakao = () => {\n    let url = apk.apkVersion.apkUrl;\n    let appName = apk.apkVersion.appName;\n    let appIcon = apk.apkVersion.appIcon;\n\n    let params = {\n      appLink: apk.apkVersion.apkUrl ? url.split(\"/\")[3] : \"\",\n      projectLink: `game?pId=${apk.pId}`,\n      img: appIcon,\n      name: userName,\n      appName\n    };\n\n    window.Kakao.Link.sendCustom({\n      templateId: 42344,\n      templateArgs: params,\n      fail: function(error) {\n        console.error(\"error :\", error);\n      }\n    });\n  };\n  const copyLink = () => {\n    let url = apk.apkVersion.apkUrl;\n    var textarea = document.createElement(\"textarea\");\n    textarea.value = url;\n    document.body.appendChild(textarea);\n    textarea.select();\n    textarea.setSelectionRange(0, 9999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(textarea);\n  };\n  return (\n    <div className=\"apkSharePopup\">\n      <div className=\"apkSharePopup__inner\">\n        <div className=\"apkSharePopup__title\">{`\"${apk.apkVersion.appName}\" 공유하기`}</div>\n        <div className=\"apkSharePopup__top\">\n          <div className=\"top__qrcode\">\n            <div className=\"qrcode__code\">\n              <img src={QRBackImg} className=\"code__backImg\" alt=\"qr back\" />\n              <QRCode className=\"code__img\" value={apk.apkVersion.apkUrl} />\n            </div>\n            <div className=\"qrcode__text\">\n              {`휴대폰으로 QR코드를 찍으면, \n      바로 다운로드 됩니다.`}\n            </div>\n          </div>\n        </div>\n        <div className=\"apkSharePopup__middle\">\n          <div className=\"middle__line\" />\n          <div>또는</div> <div className=\"middle__line\" />\n        </div>\n\n        <div className=\"apkSharePopup__bottom\">\n          <div className=\"bottom__phone\">\n            <PhoneDropDown\n              phoneNum={phoneNum}\n              countryCode={countryCode}\n              handleSelectItem={handleCountryChange}\n              handleInputChange={handleInputChange}\n            />\n            <div className=\"PhoneDD__submitBtn\" onClick={handleSubmit} />\n          </div>\n          <div className=\"bottom__button bottom__kakao\" onClick={shareKakao}>\n            <img src={kakaoImg} alt=\"kakao\" />\n            카카오톡으로 공유하기\n          </div>\n          <div className=\"bottom__button bottom__link\" onClick={copyLink}>\n            <img src={linkImg} className=\"link__img\" alt=\"copy\" />\n            다운로드 링크 복사하기\n          </div>\n          <div className=\"bottom__text\">\n            {`･공유시, APK 다운로드 링크가 공유됩니다.\n･앱 설치를 위해서 디바이스에서\n“출처를 알 수 없는 앱 설치” 활성화가 필요합니다.`}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default APKSharePopup;\n"]},"metadata":{},"sourceType":"module"}