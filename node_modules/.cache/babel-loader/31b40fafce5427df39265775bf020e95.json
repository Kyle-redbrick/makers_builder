{"ast":null,"code":"import _defineProperty from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/MyAccount/Popup/Phone/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport \"./index.scss\";\nimport { injectIntl } from \"react-intl\";\nimport Field from \"../../../../Common/Component/Field\";\nimport Validate from \"../../../../Common/Util/Validate\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\n\nvar AccountPhonePopup = /*#__PURE__*/function (_Component) {\n  _inherits(AccountPhonePopup, _Component);\n\n  var _super = _createSuper(AccountPhonePopup);\n\n  function AccountPhonePopup(props) {\n    var _this;\n\n    _classCallCheck(this, AccountPhonePopup);\n\n    _this = _super.call(this, props);\n\n    _this.onChangeField = function (id, value) {\n      _this.setState(_defineProperty({}, id, value));\n    };\n\n    _this.onClickRequestCode = function () {\n      var params = {\n        localNumber: _this.state.phone,\n        countryCode: \"+82\"\n      };\n\n      _this.setState({\n        code: \"\",\n        didRequestCode: undefined,\n        isVerified: undefined\n      }, function () {\n        request.smsIssue(params).then(function (res) {\n          if (res.status === 409) {\n            _this.setState({\n              didRequestCode: false\n            });\n          } else {\n            _this.setState({\n              didRequestCode: true\n            });\n          }\n        });\n      });\n    };\n\n    _this.onClickVerify = function () {\n      var params = {\n        localNumber: _this.state.phone,\n        countryCode: \"+82\",\n        certcode: _this.state.code\n      };\n      request.smsCheck(params).then(function (res) {\n        if (res.status === 200) {\n          _this.setState({\n            isVerified: true\n          });\n        } else {\n          _this.setState({\n            isVerified: false\n          });\n        }\n      });\n    };\n\n    _this.onClickSubmit = function () {\n      var phone = _this.state.phone;\n      var params = {\n        phone: phone\n      };\n      request.updateUserInfo(params).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        if (json.success) {\n          if (_this.props.onCompleted) _this.props.onCompleted(phone);\n\n          _this.props.dismiss();\n        }\n      });\n    };\n\n    _this.state = {\n      phone: \"\",\n      code: \"\",\n      didRequestCode: undefined,\n      isVerified: undefined\n    };\n    return _this;\n  }\n\n  _createClass(AccountPhonePopup, [{\n    key: \"render\",\n    value: function render() {\n      var intl = this.props.intl;\n      var _this$state = this.state,\n          phone = _this$state.phone,\n          code = _this$state.code,\n          didRequestCode = _this$state.didRequestCode,\n          isVerified = _this$state.isVerified;\n      var onChangeField = this.onChangeField,\n          onClickRequestCode = this.onClickRequestCode,\n          onClickVerify = this.onClickVerify;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"account__manage__phone-popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"account__manage__phone-popup__title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, intl.formatMessage({\n        id: \"ID_MY_ACCOUNT_PHONE_POPUP_TITLE\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"account__manage__phone-popup__msg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, intl.formatMessage({\n        id: \"ID_MY_ACCOUNT_PHONE_POPUP_MSG\"\n      })), /*#__PURE__*/React.createElement(PhoneField, {\n        intl: intl,\n        phone: phone,\n        didRequestCode: didRequestCode,\n        onChangeField: onChangeField,\n        onClickRequestCode: onClickRequestCode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }), didRequestCode && /*#__PURE__*/React.createElement(VerifyField, {\n        intl: intl,\n        code: code,\n        isVerified: isVerified,\n        onChangeField: onChangeField,\n        onClickVerify: onClickVerify,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"account__manage__phone-popup__confirm-btn\",\n        disabled: !isVerified,\n        onClick: this.onClickSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, intl.formatMessage({\n        id: \"ID_WIZLIVE_CLASS_MESSAGE_SUCCESS_OK\"\n      })));\n    }\n  }]);\n\n  return AccountPhonePopup;\n}(Component);\n\nfunction PhoneField(props) {\n  var intl = props.intl,\n      phone = props.phone,\n      didRequestCode = props.didRequestCode,\n      onChangeField = props.onChangeField,\n      onClickRequestCode = props.onClickRequestCode;\n  var validatePhone = Validate.phone(phone);\n  var warningMsg = phone && validatePhone.id && intl.formatMessage({\n    id: \"\".concat(validatePhone.id)\n  });\n  if (didRequestCode === false) warningMsg = intl.formatMessage({\n    id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_ALREADY\"\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"account__manage__phone-popup__field__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Field.Text, {\n    id: \"phone\",\n    value: phone,\n    warning: warningMsg,\n    placeholder: intl.formatMessage({\n      id: \"ID_VALIDATE_FAIL_PHONE_NULL\"\n    }),\n    onChange: onChangeField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onClickRequestCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, intl.formatMessage({\n    id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH\"\n  })));\n}\n\nfunction VerifyField(props) {\n  var intl = props.intl,\n      code = props.code,\n      isVerified = props.isVerified,\n      onChangeField = props.onChangeField,\n      onClickVerify = props.onClickVerify;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"account__manage__phone-popup__field__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Field.Text, {\n    id: \"code\",\n    value: code,\n    warning: isVerified === false && intl.formatMessage({\n      id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_FAIL\"\n    }),\n    okSign: isVerified === true && intl.formatMessage({\n      id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_SUCCESS\"\n    }),\n    placeholder: intl.formatMessage({\n      id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_PLACEHOLDER\"\n    }),\n    onChange: onChangeField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onClickVerify,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, intl.formatMessage({\n    id: \"ID_WIZLIVE_CLASS_MESSAGE_SUCCESS_OK\"\n  })));\n}\n\nexport default injectIntl(AccountPhonePopup);","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/MyAccount/Popup/Phone/index.js"],"names":["React","Component","injectIntl","Field","Validate","request","AccountPhonePopup","props","onChangeField","id","value","setState","onClickRequestCode","params","localNumber","state","phone","countryCode","code","didRequestCode","undefined","isVerified","smsIssue","then","res","status","onClickVerify","certcode","smsCheck","onClickSubmit","updateUserInfo","response","json","success","onCompleted","dismiss","intl","formatMessage","PhoneField","validatePhone","warningMsg","VerifyField"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./index.scss\";\nimport { injectIntl } from \"react-intl\";\nimport Field from \"../../../../Common/Component/Field\";\nimport Validate from \"../../../../Common/Util/Validate\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\n\nclass AccountPhonePopup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      phone: \"\",\n      code: \"\",\n      didRequestCode: undefined,\n      isVerified: undefined\n    }\n  }\n\n  onChangeField = (id, value) => {\n    this.setState({ [id]: value })\n  }\n\n  onClickRequestCode = () => {\n    const params = {\n      localNumber: this.state.phone,\n      countryCode: \"+82\"\n    };\n\n    this.setState({\n      code: \"\",\n      didRequestCode: undefined,\n      isVerified: undefined,\n    },() => {\n      request.smsIssue(params).then(res => {\n        if (res.status === 409) {\n          this.setState({ didRequestCode : false });\n        } else {\n          this.setState({ didRequestCode: true });\n        }\n      });\n    })\n  }\n\n  onClickVerify = () => {\n    const params = {\n      localNumber: this.state.phone,\n      countryCode: \"+82\",\n      certcode: this.state.code\n    };\n    request.smsCheck(params).then(res => {\n      if (res.status === 200) {\n        this.setState({ isVerified: true });\n      } else {\n        this.setState({ isVerified : false });\n      }\n    });\n  }\n\n  onClickSubmit = () => {\n    const { phone } = this.state\n    const params = {\n      phone : phone\n    }\n    request\n      .updateUserInfo(params)\n      .then(response => response.json())\n      .then(json => {\n        if(json.success){\n          if(this.props.onCompleted) this.props.onCompleted(phone)\n          this.props.dismiss()\n        }\n      })\n  }\n\n  render() {\n    const { intl } = this.props\n    const { phone, code, didRequestCode, isVerified } = this.state\n    const { onChangeField, onClickRequestCode, onClickVerify } = this\n\n    return (\n      <div className=\"account__manage__phone-popup\">\n        <div className=\"account__manage__phone-popup__title\">\n          {intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_TITLE\"})}\n        </div>\n        <div className=\"account__manage__phone-popup__msg\">\n          {intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_MSG\"})}\n        </div>\n\n        <PhoneField\n          intl={intl}\n          phone={phone}\n          didRequestCode={didRequestCode}\n          onChangeField={onChangeField}\n          onClickRequestCode={onClickRequestCode}\n        />\n      \n        {\n          didRequestCode && \n            <VerifyField\n              intl={intl}\n              code={code}\n              isVerified={isVerified}\n              onChangeField={onChangeField}\n              onClickVerify={onClickVerify}\n            />\n        }\n      \n        <button className=\"account__manage__phone-popup__confirm-btn\"  disabled={!isVerified} onClick={this.onClickSubmit}>\n          {intl.formatMessage({ id: \"ID_WIZLIVE_CLASS_MESSAGE_SUCCESS_OK\"})}\n        </button>\n      </div>\n    );\n  }\n}\n\n\nfunction PhoneField(props){\n  const { intl, phone, didRequestCode, onChangeField, onClickRequestCode } = props\n  const validatePhone = Validate.phone(phone)\n  let warningMsg = phone && validatePhone.id && intl.formatMessage({ id: `${validatePhone.id}` }) \n  if(didRequestCode === false) warningMsg = intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_ALREADY\"})\n  \n  \n  return (\n      <div className=\"account__manage__phone-popup__field__container\">\n        <Field.Text\n          id=\"phone\"\n          value={phone}\n          warning={warningMsg}\n          placeholder={intl.formatMessage({ id: \"ID_VALIDATE_FAIL_PHONE_NULL\"})}\n          onChange={onChangeField}\n        />\n\n        <button onClick={onClickRequestCode}>\n          {intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH\"})}\n        </button>\n      </div>\n  )\n}\n\nfunction VerifyField(props){\n  const { intl, code, isVerified, onChangeField, onClickVerify } = props\n  \n  return (\n      <div className=\"account__manage__phone-popup__field__container\">\n        <Field.Text\n          id=\"code\"\n          value={code}\n          warning={isVerified === false && intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_FAIL\"})}\n          okSign={isVerified === true && intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_SUCCESS\"})}\n          placeholder={intl.formatMessage({ id: \"ID_MY_ACCOUNT_PHONE_POPUP_AUTH_PLACEHOLDER\"})}\n          onChange={onChangeField}\n        />\n\n        <button onClick={onClickVerify}>\n          {intl.formatMessage({ id: \"ID_WIZLIVE_CLASS_MESSAGE_SUCCESS_OK\"})}\n        </button>\n      </div>\n  )\n}\n\nexport default injectIntl(AccountPhonePopup);\n"]},"metadata":{},"sourceType":"module"}