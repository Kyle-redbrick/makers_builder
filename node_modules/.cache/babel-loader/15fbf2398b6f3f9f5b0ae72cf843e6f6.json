{"ast":null,"code":"import ReactGA from \"react-ga\";\nimport * as request from \"./HTTPRequest\";\n\nvar sendStatistics = function sendStatistics(params) {\n  request.sendToStatistics(params).catch(function (err) {\n    return console.error(err);\n  });\n};\n\nvar checkHost = function checkHost() {\n  return window.location.hostname === \"wizlab.net\" || window.location.hostname === \"www.wizlab.net\";\n};\n\nexport var sendPageEvent = function sendPageEvent(data, email) {\n  if (!checkHost()) return;\n\n  try {\n    var params = {\n      data: data,\n      email: email\n    };\n    ReactGA.pageview(data);\n    sendStatistics(params);\n    kakaoPixelPageView();\n  } catch (e) {}\n};\nexport var sendGTMEvent = function sendGTMEvent(event, category, action) {\n  if (!checkHost()) return;\n  window.dataLayer = window.dataLayer || [];\n  window.dataLayer.push({\n    event: event,\n    eventCategory: category,\n    eventAction: action\n  });\n};\n/**\n *\n * @param {string} category (required) The main category of Event\n * @param {string} action (required) The actions of each category\n * @param {string} label (optional) The labels of each action\n * @param {number} value (optional) The numeric value of Event ex) video play time or worth event\n */\n\nexport var sendGAEvent = function sendGAEvent(params) {\n  if (!checkHost()) return;\n  var category = params.category,\n      action = params.action,\n      value = params.value;\n\n  if (!category || !action) {\n    return;\n  }\n\n  if (value && typeof value !== \"number\") {\n    return;\n  }\n\n  try {\n    ReactGA.event(params);\n  } catch (e) {}\n}; //kakao\n\nexport var kakaoPixelPageView = function kakaoPixelPageView(type) {\n  if (window.kakaoPixel) {\n    var kakaoPixel = window.kakaoPixel(\"9175849215000034364\");\n    kakaoPixel.pageView();\n\n    if (!type) {\n      return;\n    } else if (type === \"signUp\") {\n      kakaoPixel.signUp();\n    } else {\n      kakaoPixel.completeRegistration();\n    }\n  } else {\n    console.error(\"Failed to load kakaoPixel\");\n  }\n}; // export const kakaoPixelEvent = type => {\n//   if (!checkHost()) return;\n//   kakaoPixelPageView();\n//   if (window.kakaoPixel) {\n//     if (type === \"signup\") {\n//       window.kakaoPixel(\"9175849215000034364\").completeRegistration();\n//     } else {\n//       window.kakaoPixel(\"9175849215000034364\").viewCart();\n//     }\n//   }\n// };\n\nexport var sendActiveCampaignEvent = function sendActiveCampaignEvent(email, eventName) {\n  var eventData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var data = {\n    actid: 1001601248,\n    key: \"b68509382c15434856d28da8a2f07530763a4f54\",\n    event: eventName,\n    eventdata: JSON.stringify(eventData),\n    visit: JSON.stringify({\n      email: email\n    })\n  };\n  var formData = new URLSearchParams();\n\n  for (var key in data) {\n    formData.append(key, data[key]);\n  }\n\n  fetch(\"https://trackcmp.net/event\", {\n    method: \"POST\",\n    mode: \"no-cors\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\"\n    },\n    body: formData.toString()\n  }).then(function (res) {\n    return res.json();\n  }).then(function (json) {\n    return console.log(json);\n  }).catch(function (err) {\n    return console.error(err);\n  });\n};","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Common/Util/TrackingUtil.js"],"names":["ReactGA","request","sendStatistics","params","sendToStatistics","catch","err","console","error","checkHost","window","location","hostname","sendPageEvent","data","email","pageview","kakaoPixelPageView","e","sendGTMEvent","event","category","action","dataLayer","push","eventCategory","eventAction","sendGAEvent","value","type","kakaoPixel","pageView","signUp","completeRegistration","sendActiveCampaignEvent","eventName","eventData","actid","key","eventdata","JSON","stringify","visit","formData","URLSearchParams","append","fetch","method","mode","headers","body","toString","then","res","json","log"],"mappings":"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","sourcesContent":["import ReactGA from \"react-ga\";\nimport * as request from \"./HTTPRequest\";\n\nconst sendStatistics = params => {\n  request.sendToStatistics(params).catch(err => console.error(err));\n};\n\nconst checkHost = () => {\n  return (\n    window.location.hostname === \"wizlab.net\" ||\n    window.location.hostname === \"www.wizlab.net\"\n  );\n};\n\nexport const sendPageEvent = (data, email) => {\n  if (!checkHost()) return;\n\n  try {\n    const params = { data, email };\n    ReactGA.pageview(data);\n    sendStatistics(params);\n    kakaoPixelPageView();\n  } catch (e) {}\n};\n\nexport const sendGTMEvent = (event, category, action) => {\n  if (!checkHost()) return;\n  window.dataLayer = window.dataLayer || [];\n  window.dataLayer.push({\n    event,\n    eventCategory: category,\n    eventAction: action\n  });\n};\n\n/**\n *\n * @param {string} category (required) The main category of Event\n * @param {string} action (required) The actions of each category\n * @param {string} label (optional) The labels of each action\n * @param {number} value (optional) The numeric value of Event ex) video play time or worth event\n */\nexport const sendGAEvent = params => {\n  if (!checkHost()) return;\n\n  const { category, action, /*label,*/ value } = params;\n  if (!category || !action) {\n    return;\n  }\n  if (value && typeof value !== \"number\") {\n    return;\n  }\n\n  try {\n    ReactGA.event(params);\n  } catch (e) {}\n};\n\n//kakao\nexport const kakaoPixelPageView = type => {\n  if (window.kakaoPixel) {\n    const kakaoPixel = window.kakaoPixel(\"9175849215000034364\");\n    kakaoPixel.pageView();\n    if (!type) {\n      return;\n    } else if (type === \"signUp\") {\n      kakaoPixel.signUp();\n    } else {\n      kakaoPixel.completeRegistration();\n    }\n  } else {\n    console.error(\"Failed to load kakaoPixel\");\n  }\n};\n// export const kakaoPixelEvent = type => {\n//   if (!checkHost()) return;\n\n//   kakaoPixelPageView();\n//   if (window.kakaoPixel) {\n//     if (type === \"signup\") {\n//       window.kakaoPixel(\"9175849215000034364\").completeRegistration();\n//     } else {\n//       window.kakaoPixel(\"9175849215000034364\").viewCart();\n//     }\n//   }\n// };\n\nexport const sendActiveCampaignEvent = (email, eventName, eventData = {}) => {\n  const data = {\n    actid: 1001601248,\n    key: \"b68509382c15434856d28da8a2f07530763a4f54\",\n    event: eventName,\n    eventdata: JSON.stringify(eventData),\n    visit: JSON.stringify({ email })\n  };\n\n  const formData = new URLSearchParams();\n\n  for (let key in data) {\n    formData.append(key, data[key]);\n  }\n\n  fetch(\"https://trackcmp.net/event\", {\n    method: \"POST\",\n    mode: \"no-cors\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\"\n    },\n    body: formData.toString()\n  })\n    .then(res => res.json())\n    .then(json => console.log(json))\n    .catch(err => console.error(err));\n};\n"]},"metadata":{},"sourceType":"module"}