{"ast":null,"code":"var _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/SoundBox/View.js\";\nimport React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport AssetLibrary from \"../../utils/assetLibrary\";\nimport closeImg from \"../../../../Image/builder/x-copy-3.svg\";\nimport closeImg_darkmode from \"../../../../Image/builder/x-copy-3_darkmode.svg\";\nimport playImg from \"../../../../Image/builder/music-play.svg\";\nimport pauseImg from \"../../../../Image/builder/group-4.svg\";\nimport trashImg from \"../../../../Image/builder/delete-b.svg\";\nimport addImg from \"../../../../Image/builder/group-7-copy-5.svg\";\nimport addImg_darkmode from \"../../../../Image/builder/group-7-copy-5_darkmode.svg\";\nimport { getColorTheme } from \"../../utils/colorThemeUtil\";\nimport \"./index.scss\";\n\nfunction getLocalName(item) {\n  var lang = localStorage.getItem(\"wizLang\");\n  var title;\n\n  try {\n    title = JSON.parse(item.localeName)[lang] || JSON.parse(item.localeName)[\"default\"] || item.name;\n  } catch (err) {\n    title = item.name;\n  }\n\n  return title;\n}\n\nexport default function (props) {\n  var _this = this;\n\n  var handleSelectTab = props.handleSelectTab,\n      currentCategory = props.currentCategory,\n      currentSubCategory = props.currentSubCategory,\n      setCurrentCategory = props.setCurrentCategory,\n      assets = props.assets,\n      handleSelectAsset = props.handleSelectAsset,\n      handleAddAsset = props.handleAddAsset,\n      handleRemoveAsset = props.handleRemoveAsset,\n      soundIds = props.soundIds,\n      categories = props.categories,\n      jukebox = props.jukebox,\n      handleChangeZIndex = props.handleChangeZIndex,\n      onClickCustomSound = props.onClickCustomSound;\n  var currentCategoryName, currentSubCategoryName;\n  var colorTheme = getColorTheme();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxContainer\",\n    onMouseDown: function onMouseDown() {\n      return handleChangeZIndex(\"soundBox\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxTitleLine handle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"ID_SOUND_TITLE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxClose\",\n    onClick: function onClick() {\n      return handleSelectTab(\"soundBox\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: colorTheme === \"darkMode\" ? closeImg_darkmode : closeImg,\n    alt: \"close btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxContentLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, categories.map(function (category, index) {\n    if (category.name === currentCategory) {\n      currentCategoryName = getLocalName(category);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"SoundBoxCategoryItem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxCategoryItemName\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, getLocalName(category)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxSubCategories\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, category.subCategories.map(function (subCategory, index) {\n      if (subCategory.name === currentSubCategory) {\n        currentSubCategoryName = getLocalName(subCategory);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"SoundBoxSubCategoryItem \".concat(subCategory.name === currentSubCategory && \"SoundBoxSubCategoryItemActive\"),\n        onClick: function onClick() {\n          if (subCategory.name !== \"ALL\") {\n            setCurrentCategory(category.name, subCategory.name);\n          } else {\n            setCurrentCategory(category.name, currentCategory);\n          }\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"SoundBoxSubCategoryItemName\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }\n      }, getLocalName(subCategory)));\n    })));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxCategoryItem SoundBoxCategoryItemClickable\",\n    onClick: onClickCustomSound,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxCategoryItemName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"\\uCEE4\\uC2A4\\uD140 \\uC0AC\\uC6B4\\uB4DC\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxContentRight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxAssetTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxAssetTitleCategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, currentCategoryName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxAssetTitleSubCategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, currentSubCategoryName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SoundBoxAssets\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, assets.filter(function (c) {\n    return c.type === \"sound\";\n  }).map(function (_asset, index) {\n    var assetId = _asset.assetId;\n    var asset = AssetLibrary.getSoundAsset(assetId);\n    var isExist = soundIds.includes(assetId);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"SoundBoxAsset\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxAssetImage\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, jukebox.id === _asset.assetId ? /*#__PURE__*/React.createElement(\"img\", {\n      src: pauseImg,\n      alt: \"play\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      src: playImg,\n      alt: \"play\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxAssetName\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, asset.defaultName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxAssetSelect\",\n      onClick: function onClick() {\n        handleSelectAsset(assetId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }), !isExist && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxAssetAdd\",\n      onClick: function onClick() {\n        handleAddAsset(asset);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: getColorTheme() === \"darkMode\" ? addImg_darkmode : addImg,\n      alt: \"add\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    })), isExist && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SoundBoxAssetRemove\",\n      onClick: function onClick() {\n        handleRemoveAsset(assetId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: trashImg,\n      alt: \"remove\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 25\n      }\n    })));\n  })))));\n}","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Builder/Component/SoundBox/View.js"],"names":["React","FormattedMessage","AssetLibrary","getColorTheme","getLocalName","item","lang","localStorage","getItem","title","JSON","parse","localeName","name","err","props","handleSelectTab","currentCategory","currentSubCategory","setCurrentCategory","assets","handleSelectAsset","handleAddAsset","handleRemoveAsset","soundIds","categories","jukebox","handleChangeZIndex","onClickCustomSound","currentCategoryName","currentSubCategoryName","colorTheme","closeImg_darkmode","closeImg","map","category","index","subCategories","subCategory","filter","c","type","_asset","assetId","asset","getSoundAsset","isExist","includes","id","pauseImg","playImg","defaultName","addImg_darkmode","addImg","trashImg"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport AssetLibrary from \"../../utils/assetLibrary\";\nimport closeImg from \"../../../../Image/builder/x-copy-3.svg\";\nimport closeImg_darkmode from \"../../../../Image/builder/x-copy-3_darkmode.svg\";\nimport playImg from \"../../../../Image/builder/music-play.svg\";\nimport pauseImg from \"../../../../Image/builder/group-4.svg\";\nimport trashImg from \"../../../../Image/builder/delete-b.svg\";\nimport addImg from \"../../../../Image/builder/group-7-copy-5.svg\";\nimport addImg_darkmode from \"../../../../Image/builder/group-7-copy-5_darkmode.svg\";\nimport { getColorTheme } from \"../../utils/colorThemeUtil\";\nimport \"./index.scss\";\n\nfunction getLocalName(item) {\n  const lang = localStorage.getItem(\"wizLang\");\n  let title;\n  try {\n    title =\n      JSON.parse(item.localeName)[lang] ||\n      JSON.parse(item.localeName)[\"default\"] ||\n      item.name;\n  } catch (err) {\n    title = item.name;\n  }\n  return title;\n}\n\nexport default function(props) {\n  const {\n    handleSelectTab,\n    currentCategory,\n    currentSubCategory,\n    setCurrentCategory,\n    assets,\n    handleSelectAsset,\n    handleAddAsset,\n    handleRemoveAsset,\n    soundIds,\n    categories,\n    jukebox,\n    handleChangeZIndex,\n    onClickCustomSound\n  } = props;\n  let currentCategoryName, currentSubCategoryName;\n  const colorTheme = getColorTheme();\n\n  return (\n    <div\n      className=\"SoundBoxContainer\"\n      onMouseDown={() => handleChangeZIndex(\"soundBox\")}\n    >\n      <div className=\"SoundBoxTitleLine handle\">\n        <div className=\"SoundBoxTitle\">\n          <FormattedMessage id=\"ID_SOUND_TITLE\" />\n        </div>\n        <div\n          className=\"SoundBoxClose\"\n          onClick={() => handleSelectTab(\"soundBox\")}\n        >\n          <img\n            src={colorTheme === \"darkMode\" ? closeImg_darkmode : closeImg}\n            alt=\"close btn\"\n          />\n        </div>\n      </div>\n      <div className=\"SoundBoxContent\">\n        <div className=\"SoundBoxContentLeft\">\n          {categories.map((category, index) => {\n            if (category.name === currentCategory) {\n              currentCategoryName = getLocalName(category);\n            }\n            return (\n              <div key={index} className=\"SoundBoxCategoryItem\">\n                <div className=\"SoundBoxCategoryItemName\">\n                  {getLocalName(category)}\n                </div>\n                <div className=\"SoundBoxSubCategories\">\n                  {category.subCategories.map((subCategory, index) => {\n                    if (subCategory.name === currentSubCategory) {\n                      currentSubCategoryName = getLocalName(subCategory);\n                    }\n                    return (\n                      <div\n                        key={index}\n                        className={`SoundBoxSubCategoryItem ${subCategory.name ===\n                          currentSubCategory &&\n                          \"SoundBoxSubCategoryItemActive\"}`}\n                        onClick={() => {\n                          if (subCategory.name !== \"ALL\") {\n                            setCurrentCategory(category.name, subCategory.name);\n                          } else {\n                            setCurrentCategory(category.name, currentCategory);\n                          }\n                        }}\n                      >\n                        <div className=\"SoundBoxSubCategoryItemName\">\n                          {getLocalName(subCategory)}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            );\n          })}\n          <div className=\"SoundBoxCategoryItem SoundBoxCategoryItemClickable\" onClick={onClickCustomSound}>\n            <div className=\"SoundBoxCategoryItemName\">커스텀 사운드</div>\n          </div>\n        </div>\n        <div className=\"SoundBoxContentRight\">\n          <div className=\"SoundBoxAssetTitle\">\n            <div className=\"SoundBoxAssetTitleCategory\">\n              {currentCategoryName}\n            </div>\n            <div className=\"SoundBoxAssetTitleSubCategory\">\n              {currentSubCategoryName}\n            </div>\n          </div>\n          <div className=\"SoundBoxAssets\">\n            {assets\n              .filter(c => c.type === \"sound\")\n              .map((_asset, index) => {\n                const assetId = _asset.assetId;\n                const asset = AssetLibrary.getSoundAsset(assetId);\n                const isExist = soundIds.includes(assetId);\n                return (\n                  <div key={index} className=\"SoundBoxAsset\">\n                    <div className=\"SoundBoxAssetImage\">\n                      {jukebox.id === _asset.assetId ? (\n                        <img src={pauseImg} alt=\"play\" />\n                      ) : (\n                        <img src={playImg} alt=\"play\" />\n                      )}\n                    </div>\n                    <div className=\"SoundBoxAssetName\">{asset.defaultName}</div>\n\n                    {/* select */}\n                    <div\n                      className=\"SoundBoxAssetSelect\"\n                      onClick={() => {\n                        handleSelectAsset(assetId);\n                      }}\n                    />\n\n                    {/* add */}\n                    {!isExist && (\n                      <div\n                        className=\"SoundBoxAssetAdd\"\n                        onClick={() => {\n                          handleAddAsset(asset);\n                        }}\n                      >\n                        <img\n                          src={\n                            getColorTheme() === \"darkMode\"\n                              ? addImg_darkmode\n                              : addImg\n                          }\n                          alt=\"add\"\n                        />\n                      </div>\n                    )}\n\n                    {/* remove */}\n                    {isExist && (\n                      <div\n                        className=\"SoundBoxAssetRemove\"\n                        onClick={() => {\n                          handleRemoveAsset(assetId);\n                        }}\n                      >\n                        <img src={trashImg} alt=\"remove\" />\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}