{"ast":null,"code":"import _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Gstar/Challenge/Container.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport { withRouter } from \"react-router-dom\";\nimport { isMobileOnly } from \"react-device-detect\";\nimport QueryString from \"query-string\";\nimport PopUp, { showPopUp } from \"../../../Common/Component/PopUp\";\nimport ChallengeAlertPopup from \"./Component/ChallengeAlertPopup\";\nimport ChallengeEndPopup from \"./Component/ChallengeEndPopup\";\nimport View from \"./View\";\n\nvar Container = /*#__PURE__*/function (_Component) {\n  _inherits(Container, _Component);\n\n  var _super = _createSuper(Container);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.call(this, props);\n\n    _this.onClickTab = function (tab) {\n      if (tab !== _this.state.tab) {\n        _this.setState({\n          currentTab: tab\n        }); //history replace without reload\n\n\n        window.history.replaceState({}, \"\", \"/challenge?tab=\".concat(tab));\n      }\n    };\n\n    _this.showAlertPopup = function () {\n      showPopUp( /*#__PURE__*/React.createElement(ChallengeAlertPopup, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }\n      }), {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true,\n        defaultPadding: false\n      });\n    };\n\n    _this.onClickApplyBtn = function () {\n      var userinfo = _this.props.userinfo;\n\n      if (!userinfo.id) {\n        _this.showAlertPopup();\n\n        return;\n      }\n\n      if (isMobileOnly) {\n        showPopUp( /*#__PURE__*/React.createElement(PopUp.OneButton, {\n          title: _this.props.intl.formatMessage({\n            id: \"ID_CHALLENGE_POPUP_LOGIN_TITLE\"\n          }),\n          buttonName: _this.props.intl.formatMessage({\n            id: \"ID_CHALLENGE_POPUP_CONFIRM\"\n          }),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 9\n          }\n        }), {\n          darkmode: true,\n          dismissButton: false,\n          dismissOverlay: true\n        });\n        return;\n      }\n\n      _this.props.history.push(\"/challenge/apply\");\n    };\n\n    _this.onClickConfirmBtn = function () {\n      var userinfo = _this.props.userinfo;\n\n      if (!userinfo.id) {\n        _this.showAlertPopup();\n\n        return;\n      }\n\n      _this.props.history.push(\"/challenge/projectlist\");\n    };\n\n    var _QueryString$parse = QueryString.parse(props.location.search),\n        _tab = _QueryString$parse.tab;\n\n    _this.state = {\n      currentTab: _tab ? _tab : \"info\"\n    };\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // challenge is over\n      var isShow = localStorage.getItem(\"showGstarChallengeOverPopup\");\n\n      if (!isShow || isShow !== \"true\") {\n        showPopUp( /*#__PURE__*/React.createElement(ChallengeEndPopup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 9\n          }\n        }), {\n          darkmode: true,\n          dismissButton: false,\n          dismissOverlay: true,\n          defaultPadding: false\n        });\n      }\n\n      window.scrollTo(0, 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currentTab = this.state.currentTab;\n      var onClickTab = this.onClickTab,\n          onClickApplyBtn = this.onClickApplyBtn,\n          onClickConfirmBtn = this.onClickConfirmBtn;\n      return /*#__PURE__*/React.createElement(View, {\n        currentTab: currentTab,\n        onClickTab: onClickTab,\n        onClickApplyBtn: onClickApplyBtn,\n        onClickConfirmBtn: onClickConfirmBtn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    userinfo: state.userinfo\n  };\n}, {})(withRouter(injectIntl(Container)));","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Gstar/Challenge/Container.js"],"names":["React","Component","connect","injectIntl","withRouter","isMobileOnly","QueryString","PopUp","showPopUp","ChallengeAlertPopup","ChallengeEndPopup","View","Container","props","onClickTab","tab","state","setState","currentTab","window","history","replaceState","showAlertPopup","darkmode","dismissButton","dismissOverlay","defaultPadding","onClickApplyBtn","userinfo","id","intl","formatMessage","push","onClickConfirmBtn","parse","location","search","isShow","localStorage","getItem","scrollTo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { injectIntl } from \"react-intl\";\nimport { withRouter } from \"react-router-dom\";\nimport { isMobileOnly } from \"react-device-detect\";\nimport QueryString from \"query-string\";\nimport PopUp, { showPopUp } from \"../../../Common/Component/PopUp\";\nimport ChallengeAlertPopup from \"./Component/ChallengeAlertPopup\";\nimport ChallengeEndPopup from \"./Component/ChallengeEndPopup\";\nimport View from \"./View\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    const { tab } = QueryString.parse(props.location.search);\n    this.state = {\n      currentTab: tab ? tab : \"info\",\n    };\n  }\n\n  componentDidMount() {\n    // challenge is over\n    const isShow = localStorage.getItem(\"showGstarChallengeOverPopup\");\n    if(!isShow || isShow !== \"true\") {\n      showPopUp(\n        <ChallengeEndPopup/>,\n        {\n          darkmode: true,\n          dismissButton: false,\n          dismissOverlay: true,\n          defaultPadding: false\n        }\n      ); \n    }\n    window.scrollTo(0, 0);\n  }\n\n  onClickTab = (tab) => {\n    if( tab!== this.state.tab ){\n      this.setState({ currentTab : tab })\n\n      //history replace without reload\n      window.history.replaceState({}, \"\",`/challenge?tab=${tab}`);\n    }\n  }\n\n  showAlertPopup = () => {\n    showPopUp(\n      <ChallengeAlertPopup/>,\n      {\n        darkmode: true,\n        dismissButton: false,\n        dismissOverlay: true,\n        defaultPadding: false\n      }\n    );\n  }\n\n  onClickApplyBtn = () => {\n    const { userinfo } = this.props;\n\n    if (!userinfo.id) {\n      this.showAlertPopup();\n      return;\n    }\n\n    if (isMobileOnly) {\n      showPopUp(\n        <PopUp.OneButton\n          title={this.props.intl.formatMessage({\n            id: \"ID_CHALLENGE_POPUP_LOGIN_TITLE\"\n          })}\n          buttonName={this.props.intl.formatMessage({\n            id: \"ID_CHALLENGE_POPUP_CONFIRM\"\n          })}\n        />,\n        {\n          darkmode: true,\n          dismissButton: false,\n          dismissOverlay: true\n        }\n      );\n      return;\n    }\n\n    this.props.history.push(\"/challenge/apply\");\n  }\n\n  onClickConfirmBtn = () => {\n    const { userinfo } = this.props;\n    if (!userinfo.id) {\n      this.showAlertPopup();\n      return;\n    }\n    this.props.history.push(\"/challenge/projectlist\");\n  }\n\n  render() {\n    const { currentTab } = this.state;\n    const { onClickTab, onClickApplyBtn, onClickConfirmBtn } = this;\n    return (\n      <View \n        currentTab={currentTab} \n        onClickTab={onClickTab}\n        onClickApplyBtn={onClickApplyBtn}\n        onClickConfirmBtn={onClickConfirmBtn}\n      />\n    );\n  }\n}\n\nexport default connect(\n  state => ({ userinfo: state.userinfo }),\n  {}\n)(withRouter(injectIntl(Container)));\n"]},"metadata":{},"sourceType":"module"}