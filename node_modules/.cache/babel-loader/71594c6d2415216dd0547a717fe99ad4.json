{"ast":null,"code":"import _toConsumableArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Camp/Component/CampProjects/Container.js\";\nimport React, { Component } from \"react\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport { SSAFY7 } from \"../../../../Common/Util/Constant\";\nimport View from \"./View\";\nvar types = SSAFY7.types,\n    organizations = SSAFY7.organizations,\n    isAll = SSAFY7.isAll;\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, props));\n\n    _this.loadProjects = function () {\n      var _this$state = _this.state,\n          projects = _this$state.projects,\n          currentTab = _this$state.currentTab,\n          currentType = _this$state.currentType,\n          currentOrganization = _this$state.currentOrganization,\n          keyword = _this$state.keyword;\n\n      var _assertThisInitialize = _assertThisInitialized(_assertThisInitialized(_this)),\n          name = _assertThisInitialize.name;\n\n      var params = {\n        name: _this.props.mode === \"projects\" ? name : currentTab,\n        limit: _this.limit,\n        offset: projects.length,\n        order: currentTab === \"new\" ? \"createdAt\" : \"likeCount\"\n      };\n\n      if (!isAll(currentType)) {\n        params.type = currentType;\n      }\n\n      if (!isAll(currentOrganization)) {\n        params.organization = currentOrganization;\n      }\n\n      if (keyword && keyword.length > 0) {\n        params.keyword = keyword;\n      }\n\n      request.getCampProjects(params).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this.setState({\n          projects: [].concat(_toConsumableArray(projects), _toConsumableArray(json)),\n          hasMore: json.length > 0 && json.length % _this.limit === 0\n        });\n      }).catch(function (e) {\n        return console.error(e);\n      });\n    };\n\n    _this.onClickTab = function (tab) {\n      _this.setState({\n        currentTab: tab,\n        projects: []\n      }, _this.loadProjects);\n    };\n\n    _this.onChangeKeyword = function (e) {\n      _this.setState({\n        keyword: e.target.value\n      });\n    };\n\n    _this.onSubmitKeyword = function () {\n      _this.setState({\n        projects: []\n      }, _this.loadProjects);\n    };\n\n    _this.onChangeType = function (e) {\n      _this.setState({\n        currentType: e.value,\n        projects: []\n      }, _this.loadProjects);\n    };\n\n    _this.onChangeOrganization = function (e) {\n      _this.setState({\n        currentOrganization: e.value,\n        projects: []\n      }, _this.loadProjects);\n    };\n\n    _this.onClickLoadMore = function () {\n      _this.loadProjects();\n    };\n\n    _this.limit = 30;\n    _this.state = {\n      projects: [],\n      currentType: types[0],\n      currentOrganization: organizations[0],\n      keyword: \"\"\n    };\n\n    if (_this.props.mode === \"projects\") {\n      //작품 탭\n      _this.name = \"ssafy7\";\n      _this.state.currentTab = \"new\";\n    } else {\n      //명예의 전당 탭\n      _this.state.currentTab = \"ssafy6\";\n    }\n\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadProjects();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          projects = _this$state2.projects,\n          currentTab = _this$state2.currentTab,\n          keyword = _this$state2.keyword,\n          hasMore = _this$state2.hasMore;\n      var mode = this.props.mode;\n      var onClickTab = this.onClickTab,\n          onChangeKeyword = this.onChangeKeyword,\n          onSubmitKeyword = this.onSubmitKeyword,\n          onChangeType = this.onChangeType,\n          onChangeOrganization = this.onChangeOrganization,\n          onClickLoadMore = this.onClickLoadMore;\n      return React.createElement(View, {\n        mode: mode,\n        projects: projects,\n        currentTab: currentTab,\n        keyword: keyword,\n        types: types,\n        organizations: organizations,\n        hasMore: hasMore,\n        onClickTab: onClickTab,\n        onChangeKeyword: onChangeKeyword,\n        onSubmitKeyword: onSubmitKeyword,\n        onChangeType: onChangeType,\n        onChangeOrganization: onChangeOrganization,\n        onClickLoadMore: onClickLoadMore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Container;\n}(Component);\n\nexport default Container;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/Camp/Component/CampProjects/Container.js"],"names":["React","Component","request","SSAFY7","View","types","organizations","isAll","Container","props","loadProjects","state","projects","currentTab","currentType","currentOrganization","keyword","name","params","mode","limit","offset","length","order","type","organization","getCampProjects","then","res","json","setState","hasMore","catch","e","console","error","onClickTab","tab","onChangeKeyword","target","value","onSubmitKeyword","onChangeType","onChangeOrganization","onClickLoadMore"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as request from \"../../../../Common/Util/HTTPRequest\";\nimport { SSAFY7 } from \"../../../../Common/Util/Constant\";\nimport View from \"./View\";\n\nconst { types, organizations, isAll } = SSAFY7;\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.limit = 30;\n    this.state = {\n      projects: [],\n      currentType: types[0],\n      currentOrganization: organizations[0],\n      keyword: \"\"\n    }\n    if(this.props.mode === \"projects\") {\n      //작품 탭\n      this.name = \"ssafy7\";\n      this.state.currentTab = \"new\";\n    }else {\n      //명예의 전당 탭\n      this.state.currentTab = \"ssafy6\";\n    }\n  }\n\n  componentDidMount() {\n    this.loadProjects();\n  }\n\n  loadProjects = () => {\n    const { projects, currentTab, currentType, currentOrganization, keyword } = this.state;\n    const { name } = this;\n    const params = {\n      name: this.props.mode === \"projects\" ? name : currentTab,\n      limit: this.limit,\n      offset: projects.length,\n      order: currentTab === \"new\" ? \"createdAt\" : \"likeCount\"\n    }\n    if(!isAll(currentType)) {\n      params.type = currentType;\n    }\n    if(!isAll(currentOrganization)) {\n      params.organization = currentOrganization;\n    }\n    if(keyword && keyword.length>0) {\n      params.keyword = keyword;\n    }\n\n    request.getCampProjects(params)\n      .then(res=>res.json())\n      .then(json=>{\n        this.setState({ projects: [...projects, ...json], hasMore: json.length > 0 && json.length % this.limit === 0 })\n      })\n      .catch(e=>console.error(e))\n  }\n\n  onClickTab = tab => {\n    this.setState({ currentTab: tab, projects: [] }, this.loadProjects);\n  }\n\n  onChangeKeyword = e => {\n    this.setState({ keyword: e.target.value });\n  }\n\n  onSubmitKeyword = () => {\n    this.setState({ projects: [] }, this.loadProjects);\n  }\n\n  onChangeType = e => {\n    this.setState({ currentType: e.value, projects: [] }, this.loadProjects);\n  }\n\n  onChangeOrganization = e => {\n    this.setState({ currentOrganization: e.value, projects: [] }, this.loadProjects);\n  }\n\n  onClickLoadMore = () => {\n    this.loadProjects();\n  }\n\n  render() {\n    const { projects, currentTab, keyword, hasMore } = this.state;\n    const { mode } = this.props;\n    const { onClickTab, onChangeKeyword, onSubmitKeyword, onChangeType, onChangeOrganization, onClickLoadMore } = this;\n    return (\n      <View\n        mode={mode}\n        projects={projects}\n        currentTab={currentTab}\n        keyword={keyword}\n        types={types}\n        organizations={organizations}\n        hasMore={hasMore}\n        onClickTab={onClickTab}\n        onChangeKeyword={onChangeKeyword}\n        onSubmitKeyword={onSubmitKeyword}\n        onChangeType={onChangeType}\n        onChangeOrganization={onChangeOrganization}\n        onClickLoadMore={onClickLoadMore}\n      />\n    );\n  }\n}\n\nexport default Container;\n"]},"metadata":{},"sourceType":"module"}