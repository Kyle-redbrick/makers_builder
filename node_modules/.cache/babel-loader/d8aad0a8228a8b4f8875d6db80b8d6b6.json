{"ast":null,"code":"import _objectSpread from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jimmy/Documents/Wizschool/wizlab_web2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/DreamEditor/ProjectList/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport * as request from \"../../../Common/Util/HTTPRequest\";\nimport \"./index.scss\";\n\nvar ProjectList = /*#__PURE__*/function (_Component) {\n  _inherits(ProjectList, _Component);\n\n  var _super = _createSuper(ProjectList);\n\n  function ProjectList(props) {\n    var _this;\n\n    _classCallCheck(this, ProjectList);\n\n    _this = _super.call(this, props);\n\n    _this.onClickRefresh = function () {\n      _this.loadCourses();\n    };\n\n    _this.onChangeLocale = function (e) {\n      // localStorage.setItem(\"wizLang\", e.target.value);\n      localStorage.setItem(\"wizLang\", e.target.value);\n      window.location.reload();\n    };\n\n    _this.onClickElement = function (element) {\n      if (element === _this.state.selectedElement) {\n        _this.setState({\n          selectedElement: null\n        });\n      } else {\n        _this.setState({\n          selectedElement: {\n            type: element.type,\n            id: element.data.id,\n            data: element.data\n          }\n        });\n      }\n    };\n\n    _this.onClickElementFold = function (element) {\n      switch (element.type) {\n        case \"course\":\n          var courseIds = _toConsumableArray(_this.unfoldedCourseIds);\n\n          var courseIdIndex = courseIds.indexOf(element.data.id);\n\n          if (courseIdIndex >= 0) {\n            courseIds.splice(courseIdIndex, 1);\n          } else {\n            courseIds.push(element.data.id);\n          }\n\n          _this.setState(function (prevState) {\n            return {\n              unfolded: _objectSpread({}, prevState.unfolded, {\n                courseIds: courseIds\n              })\n            };\n          });\n\n          break;\n\n        case \"lecture\":\n          var lectureIds = _toConsumableArray(_this.unfoldedLectureIds);\n\n          var lectureIdIndex = lectureIds.indexOf(element.data.id);\n\n          if (lectureIdIndex >= 0) {\n            lectureIds.splice(lectureIdIndex, 1);\n          } else {\n            lectureIds.push(element.data.id);\n          }\n\n          _this.setState(function (prevState) {\n            return {\n              unfolded: _objectSpread({}, prevState.unfolded, {\n                lectureIds: lectureIds\n              })\n            };\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.onClickElementAdd = function (element) {\n      switch (element.type) {\n        case \"course\":\n          var courseId = element.data.id;\n\n          _this.addLectureForCourse(courseId);\n\n          break;\n\n        case \"lecture\":\n          var lectureId = element.data.id;\n\n          _this.addProjectForLecture(lectureId);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.onClickElementDelete = function (element) {\n      var confirmed = window.confirm(\"정말 삭제하시겠어요?\");\n      if (!confirmed) return;\n\n      switch (element.type) {\n        case \"lecture\":\n          var lectureId = element.data.id;\n\n          _this.deleteLecture(lectureId);\n\n          break;\n\n        case \"project\":\n          var projectId = element.data.id;\n\n          _this.deleteProject(projectId);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.state = {\n      courses: [],\n      selectedElement: null,\n      unfolded: _this.defaultUnfolded\n    };\n    return _this;\n  }\n\n  _createClass(ProjectList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadCourses();\n      this.loadSelectedElement();\n      this.loadUnfolded();\n    }\n  }, {\n    key: \"loadCourses\",\n    value: function loadCourses() {\n      var _this2 = this;\n\n      request.getDreamCourseDetails().then(function (res) {\n        return res.json();\n      }).then(function (courses) {\n        _this2.setState({\n          courses: courses\n        });\n      }).catch(function (err) {\n        console.error(err);\n\n        _this2.setState({\n          courses: []\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.selectedElement !== this.state.selectedElement) {\n        this.onChangeSelectedElement();\n      }\n\n      if (JSON.stringify(prevState.unfolded) !== JSON.stringify(this.state.unfolded)) {\n        this.onChangeUnfolded();\n      }\n    }\n  }, {\n    key: \"onChangeSelectedElement\",\n    value: function onChangeSelectedElement() {\n      if (this.props.onChangeSelectedElement) {\n        this.props.onChangeSelectedElement(this.state.selectedElement);\n      }\n\n      this.saveSelectedElement();\n    }\n  }, {\n    key: \"saveSelectedElement\",\n    value: function saveSelectedElement() {\n      if (this.state.selectedElement) {\n        var _this$state$selectedE = this.state.selectedElement,\n            type = _this$state$selectedE.type,\n            id = _this$state$selectedE.id;\n        localStorage.setItem(\"dreamEditorSelectedElement\", JSON.stringify({\n          type: type,\n          id: id\n        }));\n      } else {\n        localStorage.removeItem(\"dreamEditorSelectedElement\");\n      }\n    }\n  }, {\n    key: \"loadSelectedElement\",\n    value: function loadSelectedElement() {\n      var selectedElement;\n\n      try {\n        selectedElement = JSON.parse(localStorage.getItem(\"dreamEditorSelectedElement\"));\n      } catch (err) {\n        selectedElement = null;\n      }\n\n      this.setState({\n        selectedElement: selectedElement\n      });\n    }\n  }, {\n    key: \"onChangeUnfolded\",\n    value: function onChangeUnfolded() {\n      this.saveUnfolded();\n    }\n  }, {\n    key: \"saveUnfolded\",\n    value: function saveUnfolded() {\n      localStorage.setItem(\"dreamEditorUnfolded\", JSON.stringify(this.state.unfolded));\n    }\n  }, {\n    key: \"loadUnfolded\",\n    value: function loadUnfolded() {\n      var unfolded;\n\n      try {\n        unfolded = JSON.parse(localStorage.getItem(\"dreamEditorUnfolded\")) || this.defaultUnfolded;\n      } catch (err) {\n        unfolded = this.defaultUnfolded;\n      }\n\n      this.setState({\n        unfolded: unfolded\n      });\n    }\n  }, {\n    key: \"defaultUnfolded\",\n    get: function get() {\n      return {\n        courseIds: [],\n        lectureIds: []\n      };\n    }\n  }, {\n    key: \"list\",\n    get: function get() {\n      var list = [];\n      var _this$state$courses = this.state.courses,\n          courses = _this$state$courses === void 0 ? [] : _this$state$courses;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = courses[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var course = _step.value;\n          var courseElement = this.createElement(\"course\", course);\n          list.push(courseElement);\n          if (courseElement.isFolded) continue;\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = (course.lectures || [])[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var lecture = _step2.value;\n              var lectureElement = this.createElement(\"lecture\", lecture);\n              list.push(lectureElement);\n              if (lectureElement.isFolded) continue;\n              var _iteratorNormalCompletion3 = true;\n              var _didIteratorError3 = false;\n              var _iteratorError3 = undefined;\n\n              try {\n                for (var _iterator3 = (lecture.projects || [])[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                  var project = _step3.value;\n                  var projectElement = this.createElement(\"project\", project);\n                  list.push(projectElement);\n                }\n              } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                    _iterator3.return();\n                  }\n                } finally {\n                  if (_didIteratorError3) {\n                    throw _iteratorError3;\n                  }\n                }\n              }\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return list;\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(type, data) {\n      return {\n        type: type,\n        data: data,\n        isSelected: this.isElementSelected(type, data),\n        isFolded: this.isElementFolded(type, data)\n      };\n    }\n  }, {\n    key: \"isElementSelected\",\n    value: function isElementSelected(type, data) {\n      return this.state.selectedElement && type === this.state.selectedElement.type && this.state.selectedElement.id === data.id;\n    }\n  }, {\n    key: \"isElementFolded\",\n    value: function isElementFolded(type, data) {\n      switch (type) {\n        case \"course\":\n          return !this.unfoldedCourseIds.includes(data.id);\n\n        case \"lecture\":\n          return !this.unfoldedLectureIds.includes(data.id);\n\n        default:\n          return true;\n      }\n    }\n  }, {\n    key: \"unfoldedCourseIds\",\n    get: function get() {\n      return this.state.unfolded.courseIds;\n    }\n  }, {\n    key: \"unfoldedLectureIds\",\n    get: function get() {\n      return this.state.unfolded.lectureIds;\n    }\n  }, {\n    key: \"addLectureForCourse\",\n    value: function addLectureForCourse(courseId) {\n      var _this3 = this;\n\n      request.addDreamLectureForCourse(courseId).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          var lecture = json.lecture;\n\n          _this3.setState(function (prevState) {\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n              for (var _iterator4 = prevState.courses[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var course = _step4.value;\n\n                if (course.id === courseId) {\n                  if (course.lectures) {\n                    course.lectures.push(lecture);\n                  } else {\n                    course.lectures = [lecture];\n                  }\n                }\n              }\n            } catch (err) {\n              _didIteratorError4 = true;\n              _iteratorError4 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n                  _iterator4.return();\n                }\n              } finally {\n                if (_didIteratorError4) {\n                  throw _iteratorError4;\n                }\n              }\n            }\n\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      }).catch(function (err) {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n    }\n  }, {\n    key: \"deleteLecture\",\n    value: function deleteLecture(lectureId) {\n      var _this4 = this;\n\n      request.deleteDreamLecture(lectureId).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          _this4.setState(function (prevState) {\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n              for (var _iterator5 = prevState.courses[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                var course = _step5.value;\n                var index = course.lectures.findIndex(function (lecture) {\n                  return lecture.id === lectureId;\n                });\n\n                if (index >= 0) {\n                  course.lectures.splice(index, 1);\n                }\n              }\n            } catch (err) {\n              _didIteratorError5 = true;\n              _iteratorError5 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n                  _iterator5.return();\n                }\n              } finally {\n                if (_didIteratorError5) {\n                  throw _iteratorError5;\n                }\n              }\n            }\n\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      }).catch(function (err) {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n    }\n  }, {\n    key: \"addProjectForLecture\",\n    value: function addProjectForLecture(lectureId) {\n      var _this5 = this;\n\n      request.addDreamProjectForLecture(lectureId).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          var project = json.project;\n\n          _this5.setState(function (prevState) {\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n              for (var _iterator6 = prevState.courses[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                var course = _step6.value;\n                var _iteratorNormalCompletion7 = true;\n                var _didIteratorError7 = false;\n                var _iteratorError7 = undefined;\n\n                try {\n                  for (var _iterator7 = (course.lectures || [])[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                    var lecture = _step7.value;\n\n                    if (lecture.id === lectureId) {\n                      if (lecture.projects) {\n                        lecture.projects.push(project);\n                      } else {\n                        lecture.projects = [project];\n                      }\n                    }\n                  }\n                } catch (err) {\n                  _didIteratorError7 = true;\n                  _iteratorError7 = err;\n                } finally {\n                  try {\n                    if (!_iteratorNormalCompletion7 && _iterator7.return != null) {\n                      _iterator7.return();\n                    }\n                  } finally {\n                    if (_didIteratorError7) {\n                      throw _iteratorError7;\n                    }\n                  }\n                }\n              }\n            } catch (err) {\n              _didIteratorError6 = true;\n              _iteratorError6 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n                  _iterator6.return();\n                }\n              } finally {\n                if (_didIteratorError6) {\n                  throw _iteratorError6;\n                }\n              }\n            }\n\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      }).catch(function (err) {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n    }\n  }, {\n    key: \"deleteProject\",\n    value: function deleteProject(projectId) {\n      var _this6 = this;\n\n      request.deleteDreamProject(projectId).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.success) {\n          _this6.setState(function (prevState) {\n            var _iteratorNormalCompletion8 = true;\n            var _didIteratorError8 = false;\n            var _iteratorError8 = undefined;\n\n            try {\n              for (var _iterator8 = prevState.courses[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                var course = _step8.value;\n                var _iteratorNormalCompletion9 = true;\n                var _didIteratorError9 = false;\n                var _iteratorError9 = undefined;\n\n                try {\n                  for (var _iterator9 = (course.lectures || [])[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                    var lecture = _step9.value;\n                    var index = lecture.projects.findIndex(function (project) {\n                      return project.id === projectId;\n                    });\n\n                    if (index >= 0) {\n                      lecture.projects.splice(index, 1);\n                    }\n                  }\n                } catch (err) {\n                  _didIteratorError9 = true;\n                  _iteratorError9 = err;\n                } finally {\n                  try {\n                    if (!_iteratorNormalCompletion9 && _iterator9.return != null) {\n                      _iterator9.return();\n                    }\n                  } finally {\n                    if (_didIteratorError9) {\n                      throw _iteratorError9;\n                    }\n                  }\n                }\n              }\n            } catch (err) {\n              _didIteratorError8 = true;\n              _iteratorError8 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion8 && _iterator8.return != null) {\n                  _iterator8.return();\n                }\n              } finally {\n                if (_didIteratorError8) {\n                  throw _iteratorError8;\n                }\n              }\n            }\n\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      }).catch(function (err) {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"dreamEditor_projectList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dreamEditor_projectList_header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dreamEditor_projectList_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"\\uD504\\uB85C\\uC81D\\uD2B8 \\uBAA9\\uB85D\"), React.createElement(\"select\", {\n        className: \"dreamEditor_projectList_locale\",\n        value: localStorage.getItem(\"wizLang\") || \"ko\",\n        onChange: this.onChangeLocale,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, [\"ko\", \"en\", \"zh\", \"jp\"].map(function (locale) {\n        return React.createElement(\"option\", {\n          key: locale,\n          value: locale,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, locale);\n      })), React.createElement(\"div\", {\n        className: \"dreamEditor_projectList_refresh\",\n        onClick: this.onClickRefresh,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, \"\\uC0C8\\uB85C\\uACE0\\uCE68\")), React.createElement(\"div\", {\n        className: \"dreamEditor_projectList_body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(List, {\n        list: this.list,\n        onClickElement: this.onClickElement,\n        onClickElementFold: this.onClickElementFold,\n        onClickElementAdd: this.onClickElementAdd,\n        onClickElementDelete: this.onClickElementDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProjectList;\n}(Component);\n\nfunction List(props) {\n  var _props$list = props.list,\n      list = _props$list === void 0 ? [] : _props$list,\n      onClickElement = props.onClickElement,\n      onClickElementFold = props.onClickElementFold,\n      onClickElementAdd = props.onClickElementAdd,\n      onClickElementDelete = props.onClickElementDelete;\n  return React.createElement(\"div\", {\n    className: \"dreamEditor_projectList_list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391\n    },\n    __self: this\n  }, list.map(function (element, index) {\n    return React.createElement(Element, {\n      key: index,\n      element: element,\n      onClick: onClickElement,\n      onClickFold: onClickElementFold,\n      onClickAdd: onClickElementAdd,\n      onClickDelete: onClickElementDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    });\n  }));\n}\n\nfunction Element(props) {\n  var element = props.element,\n      _onClick = props.onClick,\n      onClickFold = props.onClickFold,\n      onClickAdd = props.onClickAdd,\n      onClickDelete = props.onClickDelete;\n  if (!element) return null;\n  var isFoldable, isAddable, isDeletable;\n\n  switch (element.type) {\n    case \"course\":\n      isFoldable = true;\n      isAddable = true;\n      isDeletable = false;\n      break;\n\n    case \"lecture\":\n      isFoldable = true;\n      isAddable = true;\n      isDeletable = true;\n      break;\n\n    default:\n      isFoldable = false;\n      isAddable = false;\n      isDeletable = true;\n      break;\n  }\n\n  var iconURL, title;\n\n  switch (element.type) {\n    case \"course\":\n      var course = element.data;\n      iconURL = course.iconURL;\n      title = \"\".concat(course.localized && course.localized[0] ? course.localized[0].title : course.title);\n      break;\n\n    case \"lecture\":\n      var lecture = element.data;\n      title = \"\".concat(lecture.localized && lecture.localized[0] ? lecture.localized[0].title : lecture.title);\n      break;\n\n    case \"project\":\n      var project = element.data;\n      title = \"\".concat(project.localized && project.localized[0] ? project.localized[0].title : project.title);\n      break;\n\n    default:\n      title = null;\n      break;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"dreamEditor_projectList_element dreamEditor_projectList_element-\".concat(element.type).concat(element.isSelected ? \"  dreamEditor_projectList_element-selected\" : \"\"),\n    onClick: function onClick() {\n      _onClick(element);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458\n    },\n    __self: this\n  }, isFoldable && React.createElement(\"div\", {\n    className: \"dreamEditor_projectList_element_fold\",\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      onClickFold(element);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476\n    },\n    __self: this\n  }, element.isFolded ? \"+\" : \"-\")), iconURL && React.createElement(\"img\", {\n    className: \"dreamEditor_projectList_element_icon\",\n    src: iconURL.toDreamclassS3URL(),\n    alt: \"icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480\n    },\n    __self: this\n  }), title && React.createElement(\"div\", {\n    className: \"dreamEditor_projectList_element_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487\n    },\n    __self: this\n  }, title), element.isSelected && React.createElement(\"div\", {\n    className: \"dreamEditor_projectList_element_btns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490\n    },\n    __self: this\n  }, isAddable && React.createElement(\"button\", {\n    className: \"dreamEditor_projectList_element_btn dreamEditor_projectList_element_btn-add\",\n    onClick: function onClick() {\n      onClickAdd(element);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492\n    },\n    __self: this\n  }, \"\\uCD94\\uAC00\"), isDeletable && React.createElement(\"button\", {\n    className: \"dreamEditor_projectList_element_btn dreamEditor_projectList_element_btn-delete\",\n    onClick: function onClick() {\n      onClickDelete(element);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502\n    },\n    __self: this\n  }, \"\\uC0AD\\uC81C\")));\n}\n\nexport default ProjectList;","map":{"version":3,"sources":["/Users/jimmy/Documents/Wizschool/wizlab_web2/src/Page/DreamEditor/ProjectList/index.js"],"names":["React","Component","request","ProjectList","props","onClickRefresh","loadCourses","onChangeLocale","e","localStorage","setItem","target","value","window","location","reload","onClickElement","element","state","selectedElement","setState","type","id","data","onClickElementFold","courseIds","unfoldedCourseIds","courseIdIndex","indexOf","splice","push","prevState","unfolded","lectureIds","unfoldedLectureIds","lectureIdIndex","onClickElementAdd","courseId","addLectureForCourse","lectureId","addProjectForLecture","onClickElementDelete","confirmed","confirm","deleteLecture","projectId","deleteProject","courses","defaultUnfolded","loadSelectedElement","loadUnfolded","getDreamCourseDetails","then","res","json","catch","err","console","error","prevProps","onChangeSelectedElement","JSON","stringify","onChangeUnfolded","saveSelectedElement","removeItem","parse","getItem","saveUnfolded","list","course","courseElement","createElement","isFolded","lectures","lecture","lectureElement","projects","project","projectElement","isSelected","isElementSelected","isElementFolded","includes","addDreamLectureForCourse","success","alert","deleteDreamLecture","index","findIndex","addDreamProjectForLecture","deleteDreamProject","map","locale","List","Element","onClick","onClickFold","onClickAdd","onClickDelete","isFoldable","isAddable","isDeletable","iconURL","title","localized","stopPropagation","toDreamclassS3URL"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,OAAZ,MAAyB,kCAAzB;AACA,OAAO,cAAP;;IAEMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAyBnBC,cAzBmB,GAyBF,YAAM;AACrB,YAAKC,WAAL;AACD,KA3BkB;;AAAA,UA4BnBC,cA5BmB,GA4BF,UAAAC,CAAC,EAAI;AACpB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCF,CAAC,CAACG,MAAF,CAASC,KAAzC;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KAhCkB;;AAAA,UAyJnBC,cAzJmB,GAyJF,UAAAC,OAAO,EAAI;AAC1B,UAAIA,OAAO,KAAK,MAAKC,KAAL,CAAWC,eAA3B,EAA4C;AAC1C,cAAKC,QAAL,CAAc;AAAED,UAAAA,eAAe,EAAE;AAAnB,SAAd;AACD,OAFD,MAEO;AACL,cAAKC,QAAL,CAAc;AACZD,UAAAA,eAAe,EAAE;AACfE,YAAAA,IAAI,EAAEJ,OAAO,CAACI,IADC;AAEfC,YAAAA,EAAE,EAAEL,OAAO,CAACM,IAAR,CAAaD,EAFF;AAGfC,YAAAA,IAAI,EAAEN,OAAO,CAACM;AAHC;AADL,SAAd;AAOD;AACF,KArKkB;;AAAA,UAsKnBC,kBAtKmB,GAsKE,UAAAP,OAAO,EAAI;AAC9B,cAAQA,OAAO,CAACI,IAAhB;AACE,aAAK,QAAL;AACE,cAAMI,SAAS,sBAAO,MAAKC,iBAAZ,CAAf;;AACA,cAAMC,aAAa,GAAGF,SAAS,CAACG,OAAV,CAAkBX,OAAO,CAACM,IAAR,CAAaD,EAA/B,CAAtB;;AACA,cAAIK,aAAa,IAAI,CAArB,EAAwB;AACtBF,YAAAA,SAAS,CAACI,MAAV,CAAiBF,aAAjB,EAAgC,CAAhC;AACD,WAFD,MAEO;AACLF,YAAAA,SAAS,CAACK,IAAV,CAAeb,OAAO,CAACM,IAAR,CAAaD,EAA5B;AACD;;AACD,gBAAKF,QAAL,CAAc,UAAAW,SAAS;AAAA,mBAAK;AAC1BC,cAAAA,QAAQ,oBAAOD,SAAS,CAACC,QAAjB;AAA2BP,gBAAAA,SAAS,EAATA;AAA3B;AADkB,aAAL;AAAA,WAAvB;;AAGA;;AACF,aAAK,SAAL;AACE,cAAMQ,UAAU,sBAAO,MAAKC,kBAAZ,CAAhB;;AACA,cAAMC,cAAc,GAAGF,UAAU,CAACL,OAAX,CAAmBX,OAAO,CAACM,IAAR,CAAaD,EAAhC,CAAvB;;AACA,cAAIa,cAAc,IAAI,CAAtB,EAAyB;AACvBF,YAAAA,UAAU,CAACJ,MAAX,CAAkBM,cAAlB,EAAkC,CAAlC;AACD,WAFD,MAEO;AACLF,YAAAA,UAAU,CAACH,IAAX,CAAgBb,OAAO,CAACM,IAAR,CAAaD,EAA7B;AACD;;AACD,gBAAKF,QAAL,CAAc,UAAAW,SAAS;AAAA,mBAAK;AAC1BC,cAAAA,QAAQ,oBAAOD,SAAS,CAACC,QAAjB;AAA2BC,gBAAAA,UAAU,EAAVA;AAA3B;AADkB,aAAL;AAAA,WAAvB;;AAGA;;AACF;AACE;AA1BJ;AA4BD,KAnMkB;;AAAA,UAoMnBG,iBApMmB,GAoMC,UAAAnB,OAAO,EAAI;AAC7B,cAAQA,OAAO,CAACI,IAAhB;AACE,aAAK,QAAL;AACE,cAAMgB,QAAQ,GAAGpB,OAAO,CAACM,IAAR,CAAaD,EAA9B;;AACA,gBAAKgB,mBAAL,CAAyBD,QAAzB;;AACA;;AACF,aAAK,SAAL;AACE,cAAME,SAAS,GAAGtB,OAAO,CAACM,IAAR,CAAaD,EAA/B;;AACA,gBAAKkB,oBAAL,CAA0BD,SAA1B;;AACA;;AACF;AACE;AAVJ;AAYD,KAjNkB;;AAAA,UAkNnBE,oBAlNmB,GAkNI,UAAAxB,OAAO,EAAI;AAChC,UAAMyB,SAAS,GAAG7B,MAAM,CAAC8B,OAAP,CAAe,aAAf,CAAlB;AACA,UAAI,CAACD,SAAL,EAAgB;;AAEhB,cAAQzB,OAAO,CAACI,IAAhB;AACE,aAAK,SAAL;AACE,cAAMkB,SAAS,GAAGtB,OAAO,CAACM,IAAR,CAAaD,EAA/B;;AACA,gBAAKsB,aAAL,CAAmBL,SAAnB;;AACA;;AACF,aAAK,SAAL;AACE,cAAMM,SAAS,GAAG5B,OAAO,CAACM,IAAR,CAAaD,EAA/B;;AACA,gBAAKwB,aAAL,CAAmBD,SAAnB;;AACA;;AACF;AACE;AAVJ;AAYD,KAlOkB;;AAEjB,UAAK3B,KAAL,GAAa;AACX6B,MAAAA,OAAO,EAAE,EADE;AAEX5B,MAAAA,eAAe,EAAE,IAFN;AAGXa,MAAAA,QAAQ,EAAE,MAAKgB;AAHJ,KAAb;AAFiB;AAOlB;;;;WACD,6BAAoB;AAClB,WAAK1C,WAAL;AACA,WAAK2C,mBAAL;AACA,WAAKC,YAAL;AACD;;;WACD,uBAAc;AAAA;;AACZhD,MAAAA,OAAO,CACJiD,qBADH,GAEGC,IAFH,CAEQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAFX,EAGGF,IAHH,CAGQ,UAAAL,OAAO,EAAI;AACf,QAAA,MAAI,CAAC3B,QAAL,CAAc;AAAE2B,UAAAA,OAAO,EAAPA;AAAF,SAAd;AACD,OALH,EAMGQ,KANH,CAMS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;;AACA,QAAA,MAAI,CAACpC,QAAL,CAAc;AAAE2B,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD,OATH;AAUD;;;WAUD,4BAAmBY,SAAnB,EAA8B5B,SAA9B,EAAyC;AACvC,UAAIA,SAAS,CAACZ,eAAV,KAA8B,KAAKD,KAAL,CAAWC,eAA7C,EAA8D;AAC5D,aAAKyC,uBAAL;AACD;;AACD,UACEC,IAAI,CAACC,SAAL,CAAe/B,SAAS,CAACC,QAAzB,MAAuC6B,IAAI,CAACC,SAAL,CAAe,KAAK5C,KAAL,CAAWc,QAA1B,CADzC,EAEE;AACA,aAAK+B,gBAAL;AACD;AACF;;;WAED,mCAA0B;AACxB,UAAI,KAAK3D,KAAL,CAAWwD,uBAAf,EAAwC;AACtC,aAAKxD,KAAL,CAAWwD,uBAAX,CAAmC,KAAK1C,KAAL,CAAWC,eAA9C;AACD;;AACD,WAAK6C,mBAAL;AACD;;;WACD,+BAAsB;AACpB,UAAI,KAAK9C,KAAL,CAAWC,eAAf,EAAgC;AAAA,oCACT,KAAKD,KAAL,CAAWC,eADF;AAAA,YACtBE,IADsB,yBACtBA,IADsB;AAAA,YAChBC,EADgB,yBAChBA,EADgB;AAE9Bb,QAAAA,YAAY,CAACC,OAAb,CACE,4BADF,EAEEmD,IAAI,CAACC,SAAL,CAAe;AAAEzC,UAAAA,IAAI,EAAJA,IAAF;AAAQC,UAAAA,EAAE,EAAFA;AAAR,SAAf,CAFF;AAID,OAND,MAMO;AACLb,QAAAA,YAAY,CAACwD,UAAb,CAAwB,4BAAxB;AACD;AACF;;;WACD,+BAAsB;AACpB,UAAI9C,eAAJ;;AACA,UAAI;AACFA,QAAAA,eAAe,GAAG0C,IAAI,CAACK,KAAL,CAChBzD,YAAY,CAAC0D,OAAb,CAAqB,4BAArB,CADgB,CAAlB;AAGD,OAJD,CAIE,OAAOX,GAAP,EAAY;AACZrC,QAAAA,eAAe,GAAG,IAAlB;AACD;;AACD,WAAKC,QAAL,CAAc;AAAED,QAAAA,eAAe,EAAfA;AAAF,OAAd;AACD;;;WAED,4BAAmB;AACjB,WAAKiD,YAAL;AACD;;;WACD,wBAAe;AACb3D,MAAAA,YAAY,CAACC,OAAb,CACE,qBADF,EAEEmD,IAAI,CAACC,SAAL,CAAe,KAAK5C,KAAL,CAAWc,QAA1B,CAFF;AAID;;;WACD,wBAAe;AACb,UAAIA,QAAJ;;AACA,UAAI;AACFA,QAAAA,QAAQ,GACN6B,IAAI,CAACK,KAAL,CAAWzD,YAAY,CAAC0D,OAAb,CAAqB,qBAArB,CAAX,KACA,KAAKnB,eAFP;AAGD,OAJD,CAIE,OAAOQ,GAAP,EAAY;AACZxB,QAAAA,QAAQ,GAAG,KAAKgB,eAAhB;AACD;;AACD,WAAK5B,QAAL,CAAc;AAAEY,QAAAA,QAAQ,EAARA;AAAF,OAAd;AACD;;;SACD,eAAsB;AACpB,aAAO;AAAEP,QAAAA,SAAS,EAAE,EAAb;AAAiBQ,QAAAA,UAAU,EAAE;AAA7B,OAAP;AACD;;;SAED,eAAW;AACT,UAAMoC,IAAI,GAAG,EAAb;AADS,gCAGgB,KAAKnD,KAHrB,CAGD6B,OAHC;AAAA,UAGDA,OAHC,oCAGS,EAHT;AAAA;AAAA;AAAA;;AAAA;AAIT,6BAAmBA,OAAnB,8HAA4B;AAAA,cAAnBuB,MAAmB;AAC1B,cAAMC,aAAa,GAAG,KAAKC,aAAL,CAAmB,QAAnB,EAA6BF,MAA7B,CAAtB;AACAD,UAAAA,IAAI,CAACvC,IAAL,CAAUyC,aAAV;AACA,cAAIA,aAAa,CAACE,QAAlB,EAA4B;AAHF;AAAA;AAAA;;AAAA;AAK1B,mCAAoBH,MAAM,CAACI,QAAP,IAAmB,EAAvC,oIAA2C;AAAA,kBAAlCC,OAAkC;AACzC,kBAAMC,cAAc,GAAG,KAAKJ,aAAL,CAAmB,SAAnB,EAA8BG,OAA9B,CAAvB;AACAN,cAAAA,IAAI,CAACvC,IAAL,CAAU8C,cAAV;AACA,kBAAIA,cAAc,CAACH,QAAnB,EAA6B;AAHY;AAAA;AAAA;;AAAA;AAKzC,uCAAoBE,OAAO,CAACE,QAAR,IAAoB,EAAxC,oIAA4C;AAAA,sBAAnCC,OAAmC;AAC1C,sBAAMC,cAAc,GAAG,KAAKP,aAAL,CAAmB,SAAnB,EAA8BM,OAA9B,CAAvB;AACAT,kBAAAA,IAAI,CAACvC,IAAL,CAAUiD,cAAV;AACD;AARwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS1C;AAdyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAe3B;AAnBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBT,aAAOV,IAAP;AACD;;;WACD,uBAAchD,IAAd,EAAoBE,IAApB,EAA0B;AACxB,aAAO;AACLF,QAAAA,IAAI,EAAJA,IADK;AAELE,QAAAA,IAAI,EAAJA,IAFK;AAGLyD,QAAAA,UAAU,EAAE,KAAKC,iBAAL,CAAuB5D,IAAvB,EAA6BE,IAA7B,CAHP;AAILkD,QAAAA,QAAQ,EAAE,KAAKS,eAAL,CAAqB7D,IAArB,EAA2BE,IAA3B;AAJL,OAAP;AAMD;;;WACD,2BAAkBF,IAAlB,EAAwBE,IAAxB,EAA8B;AAC5B,aACE,KAAKL,KAAL,CAAWC,eAAX,IACAE,IAAI,KAAK,KAAKH,KAAL,CAAWC,eAAX,CAA2BE,IADpC,IAEA,KAAKH,KAAL,CAAWC,eAAX,CAA2BG,EAA3B,KAAkCC,IAAI,CAACD,EAHzC;AAKD;;;WACD,yBAAgBD,IAAhB,EAAsBE,IAAtB,EAA4B;AAC1B,cAAQF,IAAR;AACE,aAAK,QAAL;AACE,iBAAO,CAAC,KAAKK,iBAAL,CAAuByD,QAAvB,CAAgC5D,IAAI,CAACD,EAArC,CAAR;;AACF,aAAK,SAAL;AACE,iBAAO,CAAC,KAAKY,kBAAL,CAAwBiD,QAAxB,CAAiC5D,IAAI,CAACD,EAAtC,CAAR;;AACF;AACE,iBAAO,IAAP;AANJ;AAQD;;;SACD,eAAwB;AACtB,aAAO,KAAKJ,KAAL,CAAWc,QAAX,CAAoBP,SAA3B;AACD;;;SACD,eAAyB;AACvB,aAAO,KAAKP,KAAL,CAAWc,QAAX,CAAoBC,UAA3B;AACD;;;WA6ED,6BAAoBI,QAApB,EAA8B;AAAA;;AAC5BnC,MAAAA,OAAO,CACJkF,wBADH,CAC4B/C,QAD5B,EAEGe,IAFH,CAEQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAFX,EAGGF,IAHH,CAGQ,UAAAE,IAAI,EAAI;AACZ,YAAIA,IAAI,CAAC+B,OAAT,EAAkB;AAAA,cACRV,OADQ,GACIrB,IADJ,CACRqB,OADQ;;AAEhB,UAAA,MAAI,CAACvD,QAAL,CAAc,UAAAW,SAAS,EAAI;AAAA;AAAA;AAAA;;AAAA;AACzB,oCAAmBA,SAAS,CAACgB,OAA7B,mIAAsC;AAAA,oBAA7BuB,MAA6B;;AACpC,oBAAIA,MAAM,CAAChD,EAAP,KAAce,QAAlB,EAA4B;AAC1B,sBAAIiC,MAAM,CAACI,QAAX,EAAqB;AACnBJ,oBAAAA,MAAM,CAACI,QAAP,CAAgB5C,IAAhB,CAAqB6C,OAArB;AACD,mBAFD,MAEO;AACLL,oBAAAA,MAAM,CAACI,QAAP,GAAkB,CAACC,OAAD,CAAlB;AACD;AACF;AACF;AATwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUzB,mBAAO,IAAP;AACD,WAXD;AAYD,SAdD,MAcO;AACL,gBAAMrB,IAAN;AACD;AACF,OArBH,EAsBGC,KAtBH,CAsBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA3C,QAAAA,MAAM,CAACyE,KAAP,CAAazB,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAb;AACD,OAzBH;AA0BD;;;WACD,uBAAcjB,SAAd,EAAyB;AAAA;;AACvBrC,MAAAA,OAAO,CACJqF,kBADH,CACsBhD,SADtB,EAEGa,IAFH,CAEQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAFX,EAGGF,IAHH,CAGQ,UAAAE,IAAI,EAAI;AACZ,YAAIA,IAAI,CAAC+B,OAAT,EAAkB;AAChB,UAAA,MAAI,CAACjE,QAAL,CAAc,UAAAW,SAAS,EAAI;AAAA;AAAA;AAAA;;AAAA;AACzB,oCAAmBA,SAAS,CAACgB,OAA7B,mIAAsC;AAAA,oBAA7BuB,MAA6B;AACpC,oBAAMkB,KAAK,GAAGlB,MAAM,CAACI,QAAP,CAAgBe,SAAhB,CACZ,UAAAd,OAAO;AAAA,yBAAIA,OAAO,CAACrD,EAAR,KAAeiB,SAAnB;AAAA,iBADK,CAAd;;AAGA,oBAAIiD,KAAK,IAAI,CAAb,EAAgB;AACdlB,kBAAAA,MAAM,CAACI,QAAP,CAAgB7C,MAAhB,CAAuB2D,KAAvB,EAA8B,CAA9B;AACD;AACF;AARwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASzB,mBAAO,IAAP;AACD,WAVD;AAWD,SAZD,MAYO;AACL,gBAAMlC,IAAN;AACD;AACF,OAnBH,EAoBGC,KApBH,CAoBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA3C,QAAAA,MAAM,CAACyE,KAAP,CAAazB,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAb;AACD,OAvBH;AAwBD;;;WACD,8BAAqBjB,SAArB,EAAgC;AAAA;;AAC9BrC,MAAAA,OAAO,CACJwF,yBADH,CAC6BnD,SAD7B,EAEGa,IAFH,CAEQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAFX,EAGGF,IAHH,CAGQ,UAAAE,IAAI,EAAI;AACZ,YAAIA,IAAI,CAAC+B,OAAT,EAAkB;AAAA,cACRP,OADQ,GACIxB,IADJ,CACRwB,OADQ;;AAEhB,UAAA,MAAI,CAAC1D,QAAL,CAAc,UAAAW,SAAS,EAAI;AAAA;AAAA;AAAA;;AAAA;AACzB,oCAAmBA,SAAS,CAACgB,OAA7B,mIAAsC;AAAA,oBAA7BuB,MAA6B;AAAA;AAAA;AAAA;;AAAA;AACpC,yCAAoBA,MAAM,CAACI,QAAP,IAAmB,EAAvC,oIAA2C;AAAA,wBAAlCC,OAAkC;;AACzC,wBAAIA,OAAO,CAACrD,EAAR,KAAeiB,SAAnB,EAA8B;AAC5B,0BAAIoC,OAAO,CAACE,QAAZ,EAAsB;AACpBF,wBAAAA,OAAO,CAACE,QAAR,CAAiB/C,IAAjB,CAAsBgD,OAAtB;AACD,uBAFD,MAEO;AACLH,wBAAAA,OAAO,CAACE,QAAR,GAAmB,CAACC,OAAD,CAAnB;AACD;AACF;AACF;AATmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUrC;AAXwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYzB,mBAAO,IAAP;AACD,WAbD;AAcD,SAhBD,MAgBO;AACL,gBAAMxB,IAAN;AACD;AACF,OAvBH,EAwBGC,KAxBH,CAwBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA3C,QAAAA,MAAM,CAACyE,KAAP,CAAazB,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAb;AACD,OA3BH;AA4BD;;;WACD,uBAAcX,SAAd,EAAyB;AAAA;;AACvB3C,MAAAA,OAAO,CACJyF,kBADH,CACsB9C,SADtB,EAEGO,IAFH,CAEQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAFX,EAGGF,IAHH,CAGQ,UAAAE,IAAI,EAAI;AACZ,YAAIA,IAAI,CAAC+B,OAAT,EAAkB;AAChB,UAAA,MAAI,CAACjE,QAAL,CAAc,UAAAW,SAAS,EAAI;AAAA;AAAA;AAAA;;AAAA;AACzB,oCAAmBA,SAAS,CAACgB,OAA7B,mIAAsC;AAAA,oBAA7BuB,MAA6B;AAAA;AAAA;AAAA;;AAAA;AACpC,yCAAoBA,MAAM,CAACI,QAAP,IAAmB,EAAvC,oIAA2C;AAAA,wBAAlCC,OAAkC;AACzC,wBAAMa,KAAK,GAAGb,OAAO,CAACE,QAAR,CAAiBY,SAAjB,CACZ,UAAAX,OAAO;AAAA,6BAAIA,OAAO,CAACxD,EAAR,KAAeuB,SAAnB;AAAA,qBADK,CAAd;;AAGA,wBAAI2C,KAAK,IAAI,CAAb,EAAgB;AACdb,sBAAAA,OAAO,CAACE,QAAR,CAAiBhD,MAAjB,CAAwB2D,KAAxB,EAA+B,CAA/B;AACD;AACF;AARmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASrC;AAVwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWzB,mBAAO,IAAP;AACD,WAZD;AAaD,SAdD,MAcO;AACL,gBAAMlC,IAAN;AACD;AACF,OArBH,EAsBGC,KAtBH,CAsBS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA3C,QAAAA,MAAM,CAACyE,KAAP,CAAazB,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAb;AACD,OAzBH;AA0BD;;;WAED,kBAAS;AACP,aACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDADF,EAEE;AACE,QAAA,SAAS,EAAC,gCADZ;AAEE,QAAA,KAAK,EAAE/C,YAAY,CAAC0D,OAAb,CAAqB,SAArB,KAAmC,IAF5C;AAGE,QAAA,QAAQ,EAAE,KAAK5D,cAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKG,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAsBqF,GAAtB,CAA0B,UAAAC,MAAM;AAAA,eAC/B;AAAQ,UAAA,GAAG,EAAEA,MAAb;AAAqB,UAAA,KAAK,EAAEA,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqCA,MAArC,CAD+B;AAAA,OAAhC,CALH,CAFF,EAWE;AACE,QAAA,SAAS,EAAC,iCADZ;AAEE,QAAA,OAAO,EAAE,KAAKxF,cAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAXF,CADF,EAmBE;AAAK,QAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,IAAI,EAAE,KAAKgE,IADb;AAEE,QAAA,cAAc,EAAE,KAAKrD,cAFvB;AAGE,QAAA,kBAAkB,EAAE,KAAKQ,kBAH3B;AAIE,QAAA,iBAAiB,EAAE,KAAKY,iBAJ1B;AAKE,QAAA,oBAAoB,EAAE,KAAKK,oBAL7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAnBF,CADF;AA+BD;;;;EAtXuBxC,S;;AAyX1B,SAAS6F,IAAT,CAAc1F,KAAd,EAAqB;AAAA,oBAOfA,KAPe,CAEjBiE,IAFiB;AAAA,MAEjBA,IAFiB,4BAEV,EAFU;AAAA,MAGjBrD,cAHiB,GAOfZ,KAPe,CAGjBY,cAHiB;AAAA,MAIjBQ,kBAJiB,GAOfpB,KAPe,CAIjBoB,kBAJiB;AAAA,MAKjBY,iBALiB,GAOfhC,KAPe,CAKjBgC,iBALiB;AAAA,MAMjBK,oBANiB,GAOfrC,KAPe,CAMjBqC,oBANiB;AAQnB,SACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG4B,IAAI,CAACuB,GAAL,CAAS,UAAC3E,OAAD,EAAUuE,KAAV;AAAA,WACR,oBAAC,OAAD;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,OAAO,EAAEvE,OAFX;AAGE,MAAA,OAAO,EAAED,cAHX;AAIE,MAAA,WAAW,EAAEQ,kBAJf;AAKE,MAAA,UAAU,EAAEY,iBALd;AAME,MAAA,aAAa,EAAEK,oBANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADQ;AAAA,GAAT,CADH,CADF;AAcD;;AACD,SAASsD,OAAT,CAAiB3F,KAAjB,EAAwB;AAAA,MACda,OADc,GAC+Cb,KAD/C,CACda,OADc;AAAA,MACL+E,QADK,GAC+C5F,KAD/C,CACL4F,OADK;AAAA,MACIC,WADJ,GAC+C7F,KAD/C,CACI6F,WADJ;AAAA,MACiBC,UADjB,GAC+C9F,KAD/C,CACiB8F,UADjB;AAAA,MAC6BC,aAD7B,GAC+C/F,KAD/C,CAC6B+F,aAD7B;AAEtB,MAAI,CAAClF,OAAL,EAAc,OAAO,IAAP;AAEd,MAAImF,UAAJ,EAAgBC,SAAhB,EAA2BC,WAA3B;;AACA,UAAQrF,OAAO,CAACI,IAAhB;AACE,SAAK,QAAL;AACE+E,MAAAA,UAAU,GAAG,IAAb;AACAC,MAAAA,SAAS,GAAG,IAAZ;AACAC,MAAAA,WAAW,GAAG,KAAd;AACA;;AACF,SAAK,SAAL;AACEF,MAAAA,UAAU,GAAG,IAAb;AACAC,MAAAA,SAAS,GAAG,IAAZ;AACAC,MAAAA,WAAW,GAAG,IAAd;AACA;;AACF;AACEF,MAAAA,UAAU,GAAG,KAAb;AACAC,MAAAA,SAAS,GAAG,KAAZ;AACAC,MAAAA,WAAW,GAAG,IAAd;AACA;AAfJ;;AAkBA,MAAIC,OAAJ,EAAaC,KAAb;;AACA,UAAQvF,OAAO,CAACI,IAAhB;AACE,SAAK,QAAL;AACE,UAAMiD,MAAM,GAAGrD,OAAO,CAACM,IAAvB;AACAgF,MAAAA,OAAO,GAAGjC,MAAM,CAACiC,OAAjB;AACAC,MAAAA,KAAK,aACHlC,MAAM,CAACmC,SAAP,IAAoBnC,MAAM,CAACmC,SAAP,CAAiB,CAAjB,CAApB,GACEnC,MAAM,CAACmC,SAAP,CAAiB,CAAjB,EAAoBD,KADtB,GAEElC,MAAM,CAACkC,KAHN,CAAL;AAIA;;AACF,SAAK,SAAL;AACE,UAAM7B,OAAO,GAAG1D,OAAO,CAACM,IAAxB;AACAiF,MAAAA,KAAK,aACH7B,OAAO,CAAC8B,SAAR,IAAqB9B,OAAO,CAAC8B,SAAR,CAAkB,CAAlB,CAArB,GACE9B,OAAO,CAAC8B,SAAR,CAAkB,CAAlB,EAAqBD,KADvB,GAEE7B,OAAO,CAAC6B,KAHP,CAAL;AAIA;;AACF,SAAK,SAAL;AACE,UAAM1B,OAAO,GAAG7D,OAAO,CAACM,IAAxB;AACAiF,MAAAA,KAAK,aACH1B,OAAO,CAAC2B,SAAR,IAAqB3B,OAAO,CAAC2B,SAAR,CAAkB,CAAlB,CAArB,GACE3B,OAAO,CAAC2B,SAAR,CAAkB,CAAlB,EAAqBD,KADvB,GAEE1B,OAAO,CAAC0B,KAHP,CAAL;AAIA;;AACF;AACEA,MAAAA,KAAK,GAAG,IAAR;AACA;AAzBJ;;AA4BA,SACE;AACE,IAAA,SAAS,4EACPvF,OAAO,CAACI,IADD,SAGPJ,OAAO,CAAC+D,UAAR,GAAqB,4CAArB,GAAoE,EAH7D,CADX;AAME,IAAA,OAAO,EAAE,mBAAM;AACbgB,MAAAA,QAAO,CAAC/E,OAAD,CAAP;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUGmF,UAAU,IACT;AACE,IAAA,SAAS,EAAC,sCADZ;AAEE,IAAA,OAAO,EAAE,iBAAA5F,CAAC,EAAI;AACZA,MAAAA,CAAC,CAACkG,eAAF;AACAT,MAAAA,WAAW,CAAChF,OAAD,CAAX;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOA,OAAO,CAACwD,QAAR,GAAmB,GAAnB,GAAyB,GAAhC,CAPF,CAXJ,EAqBG8B,OAAO,IACN;AACE,IAAA,SAAS,EAAC,sCADZ;AAEE,IAAA,GAAG,EAAEA,OAAO,CAACI,iBAAR,EAFP;AAGE,IAAA,GAAG,EAAC,MAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,EA4BGH,KAAK,IACJ;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwDA,KAAxD,CA7BJ,EA+BGvF,OAAO,CAAC+D,UAAR,IACC;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGqB,SAAS,IACR;AACE,IAAA,SAAS,EAAC,6EADZ;AAEE,IAAA,OAAO,EAAE,mBAAM;AACbH,MAAAA,UAAU,CAACjF,OAAD,CAAV;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAWGqF,WAAW,IACV;AACE,IAAA,SAAS,EAAC,gFADZ;AAEE,IAAA,OAAO,EAAE,mBAAM;AACbH,MAAAA,aAAa,CAAClF,OAAD,CAAb;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAZJ,CAhCJ,CADF;AA0DD;;AAED,eAAed,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport * as request from \"../../../Common/Util/HTTPRequest\";\nimport \"./index.scss\";\n\nclass ProjectList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      courses: [],\n      selectedElement: null,\n      unfolded: this.defaultUnfolded\n    };\n  }\n  componentDidMount() {\n    this.loadCourses();\n    this.loadSelectedElement();\n    this.loadUnfolded();\n  }\n  loadCourses() {\n    request\n      .getDreamCourseDetails()\n      .then(res => res.json())\n      .then(courses => {\n        this.setState({ courses });\n      })\n      .catch(err => {\n        console.error(err);\n        this.setState({ courses: [] });\n      });\n  }\n  onClickRefresh = () => {\n    this.loadCourses();\n  };\n  onChangeLocale = e => {\n    // localStorage.setItem(\"wizLang\", e.target.value);\n    localStorage.setItem(\"wizLang\", e.target.value);\n    window.location.reload();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectedElement !== this.state.selectedElement) {\n      this.onChangeSelectedElement();\n    }\n    if (\n      JSON.stringify(prevState.unfolded) !== JSON.stringify(this.state.unfolded)\n    ) {\n      this.onChangeUnfolded();\n    }\n  }\n\n  onChangeSelectedElement() {\n    if (this.props.onChangeSelectedElement) {\n      this.props.onChangeSelectedElement(this.state.selectedElement);\n    }\n    this.saveSelectedElement();\n  }\n  saveSelectedElement() {\n    if (this.state.selectedElement) {\n      const { type, id } = this.state.selectedElement;\n      localStorage.setItem(\n        \"dreamEditorSelectedElement\",\n        JSON.stringify({ type, id })\n      );\n    } else {\n      localStorage.removeItem(\"dreamEditorSelectedElement\");\n    }\n  }\n  loadSelectedElement() {\n    let selectedElement;\n    try {\n      selectedElement = JSON.parse(\n        localStorage.getItem(\"dreamEditorSelectedElement\")\n      );\n    } catch (err) {\n      selectedElement = null;\n    }\n    this.setState({ selectedElement });\n  }\n\n  onChangeUnfolded() {\n    this.saveUnfolded();\n  }\n  saveUnfolded() {\n    localStorage.setItem(\n      \"dreamEditorUnfolded\",\n      JSON.stringify(this.state.unfolded)\n    );\n  }\n  loadUnfolded() {\n    let unfolded;\n    try {\n      unfolded =\n        JSON.parse(localStorage.getItem(\"dreamEditorUnfolded\")) ||\n        this.defaultUnfolded;\n    } catch (err) {\n      unfolded = this.defaultUnfolded;\n    }\n    this.setState({ unfolded });\n  }\n  get defaultUnfolded() {\n    return { courseIds: [], lectureIds: [] };\n  }\n\n  get list() {\n    const list = [];\n\n    const { courses = [] } = this.state;\n    for (let course of courses) {\n      const courseElement = this.createElement(\"course\", course);\n      list.push(courseElement);\n      if (courseElement.isFolded) continue;\n\n      for (let lecture of course.lectures || []) {\n        const lectureElement = this.createElement(\"lecture\", lecture);\n        list.push(lectureElement);\n        if (lectureElement.isFolded) continue;\n\n        for (let project of lecture.projects || []) {\n          const projectElement = this.createElement(\"project\", project);\n          list.push(projectElement);\n        }\n      }\n    }\n\n    return list;\n  }\n  createElement(type, data) {\n    return {\n      type,\n      data,\n      isSelected: this.isElementSelected(type, data),\n      isFolded: this.isElementFolded(type, data)\n    };\n  }\n  isElementSelected(type, data) {\n    return (\n      this.state.selectedElement &&\n      type === this.state.selectedElement.type &&\n      this.state.selectedElement.id === data.id\n    );\n  }\n  isElementFolded(type, data) {\n    switch (type) {\n      case \"course\":\n        return !this.unfoldedCourseIds.includes(data.id);\n      case \"lecture\":\n        return !this.unfoldedLectureIds.includes(data.id);\n      default:\n        return true;\n    }\n  }\n  get unfoldedCourseIds() {\n    return this.state.unfolded.courseIds;\n  }\n  get unfoldedLectureIds() {\n    return this.state.unfolded.lectureIds;\n  }\n\n  onClickElement = element => {\n    if (element === this.state.selectedElement) {\n      this.setState({ selectedElement: null });\n    } else {\n      this.setState({\n        selectedElement: {\n          type: element.type,\n          id: element.data.id,\n          data: element.data\n        }\n      });\n    }\n  };\n  onClickElementFold = element => {\n    switch (element.type) {\n      case \"course\":\n        const courseIds = [...this.unfoldedCourseIds];\n        const courseIdIndex = courseIds.indexOf(element.data.id);\n        if (courseIdIndex >= 0) {\n          courseIds.splice(courseIdIndex, 1);\n        } else {\n          courseIds.push(element.data.id);\n        }\n        this.setState(prevState => ({\n          unfolded: { ...prevState.unfolded, courseIds }\n        }));\n        break;\n      case \"lecture\":\n        const lectureIds = [...this.unfoldedLectureIds];\n        const lectureIdIndex = lectureIds.indexOf(element.data.id);\n        if (lectureIdIndex >= 0) {\n          lectureIds.splice(lectureIdIndex, 1);\n        } else {\n          lectureIds.push(element.data.id);\n        }\n        this.setState(prevState => ({\n          unfolded: { ...prevState.unfolded, lectureIds }\n        }));\n        break;\n      default:\n        break;\n    }\n  };\n  onClickElementAdd = element => {\n    switch (element.type) {\n      case \"course\":\n        const courseId = element.data.id;\n        this.addLectureForCourse(courseId);\n        break;\n      case \"lecture\":\n        const lectureId = element.data.id;\n        this.addProjectForLecture(lectureId);\n        break;\n      default:\n        break;\n    }\n  };\n  onClickElementDelete = element => {\n    const confirmed = window.confirm(\"정말 삭제하시겠어요?\");\n    if (!confirmed) return;\n\n    switch (element.type) {\n      case \"lecture\":\n        const lectureId = element.data.id;\n        this.deleteLecture(lectureId);\n        break;\n      case \"project\":\n        const projectId = element.data.id;\n        this.deleteProject(projectId);\n        break;\n      default:\n        break;\n    }\n  };\n\n  addLectureForCourse(courseId) {\n    request\n      .addDreamLectureForCourse(courseId)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          const { lecture } = json;\n          this.setState(prevState => {\n            for (let course of prevState.courses) {\n              if (course.id === courseId) {\n                if (course.lectures) {\n                  course.lectures.push(lecture);\n                } else {\n                  course.lectures = [lecture];\n                }\n              }\n            }\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n  }\n  deleteLecture(lectureId) {\n    request\n      .deleteDreamLecture(lectureId)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          this.setState(prevState => {\n            for (let course of prevState.courses) {\n              const index = course.lectures.findIndex(\n                lecture => lecture.id === lectureId\n              );\n              if (index >= 0) {\n                course.lectures.splice(index, 1);\n              }\n            }\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n  }\n  addProjectForLecture(lectureId) {\n    request\n      .addDreamProjectForLecture(lectureId)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          const { project } = json;\n          this.setState(prevState => {\n            for (let course of prevState.courses) {\n              for (let lecture of course.lectures || []) {\n                if (lecture.id === lectureId) {\n                  if (lecture.projects) {\n                    lecture.projects.push(project);\n                  } else {\n                    lecture.projects = [project];\n                  }\n                }\n              }\n            }\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n  }\n  deleteProject(projectId) {\n    request\n      .deleteDreamProject(projectId)\n      .then(res => res.json())\n      .then(json => {\n        if (json.success) {\n          this.setState(prevState => {\n            for (let course of prevState.courses) {\n              for (let lecture of course.lectures || []) {\n                const index = lecture.projects.findIndex(\n                  project => project.id === projectId\n                );\n                if (index >= 0) {\n                  lecture.projects.splice(index, 1);\n                }\n              }\n            }\n            return true;\n          });\n        } else {\n          throw json;\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        window.alert(JSON.stringify(err));\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"dreamEditor_projectList\">\n        <div className=\"dreamEditor_projectList_header\">\n          <div className=\"dreamEditor_projectList_title\">프로젝트 목록</div>\n          <select\n            className=\"dreamEditor_projectList_locale\"\n            value={localStorage.getItem(\"wizLang\") || \"ko\"}\n            onChange={this.onChangeLocale}\n          >\n            {[\"ko\",\"en\",\"zh\",\"jp\"].map(locale => (\n              <option key={locale} value={locale}>{locale}</option>\n            ))}\n          </select>\n          <div\n            className=\"dreamEditor_projectList_refresh\"\n            onClick={this.onClickRefresh}\n          >\n            새로고침\n          </div>\n        </div>\n        <div className=\"dreamEditor_projectList_body\">\n          <List\n            list={this.list}\n            onClickElement={this.onClickElement}\n            onClickElementFold={this.onClickElementFold}\n            onClickElementAdd={this.onClickElementAdd}\n            onClickElementDelete={this.onClickElementDelete}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction List(props) {\n  const {\n    list = [],\n    onClickElement,\n    onClickElementFold,\n    onClickElementAdd,\n    onClickElementDelete\n  } = props;\n  return (\n    <div className=\"dreamEditor_projectList_list\">\n      {list.map((element, index) => (\n        <Element\n          key={index}\n          element={element}\n          onClick={onClickElement}\n          onClickFold={onClickElementFold}\n          onClickAdd={onClickElementAdd}\n          onClickDelete={onClickElementDelete}\n        />\n      ))}\n    </div>\n  );\n}\nfunction Element(props) {\n  const { element, onClick, onClickFold, onClickAdd, onClickDelete } = props;\n  if (!element) return null;\n\n  let isFoldable, isAddable, isDeletable;\n  switch (element.type) {\n    case \"course\":\n      isFoldable = true;\n      isAddable = true;\n      isDeletable = false;\n      break;\n    case \"lecture\":\n      isFoldable = true;\n      isAddable = true;\n      isDeletable = true;\n      break;\n    default:\n      isFoldable = false;\n      isAddable = false;\n      isDeletable = true;\n      break;\n  }\n\n  let iconURL, title;\n  switch (element.type) {\n    case \"course\":\n      const course = element.data;\n      iconURL = course.iconURL;\n      title = `${\n        course.localized && course.localized[0]\n        ? course.localized[0].title\n        : course.title}`;\n      break;\n    case \"lecture\":\n      const lecture = element.data;\n      title = `${\n        lecture.localized && lecture.localized[0]\n        ? lecture.localized[0].title\n        : lecture.title}`;\n      break;\n    case \"project\":\n      const project = element.data;\n      title = `${\n        project.localized && project.localized[0]\n        ? project.localized[0].title\n        : project.title}`;\n      break;\n    default:\n      title = null;\n      break;\n  }\n\n  return (\n    <div\n      className={`dreamEditor_projectList_element dreamEditor_projectList_element-${\n        element.type\n      }${\n        element.isSelected ? \"  dreamEditor_projectList_element-selected\" : \"\"\n      }`}\n      onClick={() => {\n        onClick(element);\n      }}\n    >\n      {isFoldable && (\n        <div\n          className=\"dreamEditor_projectList_element_fold\"\n          onClick={e => {\n            e.stopPropagation();\n            onClickFold(element);\n          }}\n        >\n          <span>{element.isFolded ? \"+\" : \"-\"}</span>\n        </div>\n      )}\n      {iconURL && (\n        <img\n          className=\"dreamEditor_projectList_element_icon\"\n          src={iconURL.toDreamclassS3URL()}\n          alt=\"icon\"\n        />\n      )}\n      {title && (\n        <div className=\"dreamEditor_projectList_element_title\">{title}</div>\n      )}\n      {element.isSelected && (\n        <div className=\"dreamEditor_projectList_element_btns\">\n          {isAddable && (\n            <button\n              className=\"dreamEditor_projectList_element_btn dreamEditor_projectList_element_btn-add\"\n              onClick={() => {\n                onClickAdd(element);\n              }}\n            >\n              추가\n            </button>\n          )}\n          {isDeletable && (\n            <button\n              className=\"dreamEditor_projectList_element_btn dreamEditor_projectList_element_btn-delete\"\n              onClick={() => {\n                onClickDelete(element);\n              }}\n            >\n              삭제\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ProjectList;\n"]},"metadata":{},"sourceType":"module"}