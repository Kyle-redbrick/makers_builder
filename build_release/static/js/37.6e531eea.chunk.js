(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1249:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),l=n(43),o=n(2480),i=n(87);t.default=function(e){return c.a.createElement(r.a,{store:l.default},c.a.createElement(i.default,null,c.a.createElement(o.default,e)))}},1492:function(e,t,n){"use strict";n.r(t);var a=n(22),c=n(0),r=n.n(c),l=n(5182),o=n(5194);t.default=function(e){var t=e.contentImgSrc,n=e.imgStyle,c=e.contentTitle,i=e.container,s=e.backgroundColor,u=Object(o.a)(function(e){return{customWidth:{maxWidth:400,backgroundColor:s||"#151424",borderRadius:"0px"},arrow:{color:s||"#151424"}}});return r.a.createElement(l.a,{classes:{tooltip:u().customWidth,arrow:u().arrow},arrow:!0,title:r.a.createElement("div",null,c&&r.a.createElement("div",{style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"25px",width:"100%",overflow:"hidden"}},c),t&&r.a.createElement("img",{src:t,style:Object(a.a)({width:"100%"},n),alt:"img"}))},i)}},1879:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(0),r=n.n(c),l=n(2),o=(n(3111),n(1));t.default=Object(l.e)(function(e){var t=e.handleUploadFile,n=e.handleUploadIcon,c=e.handleSelectIcon,l=e.customIconUrl,i=e.handleSubmit,s=e.intl,u=["add",l].concat(Object(a.a)(o.DEFAULT_PROFILE_IMAGES)).filter(function(e){return null!==e});return r.a.createElement("div",{className:"IconSelector"},r.a.createElement("input",{id:"uploadInput",type:"file",hidden:!0,onChange:t,accept:".jpg,.png,.jpeg"}),r.a.createElement("div",{className:"IconSelector_IconWrap"},u.map(function(e,t){return 0===t?r.a.createElement("div",{key:t,className:"IconSelector-item"},r.a.createElement("div",{className:"IconSelector-iconWrap",onClick:n},r.a.createElement("div",{className:"IconSelector-icon"},r.a.createElement("div",{className:"IconSelector-add"},s.formatMessage({id:"ID_ICON_SETTING_ADD"}))))):r.a.createElement("div",{key:t,className:"IconSelector-item"},r.a.createElement("div",{className:"IconSelector-iconWrap",onClick:function(){c(e)}},r.a.createElement("img",{className:"IconSelector-icon",src:e,alt:"img"})))})),r.a.createElement("div",{className:"IconSelector-submit",onClick:i},s.formatMessage({id:"ID_ICON_SETTING_SUBMIT"})))})},2480:function(e,t,n){"use strict";n.r(t);var a=n(15),c=n.n(a),r=n(23),l=n(4),o=n(6),i=n(8),s=n(14),u=n(7),d=n(0),p=n.n(d),m=n(11),f=n(47),I=n(2),E=n(21),T=n(13),h=n(310),b=n(2481),_=n(12);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(u.a)(e);if(t){var c=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var N=function(e){Object(i.a)(n,e);var t=S(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.getUserProfile()},a.getUserProfile=Object(r.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.userProfile({email:a.props.userinfo.email}).then(function(e){return e.json()}).catch(function(e){return console.error(e)});case 2:t=e.sent,a.setState({selectedIconUrl:t.icon,customIconUrl:t.customIcon?JSON.parse(t.customIcon)[0]:null,profile:t});case 4:case"end":return e.stop()}},e)})),a.handleUploadIcon=function(){document.getElementById("uploadInput").click()},a.handleUploadFile=function(){var e=Object(r.a)(c.a.mark(function e(t){var n,r,l,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,r=t.target.files[0]){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(h.ImageCompressor)(r);case 6:return l=e.sent,n.append("file",l),e.prev=8,e.next=11,m.upload(n);case 11:return o=e.sent,e.next=14,o.json();case 14:i=e.sent,a.setState({selectedIconUrl:i.url,customIconUrl:i.url}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.error(e.t0);case 21:case"end":return e.stop()}},e,null,[[8,18]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSelectTab=function(e){e!==a.state.selectedTab&&a.setState({selectedTab:e})},a.handleSelectIcon=function(e){e!==a.state.selectedIconUrl&&a.setState({selectedIconUrl:e})},a.handleSubmit=function(){var e=Object(r.a)(c.a.mark(function e(t){var n,r,l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.selectedIconUrl,l=n.customIconUrl,r){e.next=4;break}return e.abrupt("return");case 4:return o={email:a.props.userinfo.email,icon:r},l&&(o.customIcon=JSON.stringify([l])),e.prev=6,e.next=9,m.updateUserInfo(o);case 9:a.props.updateUserInfo(o),Object(_.showPopUp)(p.a.createElement(_.default.OneButton,{title:a.props.intl.formatMessage({id:"ID_SETTING_ALERT_TITLE_SUCC"}),subtitle:a.props.intl.formatMessage({id:"ID_SETTING_ALERT_PROFILE_SUCC"}),buttonName:a.props.intl.formatMessage({id:"ID_SETTING_ALERT_CLOSEBTN"}),buttonAction:function(){a.props.history.replace("/mypage")}}),{darkmode:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),Object(_.showPopUp)(p.a.createElement(_.default.OneButton,{title:a.props.intl.formatMessage({id:"ID_SETTING_ALERT_TITLE_FAIL"}),subtitle:a.props.intl.formatMessage({id:"ID_SETTING_ALERT_RETRY"}),buttonName:a.props.intl.formatMessage({id:"ID_SETTING_ALERT_CLOSEBTN"})}),{darkmode:!0});case 16:case"end":return e.stop()}},e,null,[[6,13]])}));return function(t){return e.apply(this,arguments)}}(),a.onClickMobileTooltip=function(e){Object(_.showPopUp)(p.a.createElement(_.default.OneButton,{title:e,buttonNameId:"ID_MYPAGE_TOOLTIP_TIER_CONFIRM",intl:a.props.intl}),{darkmode:!0,dismissButton:!1})},a.TAB_TYPE={ICON:{title:a.props.intl.formatMessage({id:"ID_MYPAGE_ICONSETTING_TABTAPE_ICON"}),tooltip:a.props.intl.formatMessage({id:"ID_MYPAGE_ICONSETTING_TABTAPE_ICONTOOLTIP"})},EDGE:{title:a.props.intl.formatMessage({id:"ID_MYPAGE_ICONSETTING_TABTAPE_EDGE"}),tooltip:a.props.intl.formatMessage({id:"ID_MYPAGE_ICONSETTING_TABTAPE_EDGETOOLTIP"})}},a.state={selectedTab:a.TAB_TYPE.ICON.title,selectedIconUrl:void 0,customIconUrl:null,profile:a.props.userinfo},a}return Object(o.a)(n,[{key:"render",value:function(){if(!this.props.userinfo.email)return p.a.createElement(T.a,{to:"/"});var e=this.state,t=e.selectedTab,n=e.selectedIconUrl,a=e.profile,c=e.customIconUrl;return p.a.createElement(b.default,{handleUploadIcon:this.handleUploadIcon,handleUploadFile:this.handleUploadFile,handleSelectIcon:this.handleSelectIcon,handleSubmit:this.handleSubmit,handleSelectTab:this.handleSelectTab,selectedTab:t,selectedIconUrl:n,profile:a,TAB_TYPE:this.TAB_TYPE,customIconUrl:c,onClickMobileTooltip:this.onClickMobileTooltip})}}]),n}(d.Component);t.default=Object(E.b)(function(e){return{userinfo:e.userinfo}},{updateUserInfo:f.updateUserInfo})(Object(I.e)(Object(T.i)(N)))},2481:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(2),l=n(304),o=(n(3110),n(1492)),i=n(77),s=n(1879),u=n(2752),d=n.n(u);t.default=Object(r.e)(function(e){var t,n=e.handleUploadIcon,a=e.handleUploadFile,r=e.handleSelectIcon,u=e.handleSelectTab,p=e.handleSubmit,m=e.selectedTab,f=e.selectedIconUrl,I=e.profile,E=e.TAB_TYPE,T=e.customIconUrl,h=e.onClickMobileTooltip,b=e.intl;switch(m){case E.ICON.title:t=c.a.createElement(s.default,{handleUploadFile:a,handleUploadIcon:n,handleSelectIcon:r,customIconUrl:T,handleSubmit:p,profile:I});break;case E.EDGE.title:t=c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},b.formatMessage({id:"ID_ICON_SETTING_DEFAULT_MSG"}))}return c.a.createElement(l.default,null,c.a.createElement("div",{className:"Page--Setting"},c.a.createElement("div",{className:"Setting--Inner"},c.a.createElement("section",{className:"Setting_Head"},c.a.createElement("div",{className:"Setting_Head-iconWrap"},f&&c.a.createElement(i.default,{iconSrc:f}))),c.a.createElement("section",{className:"Setting_SelectView"},c.a.createElement("div",{className:"Setting_Tabs"},Object.keys(E).map(function(e,t){return c.a.createElement("div",{key:t,className:"Setting_Tabs-tap",style:m===E[e].title?{color:"white"}:{},onClick:function(){u(E[e].title)}},c.a.createElement("div",{className:"Setting_Tabs-title"},E[e].title),c.a.createElement("div",{className:"Setting_Tabs-tooltip"},c.a.createElement(o.default,{contentTitle:E[e].tooltip,container:c.a.createElement("img",{src:d.a,alt:"img",style:{width:"12px",height:"12px"}}),backgroundColor:"#2c2f4f"})),c.a.createElement("img",{className:"Setting_Tabs-tooltipMobile",src:d.a,alt:"img",onClick:function(){h(E[e].tooltip)}}))})),c.a.createElement("div",{className:"Setting_Tabs_Ani"},c.a.createElement("div",{className:"Setting_Tabs_Ani-bar",style:m===E.ICON.title?{left:"0px"}:m===E.EDGE.title?{left:"calc(50%)"}:{}})),c.a.createElement("div",{className:"Setting_Contents"},t)))))})},2752:function(e,t,n){e.exports=n.p+"static/media/icon-tooltip.4f97d925.svg"},3110:function(e,t,n){},3111:function(e,t,n){}}]);
//# sourceMappingURL=37.6e531eea.chunk.js.map