(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1260:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(21),c=n(43),r=n(2504),s=n(87);t.default=function(e){return o.a.createElement(i.a,{store:c.default},o.a.createElement(s.default,null,o.a.createElement(r.default,e)))}},1381:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n.n(a),i=n(23),c=n(22),r=n(4),s=n(6),l=n(177),m=n(8),d=n(14),u=n(7),f=n(0),p=n.n(f),_=n(3342),C=n(310),E=n(11),h=n(12),g=n(1491),v=n(1398);n(1423);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var O=function(e){Object(m.a)(n,e);var t=k(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).setEditorRef=function(e){a.editor=e},a.focusEditor=function(){a.editor&&a.editor.focus()},a.setContents=function(e){try{var t=Object(l.a)(a),n=t.onChangeMedia,o=t.onChangeAceFouced,i=a.props.readonly,c=void 0!==i&&i;for(var r in e.entityMap){var s=e.entityMap[r];s.data.readonly=c,s.data.onChangeMedia=n,s.data.onChangeAceFouced=o}var m=Object(_.convertFromRaw)(e),d=_.EditorState.createWithContent(m);a.setState({editorState:d})}catch(u){console.warn(u)}},a.getContents=function(){for(var e=a.state.editorState.getCurrentContent(),t=JSON.parse(JSON.stringify(Object(_.convertToRaw)(e))),n=t.blocks.length;n--;){var o=t.blocks[n];if(!("atomic"!==o.type&&o.text.replace(/\s/g,"").length<1))break;t.blocks.splice(n,1)}for(var i=!1,c=0;c<t.blocks.length;c++){var r=t.blocks[c];if("atomic"===r.type||r.text.replace(/\s/g,"").length>0){i=!0;break}}if(!i)return null;for(var s in t.entityMap){var l=t.entityMap[s];delete l.data.readonly,delete l.data.onChangeMedia,delete l.data.onChangeAceFouced}return t},a.getText=function(){return a.getContents().blocks.reduce(function(e,t){return e+" "+("atomic"!==t.type?t.text:"")},"")},a.emptyContents=function(){var e=a.props,t=e.readonly,n=void 0!==t&&t,o=e.onChangeContents;n||(o(null),a.setState({editorState:_.EditorState.createEmpty()}))},a.onChangeEditorState=function(e){var t=a.props,n=t.readonly,o=void 0!==n&&n,i=t.onChangeContents;o||a.setState({editorState:e},function(){i&&i(a.getContents())})},a.onChangeMedia=function(){a.onChangeEditorState(a.state.editorState)},a.onChangeAceFouced=function(e){a.setState({aceFouced:e})},a.addMedia=function(e,t){var n=Object(l.a)(a),o=n.onChangeMedia,i=n.onChangeAceFouced,r=a.props.readonly,s=void 0!==r&&r,m=a.state.editorState,d=m.getCurrentContent().createEntity(e,"IMMUTABLE",Object(c.a)({},t,{readonly:s,onChangeMedia:o,onChangeAceFouced:i})),u=d.getLastCreatedEntityKey(),f=_.AtomicBlockUtils.insertAtomicBlock(_.EditorState.set(m,{currentContent:d}),u," ");a.setState({editorState:f},function(){a.onChangeEditorState(f)})},a.handleFileInput=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,i,c,r,s,l,m,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files,i=0;case 2:if(!(i<n.length)){e.next=23;break}c=n[i],r=c.type.split("/"),s=r[0],e.t0=s,e.next="image"===e.t0?9:19;break;case 9:return l=new FormData,e.next=12,Object(C.ImageCompressor)(c);case 12:return m=e.sent,l.append("file",m),e.next=16,E.upload(l).then(function(e){return e.json()});case 16:return d=e.sent,a.addMedia("image",{src:d.url}),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:i++,e.next=2;break;case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onClickFile=function(){var e=document.getElementById("draftEditor_fileInput-".concat(a.editorId));e&&e.click()},a.onClickCode=function(){a.addMedia("code",{code:""})},a.onClickGame=function(){Object(h.showPopUp)(p.a.createElement(v.default,{onChangeGame:function(e){a.addMedia("game",{pId:e})}}),{darkmode:!0})},a.editorId=a.randomString(),a.state={editorState:_.EditorState.createEmpty(),aceFouced:!1},a}return Object(s.a)(n,[{key:"randomString",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<6;n++){var a=Math.floor(Math.random()*e.length);t+=e.substring(a,a+1)}return t}},{key:"render",value:function(){var e=this.props,t=e.readonly,n=void 0!==t&&t,a=e.placeholder,o=void 0===a?"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694":a,i=this.state,c=i.editorState,r=i.aceFouced,s=this.editorId,l=this.setEditorRef,m=this.onChangeEditorState,d=this.handleFileInput;return p.a.createElement("div",{className:"draftEditor"},p.a.createElement(_.Editor,{ref:l,editorState:c,onChange:m,blockRendererFn:g.default,placeholder:n?"":o,readOnly:n||r}),p.a.createElement("input",{id:"draftEditor_fileInput-".concat(s),type:"file",accept:".jpg,.jpeg,.png",onChange:d,multiple:!0,hidden:!0}))}}]),n}(f.Component);t.default=O},1398:function(e,t,n){"use strict";n.r(t);var a=n(4),o=n(6),i=n(8),c=n(14),r=n(7),s=n(0),l=n.n(s),m=n(11),d=n(2);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var f=function(e){Object(i.a)(n,e);var t=u(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).getGames=function(){var e=o.state.keyword,t=o.props.intl;m.getPublishedProjectByKeyword({keyword:e}).then(function(e){return e.json()}).then(function(e){o.setState({games:e,selectedIndex:null,placeholder:t.formatMessage({id:"ID_GAMEPOPUP_SEARCH_INFO_ERROR"})})})},o.onChangeKeyword=function(e){var t=o.props.intl,n=e.target.value;o.setState({keyword:n},function(){o.timeout&&clearTimeout(o.timeout),""===n?o.setState({games:[],selectedIndex:null,placeholder:t.formatMessage({id:"ID_GAMEPOPUP_SEARCH_INFO"})}):o.timeout=setTimeout(function(){o.getGames()},200)})},o.onClickGame=function(e){var t=o.state.selectedIndex;o.setState({selectedIndex:e===t?null:e})},o.onDoubleClickGame=function(e){var t=o.props,n=t.dismiss,a=t.onChangeGame;a&&a(o.state.games[e].pId),n()},o.onClickConfirm=function(){var e=o.props,t=e.dismiss,n=e.onChangeGame,a=o.state,i=a.games,c=a.selectedIndex;n&&n(i[c].pId),t()},o.state={keyword:"",games:[],selectedIndex:null,placeholder:e.intl.formatMessage({id:"ID_GAMEPOPUP_SEARCH_INFO"})},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("popup_draft_input");e&&e.focus()}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.state,n=t.keyword,a=t.games,o=t.selectedIndex,i=t.placeholder,c=this.props.intl;return l.a.createElement("div",{className:"popup_draft"},l.a.createElement("div",{className:"popup_draft_title"},c.formatMessage({id:"ID_GAMEPOPUP_TITLE"}),l.a.createElement("input",{id:"popup_draft_input",className:"popup_draft_input",placeholder:c.formatMessage({id:"ID_GAMEPOPUP_SEARCH_INFO2"}),value:n,onChange:this.onChangeKeyword})),l.a.createElement("div",{className:"popup_draft_games"},a.length>0?a.map(function(t,n){return l.a.createElement("div",{key:n,className:"popup_draft_game ".concat(n===o?"popup_draft_game-selected":""),onClick:function(){e.onClickGame(n)},onDoubleClick:function(){e.onDoubleClickGame(n)}},l.a.createElement("img",{className:"popup_draft_game_image",src:t.icon,alt:t.name}),l.a.createElement("section",{className:"popup_draft_game_section"},l.a.createElement("div",{className:"popup_draft_game_title"},t.name),l.a.createElement("div",{className:"popup_draft_game_desc"},t.description.length>78?t.description.slice(0,78)+"...":t.description),l.a.createElement("div",{className:"popup_draft_game_user"},l.a.createElement("img",{className:"popup_draft_game_user_image",src:t.user.icon,alt:t.user.name}),l.a.createElement("div",{className:"popup_draft_game_user_name"},t.user.name))))}):l.a.createElement("div",{className:"popup_draft_game_placeholder"},i)),l.a.createElement("button",{className:"popup_draft_btn ".concat(null===o?"popup_draft_btn-disabled":""),onClick:function(){null!==o&&e.onClickConfirm()}},c.formatMessage({id:"ID_GAMEPOPUP_ADD_LINK"})))}}]),n}(s.Component);t.default=Object(d.e)(f)},1423:function(e,t,n){},1424:function(e,t,n){e.exports=n.p+"static/media/social_more.8eca7197.svg"},1427:function(e,t,n){"use strict";n.r(t),n.d(t,"dateFormatter",function(){return o});var a=n(46),o=function(e){var t=a(),n=a(e),o=t.diff(n,"years"),i=t.diff(n,"weeks"),c=t.diff(n,"days"),r=t.diff(n,"hours"),s=t.diff(n,"minutes"),l=t.dayOfYear()-n.dayOfYear();return o?a(e).format("YYYY\ub144 M\uc6d4 D\uc77c"):i?a(e).format("M\uc6d4 D\uc77c"):c?1===c?"\uc5b4\uc81c":"".concat(c,"\uc77c \uc804"):l?"\uc5b4\uc81c":r?"".concat(r,"\uc2dc\uac04 \uc804"):s?"".concat(s,"\ubd84 \uc804"):"\ubc29\uae08"}},1428:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a);n(3138);t.default=function(e){var t=e.menus,n=void 0===t?[]:t,a=e.cancelButtonName,i=e.dismiss;return o.a.createElement("div",{className:"social_menus"},n.map(function(e,t){var n=e.name,a=e.onClick;return o.a.createElement("div",{className:"social_menu",onClick:function(){a(),i()},key:t},n)}),o.a.createElement("div",{className:"social_menu social_menu-cancel",onClick:i},a))}},1491:function(e,t,n){"use strict";n.r(t);var a=n(22),o=n(4),i=n(6),c=n(177),r=n(8),s=n(14),l=n(7),m=n(0),d=n.n(m),u=n(11),f=n(1),p=n(12),_=n(1398);n(1423);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var E=function(e){Object(r.a)(n,e);var t=C(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).setAceEditor=function(){var e=Object(c.a)(i),t=e.key,n=e.readonly,a=i.state.data,o=window.ace.edit("ace-editor-".concat(t),{maxLines:50,minLines:5,wrap:!0,autoScrollEditorIntoView:!0});o.session.setMode("ace/mode/".concat(f.EDITORMODE.JAVASCRIPT)),o.setTheme("ace/theme/wizschool-light"),o.setReadOnly(n),o.setValue(a.code,1),o.on("blur",i.onEditorBlur),o.on("focus",i.onEditorFocus),o.on("change",i.onEditorChange)},i.onEditorBlur=function(){i.onChangeAceFouced(!1)},i.onEditorFocus=function(){i.onChangeAceFouced(!0)},i.onEditorChange=function(e,t){var n=Object(c.a)(i),a=n.readonly,o=n.onChangeMedia,r=n.onChangeAceFouced,s=t.getValue(),l=i.props,m=l.block,d=l.contentState,u=m.getEntityAt(0);d.replaceEntityData(u,{code:s,readonly:a,onChangeMedia:o,onChangeAceFouced:r}),o()},i.getGame=function(){var e=i.state.data;u.getPublishedProject({pId:e.pId}).then(function(e){return e.json()}).then(function(e){i.setState({game:e})})},i.onClickMedia=function(){var e=Object(c.a)(i),t=e.type,n=e.readonly,o=e.onChangeMedia,r=i.state.data;switch(t){case"game":n?window.open("".concat(window.location.origin,"?pId=").concat(r.pId),"_blank"):Object(p.showPopUp)(d.a.createElement(_.default,{onChangeGame:function(e){var t=i.props,c=t.block,r=t.contentState,s=c.getEntityAt(0);r.replaceEntityData(s,{pId:e,readonly:n,onChangeMedia:o}),i.setState(function(t){return{data:Object(a.a)({},t.data,{pId:e})}},function(){o(),i.getGame()})}}),{darkmode:!0})}};var r=i.props,s=r.block,l=r.contentState,m=s.getEntityAt(0),C=l.getEntity(m),E=C.getData();return i.key=s.getKey(),i.type=C.getType(),i.readonly=E.readonly,i.onChangeMedia=E.onChangeMedia,i.onChangeAceFouced=E.onChangeAceFouced,i.state={data:E},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){switch(this.type){case"code":this.setAceEditor();break;case"game":this.getGame()}}},{key:"render",value:function(){var e,t=this.key,n=this.type,a=this.state,o=a.data,i=a.game;switch(n){case"image":e=d.a.createElement("img",{className:"draftmedia_image",src:o.src,alt:t});break;case"code":e=d.a.createElement("div",{id:"ace-editor-".concat(t),className:"draftmedia_code"});break;case"game":i&&(e=d.a.createElement("div",{className:"draftmedia_game"},d.a.createElement("img",{className:"draftmedia_game_image",src:i.icon,alt:i.name}),d.a.createElement("section",{className:"draftmedia_game_section"},d.a.createElement("div",{className:"draftmedia_game_title"},i.name),d.a.createElement("div",{className:"draftmedia_game_desc"},i.description.length>78?i.description.slice(0,78)+"...":i.description),d.a.createElement("div",{className:"draftmedia_game_user"},d.a.createElement("img",{className:"draftmedia_game_user_image",src:i.user.icon,alt:i.user.name}),d.a.createElement("div",{className:"draftmedia_game_user_name"},i.user.name)))))}return d.a.createElement("div",{className:"draftmedia",onClick:this.onClickMedia},e)}}]),n}(m.Component);t.default=function(e){switch(e.getType()){case"atomic":if(e.getEntityAt(0))return{component:E,editable:!1};break;default:return}}},1503:function(e,t,n){e.exports=n.p+"static/media/social_media_image.781d017a.svg"},1883:function(e,t,n){"use strict";n.r(t);var a=n(16),o=n(22),i=n(4),c=n(6),r=n(8),s=n(14),l=n(7),m=n(0),d=n.n(m),u=n(21),f=n(2),p=n(13),_=n(11),C=n(12),E=n(1381),h=n(139),g=n(57),v=n(1884),k=n(1428),O=n(1427),y=(n(3140),n(1424)),I=n.n(y),N=n(1958),b=n.n(N),S=n(1957),A=n.n(S),T=n(2832),w=n.n(T),M=n(328),D=n.n(M),L=n(320),R=n.n(L);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var j=function(e){Object(r.a)(n,e);var t=P(n);function n(e){var c;Object(i.a)(this,n),(c=t.call(this,e)).setFolding=function(){var e=c.props.article.id,t=document.getElementById("article_contents-".concat(e));t&&(t.offsetHeight<420&&c.setState({fold:!1}))},c.onClickUser=function(){var e=c.props.article.user;window.scrollTo(0,0),c.props.history.push("/userpage/".concat(e.id))},c.onClickMore=function(){var e=[],t=c.props,n=t.email,a=t.article,o=t.intl.formatMessage;if(a.user.email===n){var i={name:o({id:"ID_SOCIAL_MORE_UPDATE"}),onClick:c.onClickUpdate};e.push(i);var r={name:o({id:"ID_SOCIAL_MORE_DELTE"}),onClick:c.onClickDelete};e.push(r)}var s={name:o({id:"ID_SOCIAL_MORE_REPORT"}),onClick:c.onClickReport};e.push(s),Object(C.showPopUp)(d.a.createElement(k.default,{menus:e,cancelButtonName:o({id:"ID_SOCIAL_MORE_CANCEL"})}),{dismissOverlay:!0,dismissButton:!1,defaultPadding:!1,darkmode:!0})},c.onClickSubscribe=function(){var e=c.props.article.user;c.props.onClickSubscribe(e)},c.onClickUpdate=function(){var e=c.props.article.id;c.props.history.push("/socialwrite/".concat(e))},c.onClickReport=function(){c.props.email?Object(C.showPopUp)(d.a.createElement(h.default,{targetType:"socialArticle",targetContentId:c.props.article.id,targetUserId:c.props.article.user.id}),{darkmode:!0,mobileFullscreen:!1,dismissButton:!1}):Object(C.showPopUp)(d.a.createElement(g.default,null),{darkmode:!0,mobileFullscreen:!0})},c.onClickShare=function(){},c.onClickDelete=function(){var e=c.props.intl.formatMessage;Object(C.showPopUp)(d.a.createElement(C.default.TwoButton,{title:e({id:"ID_SOCIAL_ARTICLE_DELETE_TITLE"}),cancelButtonName:e({id:"ID_SOCIAL_ARTICLE_DELETE_CANCEL"}),confirmButtonName:e({id:"ID_SOCIAL_ARTICLE_DELETE_CONFIRM"}),confirmAction:function(){var t=c.props.article;_.deleteSocialArticle(t.id).then(function(e){return e.json()}).then(function(t){t.success&&(c.props.onClickDelete(),Object(C.showPopUp)(d.a.createElement(C.default.OneButton,{title:e({id:"ID_SOCIAL_ARTICLE_DELETED_TITLE"}),buttonName:e({id:"ID_SOCIAL_ARTICLE_DELETED_CONFIRM"})}),{dismissOverlay:!0,dismissButton:!1,darkmode:!0}))}).catch(function(e){console.error(e)})}}),{dismissOverlay:!0,dismissButton:!1,darkmode:!0})},c.setDraftEditorRef=function(e){e&&(c.draftEditor=e)},c.onClickContentsMore=function(){c.setState({fold:!1})},c.onClickLike=function(){if(c.lastLikeTime&&(new Date).getTime()-c.lastLikeTime<1200)return c.lastLikeTime=(new Date).getTime(),void Object(C.showPopUp)(d.a.createElement(C.default.OneButton,{title:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_TITLE"}),buttonName:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_BTN"})}),{darkmode:!0});c.lastLikeTime=(new Date).getTime();var e=c.props,t=e.email,n=e.article;t?_.likeSocialArticle({email:t,articleId:n.id}).then(function(e){return e.json()}).then(function(e){var t=e.isLiked;c.setState(function(e){return{isLiked:t,likeCount:e.likeCount+(t?1:-1)}})}):Object(C.showPopUp)(d.a.createElement(g.default,null),{darkmode:!0,mobileFullscreen:!0})},c.onAddNewComment=function(e){c.setState(function(t){return{comments:[].concat(t.comments,Object(o.a)({},e,{contents:JSON.parse(e.contents),createdAt:Object(O.dateFormatter)(e.createdAt)})),commentsMax:t.commentsMax+1}})},c.onClickNewReply=function(e){var t=Object(a.a)(c.state.comments).map(function(t){return Object(o.a)({},t,{showNewReply:!t.showNewReply&&t.id===e})});c.setState({comments:t})},c.onClickSelectQuest=function(e){_.selectSocialQuest({articleId:c.props.article.id,commentId:e}).then(function(e){return e.json()}).then(function(e){e.success&&c.setState({questEnd:!0})})},c.onClickCommentsMore=function(){var e=c.state.comments,t=c.state.commentsMax+5;t>e.length&&(t=e.length),c.setState({commentsMax:t})};var r=e.article,s=r.isLiked,l=r.likeCount,m=r.questEnd,u=r.comments.map(function(e){var t;try{t=JSON.parse(e.contents)}catch(n){}return Object(o.a)({},e,{contents:t,createdAt:Object(O.dateFormatter)(e.createdAt),showNewReply:!1})});return c.state={fold:!0,isLiked:s,likeCount:l,questEnd:m,comments:u,commentsMax:2},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.draftEditor.setContents(this.props.article.contents),setTimeout(function(){e.setFolding()},10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.email,a=t.article,o=t.onClickTag,i=t.intl.formatMessage,c=this.state,r=c.fold,s=c.isLiked,l=c.likeCount,m=c.questEnd,u=c.comments,f=c.commentsMax,p=a.id,_=a.title,C=a.user,h=a.articleTags,g=a.questPoint,k=a.createdAt,O=u.reduce(function(e,t){return e+t.childComments.length+1},0);return d.a.createElement("div",{className:"article"},d.a.createElement("div",{className:"article_header"},d.a.createElement("div",{className:"article_user"},d.a.createElement("img",{className:"article_user_img",src:C.icon,alt:C.name,onClick:this.onClickUser}),d.a.createElement("div",{className:"article_user_section"},d.a.createElement("div",{className:"article_user_info"},d.a.createElement("div",{className:"article_user_name",onClick:this.onClickUser},C.name),C.isOfficial&&d.a.createElement("div",{className:"article_user_official"},d.a.createElement("img",{className:"article_user_official_img",src:R.a,alt:C.name})),n!==C.email&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"article_user_divider"}),d.a.createElement("button",{className:"article_user_subscribe ".concat(C.isSubscribed?"article_user_subscribe-active":""),onClick:this.onClickSubscribe},C.isSubscribed?i({id:"ID_SOCIAL_ARTICLE_SUBSCRIBED"}):i({id:"ID_SOCIAL_ARTICLE_SUBSCRIBE"})))),d.a.createElement("div",{className:"article_user_date"},k))),d.a.createElement("img",{className:"article_more",src:I.a,alt:"more",onClick:this.onClickMore})),h&&h.length>0&&d.a.createElement("div",{className:"article_tags"},h.map(function(e,t){return d.a.createElement("span",{className:"article_tag",key:t,onClick:function(){o(e.tag.name)}},"#",e.tag.name)})),d.a.createElement("div",{className:"article_title_wrapper"},_&&""!==_&&d.a.createElement("div",{className:"article_title"},_),g>0&&d.a.createElement("div",{className:"article_quest ".concat(m?"article_quest-end":"")},m?i({id:"ID_SOCIAL_ARTICLE_QUEST_END"}):i({id:"ID_SOCIAL_ARTICLE_QUEST"},{questPoint:g}))),d.a.createElement("div",{id:"article_contents-".concat(p),className:"article_contents ".concat(r?"article_contents-fold":"")},d.a.createElement(E.default,{ref:this.setDraftEditorRef,readonly:!0})),r&&d.a.createElement("div",{className:"article_contents_more",onClick:this.onClickContentsMore},d.a.createElement("img",{className:"article_contents_more_img",src:D.a,alt:"arrowDown"})),d.a.createElement("div",{className:"article_reactions"},d.a.createElement("div",{className:"article_reaction article_reaction-like",onClick:this.onClickLike},d.a.createElement("img",{className:"article_reaction_img",src:s?A.a:b.a,alt:"like"}),d.a.createElement("div",{className:"article_reaction_count"},l)),d.a.createElement("div",{className:"article_reaction article_reaction-comment",onClick:this.onClickNewComment},d.a.createElement("img",{className:"article_reaction_img",src:w.a,alt:"comment"}),d.a.createElement("div",{className:"article_reaction_count"},O))),u.length>0&&d.a.createElement("div",{className:"article_comments"},u.length>f&&d.a.createElement("div",{className:"article_comments_more",onClick:this.onClickCommentsMore},d.a.createElement("div",{className:"article_comments_more_text"},i({id:"ID_SOCIAL_ARTICLE_COMMENTS_MORE"}))),u.slice(u.length-f>0?u.length-f:0,u.length).map(function(t,n){return d.a.createElement(v.default,{key:t.id,article:a,comment:t,onClickNewReply:function(){e.onClickNewReply(t.id)},onClickSelectQuest:e.onClickSelectQuest})})),n&&d.a.createElement("div",{className:"article_newComment"},d.a.createElement(v.default,{article:a,onAddNewComment:this.onAddNewComment})))}}]),n}(m.Component);t.default=Object(u.b)(function(e){return{email:e.userinfo.email}})(Object(p.i)(Object(f.e)(j)))},1884:function(e,t,n){"use strict";n.r(t);var a=n(22),o=n(4),i=n(6),c=n(8),r=n(14),s=n(7),l=n(0),m=n.n(l),d=n(21),u=n(2),f=n(13),p=n(11),_=n(12),C=n(1381),E=n(139),h=n(57),g=n(1428),v=n(1427),k=(n(3139),n(1)),O=n(312),y=n(1424),I=n.n(y),N=n(1958),b=n.n(N),S=n(1957),A=n.n(S),T=n(1503),w=n.n(T),M=n(328),D=n.n(M),L=n(320),R=n.n(L);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(r.a)(this,n)}}var j=function(e){Object(c.a)(n,e);var t=P(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).addComment=function(){var e=i.props.intl.formatMessage;if(!Object(O.default)(i.props.user)){var t=i.draftEditor.getContents();if(i.draftEditor.getText().length>1e3)Object(_.showPopUp)(m.a.createElement(_.default.OneButton,{title:e({id:"ID_SOCIAL_WARNNING"}),buttonName:e({id:"ID_BUILDER_ALERT_CONFIRMBTN"})}),{darkmode:!0,dismissButton:!1});else if(t){var n=i.props,a=n.user,o=n.article,c=n.parentCommentId;p.addSocialComment({email:a.email,articleId:o.id,parentCommentId:c,text:i.draftEditor.getText(),contents:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){if(t.success)c?i.props.onAddNewReply(t.comment):i.props.onAddNewComment(t.comment),i.draftEditor.emptyContents();else if(t.spam){var n;switch(t.spam){case k.spamType.SPAM_BAD_WORD:n="ID_SPAM_POPUP_TITLE_BAD_WORD";break;case k.spamType.SPAM_DUPLICATION:n="ID_SPAM_POPUP_TITLE_DUPLICATION";break;case k.spamType.SPAM_TIME:n="ID_SPAM_POPUP_TITLE_TIME"}Object(_.showPopUp)(m.a.createElement(_.default.OneButton,{title:e({id:n}),buttonName:e({id:"ID_SPAM_POPUP_CONFIRM"})}),{darkmode:!0,dismissButton:!1,dismissOverlay:!0})}})}else Object(_.showPopUp)(m.a.createElement(_.default.OneButton,{title:e({id:"ID_SOCIAL_WRITE_EMPTY_TITLE"}),buttonName:e({id:"ID_SOCIAL_WRITE_EMPTY_CONFIRM"})}),{dismissOverlay:!0,dismissButton:!1,darkmode:!0})}},i.updateComment=function(){var e=i.props.intl.formatMessage,t=i.draftEditor.getContents();t?p.updateSocialComment({id:i.props.comment.id,text:i.draftEditor.getText(),contents:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){e.success&&i.setState({readonly:!0},function(){i.draftEditor.setContents(t)})}):Object(_.showPopUp)(m.a.createElement(_.default.OneButton,{title:e({id:"ID_SOCIAL_WRITE_EMPTY_TITLE"}),buttonName:e({id:"ID_SOCIAL_WRITE_EMPTY_CONFIRM"})}),{dismissOverlay:!0,dismissButton:!1,darkmode:!0})},i.setFolding=function(){if(i.state.readonly){var e=i.props.comment.id,t=document.getElementById("comment_contents-".concat(e));if(t)t.offsetHeight<180&&i.setState({fold:!1})}},i.setDraftEditorRef=function(e){e&&(i.draftEditor=e)},i.onChangeContents=function(e){i.contents=e},i.onClickUser=function(){if(i.state.readonly){var e=i.props.comment.user;window.scrollTo(0,0),i.props.history.push("/userpage/".concat(e.id))}},i.onClickContentsMore=function(){i.setState({fold:!1})},i.onClickLike=function(){if(i.lastLikeTime&&(new Date).getTime()-i.lastLikeTime<1200)return i.lastLikeTime=(new Date).getTime(),void Object(_.showPopUp)(m.a.createElement(_.default.OneButton,{title:i.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_TITLE"}),buttonName:i.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_BTN"})}),{darkmode:!0});i.lastLikeTime=(new Date).getTime();var e=i.props,t=e.user,n=e.comment,a=t.email;a?p.likeSocialComment({email:a,commentId:n.id}).then(function(e){return e.json()}).then(function(e){var t=e.isLiked;i.setState(function(e){return{isLiked:t,likeCount:e.likeCount+(t?1:-1)}})}):Object(_.showPopUp)(m.a.createElement(h.default,null),{darkmode:!0,mobileFullscreen:!0})},i.onClickNewReply=function(){i.props.user.email?i.props.onClickNewReply():Object(_.showPopUp)(m.a.createElement(h.default,null),{darkmode:!0,mobileFullscreen:!0})},i.onClickSelectQuest=function(){var e=i.props.intl.formatMessage;Object(_.showPopUp)(m.a.createElement(_.default.TwoButton,{title:e({id:"ID_SOCIAL_COMMENT_QUESTSELECT_TITLE"}),cancelButtonName:e({id:"ID_SOCIAL_COMMENT_QUESTSELECT_CANCEL"}),confirmButtonName:e({id:"ID_SOCIAL_COMMENT_QUESTSELECT_CONFIRM"}),confirmAction:function(){i.setState({questSelected:!0}),i.props.onClickSelectQuest(i.props.comment.id)}}),{dismissButton:!1,darkmode:!0})},i.onClickCommentsMore=function(){var e=i.state.childComments,t=i.state.childCommentsMax+2;t>e.length&&(t=e.length),i.setState({childCommentsMax:t})},i.onClickSubmit=function(){i.props.comment?i.updateComment():i.addComment()},i.onClickMore=function(){if(i.state.readonly){var e=[],t=i.props,n=t.user,a=t.comment,o=t.intl,c=a.deleted,r=o.formatMessage;if(!c&&n.email===a.user.email){var s={name:r({id:"ID_SOCIAL_MORE_UPDATE"}),onClick:i.onClickUpdate};e.push(s);var l={name:r({id:"ID_SOCIAL_MORE_DELTE"}),onClick:i.onClickDelete};e.push(l)}var d={name:r({id:"ID_SOCIAL_MORE_REPORT"}),onClick:i.onClickReport};e.push(d),Object(_.showPopUp)(m.a.createElement(g.default,{menus:e,cancelButtonName:r({id:"ID_SOCIAL_MORE_CANCEL"})}),{dismissOverlay:!0,dismissButton:!1,defaultPadding:!1,darkmode:!0})}},i.onClickUpdate=function(){i.setState({readonly:!1},function(){i.draftEditor.setContents(i.props.comment.contents)})},i.onClickDelete=function(){var e=i.props.intl.formatMessage;Object(_.showPopUp)(m.a.createElement(_.default.TwoButton,{title:e({id:"ID_SOCIAL_COMMENT_DELETE_TITLE"}),cancelButtonName:e({id:"ID_SOCIAL_COMMENT_DELETE_CANCEL"}),confirmButtonName:e({id:"ID_SOCIAL_COMMENT_DELETE_CONFIRM"}),confirmAction:function(){p.deleteSocialComment(i.props.comment.id).then(function(e){return e.json()}).then(function(t){t.success&&i.setState({fold:!1,deleted:!0},function(){Object(_.showPopUp)(m.a.createElement(_.default.OneButton,{title:e({id:"ID_SOCIAL_COMMENT_DELETED_TITLE"}),buttonName:e({id:"ID_SOCIAL_COMMENT_DELETED_CONFIRM"})}),{dismissOverlay:!0,dismissButton:!1,darkmode:!0})})})}}),{dismissOverlay:!0,dismissButton:!1,darkmode:!0})},i.onClickReport=function(){i.props.user.id?Object(_.showPopUp)(m.a.createElement(E.default,{targetType:"socialComment",targetContentId:i.props.comment.id,targetUserId:i.props.comment.user.id}),{darkmode:!0,mobileFullscreen:!1,dismissButton:!1}):Object(_.showPopUp)(m.a.createElement(h.default,null),{darkmode:!0,mobileFullscreen:!0})},i.onAddNewReply=function(e){i.props.onClickNewReply(),i.setState(function(t){return{childComments:[].concat(t.childComments,Object(a.a)({},e,{contents:JSON.parse(e.contents),createdAt:Object(v.dateFormatter)(e.createdAt)})),childCommentsMax:t.childCommentsMax+1}})};var c=e.comment;if(c){i.contents=c.contents;var r=c.childComments?c.childComments.map(function(e){return Object(a.a)({},e,{contents:JSON.parse(e.contents),createdAt:Object(v.dateFormatter)(e.createdAt)})}):[];i.state={readonly:!0,fold:!c.deleted,deleted:c.deleted,isLiked:c.isLiked,likeCount:c.likeCount,questSelected:c.questSelected,childComments:r,childCommentsMax:2}}else i.state={readonly:!1,fold:!0};return i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.readonly,a=t.deleted;n&&!a&&(this.draftEditor.setContents(this.props.comment.contents),setTimeout(function(){e.setFolding()},100))}},{key:"render",value:function(){var e=this,t=this.state,a=t.readonly,o=t.fold,i=t.deleted,c=t.isLiked,r=t.likeCount,s=t.questSelected,l=t.childComments,d=t.childCommentsMax,u=this.props.intl.formatMessage,f=a?this.props.comment:{},p=f.id,_=f.createdAt,E=f.showNewReply,h=a?this.props.comment.user:this.props.user;return m.a.createElement("div",{className:"comment"},m.a.createElement("img",{className:"comment_user_img",src:h.icon,alt:h.name,onClick:this.onClickUser}),m.a.createElement("div",{className:"comment_section"},a?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"comment_header"},m.a.createElement("div",{className:"comment_user_name",onClick:this.onClickUser},h.name),h.isOfficial&&m.a.createElement("div",{className:"comment_user_official"},m.a.createElement("img",{className:"comment_user_official_img",src:R.a,alt:h.name})),a&&m.a.createElement("img",{className:"comment_more",src:I.a,alt:"more",onClick:this.onClickMore})),m.a.createElement("div",{id:"comment_contents-".concat(p),className:"comment_contents comment_contents-readonly ".concat(o?"comment_contents-fold":"")},i?u({id:"ID_SOCIAL_COMMENT_DELETED"}):m.a.createElement(C.default,{ref:this.setDraftEditorRef,readonly:!0})),o&&m.a.createElement("div",{className:"comment_contents_more",onClick:this.onClickContentsMore},m.a.createElement("div",{className:"comment_contents_more_text"},u({id:"ID_SOCIAL_COMMENT_CONTENTS_MORE"})),m.a.createElement("img",{className:"comment_contents_more_img",src:D.a,alt:"arrowDown"})),m.a.createElement("div",{className:"comment_actions"},m.a.createElement("button",{className:"comment_action comment_action-disabled"},_),m.a.createElement("img",{className:"comment_action_img",src:c?A.a:b.a,alt:"like",onClick:this.onClickLike}),m.a.createElement("button",{className:"comment_action",onClick:this.onClickLike},r),m.a.createElement("button",{className:"comment_action",onClick:this.onClickNewReply},u({id:"ID_SOCIAL_COMMENT_ACTIONS_REPLY"})),this.props.article.questPoint>0&&this.props.user.email===this.props.article.user.email&&this.props.user.email!==this.props.comment.user.email&&m.a.createElement(m.a.Fragment,null,m.a.createElement("button",{className:"comment_action ".concat(s?"comment_action-active comment_action-disabled":""),onClick:function(){s||e.onClickSelectQuest()}},u(s?{id:"ID_SOCIAL_COMMENT_ACTIONS_QUEST_SELECTED"}:{id:"ID_SOCIAL_COMMENT_ACTIONS_QUEST_SELECT"}))),l.length>d&&m.a.createElement("button",{className:"comment_action",onClick:this.onClickCommentsMore},u({id:"ID_SOCIAL_COMMENT_COMMENTS_MORE"}))),E&&m.a.createElement("div",{className:"comment_newcomment"},m.a.createElement(n,{intl:this.props.intl,user:this.props.user,article:this.props.article,parentCommentId:p,onAddNewReply:this.onAddNewReply}))):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"comment_edtior"},m.a.createElement(C.default,{ref:this.setDraftEditorRef,readonly:!1,onChangeContents:this.onChangeContents,placeholder:u({id:"ID_SOCIAL_COMMENT_PLACEHOLDER"})}),m.a.createElement("img",{className:"comment_edtior_media",src:w.a,alt:"mediaImage",onClick:function(){e.draftEditor.onClickFile()}}),m.a.createElement("div",{className:"comment_edtior_submit",onClick:this.onClickSubmit},u({id:"ID_SOCIAL_COMMENT_SUBMIT"})))),l&&l.length>0&&m.a.createElement("div",{className:"comment_childcomments"},l.slice(l.length-d,l.length).map(function(t,a){return m.a.createElement(n,{key:t.id,intl:e.props.intl,user:e.props.user,article:e.props.article,comment:t,onClickNewReply:e.onClickNewReply,onClickSelectQuest:e.props.onClickSelectQuest})}))))}}]),n}(l.Component);t.default=Object(d.b)(function(e){return{user:e.userinfo}})(Object(f.i)(Object(u.e)(j)))},1957:function(e,t,n){e.exports=n.p+"static/media/social_like-active.41e9e071.svg"},1958:function(e,t,n){e.exports=n.p+"static/media/social_like.e2d7a1d4.svg"},2504:function(e,t,n){"use strict";n.r(t);var a=n(16),o=n(22),i=n(4),c=n(6),r=n(8),s=n(14),l=n(7),m=n(0),d=n.n(m),u=n(21),f=n(13),p=n(2),_=n(12),C=n(11),E=n(103),h=n(1427),g=n(57),v=n(2505),k=n(312);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var y=function(e){Object(r.a)(n,e);var t=O(n);function n(e){var c;return Object(i.a)(this,n),(c=t.call(this,e)).getActivities=function(){switch(c.state.currentCategory){case"recent":c.getRecents();break;case"trend":c.getTrends();break;case"subscribe":c.getSubscribeActivities()}},c.getRecents=function(){var e=c.state,t=e.keywords,n=e.offset,a=e.limit,i={email:c.props.userinfo.email,offset:n,limit:a,keywords:t};C.getSocialArticles(i).then(function(e){return e.json()}).then(function(e){c.setState(function(t){var n=[];return e.articles.forEach(function(e){try{n.push({type:"socialArticle",article:Object(o.a)({},e,{contents:JSON.parse(e.contents),createdAt:Object(h.dateFormatter)(e.createdAt)})})}catch(t){}}),{activities:[].concat(t.activities,n),total:e.total,loading:!1}})})},c.getTrends=function(){var e=c.state,t=e.keywords,n=e.offset,a=e.limit,i={email:c.props.userinfo.email,offset:n,limit:a,keywords:t};C.getSocialTrends(i).then(function(e){return e.json()}).then(function(e){c.setState(function(t){var n=[];return e.articles.forEach(function(e){try{n.push({type:"socialArticle",article:Object(o.a)({},e,{contents:JSON.parse(e.contents),createdAt:Object(h.dateFormatter)(e.createdAt)})})}catch(t){}}),{activities:[].concat(t.activities,n),total:e.total,loading:!1}})})},c.getSubscribeActivities=function(){c.setState({loading:!0},function(){})},c.onScroll=function(e){if(window.innerHeight+window.pageYOffset>=document.body.offsetHeight-1e3){var t=c.state,n=t.offset,a=t.limit,o=t.total,i=t.loading;o>a&&!i&&c.setState({offset:n+c.pageLength,loading:!0},function(){c.getActivities()})}},c.onClickCategory=function(e){e!==c.state.currentCategory&&c.props.history.push("/social/".concat(e))},c.onClickWrite=function(){Object(k.default)(c.props.userinfo)||(c.props.userinfo.email?c.props.history.push("/socialwrite"):Object(_.showPopUp)(d.a.createElement(g.default,null),{darkmode:!0,mobileFullscreen:!0}))},c.onSearchKeyDown=function(e){var t=c.state.keywords,n=e.target.value;13===e.keyCode&&""!==n?(e.target.value="",c.onAddKeyword(n),E.sendGTMEvent("SocialSearch","Social - Search Terms",n)):8===e.keyCode&&""===n&&t.length>0&&c.onDeleteKeyword(t.length-1)},c.onAddKeyword=function(e){var t=c.state.keywords;t.length<=10&&t.indexOf(e)<0&&c.setState({keywords:[].concat(t,e)},function(){c.onChangeKeyword()})},c.onDeleteKeyword=function(e){var t=Object(a.a)(c.state.keywords);t.splice(e,1),c.setState({keywords:t},function(){c.onChangeKeyword()})},c.onResetKeyword=function(){c.setState({keywords:[]},function(){c.onChangeKeyword()})},c.onChangeKeyword=function(){c.setState({activities:[],offset:0,limit:c.pageLength,total:0,loading:!0},function(){c.getActivities()})},c.onClickArticleTag=function(e){c.onAddKeyword(e)},c.onClickArticleDelete=function(e){var t=Object(a.a)(c.state.activities);t.splice(e,1),c.setState({activities:t})},c.onClickArticleSubscribe=function(e){if(c.lastLikeTime&&(new Date).getTime()-c.lastLikeTime<1200)return c.lastLikeTime=(new Date).getTime(),void Object(_.showPopUp)(d.a.createElement(_.default.OneButton,{title:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_TITLE"}),buttonName:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_BTN"})}),{darkmode:!0});c.lastLikeTime=(new Date).getTime();var t=c.props.userinfo.email;if(t)try{var n=e.isSubscribed,a={email:t,creatorEmail:e.email};n?C.removeSubscribe(a).then(function(e){return e.json()}).then(function(t){if(t.success){var a=JSON.parse(JSON.stringify(c.state.activities));a.forEach(function(t){if("socialArticle"===t.type){var a=t.article;a.user.email===e.email&&(a.user.isSubscribed=!n)}}),c.setState({activities:a})}else Object(_.showPopUp)(d.a.createElement(_.default.OneButton,{title:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_TITLE"}),buttonName:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_BTN"})}),{darkmode:!0})}):C.addSubscribe(a).then(function(e){return e.json()}).then(function(t){if(t){var a=JSON.parse(JSON.stringify(c.state.activities));a.forEach(function(t){if("socialArticle"===t.type){var a=t.article;a.user.email===e.email&&(a.user.isSubscribed=!n)}}),c.setState({activities:a})}else Object(_.showPopUp)(d.a.createElement(_.default.OneButton,{title:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_TITLE"}),buttonName:c.props.intl.formatMessage({id:"ID_POPUP_WARNING_REPEAT_CLICK_BTN"})}),{darkmode:!0})})}catch(o){console.error(o)}else Object(_.showPopUp)(d.a.createElement(g.default,null),{darkmode:!0,mobileFullscreen:!0})},c.categories=["recent","trend"],c.pageLength=5,c.state={currentCategory:e.match.params.category||c.categories[0],keywords:[],activities:[],offset:0,limit:c.pageLength,total:0,loading:!1},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),this.props.match.params.category?this.getActivities():(this.props.history.replace("/social/".concat(this.categories[0])),this.getActivities())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.match.params.category;t!==this.state.currentCategory&&this.setState({currentCategory:t,keywords:[],activities:[],offset:0,limit:this.pageLength,total:0,loading:!1},function(){e.getActivities()})}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.userinfo,a=this.state,o=a.currentCategory,i=a.keywords,c=a.activities;return d.a.createElement(v.default,{intl:t,userinfo:n,currentCategory:o,keywords:i,activities:c,categories:this.categories,onClickCategory:this.onClickCategory,onClickWrite:this.onClickWrite,onSearchKeyDown:this.onSearchKeyDown,onDeleteKeyword:this.onDeleteKeyword,onResetKeyword:this.onResetKeyword,onClickArticleTag:this.onClickArticleTag,onClickArticleDelete:this.onClickArticleDelete,onClickArticleSubscribe:this.onClickArticleSubscribe})}}]),n}(m.Component);t.default=Object(u.b)(function(e){return{userinfo:e.userinfo}})(Object(f.i)(Object(p.e)(y)))},2505:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var a=n(0),o=n.n(a),i=n(304),c=n(1883),r=(n(3141),n(2833)),s=n.n(r);function l(e){var t=e.intl,n=e.userinfo,a=e.currentCategory,c=e.keywords,r=e.activities,l=e.categories,d=e.onClickCategory,u=e.onClickWrite,f=e.onSearchKeyDown,p=e.onDeleteKeyword,_=e.onResetKeyword,C=e.onClickArticleTag,E=e.onClickArticleDelete,h=e.onClickArticleSubscribe,g=t.formatMessage;return o.a.createElement(i.default,null,o.a.createElement("div",{className:"social"},o.a.createElement("div",{className:"social_write",onClick:u},n.icon&&o.a.createElement("img",{className:"social_write_userImg",src:n.icon,alt:"user"}),o.a.createElement("div",{className:"social_write_placeholder",onClick:u},g({id:"ID_SOCIAL_WRITE_PLACEHOLDER"}))),o.a.createElement("div",{className:"social_header"},o.a.createElement("div",{className:"social_categories"},l.map(function(e,t){return o.a.createElement("div",{key:t,className:"social_category ".concat(e===a?"social_category-current":""),onClick:function(){d(e)}},g({id:"ID_SOCIAL_CATEGORY_"+e.toUpperCase()}))})),o.a.createElement("div",{className:"social_search"},o.a.createElement("input",{className:"social_search_input",placeholder:g({id:"ID_SOCIAL_SEARCH_PLACEHOLDER"}),onKeyDown:f}),o.a.createElement("img",{className:"social_search_icon",src:s.a,alt:"search"}))),c.length>0&&o.a.createElement("div",{className:"social_keywords"},c.map(function(e,t){return o.a.createElement("div",{key:t,className:"social_keyword",onClick:function(){p(t)}},"#",e)}),o.a.createElement("div",{className:"social_keyword social_keyword-reset",onClick:_},g({id:"ID_SOCIAL_SEARCH_INIT"}))),o.a.createElement("div",{className:"social_body"},r.map(function(e,t){return o.a.createElement("div",{className:"activity",key:t},o.a.createElement(m,{activity:e,onClickTag:C,onClickDelete:E,onClickSubscribe:h}))}))))}var m=function(e){var t=e.activity;switch(t.type){case"socialArticle":return o.a.createElement(c.default,{article:t.article,onClickTag:e.onClickTag,onClickSubscribe:e.onClickSubscribe,onClickDelete:e.onClickDelete});default:return}}},2832:function(e,t,n){e.exports=n.p+"static/media/social_comment.f1251656.svg"},2833:function(e,t,n){e.exports=n.p+"static/media/social_search.8637baf5.svg"},3138:function(e,t,n){},3139:function(e,t,n){},3140:function(e,t,n){},3141:function(e,t,n){}}]);
//# sourceMappingURL=24.8c264479.chunk.js.map